(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yy={exports:{}},L0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wO;function wV(){if(wO)return L0;wO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var l in s)l!=="key"&&(i[l]=s[l])}else i=s;return s=i.ref,{$$typeof:t,type:n,key:o,ref:s!==void 0?s:null,props:i}}return L0.Fragment=e,L0.jsx=r,L0.jsxs=r,L0}var AO;function AV(){return AO||(AO=1,Yy.exports=wV()),Yy.exports}var a=AV(),Wy={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EO;function EV(){if(EO)return Ct;EO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),x=Symbol.iterator;function v(K){return K===null||typeof K!="object"?null:(K=x&&K[x]||K["@@iterator"],typeof K=="function"?K:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,g={};function S(K,G,W){this.props=K,this.context=G,this.refs=g,this.updater=W||b}S.prototype.isReactComponent={},S.prototype.setState=function(K,G){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,G,"setState")},S.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function k(){}k.prototype=S.prototype;function y(K,G,W){this.props=K,this.context=G,this.refs=g,this.updater=W||b}var j=y.prototype=new k;j.constructor=y,w(j,S.prototype),j.isPureReactComponent=!0;var T=Array.isArray;function _(){}var O={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function D(K,G,W){var Q=W.ref;return{$$typeof:t,type:K,key:G,ref:Q!==void 0?Q:null,props:W}}function F(K,G){return D(K.type,G,K.props)}function q(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function L(K){var G={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(W){return G[W]})}var B=/\/+/g;function X(K,G){return typeof K=="object"&&K!==null&&K.key!=null?L(""+K.key):G.toString(36)}function P(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(_,_):(K.status="pending",K.then(function(G){K.status==="pending"&&(K.status="fulfilled",K.value=G)},function(G){K.status==="pending"&&(K.status="rejected",K.reason=G)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function U(K,G,W,Q,ee){var he=typeof K;(he==="undefined"||he==="boolean")&&(K=null);var je=!1;if(K===null)je=!0;else switch(he){case"bigint":case"string":case"number":je=!0;break;case"object":switch(K.$$typeof){case t:case e:je=!0;break;case h:return je=K._init,U(je(K._payload),G,W,Q,ee)}}if(je)return ee=ee(K),je=Q===""?"."+X(K,0):Q,T(ee)?(W="",je!=null&&(W=je.replace(B,"$&/")+"/"),U(ee,G,W,"",function(ge){return ge})):ee!=null&&(q(ee)&&(ee=F(ee,W+(ee.key==null||K&&K.key===ee.key?"":(""+ee.key).replace(B,"$&/")+"/")+je)),G.push(ee)),1;je=0;var me=Q===""?".":Q+":";if(T(K))for(var re=0;re<K.length;re++)Q=K[re],he=me+X(Q,re),je+=U(Q,G,W,he,ee);else if(re=v(K),typeof re=="function")for(K=re.call(K),re=0;!(Q=K.next()).done;)Q=Q.value,he=me+X(Q,re++),je+=U(Q,G,W,he,ee);else if(he==="object"){if(typeof K.then=="function")return U(P(K),G,W,Q,ee);throw G=String(K),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return je}function z(K,G,W){if(K==null)return K;var Q=[],ee=0;return U(K,Q,"","",function(he){return G.call(W,he,ee++)}),Q}function V(K){if(K._status===-1){var G=K._result;G=G(),G.then(function(W){(K._status===0||K._status===-1)&&(K._status=1,K._result=W)},function(W){(K._status===0||K._status===-1)&&(K._status=2,K._result=W)}),K._status===-1&&(K._status=0,K._result=G)}if(K._status===1)return K._result.default;throw K._result}var Y=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},se={map:z,forEach:function(K,G,W){z(K,function(){G.apply(this,arguments)},W)},count:function(K){var G=0;return z(K,function(){G++}),G},toArray:function(K){return z(K,function(G){return G})||[]},only:function(K){if(!q(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return Ct.Activity=p,Ct.Children=se,Ct.Component=S,Ct.Fragment=r,Ct.Profiler=s,Ct.PureComponent=y,Ct.StrictMode=n,Ct.Suspense=d,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(K){return O.H.useMemoCache(K)}},Ct.cache=function(K){return function(){return K.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(K,G,W){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var Q=w({},K.props),ee=K.key;if(G!=null)for(he in G.key!==void 0&&(ee=""+G.key),G)!M.call(G,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&G.ref===void 0||(Q[he]=G[he]);var he=arguments.length-2;if(he===1)Q.children=W;else if(1<he){for(var je=Array(he),me=0;me<he;me++)je[me]=arguments[me+2];Q.children=je}return D(K.type,ee,Q)},Ct.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:i,_context:K},K},Ct.createElement=function(K,G,W){var Q,ee={},he=null;if(G!=null)for(Q in G.key!==void 0&&(he=""+G.key),G)M.call(G,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ee[Q]=G[Q]);var je=arguments.length-2;if(je===1)ee.children=W;else if(1<je){for(var me=Array(je),re=0;re<je;re++)me[re]=arguments[re+2];ee.children=me}if(K&&K.defaultProps)for(Q in je=K.defaultProps,je)ee[Q]===void 0&&(ee[Q]=je[Q]);return D(K,he,ee)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(K){return{$$typeof:l,render:K}},Ct.isValidElement=q,Ct.lazy=function(K){return{$$typeof:h,_payload:{_status:-1,_result:K},_init:V}},Ct.memo=function(K,G){return{$$typeof:u,type:K,compare:G===void 0?null:G}},Ct.startTransition=function(K){var G=O.T,W={};O.T=W;try{var Q=K(),ee=O.S;ee!==null&&ee(W,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(_,Y)}catch(he){Y(he)}finally{G!==null&&W.types!==null&&(G.types=W.types),O.T=G}},Ct.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ct.use=function(K){return O.H.use(K)},Ct.useActionState=function(K,G,W){return O.H.useActionState(K,G,W)},Ct.useCallback=function(K,G){return O.H.useCallback(K,G)},Ct.useContext=function(K){return O.H.useContext(K)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(K,G){return O.H.useDeferredValue(K,G)},Ct.useEffect=function(K,G){return O.H.useEffect(K,G)},Ct.useEffectEvent=function(K){return O.H.useEffectEvent(K)},Ct.useId=function(){return O.H.useId()},Ct.useImperativeHandle=function(K,G,W){return O.H.useImperativeHandle(K,G,W)},Ct.useInsertionEffect=function(K,G){return O.H.useInsertionEffect(K,G)},Ct.useLayoutEffect=function(K,G){return O.H.useLayoutEffect(K,G)},Ct.useMemo=function(K,G){return O.H.useMemo(K,G)},Ct.useOptimistic=function(K,G){return O.H.useOptimistic(K,G)},Ct.useReducer=function(K,G,W){return O.H.useReducer(K,G,W)},Ct.useRef=function(K){return O.H.useRef(K)},Ct.useState=function(K){return O.H.useState(K)},Ct.useSyncExternalStore=function(K,G,W){return O.H.useSyncExternalStore(K,G,W)},Ct.useTransition=function(){return O.H.useTransition()},Ct.version="19.2.4",Ct}var jO;function zj(){return jO||(jO=1,Wy.exports=EV()),Wy.exports}var R=zj();const xe=fr(R);var Xy={exports:{}},U0={},Jy={exports:{}},Qy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TO;function jV(){return TO||(TO=1,(function(t){function e(U,z){var V=U.length;U.push(z);e:for(;0<V;){var Y=V-1>>>1,se=U[Y];if(0<s(se,z))U[Y]=z,U[V]=se,V=Y;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var z=U[0],V=U.pop();if(V!==z){U[0]=V;e:for(var Y=0,se=U.length,K=se>>>1;Y<K;){var G=2*(Y+1)-1,W=U[G],Q=G+1,ee=U[Q];if(0>s(W,V))Q<se&&0>s(ee,W)?(U[Y]=ee,U[Q]=V,Y=Q):(U[Y]=W,U[G]=V,Y=G);else if(Q<se&&0>s(ee,V))U[Y]=ee,U[Q]=V,Y=Q;else break e}}return z}function s(U,z){var V=U.sortIndex-z.sortIndex;return V!==0?V:U.id-z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var d=[],u=[],h=1,p=null,x=3,v=!1,b=!1,w=!1,g=!1,S=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function j(U){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=U)n(u),z.sortIndex=z.expirationTime,e(d,z);else break;z=r(u)}}function T(U){if(w=!1,j(U),!b)if(r(d)!==null)b=!0,_||(_=!0,L());else{var z=r(u);z!==null&&P(T,z.startTime-U)}}var _=!1,O=-1,M=5,D=-1;function F(){return g?!0:!(t.unstable_now()-D<M)}function q(){if(g=!1,_){var U=t.unstable_now();D=U;var z=!0;try{e:{b=!1,w&&(w=!1,k(O),O=-1),v=!0;var V=x;try{t:{for(j(U),p=r(d);p!==null&&!(p.expirationTime>U&&F());){var Y=p.callback;if(typeof Y=="function"){p.callback=null,x=p.priorityLevel;var se=Y(p.expirationTime<=U);if(U=t.unstable_now(),typeof se=="function"){p.callback=se,j(U),z=!0;break t}p===r(d)&&n(d),j(U)}else n(d);p=r(d)}if(p!==null)z=!0;else{var K=r(u);K!==null&&P(T,K.startTime-U),z=!1}}break e}finally{p=null,x=V,v=!1}z=void 0}}finally{z?L():_=!1}}}var L;if(typeof y=="function")L=function(){y(q)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,X=B.port2;B.port1.onmessage=q,L=function(){X.postMessage(null)}}else L=function(){S(q,0)};function P(U,z){O=S(function(){U(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(U){switch(x){case 1:case 2:case 3:var z=3;break;default:z=x}var V=x;x=z;try{return U()}finally{x=V}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(U,z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var V=x;x=U;try{return z()}finally{x=V}},t.unstable_scheduleCallback=function(U,z,V){var Y=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Y+V:Y):V=Y,U){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=V+se,U={id:h++,callback:z,priorityLevel:U,startTime:V,expirationTime:se,sortIndex:-1},V>Y?(U.sortIndex=V,e(u,U),r(d)===null&&U===r(u)&&(w?(k(O),O=-1):w=!0,P(T,V-Y))):(U.sortIndex=se,e(d,U),b||v||(b=!0,_||(_=!0,L()))),U},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(U){var z=x;return function(){var V=x;x=z;try{return U.apply(this,arguments)}finally{x=V}}}})(Qy)),Qy}var SO;function TV(){return SO||(SO=1,Jy.exports=jV()),Jy.exports}var Zy={exports:{}},Fa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kO;function SV(){if(kO)return Fa;kO=1;var t=zj();function e(d){var u="https://react.dev/errors/"+d;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(d,u,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:d,containerInfo:u,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(d,u){if(d==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Fa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Fa.createPortal=function(d,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return i(d,u,null,h)},Fa.flushSync=function(d){var u=o.T,h=n.p;try{if(o.T=null,n.p=2,d)return d()}finally{o.T=u,n.p=h,n.d.f()}},Fa.preconnect=function(d,u){typeof d=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(d,u))},Fa.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Fa.preinit=function(d,u){if(typeof d=="string"&&u&&typeof u.as=="string"){var h=u.as,p=l(h,u.crossOrigin),x=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?n.d.S(d,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:x,fetchPriority:v}):h==="script"&&n.d.X(d,{crossOrigin:p,integrity:x,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Fa.preinitModule=function(d,u){if(typeof d=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=l(u.as,u.crossOrigin);n.d.M(d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(d)},Fa.preload=function(d,u){if(typeof d=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,p=l(h,u.crossOrigin);n.d.L(d,h,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Fa.preloadModule=function(d,u){if(typeof d=="string")if(u){var h=l(u.as,u.crossOrigin);n.d.m(d,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(d)},Fa.requestFormReset=function(d){n.d.r(d)},Fa.unstable_batchedUpdates=function(d,u){return d(u)},Fa.useFormState=function(d,u,h){return o.H.useFormState(d,u,h)},Fa.useFormStatus=function(){return o.H.useHostTransitionStatus()},Fa.version="19.2.4",Fa}var _O;function kV(){if(_O)return Zy.exports;_O=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zy.exports=SV(),Zy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CO;function _V(){if(CO)return U0;CO=1;var t=TV(),e=zj(),r=kV();function n(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var f=c,m=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(m=f.return),c=f.return;while(c)}return f.tag===3?m:null}function o(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function l(c){if(c.tag===31){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function d(c){if(i(c)!==c)throw Error(n(188))}function u(c){var f=c.alternate;if(!f){if(f=i(c),f===null)throw Error(n(188));return f!==c?null:c}for(var m=c,N=f;;){var C=m.return;if(C===null)break;var I=C.alternate;if(I===null){if(N=C.return,N!==null){m=N;continue}break}if(C.child===I.child){for(I=C.child;I;){if(I===m)return d(C),c;if(I===N)return d(C),f;I=I.sibling}throw Error(n(188))}if(m.return!==N.return)m=C,N=I;else{for(var H=!1,te=C.child;te;){if(te===m){H=!0,m=C,N=I;break}if(te===N){H=!0,N=C,m=I;break}te=te.sibling}if(!H){for(te=I.child;te;){if(te===m){H=!0,m=I,N=C;break}if(te===N){H=!0,N=I,m=C;break}te=te.sibling}if(!H)throw Error(n(189))}}if(m.alternate!==N)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?c:f}function h(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=h(c),f!==null)return f;c=c.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),y=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function L(c){return c===null||typeof c!="object"?null:(c=q&&c[q]||c["@@iterator"],typeof c=="function"?c:null)}var B=Symbol.for("react.client.reference");function X(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===B?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case w:return"Fragment";case S:return"Profiler";case g:return"StrictMode";case T:return"Suspense";case _:return"SuspenseList";case D:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case b:return"Portal";case y:return c.displayName||"Context";case k:return(c._context.displayName||"Context")+".Consumer";case j:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case O:return f=c.displayName||null,f!==null?f:X(c.type)||"Memo";case M:f=c._payload,c=c._init;try{return X(c(f))}catch{}}return null}var P=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},Y=[],se=-1;function K(c){return{current:c}}function G(c){0>se||(c.current=Y[se],Y[se]=null,se--)}function W(c,f){se++,Y[se]=c.current,c.current=f}var Q=K(null),ee=K(null),he=K(null),je=K(null);function me(c,f){switch(W(he,f),W(ee,c),W(Q,null),f.nodeType){case 9:case 11:c=(c=f.documentElement)&&(c=c.namespaceURI)?GC(c):0;break;default:if(c=f.tagName,f=f.namespaceURI)f=GC(f),c=HC(f,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}G(Q),W(Q,c)}function re(){G(Q),G(ee),G(he)}function ge(c){c.memoizedState!==null&&W(je,c);var f=Q.current,m=HC(f,c.type);f!==m&&(W(ee,c),W(Q,m))}function Me(c){ee.current===c&&(G(Q),G(ee)),je.current===c&&(G(je),I0._currentValue=V)}var J,Ae;function ne(c){if(J===void 0)try{throw Error()}catch(m){var f=m.stack.trim().match(/\n( *(at )?)/);J=f&&f[1]||"",Ae=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J+c+Ae}var ve=!1;function we(c,f){if(!c||ve)return"";ve=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var N={DetermineComponentFrameRoot:function(){try{if(f){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(Re){var De=Re}Reflect.construct(c,[],Be)}else{try{Be.call()}catch(Re){De=Re}c.call(Be.prototype)}}else{try{throw Error()}catch(Re){De=Re}(Be=c())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(Re){if(Re&&De&&typeof Re.stack=="string")return[Re.stack,De.stack]}return[null,null]}};N.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(N.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(N.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=N.DetermineComponentFrameRoot(),H=I[0],te=I[1];if(H&&te){var pe=H.split(`
`),Se=te.split(`
`);for(C=N=0;N<pe.length&&!pe[N].includes("DetermineComponentFrameRoot");)N++;for(;C<Se.length&&!Se[C].includes("DetermineComponentFrameRoot");)C++;if(N===pe.length||C===Se.length)for(N=pe.length-1,C=Se.length-1;1<=N&&0<=C&&pe[N]!==Se[C];)C--;for(;1<=N&&0<=C;N--,C--)if(pe[N]!==Se[C]){if(N!==1||C!==1)do if(N--,C--,0>C||pe[N]!==Se[C]){var Pe=`
`+pe[N].replace(" at new "," at ");return c.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",c.displayName)),Pe}while(1<=N&&0<=C);break}}}finally{ve=!1,Error.prepareStackTrace=m}return(m=c?c.displayName||c.name:"")?ne(m):""}function Ee(c,f){switch(c.tag){case 26:case 27:case 5:return ne(c.type);case 16:return ne("Lazy");case 13:return c.child!==f&&f!==null?ne("Suspense Fallback"):ne("Suspense");case 19:return ne("SuspenseList");case 0:case 15:return we(c.type,!1);case 11:return we(c.type.render,!1);case 1:return we(c.type,!0);case 31:return ne("Activity");default:return""}}function fe(c){try{var f="",m=null;do f+=Ee(c,m),m=c,c=c.return;while(c);return f}catch(N){return`
Error generating stack: `+N.message+`
`+N.stack}}var Ce=Object.prototype.hasOwnProperty,Ue=t.unstable_scheduleCallback,le=t.unstable_cancelCallback,ze=t.unstable_shouldYield,Ye=t.unstable_requestPaint,qe=t.unstable_now,Ge=t.unstable_getCurrentPriorityLevel,gt=t.unstable_ImmediatePriority,ht=t.unstable_UserBlockingPriority,nt=t.unstable_NormalPriority,Dt=t.unstable_LowPriority,ut=t.unstable_IdlePriority,qt=t.log,Cr=t.unstable_setDisableYieldValue,jt=null,Kt=null;function va(c){if(typeof qt=="function"&&Cr(c),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(jt,c)}catch{}}var zr=Math.clz32?Math.clz32:pi,Vs=Math.log,co=Math.LN2;function pi(c){return c>>>=0,c===0?32:31-(Vs(c)/co|0)|0}var $s=256,ws=262144,Ic=4194304;function Wn(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Rc(c,f,m){var N=c.pendingLanes;if(N===0)return 0;var C=0,I=c.suspendedLanes,H=c.pingedLanes;c=c.warmLanes;var te=N&134217727;return te!==0?(N=te&~I,N!==0?C=Wn(N):(H&=te,H!==0?C=Wn(H):m||(m=te&~c,m!==0&&(C=Wn(m))))):(te=N&~I,te!==0?C=Wn(te):H!==0?C=Wn(H):m||(m=N&~c,m!==0&&(C=Wn(m)))),C===0?0:f!==0&&f!==C&&(f&I)===0&&(I=C&-C,m=f&-f,I>=m||I===32&&(m&4194048)!==0)?f:C}function hl(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function Fb(c,f){switch(c){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ip(){var c=Ic;return Ic<<=1,(Ic&62914560)===0&&(Ic=4194304),c}function Hu(c){for(var f=[],m=0;31>m;m++)f.push(c);return f}function pl(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Bb(c,f,m,N,C,I){var H=c.pendingLanes;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=m,c.entangledLanes&=m,c.errorRecoveryDisabledLanes&=m,c.shellSuspendCounter=0;var te=c.entanglements,pe=c.expirationTimes,Se=c.hiddenUpdates;for(m=H&~m;0<m;){var Pe=31-zr(m),Be=1<<Pe;te[Pe]=0,pe[Pe]=-1;var De=Se[Pe];if(De!==null)for(Se[Pe]=null,Pe=0;Pe<De.length;Pe++){var Re=De[Pe];Re!==null&&(Re.lane&=-536870913)}m&=~Be}N!==0&&op(c,N,0),I!==0&&C===0&&c.tag!==0&&(c.suspendedLanes|=I&~(H&~f))}function op(c,f,m){c.pendingLanes|=f,c.suspendedLanes&=~f;var N=31-zr(f);c.entangledLanes|=f,c.entanglements[N]=c.entanglements[N]|1073741824|m&261930}function Mc(c,f){var m=c.entangledLanes|=f;for(c=c.entanglements;m;){var N=31-zr(m),C=1<<N;C&f|c[N]&f&&(c[N]|=f),m&=~C}}function lp(c,f){var m=f&-f;return m=(m&42)!==0?1:Ku(m),(m&(c.suspendedLanes|f))!==0?0:m}function Ku(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Yu(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Z(){var c=z.p;return c!==0?c:(c=window.event,c===void 0?32:mO(c.type))}function de(c,f){var m=z.p;try{return z.p=c,f()}finally{z.p=m}}var ie=Math.random().toString(36).slice(2),oe="__reactFiber$"+ie,ce="__reactProps$"+ie,ue="__reactContainer$"+ie,ke="__reactEvents$"+ie,Le="__reactListeners$"+ie,_e="__reactHandles$"+ie,Oe="__reactResources$"+ie,Ie="__reactMarker$"+ie;function He(c){delete c[oe],delete c[ce],delete c[ke],delete c[Le],delete c[_e]}function Xe(c){var f=c[oe];if(f)return f;for(var m=c.parentNode;m;){if(f=m[ue]||m[oe]){if(m=f.alternate,f.child!==null||m!==null&&m.child!==null)for(c=ZC(c);c!==null;){if(m=c[oe])return m;c=ZC(c)}return f}c=m,m=c.parentNode}return null}function et(c){if(c=c[oe]||c[ue]){var f=c.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return c}return null}function Ke(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c.stateNode;throw Error(n(33))}function Qe(c){var f=c[Oe];return f||(f=c[Oe]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function it(c){c[Ie]=!0}var wr=new Set,Ar={};function Pr(c,f){Xn(c,f),Xn(c+"Capture",f)}function Xn(c,f){for(Ar[c]=f,c=0;c<f.length;c++)wr.add(f[c])}var ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uo={},Gs={};function Wu(c){return Ce.call(Gs,c)?!0:Ce.call(uo,c)?!1:ml.test(c)?Gs[c]=!0:(uo[c]=!0,!1)}function un(c,f,m){if(Wu(f))if(m===null)c.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":c.removeAttribute(f);return;case"boolean":var N=f.toLowerCase().slice(0,5);if(N!=="data-"&&N!=="aria-"){c.removeAttribute(f);return}}c.setAttribute(f,""+m)}}function cp(c,f,m){if(m===null)c.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttribute(f,""+m)}}function mi(c,f,m,N){if(N===null)c.removeAttribute(m);else{switch(typeof N){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(m);return}c.setAttributeNS(f,m,""+N)}}function Jn(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function LS(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function mz(c,f,m){var N=Object.getOwnPropertyDescriptor(c.constructor.prototype,f);if(!c.hasOwnProperty(f)&&typeof N<"u"&&typeof N.get=="function"&&typeof N.set=="function"){var C=N.get,I=N.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return C.call(this)},set:function(H){m=""+H,I.call(this,H)}}),Object.defineProperty(c,f,{enumerable:N.enumerable}),{getValue:function(){return m},setValue:function(H){m=""+H},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function zb(c){if(!c._valueTracker){var f=LS(c)?"checked":"value";c._valueTracker=mz(c,f,""+c[f])}}function US(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var m=f.getValue(),N="";return c&&(N=LS(c)?c.checked?"true":"false":c.value),c=N,c!==m?(f.setValue(c),!0):!1}function dp(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var xz=/[\n"\\]/g;function Qn(c){return c.replace(xz,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function qb(c,f,m,N,C,I,H,te){c.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?c.type=H:c.removeAttribute("type"),f!=null?H==="number"?(f===0&&c.value===""||c.value!=f)&&(c.value=""+Jn(f)):c.value!==""+Jn(f)&&(c.value=""+Jn(f)):H!=="submit"&&H!=="reset"||c.removeAttribute("value"),f!=null?Vb(c,H,Jn(f)):m!=null?Vb(c,H,Jn(m)):N!=null&&c.removeAttribute("value"),C==null&&I!=null&&(c.defaultChecked=!!I),C!=null&&(c.checked=C&&typeof C!="function"&&typeof C!="symbol"),te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?c.name=""+Jn(te):c.removeAttribute("name")}function FS(c,f,m,N,C,I,H,te){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(c.type=I),f!=null||m!=null){if(!(I!=="submit"&&I!=="reset"||f!=null)){zb(c);return}m=m!=null?""+Jn(m):"",f=f!=null?""+Jn(f):m,te||f===c.value||(c.value=f),c.defaultValue=f}N=N??C,N=typeof N!="function"&&typeof N!="symbol"&&!!N,c.checked=te?c.checked:!!N,c.defaultChecked=!!N,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(c.name=H),zb(c)}function Vb(c,f,m){f==="number"&&dp(c.ownerDocument)===c||c.defaultValue===""+m||(c.defaultValue=""+m)}function Pc(c,f,m,N){if(c=c.options,f){f={};for(var C=0;C<m.length;C++)f["$"+m[C]]=!0;for(m=0;m<c.length;m++)C=f.hasOwnProperty("$"+c[m].value),c[m].selected!==C&&(c[m].selected=C),C&&N&&(c[m].defaultSelected=!0)}else{for(m=""+Jn(m),f=null,C=0;C<c.length;C++){if(c[C].value===m){c[C].selected=!0,N&&(c[C].defaultSelected=!0);return}f!==null||c[C].disabled||(f=c[C])}f!==null&&(f.selected=!0)}}function BS(c,f,m){if(f!=null&&(f=""+Jn(f),f!==c.value&&(c.value=f),m==null)){c.defaultValue!==f&&(c.defaultValue=f);return}c.defaultValue=m!=null?""+Jn(m):""}function zS(c,f,m,N){if(f==null){if(N!=null){if(m!=null)throw Error(n(92));if(P(N)){if(1<N.length)throw Error(n(93));N=N[0]}m=N}m==null&&(m=""),f=m}m=Jn(f),c.defaultValue=m,N=c.textContent,N===m&&N!==""&&N!==null&&(c.value=N),zb(c)}function Lc(c,f){if(f){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=f;return}}c.textContent=f}var gz=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qS(c,f,m){var N=f.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?N?c.setProperty(f,""):f==="float"?c.cssFloat="":c[f]="":N?c.setProperty(f,m):typeof m!="number"||m===0||gz.has(f)?f==="float"?c.cssFloat=m:c[f]=(""+m).trim():c[f]=m+"px"}function VS(c,f,m){if(f!=null&&typeof f!="object")throw Error(n(62));if(c=c.style,m!=null){for(var N in m)!m.hasOwnProperty(N)||f!=null&&f.hasOwnProperty(N)||(N.indexOf("--")===0?c.setProperty(N,""):N==="float"?c.cssFloat="":c[N]="");for(var C in f)N=f[C],f.hasOwnProperty(C)&&m[C]!==N&&qS(c,C,N)}else for(var I in f)f.hasOwnProperty(I)&&qS(c,I,f[I])}function $b(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bz=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vz=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function up(c){return vz.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function xi(){}var Gb=null;function Hb(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Uc=null,Fc=null;function $S(c){var f=et(c);if(f&&(c=f.stateNode)){var m=c[ce]||null;e:switch(c=f.stateNode,f.type){case"input":if(qb(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),f=m.name,m.type==="radio"&&f!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Qn(""+f)+'"][type="radio"]'),f=0;f<m.length;f++){var N=m[f];if(N!==c&&N.form===c.form){var C=N[ce]||null;if(!C)throw Error(n(90));qb(N,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(f=0;f<m.length;f++)N=m[f],N.form===c.form&&US(N)}break e;case"textarea":BS(c,m.value,m.defaultValue);break e;case"select":f=m.value,f!=null&&Pc(c,!!m.multiple,f,!1)}}}var Kb=!1;function GS(c,f,m){if(Kb)return c(f,m);Kb=!0;try{var N=c(f);return N}finally{if(Kb=!1,(Uc!==null||Fc!==null)&&(Qp(),Uc&&(f=Uc,c=Fc,Fc=Uc=null,$S(f),c)))for(f=0;f<c.length;f++)$S(c[f])}}function Xu(c,f){var m=c.stateNode;if(m===null)return null;var N=m[ce]||null;if(N===null)return null;m=N[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(c=c.type,N=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!N;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(n(231,f,typeof m));return m}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yb=!1;if(gi)try{var Ju={};Object.defineProperty(Ju,"passive",{get:function(){Yb=!0}}),window.addEventListener("test",Ju,Ju),window.removeEventListener("test",Ju,Ju)}catch{Yb=!1}var fo=null,Wb=null,fp=null;function HS(){if(fp)return fp;var c,f=Wb,m=f.length,N,C="value"in fo?fo.value:fo.textContent,I=C.length;for(c=0;c<m&&f[c]===C[c];c++);var H=m-c;for(N=1;N<=H&&f[m-N]===C[I-N];N++);return fp=C.slice(c,1<N?1-N:void 0)}function hp(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function pp(){return!0}function KS(){return!1}function fn(c){function f(m,N,C,I,H){this._reactName=m,this._targetInst=C,this.type=N,this.nativeEvent=I,this.target=H,this.currentTarget=null;for(var te in c)c.hasOwnProperty(te)&&(m=c[te],this[te]=m?m(I):I[te]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?pp:KS,this.isPropagationStopped=KS,this}return p(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=pp)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=pp)},persist:function(){},isPersistent:pp}),f}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mp=fn(xl),Qu=p({},xl,{view:0,detail:0}),yz=fn(Qu),Xb,Jb,Zu,xp=p({},Qu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zb,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Zu&&(Zu&&c.type==="mousemove"?(Xb=c.screenX-Zu.screenX,Jb=c.screenY-Zu.screenY):Jb=Xb=0,Zu=c),Xb)},movementY:function(c){return"movementY"in c?c.movementY:Jb}}),YS=fn(xp),Nz=p({},xp,{dataTransfer:0}),wz=fn(Nz),Az=p({},Qu,{relatedTarget:0}),Qb=fn(Az),Ez=p({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),jz=fn(Ez),Tz=p({},xl,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Sz=fn(Tz),kz=p({},xl,{data:0}),WS=fn(kz),_z={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dz(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=Oz[c])?!!f[c]:!1}function Zb(){return Dz}var Iz=p({},Qu,{key:function(c){if(c.key){var f=_z[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=hp(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Cz[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zb,charCode:function(c){return c.type==="keypress"?hp(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?hp(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Rz=fn(Iz),Mz=p({},xp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XS=fn(Mz),Pz=p({},Qu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zb}),Lz=fn(Pz),Uz=p({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fz=fn(Uz),Bz=p({},xp,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),zz=fn(Bz),qz=p({},xl,{newState:0,oldState:0}),Vz=fn(qz),$z=[9,13,27,32],ev=gi&&"CompositionEvent"in window,e0=null;gi&&"documentMode"in document&&(e0=document.documentMode);var Gz=gi&&"TextEvent"in window&&!e0,JS=gi&&(!ev||e0&&8<e0&&11>=e0),QS=" ",ZS=!1;function ek(c,f){switch(c){case"keyup":return $z.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tk(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Bc=!1;function Hz(c,f){switch(c){case"compositionend":return tk(f);case"keypress":return f.which!==32?null:(ZS=!0,QS);case"textInput":return c=f.data,c===QS&&ZS?null:c;default:return null}}function Kz(c,f){if(Bc)return c==="compositionend"||!ev&&ek(c,f)?(c=HS(),fp=Wb=fo=null,Bc=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return JS&&f.locale!=="ko"?null:f.data;default:return null}}var Yz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rk(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!Yz[c.type]:f==="textarea"}function ak(c,f,m,N){Uc?Fc?Fc.push(N):Fc=[N]:Uc=N,f=sm(f,"onChange"),0<f.length&&(m=new mp("onChange","change",null,m,N),c.push({event:m,listeners:f}))}var t0=null,r0=null;function Wz(c){FC(c,0)}function gp(c){var f=Ke(c);if(US(f))return c}function nk(c,f){if(c==="change")return f}var sk=!1;if(gi){var tv;if(gi){var rv="oninput"in document;if(!rv){var ik=document.createElement("div");ik.setAttribute("oninput","return;"),rv=typeof ik.oninput=="function"}tv=rv}else tv=!1;sk=tv&&(!document.documentMode||9<document.documentMode)}function ok(){t0&&(t0.detachEvent("onpropertychange",lk),r0=t0=null)}function lk(c){if(c.propertyName==="value"&&gp(r0)){var f=[];ak(f,r0,c,Hb(c)),GS(Wz,f)}}function Xz(c,f,m){c==="focusin"?(ok(),t0=f,r0=m,t0.attachEvent("onpropertychange",lk)):c==="focusout"&&ok()}function Jz(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return gp(r0)}function Qz(c,f){if(c==="click")return gp(f)}function Zz(c,f){if(c==="input"||c==="change")return gp(f)}function eq(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var Tn=typeof Object.is=="function"?Object.is:eq;function a0(c,f){if(Tn(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var m=Object.keys(c),N=Object.keys(f);if(m.length!==N.length)return!1;for(N=0;N<m.length;N++){var C=m[N];if(!Ce.call(f,C)||!Tn(c[C],f[C]))return!1}return!0}function ck(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function dk(c,f){var m=ck(c);c=0;for(var N;m;){if(m.nodeType===3){if(N=c+m.textContent.length,c<=f&&N>=f)return{node:m,offset:f-c};c=N}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=ck(m)}}function uk(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?uk(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function fk(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var f=dp(c.document);f instanceof c.HTMLIFrameElement;){try{var m=typeof f.contentWindow.location.href=="string"}catch{m=!1}if(m)c=f.contentWindow;else break;f=dp(c.document)}return f}function av(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}var tq=gi&&"documentMode"in document&&11>=document.documentMode,zc=null,nv=null,n0=null,sv=!1;function hk(c,f,m){var N=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;sv||zc==null||zc!==dp(N)||(N=zc,"selectionStart"in N&&av(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),n0&&a0(n0,N)||(n0=N,N=sm(nv,"onSelect"),0<N.length&&(f=new mp("onSelect","select",null,f,m),c.push({event:f,listeners:N}),f.target=zc)))}function gl(c,f){var m={};return m[c.toLowerCase()]=f.toLowerCase(),m["Webkit"+c]="webkit"+f,m["Moz"+c]="moz"+f,m}var qc={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionrun:gl("Transition","TransitionRun"),transitionstart:gl("Transition","TransitionStart"),transitioncancel:gl("Transition","TransitionCancel"),transitionend:gl("Transition","TransitionEnd")},iv={},pk={};gi&&(pk=document.createElement("div").style,"AnimationEvent"in window||(delete qc.animationend.animation,delete qc.animationiteration.animation,delete qc.animationstart.animation),"TransitionEvent"in window||delete qc.transitionend.transition);function bl(c){if(iv[c])return iv[c];if(!qc[c])return c;var f=qc[c],m;for(m in f)if(f.hasOwnProperty(m)&&m in pk)return iv[c]=f[m];return c}var mk=bl("animationend"),xk=bl("animationiteration"),gk=bl("animationstart"),rq=bl("transitionrun"),aq=bl("transitionstart"),nq=bl("transitioncancel"),bk=bl("transitionend"),vk=new Map,ov="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ov.push("scrollEnd");function As(c,f){vk.set(c,f),Pr(f,[c])}var bp=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},Zn=[],Vc=0,lv=0;function vp(){for(var c=Vc,f=lv=Vc=0;f<c;){var m=Zn[f];Zn[f++]=null;var N=Zn[f];Zn[f++]=null;var C=Zn[f];Zn[f++]=null;var I=Zn[f];if(Zn[f++]=null,N!==null&&C!==null){var H=N.pending;H===null?C.next=C:(C.next=H.next,H.next=C),N.pending=C}I!==0&&yk(m,C,I)}}function yp(c,f,m,N){Zn[Vc++]=c,Zn[Vc++]=f,Zn[Vc++]=m,Zn[Vc++]=N,lv|=N,c.lanes|=N,c=c.alternate,c!==null&&(c.lanes|=N)}function cv(c,f,m,N){return yp(c,f,m,N),Np(c)}function vl(c,f){return yp(c,null,null,f),Np(c)}function yk(c,f,m){c.lanes|=m;var N=c.alternate;N!==null&&(N.lanes|=m);for(var C=!1,I=c.return;I!==null;)I.childLanes|=m,N=I.alternate,N!==null&&(N.childLanes|=m),I.tag===22&&(c=I.stateNode,c===null||c._visibility&1||(C=!0)),c=I,I=I.return;return c.tag===3?(I=c.stateNode,C&&f!==null&&(C=31-zr(m),c=I.hiddenUpdates,N=c[C],N===null?c[C]=[f]:N.push(f),f.lane=m|536870912),I):null}function Np(c){if(50<T0)throw T0=0,by=null,Error(n(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}var $c={};function sq(c,f,m,N){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(c,f,m,N){return new sq(c,f,m,N)}function dv(c){return c=c.prototype,!(!c||!c.isReactComponent)}function bi(c,f){var m=c.alternate;return m===null?(m=Sn(c.tag,f,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=f,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&65011712,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,f=c.dependencies,m.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m.refCleanup=c.refCleanup,m}function Nk(c,f){c.flags&=65011714;var m=c.alternate;return m===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,f=m.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function wp(c,f,m,N,C,I){var H=0;if(N=c,typeof c=="function")dv(c)&&(H=1);else if(typeof c=="string")H=dV(c,m,Q.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case D:return c=Sn(31,m,f,C),c.elementType=D,c.lanes=I,c;case w:return yl(m.children,C,I,f);case g:H=8,C|=24;break;case S:return c=Sn(12,m,f,C|2),c.elementType=S,c.lanes=I,c;case T:return c=Sn(13,m,f,C),c.elementType=T,c.lanes=I,c;case _:return c=Sn(19,m,f,C),c.elementType=_,c.lanes=I,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case y:H=10;break e;case k:H=9;break e;case j:H=11;break e;case O:H=14;break e;case M:H=16,N=null;break e}H=29,m=Error(n(130,c===null?"null":typeof c,"")),N=null}return f=Sn(H,m,f,C),f.elementType=c,f.type=N,f.lanes=I,f}function yl(c,f,m,N){return c=Sn(7,c,N,f),c.lanes=m,c}function uv(c,f,m){return c=Sn(6,c,null,f),c.lanes=m,c}function wk(c){var f=Sn(18,null,null,0);return f.stateNode=c,f}function fv(c,f,m){return f=Sn(4,c.children!==null?c.children:[],c.key,f),f.lanes=m,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}var Ak=new WeakMap;function es(c,f){if(typeof c=="object"&&c!==null){var m=Ak.get(c);return m!==void 0?m:(f={value:c,source:f,stack:fe(f)},Ak.set(c,f),f)}return{value:c,source:f,stack:fe(f)}}var Gc=[],Hc=0,Ap=null,s0=0,ts=[],rs=0,ho=null,Hs=1,Ks="";function vi(c,f){Gc[Hc++]=s0,Gc[Hc++]=Ap,Ap=c,s0=f}function Ek(c,f,m){ts[rs++]=Hs,ts[rs++]=Ks,ts[rs++]=ho,ho=c;var N=Hs;c=Ks;var C=32-zr(N)-1;N&=~(1<<C),m+=1;var I=32-zr(f)+C;if(30<I){var H=C-C%5;I=(N&(1<<H)-1).toString(32),N>>=H,C-=H,Hs=1<<32-zr(f)+C|m<<C|N,Ks=I+c}else Hs=1<<I|m<<C|N,Ks=c}function hv(c){c.return!==null&&(vi(c,1),Ek(c,1,0))}function pv(c){for(;c===Ap;)Ap=Gc[--Hc],Gc[Hc]=null,s0=Gc[--Hc],Gc[Hc]=null;for(;c===ho;)ho=ts[--rs],ts[rs]=null,Ks=ts[--rs],ts[rs]=null,Hs=ts[--rs],ts[rs]=null}function jk(c,f){ts[rs++]=Hs,ts[rs++]=Ks,ts[rs++]=ho,Hs=f.id,Ks=f.overflow,ho=c}var _a=null,Or=null,Yt=!1,po=null,as=!1,mv=Error(n(519));function mo(c){var f=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw i0(es(f,c)),mv}function Tk(c){var f=c.stateNode,m=c.type,N=c.memoizedProps;switch(f[oe]=c,f[ce]=N,m){case"dialog":$t("cancel",f),$t("close",f);break;case"iframe":case"object":case"embed":$t("load",f);break;case"video":case"audio":for(m=0;m<k0.length;m++)$t(k0[m],f);break;case"source":$t("error",f);break;case"img":case"image":case"link":$t("error",f),$t("load",f);break;case"details":$t("toggle",f);break;case"input":$t("invalid",f),FS(f,N.value,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name,!0);break;case"select":$t("invalid",f);break;case"textarea":$t("invalid",f),zS(f,N.value,N.defaultValue,N.children)}m=N.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||f.textContent===""+m||N.suppressHydrationWarning===!0||VC(f.textContent,m)?(N.popover!=null&&($t("beforetoggle",f),$t("toggle",f)),N.onScroll!=null&&$t("scroll",f),N.onScrollEnd!=null&&$t("scrollend",f),N.onClick!=null&&(f.onclick=xi),f=!0):f=!1,f||mo(c,!0)}function Sk(c){for(_a=c.return;_a;)switch(_a.tag){case 5:case 31:case 13:as=!1;return;case 27:case 3:as=!0;return;default:_a=_a.return}}function Kc(c){if(c!==_a)return!1;if(!Yt)return Sk(c),Yt=!0,!1;var f=c.tag,m;if((m=f!==3&&f!==27)&&((m=f===5)&&(m=c.type,m=!(m!=="form"&&m!=="button")||Iy(c.type,c.memoizedProps)),m=!m),m&&Or&&mo(c),Sk(c),f===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Or=QC(c)}else if(f===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Or=QC(c)}else f===27?(f=Or,_o(c.type)?(c=Uy,Uy=null,Or=c):Or=f):Or=_a?ss(c.stateNode.nextSibling):null;return!0}function Nl(){Or=_a=null,Yt=!1}function xv(){var c=po;return c!==null&&(xn===null?xn=c:xn.push.apply(xn,c),po=null),c}function i0(c){po===null?po=[c]:po.push(c)}var gv=K(null),wl=null,yi=null;function xo(c,f,m){W(gv,f._currentValue),f._currentValue=m}function Ni(c){c._currentValue=gv.current,G(gv)}function bv(c,f,m){for(;c!==null;){var N=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,N!==null&&(N.childLanes|=f)):N!==null&&(N.childLanes&f)!==f&&(N.childLanes|=f),c===m)break;c=c.return}}function vv(c,f,m,N){var C=c.child;for(C!==null&&(C.return=c);C!==null;){var I=C.dependencies;if(I!==null){var H=C.child;I=I.firstContext;e:for(;I!==null;){var te=I;I=C;for(var pe=0;pe<f.length;pe++)if(te.context===f[pe]){I.lanes|=m,te=I.alternate,te!==null&&(te.lanes|=m),bv(I.return,m,c),N||(H=null);break e}I=te.next}}else if(C.tag===18){if(H=C.return,H===null)throw Error(n(341));H.lanes|=m,I=H.alternate,I!==null&&(I.lanes|=m),bv(H,m,c),H=null}else H=C.child;if(H!==null)H.return=C;else for(H=C;H!==null;){if(H===c){H=null;break}if(C=H.sibling,C!==null){C.return=H.return,H=C;break}H=H.return}C=H}}function Yc(c,f,m,N){c=null;for(var C=f,I=!1;C!==null;){if(!I){if((C.flags&524288)!==0)I=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var H=C.alternate;if(H===null)throw Error(n(387));if(H=H.memoizedProps,H!==null){var te=C.type;Tn(C.pendingProps.value,H.value)||(c!==null?c.push(te):c=[te])}}else if(C===je.current){if(H=C.alternate,H===null)throw Error(n(387));H.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(c!==null?c.push(I0):c=[I0])}C=C.return}c!==null&&vv(f,c,m,N),f.flags|=262144}function Ep(c){for(c=c.firstContext;c!==null;){if(!Tn(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Al(c){wl=c,yi=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Ca(c){return kk(wl,c)}function jp(c,f){return wl===null&&Al(c),kk(c,f)}function kk(c,f){var m=f._currentValue;if(f={context:f,memoizedValue:m,next:null},yi===null){if(c===null)throw Error(n(308));yi=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else yi=yi.next=f;return m}var iq=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(m,N){c.push(N)}};this.abort=function(){f.aborted=!0,c.forEach(function(m){return m()})}},oq=t.unstable_scheduleCallback,lq=t.unstable_NormalPriority,Jr={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yv(){return{controller:new iq,data:new Map,refCount:0}}function o0(c){c.refCount--,c.refCount===0&&oq(lq,function(){c.controller.abort()})}var l0=null,Nv=0,Wc=0,Xc=null;function cq(c,f){if(l0===null){var m=l0=[];Nv=0,Wc=Ey(),Xc={status:"pending",value:void 0,then:function(N){m.push(N)}}}return Nv++,f.then(_k,_k),f}function _k(){if(--Nv===0&&l0!==null){Xc!==null&&(Xc.status="fulfilled");var c=l0;l0=null,Wc=0,Xc=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function dq(c,f){var m=[],N={status:"pending",value:null,reason:null,then:function(C){m.push(C)}};return c.then(function(){N.status="fulfilled",N.value=f;for(var C=0;C<m.length;C++)(0,m[C])(f)},function(C){for(N.status="rejected",N.reason=C,C=0;C<m.length;C++)(0,m[C])(void 0)}),N}var Ck=U.S;U.S=function(c,f){hC=qe(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&cq(c,f),Ck!==null&&Ck(c,f)};var El=K(null);function wv(){var c=El.current;return c!==null?c:yr.pooledCache}function Tp(c,f){f===null?W(El,El.current):W(El,f.pool)}function Ok(){var c=wv();return c===null?null:{parent:Jr._currentValue,pool:c}}var Jc=Error(n(460)),Av=Error(n(474)),Sp=Error(n(542)),kp={then:function(){}};function Dk(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Ik(c,f,m){switch(m=c[m],m===void 0?c.push(f):m!==f&&(f.then(xi,xi),f=m),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,Mk(c),c;default:if(typeof f.status=="string")f.then(xi,xi);else{if(c=yr,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=f,c.status="pending",c.then(function(N){if(f.status==="pending"){var C=f;C.status="fulfilled",C.value=N}},function(N){if(f.status==="pending"){var C=f;C.status="rejected",C.reason=N}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,Mk(c),c}throw Tl=f,Jc}}function jl(c){try{var f=c._init;return f(c._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Tl=m,Jc):m}}var Tl=null;function Rk(){if(Tl===null)throw Error(n(459));var c=Tl;return Tl=null,c}function Mk(c){if(c===Jc||c===Sp)throw Error(n(483))}var Qc=null,c0=0;function _p(c){var f=c0;return c0+=1,Qc===null&&(Qc=[]),Ik(Qc,c,f)}function d0(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function Cp(c,f){throw f.$$typeof===x?Error(n(525)):(c=Object.prototype.toString.call(f),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function Pk(c){function f(Ne,be){if(c){var Te=Ne.deletions;Te===null?(Ne.deletions=[be],Ne.flags|=16):Te.push(be)}}function m(Ne,be){if(!c)return null;for(;be!==null;)f(Ne,be),be=be.sibling;return null}function N(Ne){for(var be=new Map;Ne!==null;)Ne.key!==null?be.set(Ne.key,Ne):be.set(Ne.index,Ne),Ne=Ne.sibling;return be}function C(Ne,be){return Ne=bi(Ne,be),Ne.index=0,Ne.sibling=null,Ne}function I(Ne,be,Te){return Ne.index=Te,c?(Te=Ne.alternate,Te!==null?(Te=Te.index,Te<be?(Ne.flags|=67108866,be):Te):(Ne.flags|=67108866,be)):(Ne.flags|=1048576,be)}function H(Ne){return c&&Ne.alternate===null&&(Ne.flags|=67108866),Ne}function te(Ne,be,Te,Fe){return be===null||be.tag!==6?(be=uv(Te,Ne.mode,Fe),be.return=Ne,be):(be=C(be,Te),be.return=Ne,be)}function pe(Ne,be,Te,Fe){var pt=Te.type;return pt===w?Pe(Ne,be,Te.props.children,Fe,Te.key):be!==null&&(be.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===M&&jl(pt)===be.type)?(be=C(be,Te.props),d0(be,Te),be.return=Ne,be):(be=wp(Te.type,Te.key,Te.props,null,Ne.mode,Fe),d0(be,Te),be.return=Ne,be)}function Se(Ne,be,Te,Fe){return be===null||be.tag!==4||be.stateNode.containerInfo!==Te.containerInfo||be.stateNode.implementation!==Te.implementation?(be=fv(Te,Ne.mode,Fe),be.return=Ne,be):(be=C(be,Te.children||[]),be.return=Ne,be)}function Pe(Ne,be,Te,Fe,pt){return be===null||be.tag!==7?(be=yl(Te,Ne.mode,Fe,pt),be.return=Ne,be):(be=C(be,Te),be.return=Ne,be)}function Be(Ne,be,Te){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=uv(""+be,Ne.mode,Te),be.return=Ne,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case v:return Te=wp(be.type,be.key,be.props,null,Ne.mode,Te),d0(Te,be),Te.return=Ne,Te;case b:return be=fv(be,Ne.mode,Te),be.return=Ne,be;case M:return be=jl(be),Be(Ne,be,Te)}if(P(be)||L(be))return be=yl(be,Ne.mode,Te,null),be.return=Ne,be;if(typeof be.then=="function")return Be(Ne,_p(be),Te);if(be.$$typeof===y)return Be(Ne,jp(Ne,be),Te);Cp(Ne,be)}return null}function De(Ne,be,Te,Fe){var pt=be!==null?be.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return pt!==null?null:te(Ne,be,""+Te,Fe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case v:return Te.key===pt?pe(Ne,be,Te,Fe):null;case b:return Te.key===pt?Se(Ne,be,Te,Fe):null;case M:return Te=jl(Te),De(Ne,be,Te,Fe)}if(P(Te)||L(Te))return pt!==null?null:Pe(Ne,be,Te,Fe,null);if(typeof Te.then=="function")return De(Ne,be,_p(Te),Fe);if(Te.$$typeof===y)return De(Ne,be,jp(Ne,Te),Fe);Cp(Ne,Te)}return null}function Re(Ne,be,Te,Fe,pt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Ne=Ne.get(Te)||null,te(be,Ne,""+Fe,pt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case v:return Ne=Ne.get(Fe.key===null?Te:Fe.key)||null,pe(be,Ne,Fe,pt);case b:return Ne=Ne.get(Fe.key===null?Te:Fe.key)||null,Se(be,Ne,Fe,pt);case M:return Fe=jl(Fe),Re(Ne,be,Te,Fe,pt)}if(P(Fe)||L(Fe))return Ne=Ne.get(Te)||null,Pe(be,Ne,Fe,pt,null);if(typeof Fe.then=="function")return Re(Ne,be,Te,_p(Fe),pt);if(Fe.$$typeof===y)return Re(Ne,be,Te,jp(be,Fe),pt);Cp(be,Fe)}return null}function at(Ne,be,Te,Fe){for(var pt=null,ar=null,lt=be,Ut=be=0,Ht=null;lt!==null&&Ut<Te.length;Ut++){lt.index>Ut?(Ht=lt,lt=null):Ht=lt.sibling;var nr=De(Ne,lt,Te[Ut],Fe);if(nr===null){lt===null&&(lt=Ht);break}c&&lt&&nr.alternate===null&&f(Ne,lt),be=I(nr,be,Ut),ar===null?pt=nr:ar.sibling=nr,ar=nr,lt=Ht}if(Ut===Te.length)return m(Ne,lt),Yt&&vi(Ne,Ut),pt;if(lt===null){for(;Ut<Te.length;Ut++)lt=Be(Ne,Te[Ut],Fe),lt!==null&&(be=I(lt,be,Ut),ar===null?pt=lt:ar.sibling=lt,ar=lt);return Yt&&vi(Ne,Ut),pt}for(lt=N(lt);Ut<Te.length;Ut++)Ht=Re(lt,Ne,Ut,Te[Ut],Fe),Ht!==null&&(c&&Ht.alternate!==null&&lt.delete(Ht.key===null?Ut:Ht.key),be=I(Ht,be,Ut),ar===null?pt=Ht:ar.sibling=Ht,ar=Ht);return c&&lt.forEach(function(Ro){return f(Ne,Ro)}),Yt&&vi(Ne,Ut),pt}function xt(Ne,be,Te,Fe){if(Te==null)throw Error(n(151));for(var pt=null,ar=null,lt=be,Ut=be=0,Ht=null,nr=Te.next();lt!==null&&!nr.done;Ut++,nr=Te.next()){lt.index>Ut?(Ht=lt,lt=null):Ht=lt.sibling;var Ro=De(Ne,lt,nr.value,Fe);if(Ro===null){lt===null&&(lt=Ht);break}c&&lt&&Ro.alternate===null&&f(Ne,lt),be=I(Ro,be,Ut),ar===null?pt=Ro:ar.sibling=Ro,ar=Ro,lt=Ht}if(nr.done)return m(Ne,lt),Yt&&vi(Ne,Ut),pt;if(lt===null){for(;!nr.done;Ut++,nr=Te.next())nr=Be(Ne,nr.value,Fe),nr!==null&&(be=I(nr,be,Ut),ar===null?pt=nr:ar.sibling=nr,ar=nr);return Yt&&vi(Ne,Ut),pt}for(lt=N(lt);!nr.done;Ut++,nr=Te.next())nr=Re(lt,Ne,Ut,nr.value,Fe),nr!==null&&(c&&nr.alternate!==null&&lt.delete(nr.key===null?Ut:nr.key),be=I(nr,be,Ut),ar===null?pt=nr:ar.sibling=nr,ar=nr);return c&&lt.forEach(function(NV){return f(Ne,NV)}),Yt&&vi(Ne,Ut),pt}function br(Ne,be,Te,Fe){if(typeof Te=="object"&&Te!==null&&Te.type===w&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case v:e:{for(var pt=Te.key;be!==null;){if(be.key===pt){if(pt=Te.type,pt===w){if(be.tag===7){m(Ne,be.sibling),Fe=C(be,Te.props.children),Fe.return=Ne,Ne=Fe;break e}}else if(be.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===M&&jl(pt)===be.type){m(Ne,be.sibling),Fe=C(be,Te.props),d0(Fe,Te),Fe.return=Ne,Ne=Fe;break e}m(Ne,be);break}else f(Ne,be);be=be.sibling}Te.type===w?(Fe=yl(Te.props.children,Ne.mode,Fe,Te.key),Fe.return=Ne,Ne=Fe):(Fe=wp(Te.type,Te.key,Te.props,null,Ne.mode,Fe),d0(Fe,Te),Fe.return=Ne,Ne=Fe)}return H(Ne);case b:e:{for(pt=Te.key;be!==null;){if(be.key===pt)if(be.tag===4&&be.stateNode.containerInfo===Te.containerInfo&&be.stateNode.implementation===Te.implementation){m(Ne,be.sibling),Fe=C(be,Te.children||[]),Fe.return=Ne,Ne=Fe;break e}else{m(Ne,be);break}else f(Ne,be);be=be.sibling}Fe=fv(Te,Ne.mode,Fe),Fe.return=Ne,Ne=Fe}return H(Ne);case M:return Te=jl(Te),br(Ne,be,Te,Fe)}if(P(Te))return at(Ne,be,Te,Fe);if(L(Te)){if(pt=L(Te),typeof pt!="function")throw Error(n(150));return Te=pt.call(Te),xt(Ne,be,Te,Fe)}if(typeof Te.then=="function")return br(Ne,be,_p(Te),Fe);if(Te.$$typeof===y)return br(Ne,be,jp(Ne,Te),Fe);Cp(Ne,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,be!==null&&be.tag===6?(m(Ne,be.sibling),Fe=C(be,Te),Fe.return=Ne,Ne=Fe):(m(Ne,be),Fe=uv(Te,Ne.mode,Fe),Fe.return=Ne,Ne=Fe),H(Ne)):m(Ne,be)}return function(Ne,be,Te,Fe){try{c0=0;var pt=br(Ne,be,Te,Fe);return Qc=null,pt}catch(lt){if(lt===Jc||lt===Sp)throw lt;var ar=Sn(29,lt,null,Ne.mode);return ar.lanes=Fe,ar.return=Ne,ar}finally{}}}var Sl=Pk(!0),Lk=Pk(!1),go=!1;function Ev(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jv(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function bo(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function vo(c,f,m){var N=c.updateQueue;if(N===null)return null;if(N=N.shared,(lr&2)!==0){var C=N.pending;return C===null?f.next=f:(f.next=C.next,C.next=f),N.pending=f,f=Np(c),yk(c,null,m),f}return yp(c,N,f,m),Np(c)}function u0(c,f,m){if(f=f.updateQueue,f!==null&&(f=f.shared,(m&4194048)!==0)){var N=f.lanes;N&=c.pendingLanes,m|=N,f.lanes=m,Mc(c,m)}}function Tv(c,f){var m=c.updateQueue,N=c.alternate;if(N!==null&&(N=N.updateQueue,m===N)){var C=null,I=null;if(m=m.firstBaseUpdate,m!==null){do{var H={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};I===null?C=I=H:I=I.next=H,m=m.next}while(m!==null);I===null?C=I=f:I=I.next=f}else C=I=f;m={baseState:N.baseState,firstBaseUpdate:C,lastBaseUpdate:I,shared:N.shared,callbacks:N.callbacks},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=f:c.next=f,m.lastBaseUpdate=f}var Sv=!1;function f0(){if(Sv){var c=Xc;if(c!==null)throw c}}function h0(c,f,m,N){Sv=!1;var C=c.updateQueue;go=!1;var I=C.firstBaseUpdate,H=C.lastBaseUpdate,te=C.shared.pending;if(te!==null){C.shared.pending=null;var pe=te,Se=pe.next;pe.next=null,H===null?I=Se:H.next=Se,H=pe;var Pe=c.alternate;Pe!==null&&(Pe=Pe.updateQueue,te=Pe.lastBaseUpdate,te!==H&&(te===null?Pe.firstBaseUpdate=Se:te.next=Se,Pe.lastBaseUpdate=pe))}if(I!==null){var Be=C.baseState;H=0,Pe=Se=pe=null,te=I;do{var De=te.lane&-536870913,Re=De!==te.lane;if(Re?(Gt&De)===De:(N&De)===De){De!==0&&De===Wc&&(Sv=!0),Pe!==null&&(Pe=Pe.next={lane:0,tag:te.tag,payload:te.payload,callback:null,next:null});e:{var at=c,xt=te;De=f;var br=m;switch(xt.tag){case 1:if(at=xt.payload,typeof at=="function"){Be=at.call(br,Be,De);break e}Be=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=xt.payload,De=typeof at=="function"?at.call(br,Be,De):at,De==null)break e;Be=p({},Be,De);break e;case 2:go=!0}}De=te.callback,De!==null&&(c.flags|=64,Re&&(c.flags|=8192),Re=C.callbacks,Re===null?C.callbacks=[De]:Re.push(De))}else Re={lane:De,tag:te.tag,payload:te.payload,callback:te.callback,next:null},Pe===null?(Se=Pe=Re,pe=Be):Pe=Pe.next=Re,H|=De;if(te=te.next,te===null){if(te=C.shared.pending,te===null)break;Re=te,te=Re.next,Re.next=null,C.lastBaseUpdate=Re,C.shared.pending=null}}while(!0);Pe===null&&(pe=Be),C.baseState=pe,C.firstBaseUpdate=Se,C.lastBaseUpdate=Pe,I===null&&(C.shared.lanes=0),Eo|=H,c.lanes=H,c.memoizedState=Be}}function Uk(c,f){if(typeof c!="function")throw Error(n(191,c));c.call(f)}function Fk(c,f){var m=c.callbacks;if(m!==null)for(c.callbacks=null,c=0;c<m.length;c++)Uk(m[c],f)}var Zc=K(null),Op=K(0);function Bk(c,f){c=Ci,W(Op,c),W(Zc,f),Ci=c|f.baseLanes}function kv(){W(Op,Ci),W(Zc,Zc.current)}function _v(){Ci=Op.current,G(Zc),G(Op)}var kn=K(null),ns=null;function yo(c){var f=c.alternate;W(Yr,Yr.current&1),W(kn,c),ns===null&&(f===null||Zc.current!==null||f.memoizedState!==null)&&(ns=c)}function Cv(c){W(Yr,Yr.current),W(kn,c),ns===null&&(ns=c)}function zk(c){c.tag===22?(W(Yr,Yr.current),W(kn,c),ns===null&&(ns=c)):No()}function No(){W(Yr,Yr.current),W(kn,kn.current)}function _n(c){G(kn),ns===c&&(ns=null),G(Yr)}var Yr=K(0);function Dp(c){for(var f=c;f!==null;){if(f.tag===13){var m=f.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||Py(m)||Ly(m)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var wi=0,Rt=null,xr=null,Qr=null,Ip=!1,ed=!1,kl=!1,Rp=0,p0=0,td=null,uq=0;function Vr(){throw Error(n(321))}function Ov(c,f){if(f===null)return!1;for(var m=0;m<f.length&&m<c.length;m++)if(!Tn(c[m],f[m]))return!1;return!0}function Dv(c,f,m,N,C,I){return wi=I,Rt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,U.H=c===null||c.memoizedState===null?E_:Kv,kl=!1,I=m(N,C),kl=!1,ed&&(I=Vk(f,m,N,C)),qk(c),I}function qk(c){U.H=g0;var f=xr!==null&&xr.next!==null;if(wi=0,Qr=xr=Rt=null,Ip=!1,p0=0,td=null,f)throw Error(n(300));c===null||Zr||(c=c.dependencies,c!==null&&Ep(c)&&(Zr=!0))}function Vk(c,f,m,N){Rt=c;var C=0;do{if(ed&&(td=null),p0=0,ed=!1,25<=C)throw Error(n(301));if(C+=1,Qr=xr=null,c.updateQueue!=null){var I=c.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}U.H=j_,I=f(m,N)}while(ed);return I}function fq(){var c=U.H,f=c.useState()[0];return f=typeof f.then=="function"?m0(f):f,c=c.useState()[0],(xr!==null?xr.memoizedState:null)!==c&&(Rt.flags|=1024),f}function Iv(){var c=Rp!==0;return Rp=0,c}function Rv(c,f,m){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~m}function Mv(c){if(Ip){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Ip=!1}wi=0,Qr=xr=Rt=null,ed=!1,p0=Rp=0,td=null}function Wa(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?Rt.memoizedState=Qr=c:Qr=Qr.next=c,Qr}function Wr(){if(xr===null){var c=Rt.alternate;c=c!==null?c.memoizedState:null}else c=xr.next;var f=Qr===null?Rt.memoizedState:Qr.next;if(f!==null)Qr=f,xr=c;else{if(c===null)throw Rt.alternate===null?Error(n(467)):Error(n(310));xr=c,c={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},Qr===null?Rt.memoizedState=Qr=c:Qr=Qr.next=c}return Qr}function Mp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function m0(c){var f=p0;return p0+=1,td===null&&(td=[]),c=Ik(td,c,f),f=Rt,(Qr===null?f.memoizedState:Qr.next)===null&&(f=f.alternate,U.H=f===null||f.memoizedState===null?E_:Kv),c}function Pp(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return m0(c);if(c.$$typeof===y)return Ca(c)}throw Error(n(438,String(c)))}function Pv(c){var f=null,m=Rt.updateQueue;if(m!==null&&(f=m.memoCache),f==null){var N=Rt.alternate;N!==null&&(N=N.updateQueue,N!==null&&(N=N.memoCache,N!=null&&(f={data:N.data.map(function(C){return C.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),m===null&&(m=Mp(),Rt.updateQueue=m),m.memoCache=f,m=f.data[f.index],m===void 0)for(m=f.data[f.index]=Array(c),N=0;N<c;N++)m[N]=F;return f.index++,m}function Ai(c,f){return typeof f=="function"?f(c):f}function Lp(c){var f=Wr();return Lv(f,xr,c)}function Lv(c,f,m){var N=c.queue;if(N===null)throw Error(n(311));N.lastRenderedReducer=m;var C=c.baseQueue,I=N.pending;if(I!==null){if(C!==null){var H=C.next;C.next=I.next,I.next=H}f.baseQueue=C=I,N.pending=null}if(I=c.baseState,C===null)c.memoizedState=I;else{f=C.next;var te=H=null,pe=null,Se=f,Pe=!1;do{var Be=Se.lane&-536870913;if(Be!==Se.lane?(Gt&Be)===Be:(wi&Be)===Be){var De=Se.revertLane;if(De===0)pe!==null&&(pe=pe.next={lane:0,revertLane:0,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),Be===Wc&&(Pe=!0);else if((wi&De)===De){Se=Se.next,De===Wc&&(Pe=!0);continue}else Be={lane:0,revertLane:Se.revertLane,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},pe===null?(te=pe=Be,H=I):pe=pe.next=Be,Rt.lanes|=De,Eo|=De;Be=Se.action,kl&&m(I,Be),I=Se.hasEagerState?Se.eagerState:m(I,Be)}else De={lane:Be,revertLane:Se.revertLane,gesture:Se.gesture,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},pe===null?(te=pe=De,H=I):pe=pe.next=De,Rt.lanes|=Be,Eo|=Be;Se=Se.next}while(Se!==null&&Se!==f);if(pe===null?H=I:pe.next=te,!Tn(I,c.memoizedState)&&(Zr=!0,Pe&&(m=Xc,m!==null)))throw m;c.memoizedState=I,c.baseState=H,c.baseQueue=pe,N.lastRenderedState=I}return C===null&&(N.lanes=0),[c.memoizedState,N.dispatch]}function Uv(c){var f=Wr(),m=f.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=c;var N=m.dispatch,C=m.pending,I=f.memoizedState;if(C!==null){m.pending=null;var H=C=C.next;do I=c(I,H.action),H=H.next;while(H!==C);Tn(I,f.memoizedState)||(Zr=!0),f.memoizedState=I,f.baseQueue===null&&(f.baseState=I),m.lastRenderedState=I}return[I,N]}function $k(c,f,m){var N=Rt,C=Wr(),I=Yt;if(I){if(m===void 0)throw Error(n(407));m=m()}else m=f();var H=!Tn((xr||C).memoizedState,m);if(H&&(C.memoizedState=m,Zr=!0),C=C.queue,zv(Kk.bind(null,N,C,c),[c]),C.getSnapshot!==f||H||Qr!==null&&Qr.memoizedState.tag&1){if(N.flags|=2048,rd(9,{destroy:void 0},Hk.bind(null,N,C,m,f),null),yr===null)throw Error(n(349));I||(wi&127)!==0||Gk(N,f,m)}return m}function Gk(c,f,m){c.flags|=16384,c={getSnapshot:f,value:m},f=Rt.updateQueue,f===null?(f=Mp(),Rt.updateQueue=f,f.stores=[c]):(m=f.stores,m===null?f.stores=[c]:m.push(c))}function Hk(c,f,m,N){f.value=m,f.getSnapshot=N,Yk(f)&&Wk(c)}function Kk(c,f,m){return m(function(){Yk(f)&&Wk(c)})}function Yk(c){var f=c.getSnapshot;c=c.value;try{var m=f();return!Tn(c,m)}catch{return!0}}function Wk(c){var f=vl(c,2);f!==null&&gn(f,c,2)}function Fv(c){var f=Wa();if(typeof c=="function"){var m=c;if(c=m(),kl){va(!0);try{m()}finally{va(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:c},f}function Xk(c,f,m,N){return c.baseState=m,Lv(c,xr,typeof N=="function"?N:Ai)}function hq(c,f,m,N,C){if(Bp(c))throw Error(n(485));if(c=f.action,c!==null){var I={payload:C,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){I.listeners.push(H)}};U.T!==null?m(!0):I.isTransition=!1,N(I),m=f.pending,m===null?(I.next=f.pending=I,Jk(f,I)):(I.next=m.next,f.pending=m.next=I)}}function Jk(c,f){var m=f.action,N=f.payload,C=c.state;if(f.isTransition){var I=U.T,H={};U.T=H;try{var te=m(C,N),pe=U.S;pe!==null&&pe(H,te),Qk(c,f,te)}catch(Se){Bv(c,f,Se)}finally{I!==null&&H.types!==null&&(I.types=H.types),U.T=I}}else try{I=m(C,N),Qk(c,f,I)}catch(Se){Bv(c,f,Se)}}function Qk(c,f,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(N){Zk(c,f,N)},function(N){return Bv(c,f,N)}):Zk(c,f,m)}function Zk(c,f,m){f.status="fulfilled",f.value=m,e_(f),c.state=m,f=c.pending,f!==null&&(m=f.next,m===f?c.pending=null:(m=m.next,f.next=m,Jk(c,m)))}function Bv(c,f,m){var N=c.pending;if(c.pending=null,N!==null){N=N.next;do f.status="rejected",f.reason=m,e_(f),f=f.next;while(f!==N)}c.action=null}function e_(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function t_(c,f){return f}function r_(c,f){if(Yt){var m=yr.formState;if(m!==null){e:{var N=Rt;if(Yt){if(Or){t:{for(var C=Or,I=as;C.nodeType!==8;){if(!I){C=null;break t}if(C=ss(C.nextSibling),C===null){C=null;break t}}I=C.data,C=I==="F!"||I==="F"?C:null}if(C){Or=ss(C.nextSibling),N=C.data==="F!";break e}}mo(N)}N=!1}N&&(f=m[0])}}return m=Wa(),m.memoizedState=m.baseState=f,N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t_,lastRenderedState:f},m.queue=N,m=N_.bind(null,Rt,N),N.dispatch=m,N=Fv(!1),I=Hv.bind(null,Rt,!1,N.queue),N=Wa(),C={state:f,dispatch:null,action:c,pending:null},N.queue=C,m=hq.bind(null,Rt,C,I,m),C.dispatch=m,N.memoizedState=c,[f,m,!1]}function a_(c){var f=Wr();return n_(f,xr,c)}function n_(c,f,m){if(f=Lv(c,f,t_)[0],c=Lp(Ai)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var N=m0(f)}catch(H){throw H===Jc?Sp:H}else N=f;f=Wr();var C=f.queue,I=C.dispatch;return m!==f.memoizedState&&(Rt.flags|=2048,rd(9,{destroy:void 0},pq.bind(null,C,m),null)),[N,I,c]}function pq(c,f){c.action=f}function s_(c){var f=Wr(),m=xr;if(m!==null)return n_(f,m,c);Wr(),f=f.memoizedState,m=Wr();var N=m.queue.dispatch;return m.memoizedState=c,[f,N,!1]}function rd(c,f,m,N){return c={tag:c,create:m,deps:N,inst:f,next:null},f=Rt.updateQueue,f===null&&(f=Mp(),Rt.updateQueue=f),m=f.lastEffect,m===null?f.lastEffect=c.next=c:(N=m.next,m.next=c,c.next=N,f.lastEffect=c),c}function i_(){return Wr().memoizedState}function Up(c,f,m,N){var C=Wa();Rt.flags|=c,C.memoizedState=rd(1|f,{destroy:void 0},m,N===void 0?null:N)}function Fp(c,f,m,N){var C=Wr();N=N===void 0?null:N;var I=C.memoizedState.inst;xr!==null&&N!==null&&Ov(N,xr.memoizedState.deps)?C.memoizedState=rd(f,I,m,N):(Rt.flags|=c,C.memoizedState=rd(1|f,I,m,N))}function o_(c,f){Up(8390656,8,c,f)}function zv(c,f){Fp(2048,8,c,f)}function mq(c){Rt.flags|=4;var f=Rt.updateQueue;if(f===null)f=Mp(),Rt.updateQueue=f,f.events=[c];else{var m=f.events;m===null?f.events=[c]:m.push(c)}}function l_(c){var f=Wr().memoizedState;return mq({ref:f,nextImpl:c}),function(){if((lr&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}function c_(c,f){return Fp(4,2,c,f)}function d_(c,f){return Fp(4,4,c,f)}function u_(c,f){if(typeof f=="function"){c=c();var m=f(c);return function(){typeof m=="function"?m():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function f_(c,f,m){m=m!=null?m.concat([c]):null,Fp(4,4,u_.bind(null,f,c),m)}function qv(){}function h_(c,f){var m=Wr();f=f===void 0?null:f;var N=m.memoizedState;return f!==null&&Ov(f,N[1])?N[0]:(m.memoizedState=[c,f],c)}function p_(c,f){var m=Wr();f=f===void 0?null:f;var N=m.memoizedState;if(f!==null&&Ov(f,N[1]))return N[0];if(N=c(),kl){va(!0);try{c()}finally{va(!1)}}return m.memoizedState=[N,f],N}function Vv(c,f,m){return m===void 0||(wi&1073741824)!==0&&(Gt&261930)===0?c.memoizedState=f:(c.memoizedState=m,c=mC(),Rt.lanes|=c,Eo|=c,m)}function m_(c,f,m,N){return Tn(m,f)?m:Zc.current!==null?(c=Vv(c,m,N),Tn(c,f)||(Zr=!0),c):(wi&42)===0||(wi&1073741824)!==0&&(Gt&261930)===0?(Zr=!0,c.memoizedState=m):(c=mC(),Rt.lanes|=c,Eo|=c,f)}function x_(c,f,m,N,C){var I=z.p;z.p=I!==0&&8>I?I:8;var H=U.T,te={};U.T=te,Hv(c,!1,f,m);try{var pe=C(),Se=U.S;if(Se!==null&&Se(te,pe),pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Pe=dq(pe,N);x0(c,f,Pe,Dn(c))}else x0(c,f,N,Dn(c))}catch(Be){x0(c,f,{then:function(){},status:"rejected",reason:Be},Dn())}finally{z.p=I,H!==null&&te.types!==null&&(H.types=te.types),U.T=H}}function xq(){}function $v(c,f,m,N){if(c.tag!==5)throw Error(n(476));var C=g_(c).queue;x_(c,C,f,V,m===null?xq:function(){return b_(c),m(N)})}function g_(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:V},next:null};var m={};return f.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:m},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function b_(c){var f=g_(c);f.next===null&&(f=c.alternate.memoizedState),x0(c,f.next.queue,{},Dn())}function Gv(){return Ca(I0)}function v_(){return Wr().memoizedState}function y_(){return Wr().memoizedState}function gq(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var m=Dn();c=bo(m);var N=vo(f,c,m);N!==null&&(gn(N,f,m),u0(N,f,m)),f={cache:yv()},c.payload=f;return}f=f.return}}function bq(c,f,m){var N=Dn();m={lane:N,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Bp(c)?w_(f,m):(m=cv(c,f,m,N),m!==null&&(gn(m,c,N),A_(m,f,N)))}function N_(c,f,m){var N=Dn();x0(c,f,m,N)}function x0(c,f,m,N){var C={lane:N,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(Bp(c))w_(f,C);else{var I=c.alternate;if(c.lanes===0&&(I===null||I.lanes===0)&&(I=f.lastRenderedReducer,I!==null))try{var H=f.lastRenderedState,te=I(H,m);if(C.hasEagerState=!0,C.eagerState=te,Tn(te,H))return yp(c,f,C,0),yr===null&&vp(),!1}catch{}finally{}if(m=cv(c,f,C,N),m!==null)return gn(m,c,N),A_(m,f,N),!0}return!1}function Hv(c,f,m,N){if(N={lane:2,revertLane:Ey(),gesture:null,action:N,hasEagerState:!1,eagerState:null,next:null},Bp(c)){if(f)throw Error(n(479))}else f=cv(c,m,N,2),f!==null&&gn(f,c,2)}function Bp(c){var f=c.alternate;return c===Rt||f!==null&&f===Rt}function w_(c,f){ed=Ip=!0;var m=c.pending;m===null?f.next=f:(f.next=m.next,m.next=f),c.pending=f}function A_(c,f,m){if((m&4194048)!==0){var N=f.lanes;N&=c.pendingLanes,m|=N,f.lanes=m,Mc(c,m)}}var g0={readContext:Ca,use:Pp,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useLayoutEffect:Vr,useInsertionEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useSyncExternalStore:Vr,useId:Vr,useHostTransitionStatus:Vr,useFormState:Vr,useActionState:Vr,useOptimistic:Vr,useMemoCache:Vr,useCacheRefresh:Vr};g0.useEffectEvent=Vr;var E_={readContext:Ca,use:Pp,useCallback:function(c,f){return Wa().memoizedState=[c,f===void 0?null:f],c},useContext:Ca,useEffect:o_,useImperativeHandle:function(c,f,m){m=m!=null?m.concat([c]):null,Up(4194308,4,u_.bind(null,f,c),m)},useLayoutEffect:function(c,f){return Up(4194308,4,c,f)},useInsertionEffect:function(c,f){Up(4,2,c,f)},useMemo:function(c,f){var m=Wa();f=f===void 0?null:f;var N=c();if(kl){va(!0);try{c()}finally{va(!1)}}return m.memoizedState=[N,f],N},useReducer:function(c,f,m){var N=Wa();if(m!==void 0){var C=m(f);if(kl){va(!0);try{m(f)}finally{va(!1)}}}else C=f;return N.memoizedState=N.baseState=C,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:C},N.queue=c,c=c.dispatch=bq.bind(null,Rt,c),[N.memoizedState,c]},useRef:function(c){var f=Wa();return c={current:c},f.memoizedState=c},useState:function(c){c=Fv(c);var f=c.queue,m=N_.bind(null,Rt,f);return f.dispatch=m,[c.memoizedState,m]},useDebugValue:qv,useDeferredValue:function(c,f){var m=Wa();return Vv(m,c,f)},useTransition:function(){var c=Fv(!1);return c=x_.bind(null,Rt,c.queue,!0,!1),Wa().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,m){var N=Rt,C=Wa();if(Yt){if(m===void 0)throw Error(n(407));m=m()}else{if(m=f(),yr===null)throw Error(n(349));(Gt&127)!==0||Gk(N,f,m)}C.memoizedState=m;var I={value:m,getSnapshot:f};return C.queue=I,o_(Kk.bind(null,N,I,c),[c]),N.flags|=2048,rd(9,{destroy:void 0},Hk.bind(null,N,I,m,f),null),m},useId:function(){var c=Wa(),f=yr.identifierPrefix;if(Yt){var m=Ks,N=Hs;m=(N&~(1<<32-zr(N)-1)).toString(32)+m,f="_"+f+"R_"+m,m=Rp++,0<m&&(f+="H"+m.toString(32)),f+="_"}else m=uq++,f="_"+f+"r_"+m.toString(32)+"_";return c.memoizedState=f},useHostTransitionStatus:Gv,useFormState:r_,useActionState:r_,useOptimistic:function(c){var f=Wa();f.memoizedState=f.baseState=c;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=m,f=Hv.bind(null,Rt,!0,m),m.dispatch=f,[c,f]},useMemoCache:Pv,useCacheRefresh:function(){return Wa().memoizedState=gq.bind(null,Rt)},useEffectEvent:function(c){var f=Wa(),m={impl:c};return f.memoizedState=m,function(){if((lr&2)!==0)throw Error(n(440));return m.impl.apply(void 0,arguments)}}},Kv={readContext:Ca,use:Pp,useCallback:h_,useContext:Ca,useEffect:zv,useImperativeHandle:f_,useInsertionEffect:c_,useLayoutEffect:d_,useMemo:p_,useReducer:Lp,useRef:i_,useState:function(){return Lp(Ai)},useDebugValue:qv,useDeferredValue:function(c,f){var m=Wr();return m_(m,xr.memoizedState,c,f)},useTransition:function(){var c=Lp(Ai)[0],f=Wr().memoizedState;return[typeof c=="boolean"?c:m0(c),f]},useSyncExternalStore:$k,useId:v_,useHostTransitionStatus:Gv,useFormState:a_,useActionState:a_,useOptimistic:function(c,f){var m=Wr();return Xk(m,xr,c,f)},useMemoCache:Pv,useCacheRefresh:y_};Kv.useEffectEvent=l_;var j_={readContext:Ca,use:Pp,useCallback:h_,useContext:Ca,useEffect:zv,useImperativeHandle:f_,useInsertionEffect:c_,useLayoutEffect:d_,useMemo:p_,useReducer:Uv,useRef:i_,useState:function(){return Uv(Ai)},useDebugValue:qv,useDeferredValue:function(c,f){var m=Wr();return xr===null?Vv(m,c,f):m_(m,xr.memoizedState,c,f)},useTransition:function(){var c=Uv(Ai)[0],f=Wr().memoizedState;return[typeof c=="boolean"?c:m0(c),f]},useSyncExternalStore:$k,useId:v_,useHostTransitionStatus:Gv,useFormState:s_,useActionState:s_,useOptimistic:function(c,f){var m=Wr();return xr!==null?Xk(m,xr,c,f):(m.baseState=c,[c,m.queue.dispatch])},useMemoCache:Pv,useCacheRefresh:y_};j_.useEffectEvent=l_;function Yv(c,f,m,N){f=c.memoizedState,m=m(N,f),m=m==null?f:p({},f,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var Wv={enqueueSetState:function(c,f,m){c=c._reactInternals;var N=Dn(),C=bo(N);C.payload=f,m!=null&&(C.callback=m),f=vo(c,C,N),f!==null&&(gn(f,c,N),u0(f,c,N))},enqueueReplaceState:function(c,f,m){c=c._reactInternals;var N=Dn(),C=bo(N);C.tag=1,C.payload=f,m!=null&&(C.callback=m),f=vo(c,C,N),f!==null&&(gn(f,c,N),u0(f,c,N))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var m=Dn(),N=bo(m);N.tag=2,f!=null&&(N.callback=f),f=vo(c,N,m),f!==null&&(gn(f,c,m),u0(f,c,m))}};function T_(c,f,m,N,C,I,H){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(N,I,H):f.prototype&&f.prototype.isPureReactComponent?!a0(m,N)||!a0(C,I):!0}function S_(c,f,m,N){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(m,N),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(m,N),f.state!==c&&Wv.enqueueReplaceState(f,f.state,null)}function _l(c,f){var m=f;if("ref"in f){m={};for(var N in f)N!=="ref"&&(m[N]=f[N])}if(c=c.defaultProps){m===f&&(m=p({},m));for(var C in c)m[C]===void 0&&(m[C]=c[C])}return m}function k_(c){bp(c)}function __(c){console.error(c)}function C_(c){bp(c)}function zp(c,f){try{var m=c.onUncaughtError;m(f.value,{componentStack:f.stack})}catch(N){setTimeout(function(){throw N})}}function O_(c,f,m){try{var N=c.onCaughtError;N(m.value,{componentStack:m.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function Xv(c,f,m){return m=bo(m),m.tag=3,m.payload={element:null},m.callback=function(){zp(c,f)},m}function D_(c){return c=bo(c),c.tag=3,c}function I_(c,f,m,N){var C=m.type.getDerivedStateFromError;if(typeof C=="function"){var I=N.value;c.payload=function(){return C(I)},c.callback=function(){O_(f,m,N)}}var H=m.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(c.callback=function(){O_(f,m,N),typeof C!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var te=N.stack;this.componentDidCatch(N.value,{componentStack:te!==null?te:""})})}function vq(c,f,m,N,C){if(m.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){if(f=m.alternate,f!==null&&Yc(f,m,C,!0),m=kn.current,m!==null){switch(m.tag){case 31:case 13:return ns===null?Zp():m.alternate===null&&$r===0&&($r=3),m.flags&=-257,m.flags|=65536,m.lanes=C,N===kp?m.flags|=16384:(f=m.updateQueue,f===null?m.updateQueue=new Set([N]):f.add(N),Ny(c,N,C)),!1;case 22:return m.flags|=65536,N===kp?m.flags|=16384:(f=m.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([N])},m.updateQueue=f):(m=f.retryQueue,m===null?f.retryQueue=new Set([N]):m.add(N)),Ny(c,N,C)),!1}throw Error(n(435,m.tag))}return Ny(c,N,C),Zp(),!1}if(Yt)return f=kn.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=C,N!==mv&&(c=Error(n(422),{cause:N}),i0(es(c,m)))):(N!==mv&&(f=Error(n(423),{cause:N}),i0(es(f,m))),c=c.current.alternate,c.flags|=65536,C&=-C,c.lanes|=C,N=es(N,m),C=Xv(c.stateNode,N,C),Tv(c,C),$r!==4&&($r=2)),!1;var I=Error(n(520),{cause:N});if(I=es(I,m),j0===null?j0=[I]:j0.push(I),$r!==4&&($r=2),f===null)return!0;N=es(N,m),m=f;do{switch(m.tag){case 3:return m.flags|=65536,c=C&-C,m.lanes|=c,c=Xv(m.stateNode,N,c),Tv(m,c),!1;case 1:if(f=m.type,I=m.stateNode,(m.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(jo===null||!jo.has(I))))return m.flags|=65536,C&=-C,m.lanes|=C,C=D_(C),I_(C,c,m,N),Tv(m,C),!1}m=m.return}while(m!==null);return!1}var Jv=Error(n(461)),Zr=!1;function Oa(c,f,m,N){f.child=c===null?Lk(f,null,m,N):Sl(f,c.child,m,N)}function R_(c,f,m,N,C){m=m.render;var I=f.ref;if("ref"in N){var H={};for(var te in N)te!=="ref"&&(H[te]=N[te])}else H=N;return Al(f),N=Dv(c,f,m,H,I,C),te=Iv(),c!==null&&!Zr?(Rv(c,f,C),Ei(c,f,C)):(Yt&&te&&hv(f),f.flags|=1,Oa(c,f,N,C),f.child)}function M_(c,f,m,N,C){if(c===null){var I=m.type;return typeof I=="function"&&!dv(I)&&I.defaultProps===void 0&&m.compare===null?(f.tag=15,f.type=I,P_(c,f,I,N,C)):(c=wp(m.type,null,N,f,f.mode,C),c.ref=f.ref,c.return=f,f.child=c)}if(I=c.child,!sy(c,C)){var H=I.memoizedProps;if(m=m.compare,m=m!==null?m:a0,m(H,N)&&c.ref===f.ref)return Ei(c,f,C)}return f.flags|=1,c=bi(I,N),c.ref=f.ref,c.return=f,f.child=c}function P_(c,f,m,N,C){if(c!==null){var I=c.memoizedProps;if(a0(I,N)&&c.ref===f.ref)if(Zr=!1,f.pendingProps=N=I,sy(c,C))(c.flags&131072)!==0&&(Zr=!0);else return f.lanes=c.lanes,Ei(c,f,C)}return Qv(c,f,m,N,C)}function L_(c,f,m,N){var C=N.children,I=c!==null?c.memoizedState:null;if(c===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),N.mode==="hidden"){if((f.flags&128)!==0){if(I=I!==null?I.baseLanes|m:m,c!==null){for(N=f.child=c.child,C=0;N!==null;)C=C|N.lanes|N.childLanes,N=N.sibling;N=C&~I}else N=0,f.child=null;return U_(c,f,I,m,N)}if((m&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&Tp(f,I!==null?I.cachePool:null),I!==null?Bk(f,I):kv(),zk(f);else return N=f.lanes=536870912,U_(c,f,I!==null?I.baseLanes|m:m,m,N)}else I!==null?(Tp(f,I.cachePool),Bk(f,I),No(),f.memoizedState=null):(c!==null&&Tp(f,null),kv(),No());return Oa(c,f,C,m),f.child}function b0(c,f){return c!==null&&c.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function U_(c,f,m,N,C){var I=wv();return I=I===null?null:{parent:Jr._currentValue,pool:I},f.memoizedState={baseLanes:m,cachePool:I},c!==null&&Tp(f,null),kv(),zk(f),c!==null&&Yc(c,f,N,!0),f.childLanes=C,null}function qp(c,f){return f=$p({mode:f.mode,children:f.children},c.mode),f.ref=c.ref,c.child=f,f.return=c,f}function F_(c,f,m){return Sl(f,c.child,null,m),c=qp(f,f.pendingProps),c.flags|=2,_n(f),f.memoizedState=null,c}function yq(c,f,m){var N=f.pendingProps,C=(f.flags&128)!==0;if(f.flags&=-129,c===null){if(Yt){if(N.mode==="hidden")return c=qp(f,N),f.lanes=536870912,b0(null,c);if(Cv(f),(c=Or)?(c=JC(c,as),c=c!==null&&c.data==="&"?c:null,c!==null&&(f.memoizedState={dehydrated:c,treeContext:ho!==null?{id:Hs,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},m=wk(c),m.return=f,f.child=m,_a=f,Or=null)):c=null,c===null)throw mo(f);return f.lanes=536870912,null}return qp(f,N)}var I=c.memoizedState;if(I!==null){var H=I.dehydrated;if(Cv(f),C)if(f.flags&256)f.flags&=-257,f=F_(c,f,m);else if(f.memoizedState!==null)f.child=c.child,f.flags|=128,f=null;else throw Error(n(558));else if(Zr||Yc(c,f,m,!1),C=(m&c.childLanes)!==0,Zr||C){if(N=yr,N!==null&&(H=lp(N,m),H!==0&&H!==I.retryLane))throw I.retryLane=H,vl(c,H),gn(N,c,H),Jv;Zp(),f=F_(c,f,m)}else c=I.treeContext,Or=ss(H.nextSibling),_a=f,Yt=!0,po=null,as=!1,c!==null&&jk(f,c),f=qp(f,N),f.flags|=4096;return f}return c=bi(c.child,{mode:N.mode,children:N.children}),c.ref=f.ref,f.child=c,c.return=f,c}function Vp(c,f){var m=f.ref;if(m===null)c!==null&&c.ref!==null&&(f.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(c===null||c.ref!==m)&&(f.flags|=4194816)}}function Qv(c,f,m,N,C){return Al(f),m=Dv(c,f,m,N,void 0,C),N=Iv(),c!==null&&!Zr?(Rv(c,f,C),Ei(c,f,C)):(Yt&&N&&hv(f),f.flags|=1,Oa(c,f,m,C),f.child)}function B_(c,f,m,N,C,I){return Al(f),f.updateQueue=null,m=Vk(f,N,m,C),qk(c),N=Iv(),c!==null&&!Zr?(Rv(c,f,I),Ei(c,f,I)):(Yt&&N&&hv(f),f.flags|=1,Oa(c,f,m,I),f.child)}function z_(c,f,m,N,C){if(Al(f),f.stateNode===null){var I=$c,H=m.contextType;typeof H=="object"&&H!==null&&(I=Ca(H)),I=new m(N,I),f.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=Wv,f.stateNode=I,I._reactInternals=f,I=f.stateNode,I.props=N,I.state=f.memoizedState,I.refs={},Ev(f),H=m.contextType,I.context=typeof H=="object"&&H!==null?Ca(H):$c,I.state=f.memoizedState,H=m.getDerivedStateFromProps,typeof H=="function"&&(Yv(f,m,H,N),I.state=f.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(H=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),H!==I.state&&Wv.enqueueReplaceState(I,I.state,null),h0(f,N,I,C),f0(),I.state=f.memoizedState),typeof I.componentDidMount=="function"&&(f.flags|=4194308),N=!0}else if(c===null){I=f.stateNode;var te=f.memoizedProps,pe=_l(m,te);I.props=pe;var Se=I.context,Pe=m.contextType;H=$c,typeof Pe=="object"&&Pe!==null&&(H=Ca(Pe));var Be=m.getDerivedStateFromProps;Pe=typeof Be=="function"||typeof I.getSnapshotBeforeUpdate=="function",te=f.pendingProps!==te,Pe||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(te||Se!==H)&&S_(f,I,N,H),go=!1;var De=f.memoizedState;I.state=De,h0(f,N,I,C),f0(),Se=f.memoizedState,te||De!==Se||go?(typeof Be=="function"&&(Yv(f,m,Be,N),Se=f.memoizedState),(pe=go||T_(f,m,pe,N,De,Se,H))?(Pe||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(f.flags|=4194308)):(typeof I.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=N,f.memoizedState=Se),I.props=N,I.state=Se,I.context=H,N=pe):(typeof I.componentDidMount=="function"&&(f.flags|=4194308),N=!1)}else{I=f.stateNode,jv(c,f),H=f.memoizedProps,Pe=_l(m,H),I.props=Pe,Be=f.pendingProps,De=I.context,Se=m.contextType,pe=$c,typeof Se=="object"&&Se!==null&&(pe=Ca(Se)),te=m.getDerivedStateFromProps,(Se=typeof te=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(H!==Be||De!==pe)&&S_(f,I,N,pe),go=!1,De=f.memoizedState,I.state=De,h0(f,N,I,C),f0();var Re=f.memoizedState;H!==Be||De!==Re||go||c!==null&&c.dependencies!==null&&Ep(c.dependencies)?(typeof te=="function"&&(Yv(f,m,te,N),Re=f.memoizedState),(Pe=go||T_(f,m,Pe,N,De,Re,pe)||c!==null&&c.dependencies!==null&&Ep(c.dependencies))?(Se||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(N,Re,pe),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(N,Re,pe)),typeof I.componentDidUpdate=="function"&&(f.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof I.componentDidUpdate!="function"||H===c.memoizedProps&&De===c.memoizedState||(f.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||H===c.memoizedProps&&De===c.memoizedState||(f.flags|=1024),f.memoizedProps=N,f.memoizedState=Re),I.props=N,I.state=Re,I.context=pe,N=Pe):(typeof I.componentDidUpdate!="function"||H===c.memoizedProps&&De===c.memoizedState||(f.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||H===c.memoizedProps&&De===c.memoizedState||(f.flags|=1024),N=!1)}return I=N,Vp(c,f),N=(f.flags&128)!==0,I||N?(I=f.stateNode,m=N&&typeof m.getDerivedStateFromError!="function"?null:I.render(),f.flags|=1,c!==null&&N?(f.child=Sl(f,c.child,null,C),f.child=Sl(f,null,m,C)):Oa(c,f,m,C),f.memoizedState=I.state,c=f.child):c=Ei(c,f,C),c}function q_(c,f,m,N){return Nl(),f.flags|=256,Oa(c,f,m,N),f.child}var Zv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ey(c){return{baseLanes:c,cachePool:Ok()}}function ty(c,f,m){return c=c!==null?c.childLanes&~m:0,f&&(c|=On),c}function V_(c,f,m){var N=f.pendingProps,C=!1,I=(f.flags&128)!==0,H;if((H=I)||(H=c!==null&&c.memoizedState===null?!1:(Yr.current&2)!==0),H&&(C=!0,f.flags&=-129),H=(f.flags&32)!==0,f.flags&=-33,c===null){if(Yt){if(C?yo(f):No(),(c=Or)?(c=JC(c,as),c=c!==null&&c.data!=="&"?c:null,c!==null&&(f.memoizedState={dehydrated:c,treeContext:ho!==null?{id:Hs,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},m=wk(c),m.return=f,f.child=m,_a=f,Or=null)):c=null,c===null)throw mo(f);return Ly(c)?f.lanes=32:f.lanes=536870912,null}var te=N.children;return N=N.fallback,C?(No(),C=f.mode,te=$p({mode:"hidden",children:te},C),N=yl(N,C,m,null),te.return=f,N.return=f,te.sibling=N,f.child=te,N=f.child,N.memoizedState=ey(m),N.childLanes=ty(c,H,m),f.memoizedState=Zv,b0(null,N)):(yo(f),ry(f,te))}var pe=c.memoizedState;if(pe!==null&&(te=pe.dehydrated,te!==null)){if(I)f.flags&256?(yo(f),f.flags&=-257,f=ay(c,f,m)):f.memoizedState!==null?(No(),f.child=c.child,f.flags|=128,f=null):(No(),te=N.fallback,C=f.mode,N=$p({mode:"visible",children:N.children},C),te=yl(te,C,m,null),te.flags|=2,N.return=f,te.return=f,N.sibling=te,f.child=N,Sl(f,c.child,null,m),N=f.child,N.memoizedState=ey(m),N.childLanes=ty(c,H,m),f.memoizedState=Zv,f=b0(null,N));else if(yo(f),Ly(te)){if(H=te.nextSibling&&te.nextSibling.dataset,H)var Se=H.dgst;H=Se,N=Error(n(419)),N.stack="",N.digest=H,i0({value:N,source:null,stack:null}),f=ay(c,f,m)}else if(Zr||Yc(c,f,m,!1),H=(m&c.childLanes)!==0,Zr||H){if(H=yr,H!==null&&(N=lp(H,m),N!==0&&N!==pe.retryLane))throw pe.retryLane=N,vl(c,N),gn(H,c,N),Jv;Py(te)||Zp(),f=ay(c,f,m)}else Py(te)?(f.flags|=192,f.child=c.child,f=null):(c=pe.treeContext,Or=ss(te.nextSibling),_a=f,Yt=!0,po=null,as=!1,c!==null&&jk(f,c),f=ry(f,N.children),f.flags|=4096);return f}return C?(No(),te=N.fallback,C=f.mode,pe=c.child,Se=pe.sibling,N=bi(pe,{mode:"hidden",children:N.children}),N.subtreeFlags=pe.subtreeFlags&65011712,Se!==null?te=bi(Se,te):(te=yl(te,C,m,null),te.flags|=2),te.return=f,N.return=f,N.sibling=te,f.child=N,b0(null,N),N=f.child,te=c.child.memoizedState,te===null?te=ey(m):(C=te.cachePool,C!==null?(pe=Jr._currentValue,C=C.parent!==pe?{parent:pe,pool:pe}:C):C=Ok(),te={baseLanes:te.baseLanes|m,cachePool:C}),N.memoizedState=te,N.childLanes=ty(c,H,m),f.memoizedState=Zv,b0(c.child,N)):(yo(f),m=c.child,c=m.sibling,m=bi(m,{mode:"visible",children:N.children}),m.return=f,m.sibling=null,c!==null&&(H=f.deletions,H===null?(f.deletions=[c],f.flags|=16):H.push(c)),f.child=m,f.memoizedState=null,m)}function ry(c,f){return f=$p({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function $p(c,f){return c=Sn(22,c,null,f),c.lanes=0,c}function ay(c,f,m){return Sl(f,c.child,null,m),c=ry(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function $_(c,f,m){c.lanes|=f;var N=c.alternate;N!==null&&(N.lanes|=f),bv(c.return,f,m)}function ny(c,f,m,N,C,I){var H=c.memoizedState;H===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:N,tail:m,tailMode:C,treeForkCount:I}:(H.isBackwards=f,H.rendering=null,H.renderingStartTime=0,H.last=N,H.tail=m,H.tailMode=C,H.treeForkCount=I)}function G_(c,f,m){var N=f.pendingProps,C=N.revealOrder,I=N.tail;N=N.children;var H=Yr.current,te=(H&2)!==0;if(te?(H=H&1|2,f.flags|=128):H&=1,W(Yr,H),Oa(c,f,N,m),N=Yt?s0:0,!te&&c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&$_(c,m,f);else if(c.tag===19)$_(c,m,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(C){case"forwards":for(m=f.child,C=null;m!==null;)c=m.alternate,c!==null&&Dp(c)===null&&(C=m),m=m.sibling;m=C,m===null?(C=f.child,f.child=null):(C=m.sibling,m.sibling=null),ny(f,!1,C,m,I,N);break;case"backwards":case"unstable_legacy-backwards":for(m=null,C=f.child,f.child=null;C!==null;){if(c=C.alternate,c!==null&&Dp(c)===null){f.child=C;break}c=C.sibling,C.sibling=m,m=C,C=c}ny(f,!0,m,null,I,N);break;case"together":ny(f,!1,null,null,void 0,N);break;default:f.memoizedState=null}return f.child}function Ei(c,f,m){if(c!==null&&(f.dependencies=c.dependencies),Eo|=f.lanes,(m&f.childLanes)===0)if(c!==null){if(Yc(c,f,m,!1),(m&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(n(153));if(f.child!==null){for(c=f.child,m=bi(c,c.pendingProps),f.child=m,m.return=f;c.sibling!==null;)c=c.sibling,m=m.sibling=bi(c,c.pendingProps),m.return=f;m.sibling=null}return f.child}function sy(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&Ep(c)))}function Nq(c,f,m){switch(f.tag){case 3:me(f,f.stateNode.containerInfo),xo(f,Jr,c.memoizedState.cache),Nl();break;case 27:case 5:ge(f);break;case 4:me(f,f.stateNode.containerInfo);break;case 10:xo(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Cv(f),null;break;case 13:var N=f.memoizedState;if(N!==null)return N.dehydrated!==null?(yo(f),f.flags|=128,null):(m&f.child.childLanes)!==0?V_(c,f,m):(yo(f),c=Ei(c,f,m),c!==null?c.sibling:null);yo(f);break;case 19:var C=(c.flags&128)!==0;if(N=(m&f.childLanes)!==0,N||(Yc(c,f,m,!1),N=(m&f.childLanes)!==0),C){if(N)return G_(c,f,m);f.flags|=128}if(C=f.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),W(Yr,Yr.current),N)break;return null;case 22:return f.lanes=0,L_(c,f,m,f.pendingProps);case 24:xo(f,Jr,c.memoizedState.cache)}return Ei(c,f,m)}function H_(c,f,m){if(c!==null)if(c.memoizedProps!==f.pendingProps)Zr=!0;else{if(!sy(c,m)&&(f.flags&128)===0)return Zr=!1,Nq(c,f,m);Zr=(c.flags&131072)!==0}else Zr=!1,Yt&&(f.flags&1048576)!==0&&Ek(f,s0,f.index);switch(f.lanes=0,f.tag){case 16:e:{var N=f.pendingProps;if(c=jl(f.elementType),f.type=c,typeof c=="function")dv(c)?(N=_l(c,N),f.tag=1,f=z_(null,f,c,N,m)):(f.tag=0,f=Qv(null,f,c,N,m));else{if(c!=null){var C=c.$$typeof;if(C===j){f.tag=11,f=R_(null,f,c,N,m);break e}else if(C===O){f.tag=14,f=M_(null,f,c,N,m);break e}}throw f=X(c)||c,Error(n(306,f,""))}}return f;case 0:return Qv(c,f,f.type,f.pendingProps,m);case 1:return N=f.type,C=_l(N,f.pendingProps),z_(c,f,N,C,m);case 3:e:{if(me(f,f.stateNode.containerInfo),c===null)throw Error(n(387));N=f.pendingProps;var I=f.memoizedState;C=I.element,jv(c,f),h0(f,N,null,m);var H=f.memoizedState;if(N=H.cache,xo(f,Jr,N),N!==I.cache&&vv(f,[Jr],m,!0),f0(),N=H.element,I.isDehydrated)if(I={element:N,isDehydrated:!1,cache:H.cache},f.updateQueue.baseState=I,f.memoizedState=I,f.flags&256){f=q_(c,f,N,m);break e}else if(N!==C){C=es(Error(n(424)),f),i0(C),f=q_(c,f,N,m);break e}else{switch(c=f.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Or=ss(c.firstChild),_a=f,Yt=!0,po=null,as=!0,m=Lk(f,null,N,m),f.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Nl(),N===C){f=Ei(c,f,m);break e}Oa(c,f,N,m)}f=f.child}return f;case 26:return Vp(c,f),c===null?(m=aO(f.type,null,f.pendingProps,null))?f.memoizedState=m:Yt||(m=f.type,c=f.pendingProps,N=im(he.current).createElement(m),N[oe]=f,N[ce]=c,Da(N,m,c),it(N),f.stateNode=N):f.memoizedState=aO(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:return ge(f),c===null&&Yt&&(N=f.stateNode=eO(f.type,f.pendingProps,he.current),_a=f,as=!0,C=Or,_o(f.type)?(Uy=C,Or=ss(N.firstChild)):Or=C),Oa(c,f,f.pendingProps.children,m),Vp(c,f),c===null&&(f.flags|=4194304),f.child;case 5:return c===null&&Yt&&((C=N=Or)&&(N=Jq(N,f.type,f.pendingProps,as),N!==null?(f.stateNode=N,_a=f,Or=ss(N.firstChild),as=!1,C=!0):C=!1),C||mo(f)),ge(f),C=f.type,I=f.pendingProps,H=c!==null?c.memoizedProps:null,N=I.children,Iy(C,I)?N=null:H!==null&&Iy(C,H)&&(f.flags|=32),f.memoizedState!==null&&(C=Dv(c,f,fq,null,null,m),I0._currentValue=C),Vp(c,f),Oa(c,f,N,m),f.child;case 6:return c===null&&Yt&&((c=m=Or)&&(m=Qq(m,f.pendingProps,as),m!==null?(f.stateNode=m,_a=f,Or=null,c=!0):c=!1),c||mo(f)),null;case 13:return V_(c,f,m);case 4:return me(f,f.stateNode.containerInfo),N=f.pendingProps,c===null?f.child=Sl(f,null,N,m):Oa(c,f,N,m),f.child;case 11:return R_(c,f,f.type,f.pendingProps,m);case 7:return Oa(c,f,f.pendingProps,m),f.child;case 8:return Oa(c,f,f.pendingProps.children,m),f.child;case 12:return Oa(c,f,f.pendingProps.children,m),f.child;case 10:return N=f.pendingProps,xo(f,f.type,N.value),Oa(c,f,N.children,m),f.child;case 9:return C=f.type._context,N=f.pendingProps.children,Al(f),C=Ca(C),N=N(C),f.flags|=1,Oa(c,f,N,m),f.child;case 14:return M_(c,f,f.type,f.pendingProps,m);case 15:return P_(c,f,f.type,f.pendingProps,m);case 19:return G_(c,f,m);case 31:return yq(c,f,m);case 22:return L_(c,f,m,f.pendingProps);case 24:return Al(f),N=Ca(Jr),c===null?(C=wv(),C===null&&(C=yr,I=yv(),C.pooledCache=I,I.refCount++,I!==null&&(C.pooledCacheLanes|=m),C=I),f.memoizedState={parent:N,cache:C},Ev(f),xo(f,Jr,C)):((c.lanes&m)!==0&&(jv(c,f),h0(f,null,null,m),f0()),C=c.memoizedState,I=f.memoizedState,C.parent!==N?(C={parent:N,cache:N},f.memoizedState=C,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=C),xo(f,Jr,N)):(N=I.cache,xo(f,Jr,N),N!==C.cache&&vv(f,[Jr],m,!0))),Oa(c,f,f.pendingProps.children,m),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function ji(c){c.flags|=4}function iy(c,f,m,N,C){if((f=(c.mode&32)!==0)&&(f=!1),f){if(c.flags|=16777216,(C&335544128)===C)if(c.stateNode.complete)c.flags|=8192;else if(vC())c.flags|=8192;else throw Tl=kp,Av}else c.flags&=-16777217}function K_(c,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!lO(f))if(vC())c.flags|=8192;else throw Tl=kp,Av}function Gp(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?ip():536870912,c.lanes|=f,id|=f)}function v0(c,f){if(!Yt)switch(c.tailMode){case"hidden":f=c.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var N=null;m!==null;)m.alternate!==null&&(N=m),m=m.sibling;N===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:N.sibling=null}}function Dr(c){var f=c.alternate!==null&&c.alternate.child===c.child,m=0,N=0;if(f)for(var C=c.child;C!==null;)m|=C.lanes|C.childLanes,N|=C.subtreeFlags&65011712,N|=C.flags&65011712,C.return=c,C=C.sibling;else for(C=c.child;C!==null;)m|=C.lanes|C.childLanes,N|=C.subtreeFlags,N|=C.flags,C.return=c,C=C.sibling;return c.subtreeFlags|=N,c.childLanes=m,f}function wq(c,f,m){var N=f.pendingProps;switch(pv(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(f),null;case 1:return Dr(f),null;case 3:return m=f.stateNode,N=null,c!==null&&(N=c.memoizedState.cache),f.memoizedState.cache!==N&&(f.flags|=2048),Ni(Jr),re(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(c===null||c.child===null)&&(Kc(f)?ji(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,xv())),Dr(f),null;case 26:var C=f.type,I=f.memoizedState;return c===null?(ji(f),I!==null?(Dr(f),K_(f,I)):(Dr(f),iy(f,C,null,N,m))):I?I!==c.memoizedState?(ji(f),Dr(f),K_(f,I)):(Dr(f),f.flags&=-16777217):(c=c.memoizedProps,c!==N&&ji(f),Dr(f),iy(f,C,c,N,m)),null;case 27:if(Me(f),m=he.current,C=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==N&&ji(f);else{if(!N){if(f.stateNode===null)throw Error(n(166));return Dr(f),null}c=Q.current,Kc(f)?Tk(f):(c=eO(C,N,m),f.stateNode=c,ji(f))}return Dr(f),null;case 5:if(Me(f),C=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==N&&ji(f);else{if(!N){if(f.stateNode===null)throw Error(n(166));return Dr(f),null}if(I=Q.current,Kc(f))Tk(f);else{var H=im(he.current);switch(I){case 1:I=H.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:I=H.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":I=H.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":I=H.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":I=H.createElement("div"),I.innerHTML="<script><\/script>",I=I.removeChild(I.firstChild);break;case"select":I=typeof N.is=="string"?H.createElement("select",{is:N.is}):H.createElement("select"),N.multiple?I.multiple=!0:N.size&&(I.size=N.size);break;default:I=typeof N.is=="string"?H.createElement(C,{is:N.is}):H.createElement(C)}}I[oe]=f,I[ce]=N;e:for(H=f.child;H!==null;){if(H.tag===5||H.tag===6)I.appendChild(H.stateNode);else if(H.tag!==4&&H.tag!==27&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===f)break e;for(;H.sibling===null;){if(H.return===null||H.return===f)break e;H=H.return}H.sibling.return=H.return,H=H.sibling}f.stateNode=I;e:switch(Da(I,C,N),C){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}N&&ji(f)}}return Dr(f),iy(f,f.type,c===null?null:c.memoizedProps,f.pendingProps,m),null;case 6:if(c&&f.stateNode!=null)c.memoizedProps!==N&&ji(f);else{if(typeof N!="string"&&f.stateNode===null)throw Error(n(166));if(c=he.current,Kc(f)){if(c=f.stateNode,m=f.memoizedProps,N=null,C=_a,C!==null)switch(C.tag){case 27:case 5:N=C.memoizedProps}c[oe]=f,c=!!(c.nodeValue===m||N!==null&&N.suppressHydrationWarning===!0||VC(c.nodeValue,m)),c||mo(f,!0)}else c=im(c).createTextNode(N),c[oe]=f,f.stateNode=c}return Dr(f),null;case 31:if(m=f.memoizedState,c===null||c.memoizedState!==null){if(N=Kc(f),m!==null){if(c===null){if(!N)throw Error(n(318));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(557));c[oe]=f}else Nl(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Dr(f),c=!1}else m=xv(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=m),c=!0;if(!c)return f.flags&256?(_n(f),f):(_n(f),null);if((f.flags&128)!==0)throw Error(n(558))}return Dr(f),null;case 13:if(N=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(C=Kc(f),N!==null&&N.dehydrated!==null){if(c===null){if(!C)throw Error(n(318));if(C=f.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[oe]=f}else Nl(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Dr(f),C=!1}else C=xv(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=C),C=!0;if(!C)return f.flags&256?(_n(f),f):(_n(f),null)}return _n(f),(f.flags&128)!==0?(f.lanes=m,f):(m=N!==null,c=c!==null&&c.memoizedState!==null,m&&(N=f.child,C=null,N.alternate!==null&&N.alternate.memoizedState!==null&&N.alternate.memoizedState.cachePool!==null&&(C=N.alternate.memoizedState.cachePool.pool),I=null,N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(I=N.memoizedState.cachePool.pool),I!==C&&(N.flags|=2048)),m!==c&&m&&(f.child.flags|=8192),Gp(f,f.updateQueue),Dr(f),null);case 4:return re(),c===null&&ky(f.stateNode.containerInfo),Dr(f),null;case 10:return Ni(f.type),Dr(f),null;case 19:if(G(Yr),N=f.memoizedState,N===null)return Dr(f),null;if(C=(f.flags&128)!==0,I=N.rendering,I===null)if(C)v0(N,!1);else{if($r!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(I=Dp(c),I!==null){for(f.flags|=128,v0(N,!1),c=I.updateQueue,f.updateQueue=c,Gp(f,c),f.subtreeFlags=0,c=m,m=f.child;m!==null;)Nk(m,c),m=m.sibling;return W(Yr,Yr.current&1|2),Yt&&vi(f,N.treeForkCount),f.child}c=c.sibling}N.tail!==null&&qe()>Xp&&(f.flags|=128,C=!0,v0(N,!1),f.lanes=4194304)}else{if(!C)if(c=Dp(I),c!==null){if(f.flags|=128,C=!0,c=c.updateQueue,f.updateQueue=c,Gp(f,c),v0(N,!0),N.tail===null&&N.tailMode==="hidden"&&!I.alternate&&!Yt)return Dr(f),null}else 2*qe()-N.renderingStartTime>Xp&&m!==536870912&&(f.flags|=128,C=!0,v0(N,!1),f.lanes=4194304);N.isBackwards?(I.sibling=f.child,f.child=I):(c=N.last,c!==null?c.sibling=I:f.child=I,N.last=I)}return N.tail!==null?(c=N.tail,N.rendering=c,N.tail=c.sibling,N.renderingStartTime=qe(),c.sibling=null,m=Yr.current,W(Yr,C?m&1|2:m&1),Yt&&vi(f,N.treeForkCount),c):(Dr(f),null);case 22:case 23:return _n(f),_v(),N=f.memoizedState!==null,c!==null?c.memoizedState!==null!==N&&(f.flags|=8192):N&&(f.flags|=8192),N?(m&536870912)!==0&&(f.flags&128)===0&&(Dr(f),f.subtreeFlags&6&&(f.flags|=8192)):Dr(f),m=f.updateQueue,m!==null&&Gp(f,m.retryQueue),m=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),N=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(N=f.memoizedState.cachePool.pool),N!==m&&(f.flags|=2048),c!==null&&G(El),null;case 24:return m=null,c!==null&&(m=c.memoizedState.cache),f.memoizedState.cache!==m&&(f.flags|=2048),Ni(Jr),Dr(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function Aq(c,f){switch(pv(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Ni(Jr),re(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return Me(f),null;case 31:if(f.memoizedState!==null){if(_n(f),f.alternate===null)throw Error(n(340));Nl()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 13:if(_n(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Nl()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return G(Yr),null;case 4:return re(),null;case 10:return Ni(f.type),null;case 22:case 23:return _n(f),_v(),c!==null&&G(El),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return Ni(Jr),null;case 25:return null;default:return null}}function Y_(c,f){switch(pv(f),f.tag){case 3:Ni(Jr),re();break;case 26:case 27:case 5:Me(f);break;case 4:re();break;case 31:f.memoizedState!==null&&_n(f);break;case 13:_n(f);break;case 19:G(Yr);break;case 10:Ni(f.type);break;case 22:case 23:_n(f),_v(),c!==null&&G(El);break;case 24:Ni(Jr)}}function y0(c,f){try{var m=f.updateQueue,N=m!==null?m.lastEffect:null;if(N!==null){var C=N.next;m=C;do{if((m.tag&c)===c){N=void 0;var I=m.create,H=m.inst;N=I(),H.destroy=N}m=m.next}while(m!==C)}}catch(te){pr(f,f.return,te)}}function wo(c,f,m){try{var N=f.updateQueue,C=N!==null?N.lastEffect:null;if(C!==null){var I=C.next;N=I;do{if((N.tag&c)===c){var H=N.inst,te=H.destroy;if(te!==void 0){H.destroy=void 0,C=f;var pe=m,Se=te;try{Se()}catch(Pe){pr(C,pe,Pe)}}}N=N.next}while(N!==I)}}catch(Pe){pr(f,f.return,Pe)}}function W_(c){var f=c.updateQueue;if(f!==null){var m=c.stateNode;try{Fk(f,m)}catch(N){pr(c,c.return,N)}}}function X_(c,f,m){m.props=_l(c.type,c.memoizedProps),m.state=c.memoizedState;try{m.componentWillUnmount()}catch(N){pr(c,f,N)}}function N0(c,f){try{var m=c.ref;if(m!==null){switch(c.tag){case 26:case 27:case 5:var N=c.stateNode;break;case 30:N=c.stateNode;break;default:N=c.stateNode}typeof m=="function"?c.refCleanup=m(N):m.current=N}}catch(C){pr(c,f,C)}}function Ys(c,f){var m=c.ref,N=c.refCleanup;if(m!==null)if(typeof N=="function")try{N()}catch(C){pr(c,f,C)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(C){pr(c,f,C)}else m.current=null}function J_(c){var f=c.type,m=c.memoizedProps,N=c.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":m.autoFocus&&N.focus();break e;case"img":m.src?N.src=m.src:m.srcSet&&(N.srcset=m.srcSet)}}catch(C){pr(c,c.return,C)}}function oy(c,f,m){try{var N=c.stateNode;Gq(N,c.type,m,f),N[ce]=f}catch(C){pr(c,c.return,C)}}function Q_(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&_o(c.type)||c.tag===4}function ly(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Q_(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&_o(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function cy(c,f,m){var N=c.tag;if(N===5||N===6)c=c.stateNode,f?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(c,f):(f=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,f.appendChild(c),m=m._reactRootContainer,m!=null||f.onclick!==null||(f.onclick=xi));else if(N!==4&&(N===27&&_o(c.type)&&(m=c.stateNode,f=null),c=c.child,c!==null))for(cy(c,f,m),c=c.sibling;c!==null;)cy(c,f,m),c=c.sibling}function Hp(c,f,m){var N=c.tag;if(N===5||N===6)c=c.stateNode,f?m.insertBefore(c,f):m.appendChild(c);else if(N!==4&&(N===27&&_o(c.type)&&(m=c.stateNode),c=c.child,c!==null))for(Hp(c,f,m),c=c.sibling;c!==null;)Hp(c,f,m),c=c.sibling}function Z_(c){var f=c.stateNode,m=c.memoizedProps;try{for(var N=c.type,C=f.attributes;C.length;)f.removeAttributeNode(C[0]);Da(f,N,m),f[oe]=c,f[ce]=m}catch(I){pr(c,c.return,I)}}var Ti=!1,ea=!1,dy=!1,eC=typeof WeakSet=="function"?WeakSet:Set,ya=null;function Eq(c,f){if(c=c.containerInfo,Oy=hm,c=fk(c),av(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var N=m.getSelection&&m.getSelection();if(N&&N.rangeCount!==0){m=N.anchorNode;var C=N.anchorOffset,I=N.focusNode;N=N.focusOffset;try{m.nodeType,I.nodeType}catch{m=null;break e}var H=0,te=-1,pe=-1,Se=0,Pe=0,Be=c,De=null;t:for(;;){for(var Re;Be!==m||C!==0&&Be.nodeType!==3||(te=H+C),Be!==I||N!==0&&Be.nodeType!==3||(pe=H+N),Be.nodeType===3&&(H+=Be.nodeValue.length),(Re=Be.firstChild)!==null;)De=Be,Be=Re;for(;;){if(Be===c)break t;if(De===m&&++Se===C&&(te=H),De===I&&++Pe===N&&(pe=H),(Re=Be.nextSibling)!==null)break;Be=De,De=Be.parentNode}Be=Re}m=te===-1||pe===-1?null:{start:te,end:pe}}else m=null}m=m||{start:0,end:0}}else m=null;for(Dy={focusedElem:c,selectionRange:m},hm=!1,ya=f;ya!==null;)if(f=ya,c=f.child,(f.subtreeFlags&1028)!==0&&c!==null)c.return=f,ya=c;else for(;ya!==null;){switch(f=ya,I=f.alternate,c=f.flags,f.tag){case 0:if((c&4)!==0&&(c=f.updateQueue,c=c!==null?c.events:null,c!==null))for(m=0;m<c.length;m++)C=c[m],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&I!==null){c=void 0,m=f,C=I.memoizedProps,I=I.memoizedState,N=m.stateNode;try{var at=_l(m.type,C);c=N.getSnapshotBeforeUpdate(at,I),N.__reactInternalSnapshotBeforeUpdate=c}catch(xt){pr(m,m.return,xt)}}break;case 3:if((c&1024)!==0){if(c=f.stateNode.containerInfo,m=c.nodeType,m===9)My(c);else if(m===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":My(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=f.sibling,c!==null){c.return=f.return,ya=c;break}ya=f.return}}function tC(c,f,m){var N=m.flags;switch(m.tag){case 0:case 11:case 15:ki(c,m),N&4&&y0(5,m);break;case 1:if(ki(c,m),N&4)if(c=m.stateNode,f===null)try{c.componentDidMount()}catch(H){pr(m,m.return,H)}else{var C=_l(m.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(C,f,c.__reactInternalSnapshotBeforeUpdate)}catch(H){pr(m,m.return,H)}}N&64&&W_(m),N&512&&N0(m,m.return);break;case 3:if(ki(c,m),N&64&&(c=m.updateQueue,c!==null)){if(f=null,m.child!==null)switch(m.child.tag){case 27:case 5:f=m.child.stateNode;break;case 1:f=m.child.stateNode}try{Fk(c,f)}catch(H){pr(m,m.return,H)}}break;case 27:f===null&&N&4&&Z_(m);case 26:case 5:ki(c,m),f===null&&N&4&&J_(m),N&512&&N0(m,m.return);break;case 12:ki(c,m);break;case 31:ki(c,m),N&4&&nC(c,m);break;case 13:ki(c,m),N&4&&sC(c,m),N&64&&(c=m.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(m=Iq.bind(null,m),Zq(c,m))));break;case 22:if(N=m.memoizedState!==null||Ti,!N){f=f!==null&&f.memoizedState!==null||ea,C=Ti;var I=ea;Ti=N,(ea=f)&&!I?_i(c,m,(m.subtreeFlags&8772)!==0):ki(c,m),Ti=C,ea=I}break;case 30:break;default:ki(c,m)}}function rC(c){var f=c.alternate;f!==null&&(c.alternate=null,rC(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&He(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Lr=null,hn=!1;function Si(c,f,m){for(m=m.child;m!==null;)aC(c,f,m),m=m.sibling}function aC(c,f,m){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(jt,m)}catch{}switch(m.tag){case 26:ea||Ys(m,f),Si(c,f,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:ea||Ys(m,f);var N=Lr,C=hn;_o(m.type)&&(Lr=m.stateNode,hn=!1),Si(c,f,m),C0(m.stateNode),Lr=N,hn=C;break;case 5:ea||Ys(m,f);case 6:if(N=Lr,C=hn,Lr=null,Si(c,f,m),Lr=N,hn=C,Lr!==null)if(hn)try{(Lr.nodeType===9?Lr.body:Lr.nodeName==="HTML"?Lr.ownerDocument.body:Lr).removeChild(m.stateNode)}catch(I){pr(m,f,I)}else try{Lr.removeChild(m.stateNode)}catch(I){pr(m,f,I)}break;case 18:Lr!==null&&(hn?(c=Lr,WC(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,m.stateNode),pd(c)):WC(Lr,m.stateNode));break;case 4:N=Lr,C=hn,Lr=m.stateNode.containerInfo,hn=!0,Si(c,f,m),Lr=N,hn=C;break;case 0:case 11:case 14:case 15:wo(2,m,f),ea||wo(4,m,f),Si(c,f,m);break;case 1:ea||(Ys(m,f),N=m.stateNode,typeof N.componentWillUnmount=="function"&&X_(m,f,N)),Si(c,f,m);break;case 21:Si(c,f,m);break;case 22:ea=(N=ea)||m.memoizedState!==null,Si(c,f,m),ea=N;break;default:Si(c,f,m)}}function nC(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{pd(c)}catch(m){pr(f,f.return,m)}}}function sC(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{pd(c)}catch(m){pr(f,f.return,m)}}function jq(c){switch(c.tag){case 31:case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new eC),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new eC),f;default:throw Error(n(435,c.tag))}}function Kp(c,f){var m=jq(c);f.forEach(function(N){if(!m.has(N)){m.add(N);var C=Rq.bind(null,c,N);N.then(C,C)}})}function pn(c,f){var m=f.deletions;if(m!==null)for(var N=0;N<m.length;N++){var C=m[N],I=c,H=f,te=H;e:for(;te!==null;){switch(te.tag){case 27:if(_o(te.type)){Lr=te.stateNode,hn=!1;break e}break;case 5:Lr=te.stateNode,hn=!1;break e;case 3:case 4:Lr=te.stateNode.containerInfo,hn=!0;break e}te=te.return}if(Lr===null)throw Error(n(160));aC(I,H,C),Lr=null,hn=!1,I=C.alternate,I!==null&&(I.return=null),C.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)iC(f,c),f=f.sibling}var Es=null;function iC(c,f){var m=c.alternate,N=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:pn(f,c),mn(c),N&4&&(wo(3,c,c.return),y0(3,c),wo(5,c,c.return));break;case 1:pn(f,c),mn(c),N&512&&(ea||m===null||Ys(m,m.return)),N&64&&Ti&&(c=c.updateQueue,c!==null&&(N=c.callbacks,N!==null&&(m=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=m===null?N:m.concat(N))));break;case 26:var C=Es;if(pn(f,c),mn(c),N&512&&(ea||m===null||Ys(m,m.return)),N&4){var I=m!==null?m.memoizedState:null;if(N=c.memoizedState,m===null)if(N===null)if(c.stateNode===null){e:{N=c.type,m=c.memoizedProps,C=C.ownerDocument||C;t:switch(N){case"title":I=C.getElementsByTagName("title")[0],(!I||I[Ie]||I[oe]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=C.createElement(N),C.head.insertBefore(I,C.querySelector("head > title"))),Da(I,N,m),I[oe]=c,it(I),N=I;break e;case"link":var H=iO("link","href",C).get(N+(m.href||""));if(H){for(var te=0;te<H.length;te++)if(I=H[te],I.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&I.getAttribute("rel")===(m.rel==null?null:m.rel)&&I.getAttribute("title")===(m.title==null?null:m.title)&&I.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){H.splice(te,1);break t}}I=C.createElement(N),Da(I,N,m),C.head.appendChild(I);break;case"meta":if(H=iO("meta","content",C).get(N+(m.content||""))){for(te=0;te<H.length;te++)if(I=H[te],I.getAttribute("content")===(m.content==null?null:""+m.content)&&I.getAttribute("name")===(m.name==null?null:m.name)&&I.getAttribute("property")===(m.property==null?null:m.property)&&I.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&I.getAttribute("charset")===(m.charSet==null?null:m.charSet)){H.splice(te,1);break t}}I=C.createElement(N),Da(I,N,m),C.head.appendChild(I);break;default:throw Error(n(468,N))}I[oe]=c,it(I),N=I}c.stateNode=N}else oO(C,c.type,c.stateNode);else c.stateNode=sO(C,N,c.memoizedProps);else I!==N?(I===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):I.count--,N===null?oO(C,c.type,c.stateNode):sO(C,N,c.memoizedProps)):N===null&&c.stateNode!==null&&oy(c,c.memoizedProps,m.memoizedProps)}break;case 27:pn(f,c),mn(c),N&512&&(ea||m===null||Ys(m,m.return)),m!==null&&N&4&&oy(c,c.memoizedProps,m.memoizedProps);break;case 5:if(pn(f,c),mn(c),N&512&&(ea||m===null||Ys(m,m.return)),c.flags&32){C=c.stateNode;try{Lc(C,"")}catch(at){pr(c,c.return,at)}}N&4&&c.stateNode!=null&&(C=c.memoizedProps,oy(c,C,m!==null?m.memoizedProps:C)),N&1024&&(dy=!0);break;case 6:if(pn(f,c),mn(c),N&4){if(c.stateNode===null)throw Error(n(162));N=c.memoizedProps,m=c.stateNode;try{m.nodeValue=N}catch(at){pr(c,c.return,at)}}break;case 3:if(cm=null,C=Es,Es=om(f.containerInfo),pn(f,c),Es=C,mn(c),N&4&&m!==null&&m.memoizedState.isDehydrated)try{pd(f.containerInfo)}catch(at){pr(c,c.return,at)}dy&&(dy=!1,oC(c));break;case 4:N=Es,Es=om(c.stateNode.containerInfo),pn(f,c),mn(c),Es=N;break;case 12:pn(f,c),mn(c);break;case 31:pn(f,c),mn(c),N&4&&(N=c.updateQueue,N!==null&&(c.updateQueue=null,Kp(c,N)));break;case 13:pn(f,c),mn(c),c.child.flags&8192&&c.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Wp=qe()),N&4&&(N=c.updateQueue,N!==null&&(c.updateQueue=null,Kp(c,N)));break;case 22:C=c.memoizedState!==null;var pe=m!==null&&m.memoizedState!==null,Se=Ti,Pe=ea;if(Ti=Se||C,ea=Pe||pe,pn(f,c),ea=Pe,Ti=Se,mn(c),N&8192)e:for(f=c.stateNode,f._visibility=C?f._visibility&-2:f._visibility|1,C&&(m===null||pe||Ti||ea||Cl(c)),m=null,f=c;;){if(f.tag===5||f.tag===26){if(m===null){pe=m=f;try{if(I=pe.stateNode,C)H=I.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{te=pe.stateNode;var Be=pe.memoizedProps.style,De=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;te.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(at){pr(pe,pe.return,at)}}}else if(f.tag===6){if(m===null){pe=f;try{pe.stateNode.nodeValue=C?"":pe.memoizedProps}catch(at){pr(pe,pe.return,at)}}}else if(f.tag===18){if(m===null){pe=f;try{var Re=pe.stateNode;C?XC(Re,!0):XC(pe.stateNode,!1)}catch(at){pr(pe,pe.return,at)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}N&4&&(N=c.updateQueue,N!==null&&(m=N.retryQueue,m!==null&&(N.retryQueue=null,Kp(c,m))));break;case 19:pn(f,c),mn(c),N&4&&(N=c.updateQueue,N!==null&&(c.updateQueue=null,Kp(c,N)));break;case 30:break;case 21:break;default:pn(f,c),mn(c)}}function mn(c){var f=c.flags;if(f&2){try{for(var m,N=c.return;N!==null;){if(Q_(N)){m=N;break}N=N.return}if(m==null)throw Error(n(160));switch(m.tag){case 27:var C=m.stateNode,I=ly(c);Hp(c,I,C);break;case 5:var H=m.stateNode;m.flags&32&&(Lc(H,""),m.flags&=-33);var te=ly(c);Hp(c,te,H);break;case 3:case 4:var pe=m.stateNode.containerInfo,Se=ly(c);cy(c,Se,pe);break;default:throw Error(n(161))}}catch(Pe){pr(c,c.return,Pe)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function oC(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;oC(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),c=c.sibling}}function ki(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)tC(c,f.alternate,f),f=f.sibling}function Cl(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:wo(4,f,f.return),Cl(f);break;case 1:Ys(f,f.return);var m=f.stateNode;typeof m.componentWillUnmount=="function"&&X_(f,f.return,m),Cl(f);break;case 27:C0(f.stateNode);case 26:case 5:Ys(f,f.return),Cl(f);break;case 22:f.memoizedState===null&&Cl(f);break;case 30:Cl(f);break;default:Cl(f)}c=c.sibling}}function _i(c,f,m){for(m=m&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var N=f.alternate,C=c,I=f,H=I.flags;switch(I.tag){case 0:case 11:case 15:_i(C,I,m),y0(4,I);break;case 1:if(_i(C,I,m),N=I,C=N.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(Se){pr(N,N.return,Se)}if(N=I,C=N.updateQueue,C!==null){var te=N.stateNode;try{var pe=C.shared.hiddenCallbacks;if(pe!==null)for(C.shared.hiddenCallbacks=null,C=0;C<pe.length;C++)Uk(pe[C],te)}catch(Se){pr(N,N.return,Se)}}m&&H&64&&W_(I),N0(I,I.return);break;case 27:Z_(I);case 26:case 5:_i(C,I,m),m&&N===null&&H&4&&J_(I),N0(I,I.return);break;case 12:_i(C,I,m);break;case 31:_i(C,I,m),m&&H&4&&nC(C,I);break;case 13:_i(C,I,m),m&&H&4&&sC(C,I);break;case 22:I.memoizedState===null&&_i(C,I,m),N0(I,I.return);break;case 30:break;default:_i(C,I,m)}f=f.sibling}}function uy(c,f){var m=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==m&&(c!=null&&c.refCount++,m!=null&&o0(m))}function fy(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&o0(c))}function js(c,f,m,N){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)lC(c,f,m,N),f=f.sibling}function lC(c,f,m,N){var C=f.flags;switch(f.tag){case 0:case 11:case 15:js(c,f,m,N),C&2048&&y0(9,f);break;case 1:js(c,f,m,N);break;case 3:js(c,f,m,N),C&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&o0(c)));break;case 12:if(C&2048){js(c,f,m,N),c=f.stateNode;try{var I=f.memoizedProps,H=I.id,te=I.onPostCommit;typeof te=="function"&&te(H,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(pe){pr(f,f.return,pe)}}else js(c,f,m,N);break;case 31:js(c,f,m,N);break;case 13:js(c,f,m,N);break;case 23:break;case 22:I=f.stateNode,H=f.alternate,f.memoizedState!==null?I._visibility&2?js(c,f,m,N):w0(c,f):I._visibility&2?js(c,f,m,N):(I._visibility|=2,ad(c,f,m,N,(f.subtreeFlags&10256)!==0||!1)),C&2048&&uy(H,f);break;case 24:js(c,f,m,N),C&2048&&fy(f.alternate,f);break;default:js(c,f,m,N)}}function ad(c,f,m,N,C){for(C=C&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var I=c,H=f,te=m,pe=N,Se=H.flags;switch(H.tag){case 0:case 11:case 15:ad(I,H,te,pe,C),y0(8,H);break;case 23:break;case 22:var Pe=H.stateNode;H.memoizedState!==null?Pe._visibility&2?ad(I,H,te,pe,C):w0(I,H):(Pe._visibility|=2,ad(I,H,te,pe,C)),C&&Se&2048&&uy(H.alternate,H);break;case 24:ad(I,H,te,pe,C),C&&Se&2048&&fy(H.alternate,H);break;default:ad(I,H,te,pe,C)}f=f.sibling}}function w0(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var m=c,N=f,C=N.flags;switch(N.tag){case 22:w0(m,N),C&2048&&uy(N.alternate,N);break;case 24:w0(m,N),C&2048&&fy(N.alternate,N);break;default:w0(m,N)}f=f.sibling}}var A0=8192;function nd(c,f,m){if(c.subtreeFlags&A0)for(c=c.child;c!==null;)cC(c,f,m),c=c.sibling}function cC(c,f,m){switch(c.tag){case 26:nd(c,f,m),c.flags&A0&&c.memoizedState!==null&&uV(m,Es,c.memoizedState,c.memoizedProps);break;case 5:nd(c,f,m);break;case 3:case 4:var N=Es;Es=om(c.stateNode.containerInfo),nd(c,f,m),Es=N;break;case 22:c.memoizedState===null&&(N=c.alternate,N!==null&&N.memoizedState!==null?(N=A0,A0=16777216,nd(c,f,m),A0=N):nd(c,f,m));break;default:nd(c,f,m)}}function dC(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function E0(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var m=0;m<f.length;m++){var N=f[m];ya=N,fC(N,c)}dC(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)uC(c),c=c.sibling}function uC(c){switch(c.tag){case 0:case 11:case 15:E0(c),c.flags&2048&&wo(9,c,c.return);break;case 3:E0(c);break;case 12:E0(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&2&&(c.return===null||c.return.tag!==13)?(f._visibility&=-3,Yp(c)):E0(c);break;default:E0(c)}}function Yp(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var m=0;m<f.length;m++){var N=f[m];ya=N,fC(N,c)}dC(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:wo(8,f,f.return),Yp(f);break;case 22:m=f.stateNode,m._visibility&2&&(m._visibility&=-3,Yp(f));break;default:Yp(f)}c=c.sibling}}function fC(c,f){for(;ya!==null;){var m=ya;switch(m.tag){case 0:case 11:case 15:wo(8,m,f);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var N=m.memoizedState.cachePool.pool;N!=null&&N.refCount++}break;case 24:o0(m.memoizedState.cache)}if(N=m.child,N!==null)N.return=m,ya=N;else e:for(m=c;ya!==null;){N=ya;var C=N.sibling,I=N.return;if(rC(N),N===m){ya=null;break e}if(C!==null){C.return=I,ya=C;break e}ya=I}}}var Tq={getCacheForType:function(c){var f=Ca(Jr),m=f.data.get(c);return m===void 0&&(m=c(),f.data.set(c,m)),m},cacheSignal:function(){return Ca(Jr).controller.signal}},Sq=typeof WeakMap=="function"?WeakMap:Map,lr=0,yr=null,Vt=null,Gt=0,hr=0,Cn=null,Ao=!1,sd=!1,hy=!1,Ci=0,$r=0,Eo=0,Ol=0,py=0,On=0,id=0,j0=null,xn=null,my=!1,Wp=0,hC=0,Xp=1/0,Jp=null,jo=null,ca=0,To=null,od=null,Oi=0,xy=0,gy=null,pC=null,T0=0,by=null;function Dn(){return(lr&2)!==0&&Gt!==0?Gt&-Gt:U.T!==null?Ey():Z()}function mC(){if(On===0)if((Gt&536870912)===0||Yt){var c=ws;ws<<=1,(ws&3932160)===0&&(ws=262144),On=c}else On=536870912;return c=kn.current,c!==null&&(c.flags|=32),On}function gn(c,f,m){(c===yr&&(hr===2||hr===9)||c.cancelPendingCommit!==null)&&(ld(c,0),So(c,Gt,On,!1)),pl(c,m),((lr&2)===0||c!==yr)&&(c===yr&&((lr&2)===0&&(Ol|=m),$r===4&&So(c,Gt,On,!1)),Ws(c))}function xC(c,f,m){if((lr&6)!==0)throw Error(n(327));var N=!m&&(f&127)===0&&(f&c.expiredLanes)===0||hl(c,f),C=N?Cq(c,f):yy(c,f,!0),I=N;do{if(C===0){sd&&!N&&So(c,f,0,!1);break}else{if(m=c.current.alternate,I&&!kq(m)){C=yy(c,f,!1),I=!1;continue}if(C===2){if(I=f,c.errorRecoveryDisabledLanes&I)var H=0;else H=c.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){f=H;e:{var te=c;C=j0;var pe=te.current.memoizedState.isDehydrated;if(pe&&(ld(te,H).flags|=256),H=yy(te,H,!1),H!==2){if(hy&&!pe){te.errorRecoveryDisabledLanes|=I,Ol|=I,C=4;break e}I=xn,xn=C,I!==null&&(xn===null?xn=I:xn.push.apply(xn,I))}C=H}if(I=!1,C!==2)continue}}if(C===1){ld(c,0),So(c,f,0,!0);break}e:{switch(N=c,I=C,I){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:So(N,f,On,!Ao);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(C=Wp+300-qe(),10<C)){if(So(N,f,On,!Ao),Rc(N,0,!0)!==0)break e;Oi=f,N.timeoutHandle=KC(gC.bind(null,N,m,xn,Jp,my,f,On,Ol,id,Ao,I,"Throttled",-0,0),C);break e}gC(N,m,xn,Jp,my,f,On,Ol,id,Ao,I,null,-0,0)}}break}while(!0);Ws(c)}function gC(c,f,m,N,C,I,H,te,pe,Se,Pe,Be,De,Re){if(c.timeoutHandle=-1,Be=f.subtreeFlags,Be&8192||(Be&16785408)===16785408){Be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},cC(f,I,Be);var at=(I&62914560)===I?Wp-qe():(I&4194048)===I?hC-qe():0;if(at=fV(Be,at),at!==null){Oi=I,c.cancelPendingCommit=at(jC.bind(null,c,f,I,m,N,C,H,te,pe,Pe,Be,null,De,Re)),So(c,I,H,!Se);return}}jC(c,f,I,m,N,C,H,te,pe)}function kq(c){for(var f=c;;){var m=f.tag;if((m===0||m===11||m===15)&&f.flags&16384&&(m=f.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var N=0;N<m.length;N++){var C=m[N],I=C.getSnapshot;C=C.value;try{if(!Tn(I(),C))return!1}catch{return!1}}if(m=f.child,f.subtreeFlags&16384&&m!==null)m.return=f,f=m;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function So(c,f,m,N){f&=~py,f&=~Ol,c.suspendedLanes|=f,c.pingedLanes&=~f,N&&(c.warmLanes|=f),N=c.expirationTimes;for(var C=f;0<C;){var I=31-zr(C),H=1<<I;N[I]=-1,C&=~H}m!==0&&op(c,m,f)}function Qp(){return(lr&6)===0?(S0(0),!1):!0}function vy(){if(Vt!==null){if(hr===0)var c=Vt.return;else c=Vt,yi=wl=null,Mv(c),Qc=null,c0=0,c=Vt;for(;c!==null;)Y_(c.alternate,c),c=c.return;Vt=null}}function ld(c,f){var m=c.timeoutHandle;m!==-1&&(c.timeoutHandle=-1,Yq(m)),m=c.cancelPendingCommit,m!==null&&(c.cancelPendingCommit=null,m()),Oi=0,vy(),yr=c,Vt=m=bi(c.current,null),Gt=f,hr=0,Cn=null,Ao=!1,sd=hl(c,f),hy=!1,id=On=py=Ol=Eo=$r=0,xn=j0=null,my=!1,(f&8)!==0&&(f|=f&32);var N=c.entangledLanes;if(N!==0)for(c=c.entanglements,N&=f;0<N;){var C=31-zr(N),I=1<<C;f|=c[C],N&=~I}return Ci=f,vp(),m}function bC(c,f){Rt=null,U.H=g0,f===Jc||f===Sp?(f=Rk(),hr=3):f===Av?(f=Rk(),hr=4):hr=f===Jv?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Cn=f,Vt===null&&($r=1,zp(c,es(f,c.current)))}function vC(){var c=kn.current;return c===null?!0:(Gt&4194048)===Gt?ns===null:(Gt&62914560)===Gt||(Gt&536870912)!==0?c===ns:!1}function yC(){var c=U.H;return U.H=g0,c===null?g0:c}function NC(){var c=U.A;return U.A=Tq,c}function Zp(){$r=4,Ao||(Gt&4194048)!==Gt&&kn.current!==null||(sd=!0),(Eo&134217727)===0&&(Ol&134217727)===0||yr===null||So(yr,Gt,On,!1)}function yy(c,f,m){var N=lr;lr|=2;var C=yC(),I=NC();(yr!==c||Gt!==f)&&(Jp=null,ld(c,f)),f=!1;var H=$r;e:do try{if(hr!==0&&Vt!==null){var te=Vt,pe=Cn;switch(hr){case 8:vy(),H=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(f=!0);var Se=hr;if(hr=0,Cn=null,cd(c,te,pe,Se),m&&sd){H=0;break e}break;default:Se=hr,hr=0,Cn=null,cd(c,te,pe,Se)}}_q(),H=$r;break}catch(Pe){bC(c,Pe)}while(!0);return f&&c.shellSuspendCounter++,yi=wl=null,lr=N,U.H=C,U.A=I,Vt===null&&(yr=null,Gt=0,vp()),H}function _q(){for(;Vt!==null;)wC(Vt)}function Cq(c,f){var m=lr;lr|=2;var N=yC(),C=NC();yr!==c||Gt!==f?(Jp=null,Xp=qe()+500,ld(c,f)):sd=hl(c,f);e:do try{if(hr!==0&&Vt!==null){f=Vt;var I=Cn;t:switch(hr){case 1:hr=0,Cn=null,cd(c,f,I,1);break;case 2:case 9:if(Dk(I)){hr=0,Cn=null,AC(f);break}f=function(){hr!==2&&hr!==9||yr!==c||(hr=7),Ws(c)},I.then(f,f);break e;case 3:hr=7;break e;case 4:hr=5;break e;case 7:Dk(I)?(hr=0,Cn=null,AC(f)):(hr=0,Cn=null,cd(c,f,I,7));break;case 5:var H=null;switch(Vt.tag){case 26:H=Vt.memoizedState;case 5:case 27:var te=Vt;if(H?lO(H):te.stateNode.complete){hr=0,Cn=null;var pe=te.sibling;if(pe!==null)Vt=pe;else{var Se=te.return;Se!==null?(Vt=Se,em(Se)):Vt=null}break t}}hr=0,Cn=null,cd(c,f,I,5);break;case 6:hr=0,Cn=null,cd(c,f,I,6);break;case 8:vy(),$r=6;break e;default:throw Error(n(462))}}Oq();break}catch(Pe){bC(c,Pe)}while(!0);return yi=wl=null,U.H=N,U.A=C,lr=m,Vt!==null?0:(yr=null,Gt=0,vp(),$r)}function Oq(){for(;Vt!==null&&!ze();)wC(Vt)}function wC(c){var f=H_(c.alternate,c,Ci);c.memoizedProps=c.pendingProps,f===null?em(c):Vt=f}function AC(c){var f=c,m=f.alternate;switch(f.tag){case 15:case 0:f=B_(m,f,f.pendingProps,f.type,void 0,Gt);break;case 11:f=B_(m,f,f.pendingProps,f.type.render,f.ref,Gt);break;case 5:Mv(f);default:Y_(m,f),f=Vt=Nk(f,Ci),f=H_(m,f,Ci)}c.memoizedProps=c.pendingProps,f===null?em(c):Vt=f}function cd(c,f,m,N){yi=wl=null,Mv(f),Qc=null,c0=0;var C=f.return;try{if(vq(c,C,f,m,Gt)){$r=1,zp(c,es(m,c.current)),Vt=null;return}}catch(I){if(C!==null)throw Vt=C,I;$r=1,zp(c,es(m,c.current)),Vt=null;return}f.flags&32768?(Yt||N===1?c=!0:sd||(Gt&536870912)!==0?c=!1:(Ao=c=!0,(N===2||N===9||N===3||N===6)&&(N=kn.current,N!==null&&N.tag===13&&(N.flags|=16384))),EC(f,c)):em(f)}function em(c){var f=c;do{if((f.flags&32768)!==0){EC(f,Ao);return}c=f.return;var m=wq(f.alternate,f,Ci);if(m!==null){Vt=m;return}if(f=f.sibling,f!==null){Vt=f;return}Vt=f=c}while(f!==null);$r===0&&($r=5)}function EC(c,f){do{var m=Aq(c.alternate,c);if(m!==null){m.flags&=32767,Vt=m;return}if(m=c.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!f&&(c=c.sibling,c!==null)){Vt=c;return}Vt=c=m}while(c!==null);$r=6,Vt=null}function jC(c,f,m,N,C,I,H,te,pe){c.cancelPendingCommit=null;do tm();while(ca!==0);if((lr&6)!==0)throw Error(n(327));if(f!==null){if(f===c.current)throw Error(n(177));if(I=f.lanes|f.childLanes,I|=lv,Bb(c,m,I,H,te,pe),c===yr&&(Vt=yr=null,Gt=0),od=f,To=c,Oi=m,xy=I,gy=C,pC=N,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,Mq(nt,function(){return CC(),null})):(c.callbackNode=null,c.callbackPriority=0),N=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||N){N=U.T,U.T=null,C=z.p,z.p=2,H=lr,lr|=4;try{Eq(c,f,m)}finally{lr=H,z.p=C,U.T=N}}ca=1,TC(),SC(),kC()}}function TC(){if(ca===1){ca=0;var c=To,f=od,m=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||m){m=U.T,U.T=null;var N=z.p;z.p=2;var C=lr;lr|=4;try{iC(f,c);var I=Dy,H=fk(c.containerInfo),te=I.focusedElem,pe=I.selectionRange;if(H!==te&&te&&te.ownerDocument&&uk(te.ownerDocument.documentElement,te)){if(pe!==null&&av(te)){var Se=pe.start,Pe=pe.end;if(Pe===void 0&&(Pe=Se),"selectionStart"in te)te.selectionStart=Se,te.selectionEnd=Math.min(Pe,te.value.length);else{var Be=te.ownerDocument||document,De=Be&&Be.defaultView||window;if(De.getSelection){var Re=De.getSelection(),at=te.textContent.length,xt=Math.min(pe.start,at),br=pe.end===void 0?xt:Math.min(pe.end,at);!Re.extend&&xt>br&&(H=br,br=xt,xt=H);var Ne=dk(te,xt),be=dk(te,br);if(Ne&&be&&(Re.rangeCount!==1||Re.anchorNode!==Ne.node||Re.anchorOffset!==Ne.offset||Re.focusNode!==be.node||Re.focusOffset!==be.offset)){var Te=Be.createRange();Te.setStart(Ne.node,Ne.offset),Re.removeAllRanges(),xt>br?(Re.addRange(Te),Re.extend(be.node,be.offset)):(Te.setEnd(be.node,be.offset),Re.addRange(Te))}}}}for(Be=[],Re=te;Re=Re.parentNode;)Re.nodeType===1&&Be.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof te.focus=="function"&&te.focus(),te=0;te<Be.length;te++){var Fe=Be[te];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}hm=!!Oy,Dy=Oy=null}finally{lr=C,z.p=N,U.T=m}}c.current=f,ca=2}}function SC(){if(ca===2){ca=0;var c=To,f=od,m=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||m){m=U.T,U.T=null;var N=z.p;z.p=2;var C=lr;lr|=4;try{tC(c,f.alternate,f)}finally{lr=C,z.p=N,U.T=m}}ca=3}}function kC(){if(ca===4||ca===3){ca=0,Ye();var c=To,f=od,m=Oi,N=pC;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?ca=5:(ca=0,od=To=null,_C(c,c.pendingLanes));var C=c.pendingLanes;if(C===0&&(jo=null),Yu(m),f=f.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(jt,f,void 0,(f.current.flags&128)===128)}catch{}if(N!==null){f=U.T,C=z.p,z.p=2,U.T=null;try{for(var I=c.onRecoverableError,H=0;H<N.length;H++){var te=N[H];I(te.value,{componentStack:te.stack})}}finally{U.T=f,z.p=C}}(Oi&3)!==0&&tm(),Ws(c),C=c.pendingLanes,(m&261930)!==0&&(C&42)!==0?c===by?T0++:(T0=0,by=c):T0=0,S0(0)}}function _C(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,o0(f)))}function tm(){return TC(),SC(),kC(),CC()}function CC(){if(ca!==5)return!1;var c=To,f=xy;xy=0;var m=Yu(Oi),N=U.T,C=z.p;try{z.p=32>m?32:m,U.T=null,m=gy,gy=null;var I=To,H=Oi;if(ca=0,od=To=null,Oi=0,(lr&6)!==0)throw Error(n(331));var te=lr;if(lr|=4,uC(I.current),lC(I,I.current,H,m),lr=te,S0(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(jt,I)}catch{}return!0}finally{z.p=C,U.T=N,_C(c,f)}}function OC(c,f,m){f=es(m,f),f=Xv(c.stateNode,f,2),c=vo(c,f,2),c!==null&&(pl(c,2),Ws(c))}function pr(c,f,m){if(c.tag===3)OC(c,c,m);else for(;f!==null;){if(f.tag===3){OC(f,c,m);break}else if(f.tag===1){var N=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(jo===null||!jo.has(N))){c=es(m,c),m=D_(2),N=vo(f,m,2),N!==null&&(I_(m,N,f,c),pl(N,2),Ws(N));break}}f=f.return}}function Ny(c,f,m){var N=c.pingCache;if(N===null){N=c.pingCache=new Sq;var C=new Set;N.set(f,C)}else C=N.get(f),C===void 0&&(C=new Set,N.set(f,C));C.has(m)||(hy=!0,C.add(m),c=Dq.bind(null,c,f,m),f.then(c,c))}function Dq(c,f,m){var N=c.pingCache;N!==null&&N.delete(f),c.pingedLanes|=c.suspendedLanes&m,c.warmLanes&=~m,yr===c&&(Gt&m)===m&&($r===4||$r===3&&(Gt&62914560)===Gt&&300>qe()-Wp?(lr&2)===0&&ld(c,0):py|=m,id===Gt&&(id=0)),Ws(c)}function DC(c,f){f===0&&(f=ip()),c=vl(c,f),c!==null&&(pl(c,f),Ws(c))}function Iq(c){var f=c.memoizedState,m=0;f!==null&&(m=f.retryLane),DC(c,m)}function Rq(c,f){var m=0;switch(c.tag){case 31:case 13:var N=c.stateNode,C=c.memoizedState;C!==null&&(m=C.retryLane);break;case 19:N=c.stateNode;break;case 22:N=c.stateNode._retryCache;break;default:throw Error(n(314))}N!==null&&N.delete(f),DC(c,m)}function Mq(c,f){return Ue(c,f)}var rm=null,dd=null,wy=!1,am=!1,Ay=!1,ko=0;function Ws(c){c!==dd&&c.next===null&&(dd===null?rm=dd=c:dd=dd.next=c),am=!0,wy||(wy=!0,Lq())}function S0(c,f){if(!Ay&&am){Ay=!0;do for(var m=!1,N=rm;N!==null;){if(c!==0){var C=N.pendingLanes;if(C===0)var I=0;else{var H=N.suspendedLanes,te=N.pingedLanes;I=(1<<31-zr(42|c)+1)-1,I&=C&~(H&~te),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(m=!0,PC(N,I))}else I=Gt,I=Rc(N,N===yr?I:0,N.cancelPendingCommit!==null||N.timeoutHandle!==-1),(I&3)===0||hl(N,I)||(m=!0,PC(N,I));N=N.next}while(m);Ay=!1}}function Pq(){IC()}function IC(){am=wy=!1;var c=0;ko!==0&&Kq()&&(c=ko);for(var f=qe(),m=null,N=rm;N!==null;){var C=N.next,I=RC(N,f);I===0?(N.next=null,m===null?rm=C:m.next=C,C===null&&(dd=m)):(m=N,(c!==0||(I&3)!==0)&&(am=!0)),N=C}ca!==0&&ca!==5||S0(c),ko!==0&&(ko=0)}function RC(c,f){for(var m=c.suspendedLanes,N=c.pingedLanes,C=c.expirationTimes,I=c.pendingLanes&-62914561;0<I;){var H=31-zr(I),te=1<<H,pe=C[H];pe===-1?((te&m)===0||(te&N)!==0)&&(C[H]=Fb(te,f)):pe<=f&&(c.expiredLanes|=te),I&=~te}if(f=yr,m=Gt,m=Rc(c,c===f?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),N=c.callbackNode,m===0||c===f&&(hr===2||hr===9)||c.cancelPendingCommit!==null)return N!==null&&N!==null&&le(N),c.callbackNode=null,c.callbackPriority=0;if((m&3)===0||hl(c,m)){if(f=m&-m,f===c.callbackPriority)return f;switch(N!==null&&le(N),Yu(m)){case 2:case 8:m=ht;break;case 32:m=nt;break;case 268435456:m=ut;break;default:m=nt}return N=MC.bind(null,c),m=Ue(m,N),c.callbackPriority=f,c.callbackNode=m,f}return N!==null&&N!==null&&le(N),c.callbackPriority=2,c.callbackNode=null,2}function MC(c,f){if(ca!==0&&ca!==5)return c.callbackNode=null,c.callbackPriority=0,null;var m=c.callbackNode;if(tm()&&c.callbackNode!==m)return null;var N=Gt;return N=Rc(c,c===yr?N:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),N===0?null:(xC(c,N,f),RC(c,qe()),c.callbackNode!=null&&c.callbackNode===m?MC.bind(null,c):null)}function PC(c,f){if(tm())return null;xC(c,f,!0)}function Lq(){Wq(function(){(lr&6)!==0?Ue(gt,Pq):IC()})}function Ey(){if(ko===0){var c=Wc;c===0&&(c=$s,$s<<=1,($s&261888)===0&&($s=256)),ko=c}return ko}function LC(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:up(""+c)}function UC(c,f){var m=f.ownerDocument.createElement("input");return m.name=f.name,m.value=f.value,c.id&&m.setAttribute("form",c.id),f.parentNode.insertBefore(m,f),c=new FormData(c),m.parentNode.removeChild(m),c}function Uq(c,f,m,N,C){if(f==="submit"&&m&&m.stateNode===C){var I=LC((C[ce]||null).action),H=N.submitter;H&&(f=(f=H[ce]||null)?LC(f.formAction):H.getAttribute("formAction"),f!==null&&(I=f,H=null));var te=new mp("action","action",null,N,C);c.push({event:te,listeners:[{instance:null,listener:function(){if(N.defaultPrevented){if(ko!==0){var pe=H?UC(C,H):new FormData(C);$v(m,{pending:!0,data:pe,method:C.method,action:I},null,pe)}}else typeof I=="function"&&(te.preventDefault(),pe=H?UC(C,H):new FormData(C),$v(m,{pending:!0,data:pe,method:C.method,action:I},I,pe))},currentTarget:C}]})}}for(var jy=0;jy<ov.length;jy++){var Ty=ov[jy],Fq=Ty.toLowerCase(),Bq=Ty[0].toUpperCase()+Ty.slice(1);As(Fq,"on"+Bq)}As(mk,"onAnimationEnd"),As(xk,"onAnimationIteration"),As(gk,"onAnimationStart"),As("dblclick","onDoubleClick"),As("focusin","onFocus"),As("focusout","onBlur"),As(rq,"onTransitionRun"),As(aq,"onTransitionStart"),As(nq,"onTransitionCancel"),As(bk,"onTransitionEnd"),Xn("onMouseEnter",["mouseout","mouseover"]),Xn("onMouseLeave",["mouseout","mouseover"]),Xn("onPointerEnter",["pointerout","pointerover"]),Xn("onPointerLeave",["pointerout","pointerover"]),Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var k0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(k0));function FC(c,f){f=(f&4)!==0;for(var m=0;m<c.length;m++){var N=c[m],C=N.event;N=N.listeners;e:{var I=void 0;if(f)for(var H=N.length-1;0<=H;H--){var te=N[H],pe=te.instance,Se=te.currentTarget;if(te=te.listener,pe!==I&&C.isPropagationStopped())break e;I=te,C.currentTarget=Se;try{I(C)}catch(Pe){bp(Pe)}C.currentTarget=null,I=pe}else for(H=0;H<N.length;H++){if(te=N[H],pe=te.instance,Se=te.currentTarget,te=te.listener,pe!==I&&C.isPropagationStopped())break e;I=te,C.currentTarget=Se;try{I(C)}catch(Pe){bp(Pe)}C.currentTarget=null,I=pe}}}}function $t(c,f){var m=f[ke];m===void 0&&(m=f[ke]=new Set);var N=c+"__bubble";m.has(N)||(BC(f,c,2,!1),m.add(N))}function Sy(c,f,m){var N=0;f&&(N|=4),BC(m,c,N,f)}var nm="_reactListening"+Math.random().toString(36).slice(2);function ky(c){if(!c[nm]){c[nm]=!0,wr.forEach(function(m){m!=="selectionchange"&&(zq.has(m)||Sy(m,!1,c),Sy(m,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[nm]||(f[nm]=!0,Sy("selectionchange",!1,f))}}function BC(c,f,m,N){switch(mO(f)){case 2:var C=mV;break;case 8:C=xV;break;default:C=Vy}m=C.bind(null,f,m,c),C=void 0,!Yb||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(C=!0),N?C!==void 0?c.addEventListener(f,m,{capture:!0,passive:C}):c.addEventListener(f,m,!0):C!==void 0?c.addEventListener(f,m,{passive:C}):c.addEventListener(f,m,!1)}function _y(c,f,m,N,C){var I=N;if((f&1)===0&&(f&2)===0&&N!==null)e:for(;;){if(N===null)return;var H=N.tag;if(H===3||H===4){var te=N.stateNode.containerInfo;if(te===C)break;if(H===4)for(H=N.return;H!==null;){var pe=H.tag;if((pe===3||pe===4)&&H.stateNode.containerInfo===C)return;H=H.return}for(;te!==null;){if(H=Xe(te),H===null)return;if(pe=H.tag,pe===5||pe===6||pe===26||pe===27){N=I=H;continue e}te=te.parentNode}}N=N.return}GS(function(){var Se=I,Pe=Hb(m),Be=[];e:{var De=vk.get(c);if(De!==void 0){var Re=mp,at=c;switch(c){case"keypress":if(hp(m)===0)break e;case"keydown":case"keyup":Re=Rz;break;case"focusin":at="focus",Re=Qb;break;case"focusout":at="blur",Re=Qb;break;case"beforeblur":case"afterblur":Re=Qb;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=YS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=wz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=Lz;break;case mk:case xk:case gk:Re=jz;break;case bk:Re=Fz;break;case"scroll":case"scrollend":Re=yz;break;case"wheel":Re=zz;break;case"copy":case"cut":case"paste":Re=Sz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=XS;break;case"toggle":case"beforetoggle":Re=Vz}var xt=(f&4)!==0,br=!xt&&(c==="scroll"||c==="scrollend"),Ne=xt?De!==null?De+"Capture":null:De;xt=[];for(var be=Se,Te;be!==null;){var Fe=be;if(Te=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||Te===null||Ne===null||(Fe=Xu(be,Ne),Fe!=null&&xt.push(_0(be,Fe,Te))),br)break;be=be.return}0<xt.length&&(De=new Re(De,at,null,m,Pe),Be.push({event:De,listeners:xt}))}}if((f&7)===0){e:{if(De=c==="mouseover"||c==="pointerover",Re=c==="mouseout"||c==="pointerout",De&&m!==Gb&&(at=m.relatedTarget||m.fromElement)&&(Xe(at)||at[ue]))break e;if((Re||De)&&(De=Pe.window===Pe?Pe:(De=Pe.ownerDocument)?De.defaultView||De.parentWindow:window,Re?(at=m.relatedTarget||m.toElement,Re=Se,at=at?Xe(at):null,at!==null&&(br=i(at),xt=at.tag,at!==br||xt!==5&&xt!==27&&xt!==6)&&(at=null)):(Re=null,at=Se),Re!==at)){if(xt=YS,Fe="onMouseLeave",Ne="onMouseEnter",be="mouse",(c==="pointerout"||c==="pointerover")&&(xt=XS,Fe="onPointerLeave",Ne="onPointerEnter",be="pointer"),br=Re==null?De:Ke(Re),Te=at==null?De:Ke(at),De=new xt(Fe,be+"leave",Re,m,Pe),De.target=br,De.relatedTarget=Te,Fe=null,Xe(Pe)===Se&&(xt=new xt(Ne,be+"enter",at,m,Pe),xt.target=Te,xt.relatedTarget=br,Fe=xt),br=Fe,Re&&at)t:{for(xt=qq,Ne=Re,be=at,Te=0,Fe=Ne;Fe;Fe=xt(Fe))Te++;Fe=0;for(var pt=be;pt;pt=xt(pt))Fe++;for(;0<Te-Fe;)Ne=xt(Ne),Te--;for(;0<Fe-Te;)be=xt(be),Fe--;for(;Te--;){if(Ne===be||be!==null&&Ne===be.alternate){xt=Ne;break t}Ne=xt(Ne),be=xt(be)}xt=null}else xt=null;Re!==null&&zC(Be,De,Re,xt,!1),at!==null&&br!==null&&zC(Be,br,at,xt,!0)}}e:{if(De=Se?Ke(Se):window,Re=De.nodeName&&De.nodeName.toLowerCase(),Re==="select"||Re==="input"&&De.type==="file")var ar=nk;else if(rk(De))if(sk)ar=Zz;else{ar=Jz;var lt=Xz}else Re=De.nodeName,!Re||Re.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Se&&$b(Se.elementType)&&(ar=nk):ar=Qz;if(ar&&(ar=ar(c,Se))){ak(Be,ar,m,Pe);break e}lt&&lt(c,De,Se),c==="focusout"&&Se&&De.type==="number"&&Se.memoizedProps.value!=null&&Vb(De,"number",De.value)}switch(lt=Se?Ke(Se):window,c){case"focusin":(rk(lt)||lt.contentEditable==="true")&&(zc=lt,nv=Se,n0=null);break;case"focusout":n0=nv=zc=null;break;case"mousedown":sv=!0;break;case"contextmenu":case"mouseup":case"dragend":sv=!1,hk(Be,m,Pe);break;case"selectionchange":if(tq)break;case"keydown":case"keyup":hk(Be,m,Pe)}var Ut;if(ev)e:{switch(c){case"compositionstart":var Ht="onCompositionStart";break e;case"compositionend":Ht="onCompositionEnd";break e;case"compositionupdate":Ht="onCompositionUpdate";break e}Ht=void 0}else Bc?ek(c,m)&&(Ht="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(Ht="onCompositionStart");Ht&&(JS&&m.locale!=="ko"&&(Bc||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&Bc&&(Ut=HS()):(fo=Pe,Wb="value"in fo?fo.value:fo.textContent,Bc=!0)),lt=sm(Se,Ht),0<lt.length&&(Ht=new WS(Ht,c,null,m,Pe),Be.push({event:Ht,listeners:lt}),Ut?Ht.data=Ut:(Ut=tk(m),Ut!==null&&(Ht.data=Ut)))),(Ut=Gz?Hz(c,m):Kz(c,m))&&(Ht=sm(Se,"onBeforeInput"),0<Ht.length&&(lt=new WS("onBeforeInput","beforeinput",null,m,Pe),Be.push({event:lt,listeners:Ht}),lt.data=Ut)),Uq(Be,c,Se,m,Pe)}FC(Be,f)})}function _0(c,f,m){return{instance:c,listener:f,currentTarget:m}}function sm(c,f){for(var m=f+"Capture",N=[];c!==null;){var C=c,I=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||I===null||(C=Xu(c,m),C!=null&&N.unshift(_0(c,C,I)),C=Xu(c,f),C!=null&&N.push(_0(c,C,I))),c.tag===3)return N;c=c.return}return[]}function qq(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function zC(c,f,m,N,C){for(var I=f._reactName,H=[];m!==null&&m!==N;){var te=m,pe=te.alternate,Se=te.stateNode;if(te=te.tag,pe!==null&&pe===N)break;te!==5&&te!==26&&te!==27||Se===null||(pe=Se,C?(Se=Xu(m,I),Se!=null&&H.unshift(_0(m,Se,pe))):C||(Se=Xu(m,I),Se!=null&&H.push(_0(m,Se,pe)))),m=m.return}H.length!==0&&c.push({event:f,listeners:H})}var Vq=/\r\n?/g,$q=/\u0000|\uFFFD/g;function qC(c){return(typeof c=="string"?c:""+c).replace(Vq,`
`).replace($q,"")}function VC(c,f){return f=qC(f),qC(c)===f}function gr(c,f,m,N,C,I){switch(m){case"children":typeof N=="string"?f==="body"||f==="textarea"&&N===""||Lc(c,N):(typeof N=="number"||typeof N=="bigint")&&f!=="body"&&Lc(c,""+N);break;case"className":cp(c,"class",N);break;case"tabIndex":cp(c,"tabindex",N);break;case"dir":case"role":case"viewBox":case"width":case"height":cp(c,m,N);break;case"style":VS(c,N,I);break;case"data":if(f!=="object"){cp(c,"data",N);break}case"src":case"href":if(N===""&&(f!=="a"||m!=="href")){c.removeAttribute(m);break}if(N==null||typeof N=="function"||typeof N=="symbol"||typeof N=="boolean"){c.removeAttribute(m);break}N=up(""+N),c.setAttribute(m,N);break;case"action":case"formAction":if(typeof N=="function"){c.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(m==="formAction"?(f!=="input"&&gr(c,f,"name",C.name,C,null),gr(c,f,"formEncType",C.formEncType,C,null),gr(c,f,"formMethod",C.formMethod,C,null),gr(c,f,"formTarget",C.formTarget,C,null)):(gr(c,f,"encType",C.encType,C,null),gr(c,f,"method",C.method,C,null),gr(c,f,"target",C.target,C,null)));if(N==null||typeof N=="symbol"||typeof N=="boolean"){c.removeAttribute(m);break}N=up(""+N),c.setAttribute(m,N);break;case"onClick":N!=null&&(c.onclick=xi);break;case"onScroll":N!=null&&$t("scroll",c);break;case"onScrollEnd":N!=null&&$t("scrollend",c);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(n(61));if(m=N.__html,m!=null){if(C.children!=null)throw Error(n(60));c.innerHTML=m}}break;case"multiple":c.multiple=N&&typeof N!="function"&&typeof N!="symbol";break;case"muted":c.muted=N&&typeof N!="function"&&typeof N!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(N==null||typeof N=="function"||typeof N=="boolean"||typeof N=="symbol"){c.removeAttribute("xlink:href");break}m=up(""+N),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":N!=null&&typeof N!="function"&&typeof N!="symbol"?c.setAttribute(m,""+N):c.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":N&&typeof N!="function"&&typeof N!="symbol"?c.setAttribute(m,""):c.removeAttribute(m);break;case"capture":case"download":N===!0?c.setAttribute(m,""):N!==!1&&N!=null&&typeof N!="function"&&typeof N!="symbol"?c.setAttribute(m,N):c.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":N!=null&&typeof N!="function"&&typeof N!="symbol"&&!isNaN(N)&&1<=N?c.setAttribute(m,N):c.removeAttribute(m);break;case"rowSpan":case"start":N==null||typeof N=="function"||typeof N=="symbol"||isNaN(N)?c.removeAttribute(m):c.setAttribute(m,N);break;case"popover":$t("beforetoggle",c),$t("toggle",c),un(c,"popover",N);break;case"xlinkActuate":mi(c,"http://www.w3.org/1999/xlink","xlink:actuate",N);break;case"xlinkArcrole":mi(c,"http://www.w3.org/1999/xlink","xlink:arcrole",N);break;case"xlinkRole":mi(c,"http://www.w3.org/1999/xlink","xlink:role",N);break;case"xlinkShow":mi(c,"http://www.w3.org/1999/xlink","xlink:show",N);break;case"xlinkTitle":mi(c,"http://www.w3.org/1999/xlink","xlink:title",N);break;case"xlinkType":mi(c,"http://www.w3.org/1999/xlink","xlink:type",N);break;case"xmlBase":mi(c,"http://www.w3.org/XML/1998/namespace","xml:base",N);break;case"xmlLang":mi(c,"http://www.w3.org/XML/1998/namespace","xml:lang",N);break;case"xmlSpace":mi(c,"http://www.w3.org/XML/1998/namespace","xml:space",N);break;case"is":un(c,"is",N);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=bz.get(m)||m,un(c,m,N))}}function Cy(c,f,m,N,C,I){switch(m){case"style":VS(c,N,I);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(n(61));if(m=N.__html,m!=null){if(C.children!=null)throw Error(n(60));c.innerHTML=m}}break;case"children":typeof N=="string"?Lc(c,N):(typeof N=="number"||typeof N=="bigint")&&Lc(c,""+N);break;case"onScroll":N!=null&&$t("scroll",c);break;case"onScrollEnd":N!=null&&$t("scrollend",c);break;case"onClick":N!=null&&(c.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ar.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(C=m.endsWith("Capture"),f=m.slice(2,C?m.length-7:void 0),I=c[ce]||null,I=I!=null?I[m]:null,typeof I=="function"&&c.removeEventListener(f,I,C),typeof N=="function")){typeof I!="function"&&I!==null&&(m in c?c[m]=null:c.hasAttribute(m)&&c.removeAttribute(m)),c.addEventListener(f,N,C);break e}m in c?c[m]=N:N===!0?c.setAttribute(m,""):un(c,m,N)}}}function Da(c,f,m){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$t("error",c),$t("load",c);var N=!1,C=!1,I;for(I in m)if(m.hasOwnProperty(I)){var H=m[I];if(H!=null)switch(I){case"src":N=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:gr(c,f,I,H,m,null)}}C&&gr(c,f,"srcSet",m.srcSet,m,null),N&&gr(c,f,"src",m.src,m,null);return;case"input":$t("invalid",c);var te=I=H=C=null,pe=null,Se=null;for(N in m)if(m.hasOwnProperty(N)){var Pe=m[N];if(Pe!=null)switch(N){case"name":C=Pe;break;case"type":H=Pe;break;case"checked":pe=Pe;break;case"defaultChecked":Se=Pe;break;case"value":I=Pe;break;case"defaultValue":te=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(n(137,f));break;default:gr(c,f,N,Pe,m,null)}}FS(c,I,te,pe,Se,H,C,!1);return;case"select":$t("invalid",c),N=H=I=null;for(C in m)if(m.hasOwnProperty(C)&&(te=m[C],te!=null))switch(C){case"value":I=te;break;case"defaultValue":H=te;break;case"multiple":N=te;default:gr(c,f,C,te,m,null)}f=I,m=H,c.multiple=!!N,f!=null?Pc(c,!!N,f,!1):m!=null&&Pc(c,!!N,m,!0);return;case"textarea":$t("invalid",c),I=C=N=null;for(H in m)if(m.hasOwnProperty(H)&&(te=m[H],te!=null))switch(H){case"value":N=te;break;case"defaultValue":C=te;break;case"children":I=te;break;case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(91));break;default:gr(c,f,H,te,m,null)}zS(c,N,C,I);return;case"option":for(pe in m)if(m.hasOwnProperty(pe)&&(N=m[pe],N!=null))switch(pe){case"selected":c.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:gr(c,f,pe,N,m,null)}return;case"dialog":$t("beforetoggle",c),$t("toggle",c),$t("cancel",c),$t("close",c);break;case"iframe":case"object":$t("load",c);break;case"video":case"audio":for(N=0;N<k0.length;N++)$t(k0[N],c);break;case"image":$t("error",c),$t("load",c);break;case"details":$t("toggle",c);break;case"embed":case"source":case"link":$t("error",c),$t("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Se in m)if(m.hasOwnProperty(Se)&&(N=m[Se],N!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:gr(c,f,Se,N,m,null)}return;default:if($b(f)){for(Pe in m)m.hasOwnProperty(Pe)&&(N=m[Pe],N!==void 0&&Cy(c,f,Pe,N,m,void 0));return}}for(te in m)m.hasOwnProperty(te)&&(N=m[te],N!=null&&gr(c,f,te,N,m,null))}function Gq(c,f,m,N){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,I=null,H=null,te=null,pe=null,Se=null,Pe=null;for(Re in m){var Be=m[Re];if(m.hasOwnProperty(Re)&&Be!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":pe=Be;default:N.hasOwnProperty(Re)||gr(c,f,Re,null,N,Be)}}for(var De in N){var Re=N[De];if(Be=m[De],N.hasOwnProperty(De)&&(Re!=null||Be!=null))switch(De){case"type":I=Re;break;case"name":C=Re;break;case"checked":Se=Re;break;case"defaultChecked":Pe=Re;break;case"value":H=Re;break;case"defaultValue":te=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(n(137,f));break;default:Re!==Be&&gr(c,f,De,Re,N,Be)}}qb(c,H,te,pe,Se,Pe,I,C);return;case"select":Re=H=te=De=null;for(I in m)if(pe=m[I],m.hasOwnProperty(I)&&pe!=null)switch(I){case"value":break;case"multiple":Re=pe;default:N.hasOwnProperty(I)||gr(c,f,I,null,N,pe)}for(C in N)if(I=N[C],pe=m[C],N.hasOwnProperty(C)&&(I!=null||pe!=null))switch(C){case"value":De=I;break;case"defaultValue":te=I;break;case"multiple":H=I;default:I!==pe&&gr(c,f,C,I,N,pe)}f=te,m=H,N=Re,De!=null?Pc(c,!!m,De,!1):!!N!=!!m&&(f!=null?Pc(c,!!m,f,!0):Pc(c,!!m,m?[]:"",!1));return;case"textarea":Re=De=null;for(te in m)if(C=m[te],m.hasOwnProperty(te)&&C!=null&&!N.hasOwnProperty(te))switch(te){case"value":break;case"children":break;default:gr(c,f,te,null,N,C)}for(H in N)if(C=N[H],I=m[H],N.hasOwnProperty(H)&&(C!=null||I!=null))switch(H){case"value":De=C;break;case"defaultValue":Re=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(n(91));break;default:C!==I&&gr(c,f,H,C,N,I)}BS(c,De,Re);return;case"option":for(var at in m)if(De=m[at],m.hasOwnProperty(at)&&De!=null&&!N.hasOwnProperty(at))switch(at){case"selected":c.selected=!1;break;default:gr(c,f,at,null,N,De)}for(pe in N)if(De=N[pe],Re=m[pe],N.hasOwnProperty(pe)&&De!==Re&&(De!=null||Re!=null))switch(pe){case"selected":c.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:gr(c,f,pe,De,N,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in m)De=m[xt],m.hasOwnProperty(xt)&&De!=null&&!N.hasOwnProperty(xt)&&gr(c,f,xt,null,N,De);for(Se in N)if(De=N[Se],Re=m[Se],N.hasOwnProperty(Se)&&De!==Re&&(De!=null||Re!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(n(137,f));break;default:gr(c,f,Se,De,N,Re)}return;default:if($b(f)){for(var br in m)De=m[br],m.hasOwnProperty(br)&&De!==void 0&&!N.hasOwnProperty(br)&&Cy(c,f,br,void 0,N,De);for(Pe in N)De=N[Pe],Re=m[Pe],!N.hasOwnProperty(Pe)||De===Re||De===void 0&&Re===void 0||Cy(c,f,Pe,De,N,Re);return}}for(var Ne in m)De=m[Ne],m.hasOwnProperty(Ne)&&De!=null&&!N.hasOwnProperty(Ne)&&gr(c,f,Ne,null,N,De);for(Be in N)De=N[Be],Re=m[Be],!N.hasOwnProperty(Be)||De===Re||De==null&&Re==null||gr(c,f,Be,De,N,Re)}function $C(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hq(){if(typeof performance.getEntriesByType=="function"){for(var c=0,f=0,m=performance.getEntriesByType("resource"),N=0;N<m.length;N++){var C=m[N],I=C.transferSize,H=C.initiatorType,te=C.duration;if(I&&te&&$C(H)){for(H=0,te=C.responseEnd,N+=1;N<m.length;N++){var pe=m[N],Se=pe.startTime;if(Se>te)break;var Pe=pe.transferSize,Be=pe.initiatorType;Pe&&$C(Be)&&(pe=pe.responseEnd,H+=Pe*(pe<te?1:(te-Se)/(pe-Se)))}if(--N,f+=8*(I+H)/(C.duration/1e3),c++,10<c)break}}if(0<c)return f/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var Oy=null,Dy=null;function im(c){return c.nodeType===9?c:c.ownerDocument}function GC(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function HC(c,f){if(c===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&f==="foreignObject"?0:c}function Iy(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Ry=null;function Kq(){var c=window.event;return c&&c.type==="popstate"?c===Ry?!1:(Ry=c,!0):(Ry=null,!1)}var KC=typeof setTimeout=="function"?setTimeout:void 0,Yq=typeof clearTimeout=="function"?clearTimeout:void 0,YC=typeof Promise=="function"?Promise:void 0,Wq=typeof queueMicrotask=="function"?queueMicrotask:typeof YC<"u"?function(c){return YC.resolve(null).then(c).catch(Xq)}:KC;function Xq(c){setTimeout(function(){throw c})}function _o(c){return c==="head"}function WC(c,f){var m=f,N=0;do{var C=m.nextSibling;if(c.removeChild(m),C&&C.nodeType===8)if(m=C.data,m==="/$"||m==="/&"){if(N===0){c.removeChild(C),pd(f);return}N--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")N++;else if(m==="html")C0(c.ownerDocument.documentElement);else if(m==="head"){m=c.ownerDocument.head,C0(m);for(var I=m.firstChild;I;){var H=I.nextSibling,te=I.nodeName;I[Ie]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&I.rel.toLowerCase()==="stylesheet"||m.removeChild(I),I=H}}else m==="body"&&C0(c.ownerDocument.body);m=C}while(m);pd(f)}function XC(c,f){var m=c;c=0;do{var N=m.nextSibling;if(m.nodeType===1?f?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(f?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),N&&N.nodeType===8)if(m=N.data,m==="/$"){if(c===0)break;c--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||c++;m=N}while(m)}function My(c){var f=c.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var m=f;switch(f=f.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":My(m),He(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}c.removeChild(m)}}function Jq(c,f,m,N){for(;c.nodeType===1;){var C=m;if(c.nodeName.toLowerCase()!==f.toLowerCase()){if(!N&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(N){if(!c[Ie])switch(f){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(I=c.getAttribute("rel"),I==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(I!==C.rel||c.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||c.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||c.getAttribute("title")!==(C.title==null?null:C.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(I=c.getAttribute("src"),(I!==(C.src==null?null:C.src)||c.getAttribute("type")!==(C.type==null?null:C.type)||c.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&I&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(f==="input"&&c.type==="hidden"){var I=C.name==null?null:""+C.name;if(C.type==="hidden"&&c.getAttribute("name")===I)return c}else return c;if(c=ss(c.nextSibling),c===null)break}return null}function Qq(c,f,m){if(f==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!m||(c=ss(c.nextSibling),c===null))return null;return c}function JC(c,f){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!f||(c=ss(c.nextSibling),c===null))return null;return c}function Py(c){return c.data==="$?"||c.data==="$~"}function Ly(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function Zq(c,f){var m=c.ownerDocument;if(c.data==="$~")c._reactRetry=f;else if(c.data!=="$?"||m.readyState!=="loading")f();else{var N=function(){f(),m.removeEventListener("DOMContentLoaded",N)};m.addEventListener("DOMContentLoaded",N),c._reactRetry=N}}function ss(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return c}var Uy=null;function QC(c){c=c.nextSibling;for(var f=0;c;){if(c.nodeType===8){var m=c.data;if(m==="/$"||m==="/&"){if(f===0)return ss(c.nextSibling);f--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||f++}c=c.nextSibling}return null}function ZC(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(f===0)return c;f--}else m!=="/$"&&m!=="/&"||f++}c=c.previousSibling}return null}function eO(c,f,m){switch(f=im(m),c){case"html":if(c=f.documentElement,!c)throw Error(n(452));return c;case"head":if(c=f.head,!c)throw Error(n(453));return c;case"body":if(c=f.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}function C0(c){for(var f=c.attributes;f.length;)c.removeAttributeNode(f[0]);He(c)}var is=new Map,tO=new Set;function om(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Di=z.d;z.d={f:eV,r:tV,D:rV,C:aV,L:nV,m:sV,X:oV,S:iV,M:lV};function eV(){var c=Di.f(),f=Qp();return c||f}function tV(c){var f=et(c);f!==null&&f.tag===5&&f.type==="form"?b_(f):Di.r(c)}var ud=typeof document>"u"?null:document;function rO(c,f,m){var N=ud;if(N&&typeof f=="string"&&f){var C=Qn(f);C='link[rel="'+c+'"][href="'+C+'"]',typeof m=="string"&&(C+='[crossorigin="'+m+'"]'),tO.has(C)||(tO.add(C),c={rel:c,crossOrigin:m,href:f},N.querySelector(C)===null&&(f=N.createElement("link"),Da(f,"link",c),it(f),N.head.appendChild(f)))}}function rV(c){Di.D(c),rO("dns-prefetch",c,null)}function aV(c,f){Di.C(c,f),rO("preconnect",c,f)}function nV(c,f,m){Di.L(c,f,m);var N=ud;if(N&&c&&f){var C='link[rel="preload"][as="'+Qn(f)+'"]';f==="image"&&m&&m.imageSrcSet?(C+='[imagesrcset="'+Qn(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(C+='[imagesizes="'+Qn(m.imageSizes)+'"]')):C+='[href="'+Qn(c)+'"]';var I=C;switch(f){case"style":I=fd(c);break;case"script":I=hd(c)}is.has(I)||(c=p({rel:"preload",href:f==="image"&&m&&m.imageSrcSet?void 0:c,as:f},m),is.set(I,c),N.querySelector(C)!==null||f==="style"&&N.querySelector(O0(I))||f==="script"&&N.querySelector(D0(I))||(f=N.createElement("link"),Da(f,"link",c),it(f),N.head.appendChild(f)))}}function sV(c,f){Di.m(c,f);var m=ud;if(m&&c){var N=f&&typeof f.as=="string"?f.as:"script",C='link[rel="modulepreload"][as="'+Qn(N)+'"][href="'+Qn(c)+'"]',I=C;switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=hd(c)}if(!is.has(I)&&(c=p({rel:"modulepreload",href:c},f),is.set(I,c),m.querySelector(C)===null)){switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(D0(I)))return}N=m.createElement("link"),Da(N,"link",c),it(N),m.head.appendChild(N)}}}function iV(c,f,m){Di.S(c,f,m);var N=ud;if(N&&c){var C=Qe(N).hoistableStyles,I=fd(c);f=f||"default";var H=C.get(I);if(!H){var te={loading:0,preload:null};if(H=N.querySelector(O0(I)))te.loading=5;else{c=p({rel:"stylesheet",href:c,"data-precedence":f},m),(m=is.get(I))&&Fy(c,m);var pe=H=N.createElement("link");it(pe),Da(pe,"link",c),pe._p=new Promise(function(Se,Pe){pe.onload=Se,pe.onerror=Pe}),pe.addEventListener("load",function(){te.loading|=1}),pe.addEventListener("error",function(){te.loading|=2}),te.loading|=4,lm(H,f,N)}H={type:"stylesheet",instance:H,count:1,state:te},C.set(I,H)}}}function oV(c,f){Di.X(c,f);var m=ud;if(m&&c){var N=Qe(m).hoistableScripts,C=hd(c),I=N.get(C);I||(I=m.querySelector(D0(C)),I||(c=p({src:c,async:!0},f),(f=is.get(C))&&By(c,f),I=m.createElement("script"),it(I),Da(I,"link",c),m.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},N.set(C,I))}}function lV(c,f){Di.M(c,f);var m=ud;if(m&&c){var N=Qe(m).hoistableScripts,C=hd(c),I=N.get(C);I||(I=m.querySelector(D0(C)),I||(c=p({src:c,async:!0,type:"module"},f),(f=is.get(C))&&By(c,f),I=m.createElement("script"),it(I),Da(I,"link",c),m.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},N.set(C,I))}}function aO(c,f,m,N){var C=(C=he.current)?om(C):null;if(!C)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(f=fd(m.href),m=Qe(C).hoistableStyles,N=m.get(f),N||(N={type:"style",instance:null,count:0,state:null},m.set(f,N)),N):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){c=fd(m.href);var I=Qe(C).hoistableStyles,H=I.get(c);if(H||(C=C.ownerDocument||C,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(c,H),(I=C.querySelector(O0(c)))&&!I._p&&(H.instance=I,H.state.loading=5),is.has(c)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},is.set(c,m),I||cV(C,c,m,H.state))),f&&N===null)throw Error(n(528,""));return H}if(f&&N!==null)throw Error(n(529,""));return null;case"script":return f=m.async,m=m.src,typeof m=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=hd(m),m=Qe(C).hoistableScripts,N=m.get(f),N||(N={type:"script",instance:null,count:0,state:null},m.set(f,N)),N):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function fd(c){return'href="'+Qn(c)+'"'}function O0(c){return'link[rel="stylesheet"]['+c+"]"}function nO(c){return p({},c,{"data-precedence":c.precedence,precedence:null})}function cV(c,f,m,N){c.querySelector('link[rel="preload"][as="style"]['+f+"]")?N.loading=1:(f=c.createElement("link"),N.preload=f,f.addEventListener("load",function(){return N.loading|=1}),f.addEventListener("error",function(){return N.loading|=2}),Da(f,"link",m),it(f),c.head.appendChild(f))}function hd(c){return'[src="'+Qn(c)+'"]'}function D0(c){return"script[async]"+c}function sO(c,f,m){if(f.count++,f.instance===null)switch(f.type){case"style":var N=c.querySelector('style[data-href~="'+Qn(m.href)+'"]');if(N)return f.instance=N,it(N),N;var C=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return N=(c.ownerDocument||c).createElement("style"),it(N),Da(N,"style",C),lm(N,m.precedence,c),f.instance=N;case"stylesheet":C=fd(m.href);var I=c.querySelector(O0(C));if(I)return f.state.loading|=4,f.instance=I,it(I),I;N=nO(m),(C=is.get(C))&&Fy(N,C),I=(c.ownerDocument||c).createElement("link"),it(I);var H=I;return H._p=new Promise(function(te,pe){H.onload=te,H.onerror=pe}),Da(I,"link",N),f.state.loading|=4,lm(I,m.precedence,c),f.instance=I;case"script":return I=hd(m.src),(C=c.querySelector(D0(I)))?(f.instance=C,it(C),C):(N=m,(C=is.get(I))&&(N=p({},m),By(N,C)),c=c.ownerDocument||c,C=c.createElement("script"),it(C),Da(C,"link",N),c.head.appendChild(C),f.instance=C);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(N=f.instance,f.state.loading|=4,lm(N,m.precedence,c));return f.instance}function lm(c,f,m){for(var N=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=N.length?N[N.length-1]:null,I=C,H=0;H<N.length;H++){var te=N[H];if(te.dataset.precedence===f)I=te;else if(I!==C)break}I?I.parentNode.insertBefore(c,I.nextSibling):(f=m.nodeType===9?m.head:m,f.insertBefore(c,f.firstChild))}function Fy(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.title==null&&(c.title=f.title)}function By(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.integrity==null&&(c.integrity=f.integrity)}var cm=null;function iO(c,f,m){if(cm===null){var N=new Map,C=cm=new Map;C.set(m,N)}else C=cm,N=C.get(m),N||(N=new Map,C.set(m,N));if(N.has(c))return N;for(N.set(c,null),m=m.getElementsByTagName(c),C=0;C<m.length;C++){var I=m[C];if(!(I[Ie]||I[oe]||c==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var H=I.getAttribute(f)||"";H=c+H;var te=N.get(H);te?te.push(I):N.set(H,[I])}}return N}function oO(c,f,m){c=c.ownerDocument||c,c.head.insertBefore(m,f==="title"?c.querySelector("head > title"):null)}function dV(c,f,m){if(m===1||f.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return c=f.disabled,typeof f.precedence=="string"&&c==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function lO(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function uV(c,f,m,N){if(m.type==="stylesheet"&&(typeof N.media!="string"||matchMedia(N.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var C=fd(N.href),I=f.querySelector(O0(C));if(I){f=I._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(c.count++,c=dm.bind(c),f.then(c,c)),m.state.loading|=4,m.instance=I,it(I);return}I=f.ownerDocument||f,N=nO(N),(C=is.get(C))&&Fy(N,C),I=I.createElement("link"),it(I);var H=I;H._p=new Promise(function(te,pe){H.onload=te,H.onerror=pe}),Da(I,"link",N),m.instance=I}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(m,f),(f=m.state.preload)&&(m.state.loading&3)===0&&(c.count++,m=dm.bind(c),f.addEventListener("load",m),f.addEventListener("error",m))}}var zy=0;function fV(c,f){return c.stylesheets&&c.count===0&&fm(c,c.stylesheets),0<c.count||0<c.imgCount?function(m){var N=setTimeout(function(){if(c.stylesheets&&fm(c,c.stylesheets),c.unsuspend){var I=c.unsuspend;c.unsuspend=null,I()}},6e4+f);0<c.imgBytes&&zy===0&&(zy=62500*Hq());var C=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&fm(c,c.stylesheets),c.unsuspend)){var I=c.unsuspend;c.unsuspend=null,I()}},(c.imgBytes>zy?50:800)+f);return c.unsuspend=m,function(){c.unsuspend=null,clearTimeout(N),clearTimeout(C)}}:null}function dm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fm(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var um=null;function fm(c,f){c.stylesheets=null,c.unsuspend!==null&&(c.count++,um=new Map,f.forEach(hV,c),um=null,dm.call(c))}function hV(c,f){if(!(f.state.loading&4)){var m=um.get(c);if(m)var N=m.get(null);else{m=new Map,um.set(c,m);for(var C=c.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<C.length;I++){var H=C[I];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(m.set(H.dataset.precedence,H),N=H)}N&&m.set(null,N)}C=f.instance,H=C.getAttribute("data-precedence"),I=m.get(H)||N,I===N&&m.set(null,C),m.set(H,C),this.count++,N=dm.bind(this),C.addEventListener("load",N),C.addEventListener("error",N),I?I.parentNode.insertBefore(C,I.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(C,c.firstChild)),f.state.loading|=4}}var I0={$$typeof:y,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function pV(c,f,m,N,C,I,H,te,pe){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hu(0),this.hiddenUpdates=Hu(null),this.identifierPrefix=N,this.onUncaughtError=C,this.onCaughtError=I,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function cO(c,f,m,N,C,I,H,te,pe,Se,Pe,Be){return c=new pV(c,f,m,H,pe,Se,Pe,Be,te),f=1,I===!0&&(f|=24),I=Sn(3,null,null,f),c.current=I,I.stateNode=c,f=yv(),f.refCount++,c.pooledCache=f,f.refCount++,I.memoizedState={element:N,isDehydrated:m,cache:f},Ev(I),c}function dO(c){return c?(c=$c,c):$c}function uO(c,f,m,N,C,I){C=dO(C),N.context===null?N.context=C:N.pendingContext=C,N=bo(f),N.payload={element:m},I=I===void 0?null:I,I!==null&&(N.callback=I),m=vo(c,N,f),m!==null&&(gn(m,c,f),u0(m,c,f))}function fO(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<f?m:f}}function qy(c,f){fO(c,f),(c=c.alternate)&&fO(c,f)}function hO(c){if(c.tag===13||c.tag===31){var f=vl(c,67108864);f!==null&&gn(f,c,67108864),qy(c,67108864)}}function pO(c){if(c.tag===13||c.tag===31){var f=Dn();f=Ku(f);var m=vl(c,f);m!==null&&gn(m,c,f),qy(c,f)}}var hm=!0;function mV(c,f,m,N){var C=U.T;U.T=null;var I=z.p;try{z.p=2,Vy(c,f,m,N)}finally{z.p=I,U.T=C}}function xV(c,f,m,N){var C=U.T;U.T=null;var I=z.p;try{z.p=8,Vy(c,f,m,N)}finally{z.p=I,U.T=C}}function Vy(c,f,m,N){if(hm){var C=$y(N);if(C===null)_y(c,f,N,pm,m),xO(c,N);else if(bV(C,c,f,m,N))N.stopPropagation();else if(xO(c,N),f&4&&-1<gV.indexOf(c)){for(;C!==null;){var I=et(C);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var H=Wn(I.pendingLanes);if(H!==0){var te=I;for(te.pendingLanes|=2,te.entangledLanes|=2;H;){var pe=1<<31-zr(H);te.entanglements[1]|=pe,H&=~pe}Ws(I),(lr&6)===0&&(Xp=qe()+500,S0(0))}}break;case 31:case 13:te=vl(I,2),te!==null&&gn(te,I,2),Qp(),qy(I,2)}if(I=$y(N),I===null&&_y(c,f,N,pm,m),I===C)break;C=I}C!==null&&N.stopPropagation()}else _y(c,f,N,null,m)}}function $y(c){return c=Hb(c),Gy(c)}var pm=null;function Gy(c){if(pm=null,c=Xe(c),c!==null){var f=i(c);if(f===null)c=null;else{var m=f.tag;if(m===13){if(c=o(f),c!==null)return c;c=null}else if(m===31){if(c=l(f),c!==null)return c;c=null}else if(m===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null)}}return pm=c,null}function mO(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ge()){case gt:return 2;case ht:return 8;case nt:case Dt:return 32;case ut:return 268435456;default:return 32}default:return 32}}var Hy=!1,Co=null,Oo=null,Do=null,R0=new Map,M0=new Map,Io=[],gV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xO(c,f){switch(c){case"focusin":case"focusout":Co=null;break;case"dragenter":case"dragleave":Oo=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":R0.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":M0.delete(f.pointerId)}}function P0(c,f,m,N,C,I){return c===null||c.nativeEvent!==I?(c={blockedOn:f,domEventName:m,eventSystemFlags:N,nativeEvent:I,targetContainers:[C]},f!==null&&(f=et(f),f!==null&&hO(f)),c):(c.eventSystemFlags|=N,f=c.targetContainers,C!==null&&f.indexOf(C)===-1&&f.push(C),c)}function bV(c,f,m,N,C){switch(f){case"focusin":return Co=P0(Co,c,f,m,N,C),!0;case"dragenter":return Oo=P0(Oo,c,f,m,N,C),!0;case"mouseover":return Do=P0(Do,c,f,m,N,C),!0;case"pointerover":var I=C.pointerId;return R0.set(I,P0(R0.get(I)||null,c,f,m,N,C)),!0;case"gotpointercapture":return I=C.pointerId,M0.set(I,P0(M0.get(I)||null,c,f,m,N,C)),!0}return!1}function gO(c){var f=Xe(c.target);if(f!==null){var m=i(f);if(m!==null){if(f=m.tag,f===13){if(f=o(m),f!==null){c.blockedOn=f,de(c.priority,function(){pO(m)});return}}else if(f===31){if(f=l(m),f!==null){c.blockedOn=f,de(c.priority,function(){pO(m)});return}}else if(f===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function mm(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var m=$y(c.nativeEvent);if(m===null){m=c.nativeEvent;var N=new m.constructor(m.type,m);Gb=N,m.target.dispatchEvent(N),Gb=null}else return f=et(m),f!==null&&hO(f),c.blockedOn=m,!1;f.shift()}return!0}function bO(c,f,m){mm(c)&&m.delete(f)}function vV(){Hy=!1,Co!==null&&mm(Co)&&(Co=null),Oo!==null&&mm(Oo)&&(Oo=null),Do!==null&&mm(Do)&&(Do=null),R0.forEach(bO),M0.forEach(bO)}function xm(c,f){c.blockedOn===f&&(c.blockedOn=null,Hy||(Hy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vV)))}var gm=null;function vO(c){gm!==c&&(gm=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gm===c&&(gm=null);for(var f=0;f<c.length;f+=3){var m=c[f],N=c[f+1],C=c[f+2];if(typeof N!="function"){if(Gy(N||m)===null)continue;break}var I=et(m);I!==null&&(c.splice(f,3),f-=3,$v(I,{pending:!0,data:C,method:m.method,action:N},N,C))}}))}function pd(c){function f(pe){return xm(pe,c)}Co!==null&&xm(Co,c),Oo!==null&&xm(Oo,c),Do!==null&&xm(Do,c),R0.forEach(f),M0.forEach(f);for(var m=0;m<Io.length;m++){var N=Io[m];N.blockedOn===c&&(N.blockedOn=null)}for(;0<Io.length&&(m=Io[0],m.blockedOn===null);)gO(m),m.blockedOn===null&&Io.shift();if(m=(c.ownerDocument||c).$$reactFormReplay,m!=null)for(N=0;N<m.length;N+=3){var C=m[N],I=m[N+1],H=C[ce]||null;if(typeof I=="function")H||vO(m);else if(H){var te=null;if(I&&I.hasAttribute("formAction")){if(C=I,H=I[ce]||null)te=H.formAction;else if(Gy(C)!==null)continue}else te=H.action;typeof te=="function"?m[N+1]=te:(m.splice(N,3),N-=3),vO(m)}}}function yO(){function c(I){I.canIntercept&&I.info==="react-transition"&&I.intercept({handler:function(){return new Promise(function(H){return C=H})},focusReset:"manual",scroll:"manual"})}function f(){C!==null&&(C(),C=null),N||setTimeout(m,20)}function m(){if(!N&&!navigation.transition){var I=navigation.currentEntry;I&&I.url!=null&&navigation.navigate(I.url,{state:I.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var N=!1,C=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(m,100),function(){N=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),C!==null&&(C(),C=null)}}}function Ky(c){this._internalRoot=c}bm.prototype.render=Ky.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(n(409));var m=f.current,N=Dn();uO(m,N,c,f,null,null)},bm.prototype.unmount=Ky.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;uO(c.current,2,null,c,null,null),Qp(),f[ue]=null}};function bm(c){this._internalRoot=c}bm.prototype.unstable_scheduleHydration=function(c){if(c){var f=Z();c={blockedOn:null,target:c,priority:f};for(var m=0;m<Io.length&&f!==0&&f<Io[m].priority;m++);Io.splice(m,0,c),m===0&&gO(c)}};var NO=e.version;if(NO!=="19.2.4")throw Error(n(527,NO,"19.2.4"));z.findDOMNode=function(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=u(f),c=c!==null?h(c):null,c=c===null?null:c.stateNode,c};var yV={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{jt=vm.inject(yV),Kt=vm}catch{}}return U0.createRoot=function(c,f){if(!s(c))throw Error(n(299));var m=!1,N="",C=k_,I=__,H=C_;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(N=f.identifierPrefix),f.onUncaughtError!==void 0&&(C=f.onUncaughtError),f.onCaughtError!==void 0&&(I=f.onCaughtError),f.onRecoverableError!==void 0&&(H=f.onRecoverableError)),f=cO(c,1,!1,null,null,m,N,null,C,I,H,yO),c[ue]=f.current,ky(c),new Ky(f)},U0.hydrateRoot=function(c,f,m){if(!s(c))throw Error(n(299));var N=!1,C="",I=k_,H=__,te=C_,pe=null;return m!=null&&(m.unstable_strictMode===!0&&(N=!0),m.identifierPrefix!==void 0&&(C=m.identifierPrefix),m.onUncaughtError!==void 0&&(I=m.onUncaughtError),m.onCaughtError!==void 0&&(H=m.onCaughtError),m.onRecoverableError!==void 0&&(te=m.onRecoverableError),m.formState!==void 0&&(pe=m.formState)),f=cO(c,1,!0,f,m??null,N,C,pe,I,H,te,yO),f.context=dO(null),m=f.current,N=Dn(),N=Ku(N),C=bo(N),C.callback=null,vo(m,C,N),m=N,f.current.lanes=m,pl(f,m),Ws(f),c[ue]=f.current,ky(c),new bm(f)},U0.version="19.2.4",U0}var OO;function CV(){if(OO)return Xy.exports;OO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xy.exports=_V(),Xy.exports}var OV=CV();const DV=fr(OV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hL=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},d)=>R.createElement("svg",{ref:d,...RV,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:hL("lucide",s),...l},[...o.map(([u,h])=>R.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(t,e)=>{const r=R.forwardRef(({className:n,...s},i)=>R.createElement(MV,{ref:i,iconNode:e,className:hL(`lucide-${IV(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Pg=ye("Activity",PV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],DO=ye("Apple",LV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],IO=ye("Archive",UV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],cr=ye("ArrowLeft",FV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],CA=ye("ArrowRightLeft",BV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],rc=ye("ArrowRight",zV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],VV=ye("ArrowUpRight",qV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],GV=ye("Award",$V);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],pL=ye("Beaker",HV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Lg=ye("Bell",KV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],ux=ye("BookMarked",YV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ia=ye("BookOpen",WV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],JV=ye("Book",XV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],e1=ye("Bookmark",QV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],ac=ye("Box",ZV);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Fi=ye("BrainCircuit",e$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],qj=ye("Brain",t$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Mh=ye("Briefcase",r$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]],mL=ye("Brush",a$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Xo=ye("Building2",n$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],RO=ye("Building",s$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],o$=ye("Bus",i$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],c$=ye("Cake",l$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Jd=ye("Calculator",d$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Vj=ye("CalendarCheck",u$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Nn=ye("CalendarDays",f$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],kr=ye("Calendar",h$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],nc=ye("Camera",p$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],xL=ye("ChartColumn",m$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],gL=ye("ChartPie",x$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fx=ye("Check",g$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],v$=ye("ChefHat",b$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bL=ye("ChevronDown",y$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],w$=ye("ChevronLeft",N$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ga=ye("ChevronRight",A$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],j$=ye("ChevronUp",E$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ta=ye("CircleAlert",T$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],OA=ye("CircleArrowDown",S$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],DA=ye("CircleArrowUp",k$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],C$=ye("CircleCheckBig",_$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Nt=ye("CircleCheck",O$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],I$=ye("CircleHelp",D$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],qn=ye("CirclePlus",R$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],P$=ye("CircleUserRound",M$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],df=ye("CircleX",L$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],IA=ye("Circle",U$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M11 9h4a2 2 0 0 0 2-2V3",key:"1ve2rv"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"M7 21v-4a2 2 0 0 1 2-2h4",key:"1fwkro"}],["circle",{cx:"15",cy:"15",r:"2",key:"3i40o0"}]],B$=ye("CircuitBoard",F$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],$j=ye("ClipboardCheck",z$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],rl=ye("ClipboardList",q$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],rr=ye("Clock",V$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],G$=ye("CloudSun",$$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],MO=ye("Coins",H$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M20 12v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8",key:"u0tga0"}],["path",{d:"m4 8 16-4",key:"16g0ng"}],["path",{d:"m8.86 6.78-.45-1.81a2 2 0 0 1 1.45-2.43l1.94-.48a2 2 0 0 1 2.43 1.46l.45 1.8",key:"12cejc"}]],Jo=ye("CookingPot",K$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],vL=ye("Cpu",Y$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],yL=ye("Database",W$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],J$=ye("DollarSign",X$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],ni=ye("Download",Q$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Ug=ye("Droplets",Z$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],tG=ye("Eraser",eG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],PO=ye("ExternalLink",rG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],NL=ye("EyeOff",aG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bi=ye("Eye",nG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"12ixgl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M5 17a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",key:"u0c8gj"}],["path",{d:"M7 16.5 8 22l-3-1-3 1 1-5.5",key:"5gm2nr"}]],wL=ye("FileBadge",sG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],nx=ye("FileChartColumnIncreasing",iG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Jl=ye("FileCheck",oG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Fg=ye("FileDown",lG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],hx=ye("FilePen",cG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Nm=ye("FilePlus",dG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],Df=ye("FileSearch",uG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Qd=ye("FileSpreadsheet",fG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zt=ye("FileText",hG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],AL=ye("FileUp",pG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],Bg=ye("Filter",mG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],gG=ye("Fingerprint",xG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],Gj=ye("Flag",bG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],EL=ye("Flame",vG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],NG=ye("FlaskConical",yG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],AG=ye("Footprints",wG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],jG=ye("Frown",EG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]],SG=ye("Gavel",TG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],jL=ye("Globe",kG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],on=ye("GraduationCap",_G);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],zg=ye("Hammer",CG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],qg=ye("HardHat",OG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],IG=ye("Hash",DG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],px=ye("Headphones",RG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]],Vg=ye("HeartHandshake",MG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]],LG=ye("HeartPulse",PG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],FG=ye("Heart",UG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],_t=ye("History",BG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],TL=ye("Image",zG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],al=ye("Info",qG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],$G=ye("KeyRound",VG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],$g=ye("Landmark",GG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]],KG=ye("Laptop",HG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Cu=ye("Layers",YG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ki=ye("LayoutDashboard",WG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],RA=ye("LayoutList",XG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]],MA=ye("LibraryBig",JG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],Gg=ye("Library",QG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Hj=ye("Lightbulb",ZG);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],tH=ye("Link",eH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],aH=ye("ListTodo",rH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vt=ye("LoaderCircle",nH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],iH=ye("LockOpen",sH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yn=ye("Lock",oH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Kj=ye("LogOut",lH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Yj=ye("Mail",cH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Yi=ye("MapPin",dH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],nl=ye("Maximize2",uH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],Zd=ye("Megaphone",fH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],pH=ye("Meh",hH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],xH=ye("Menu",mH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Ph=ye("MessageCircle",gH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],wn=ye("MessageSquare",bH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"M5 12h14",key:"1ays0h"}]],Wj=ye("Minus",vH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],NH=ye("MonitorPlay",yH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],eu=ye("Monitor",wH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],EH=ye("Moon",AH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],t1=ye("Music",jH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],LO=ye("PackageCheck",TH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],kH=ye("PackagePlus",SH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]],CH=ye("PackageSearch",_H);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]],UO=ye("PackageX",OH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Us=ye("Package",DH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],RH=ye("PartyPopper",IH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],sc=ye("PenLine",MH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],FO=ye("PenTool",PH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],SL=ye("Pen",LH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],BO=ye("Pencil",UH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],BH=ye("Percent",FH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]],kL=ye("PhoneCall",zH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],If=ye("Phone",qH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],$H=ye("Play",VH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ot=ye("Plus",GH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Sa=ye("Printer",HH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],YH=ye("QrCode",KH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]],XH=ye("ReceiptText",WH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ic=ye("RefreshCw",JH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],zd=ye("Rocket",QH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qr=ye("Save",ZH);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],Hn=ye("Scale",eK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],rK=ye("ScanLine",tK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Pt=ye("Search",aK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Wi=ye("Send",nK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Hg=ye("Settings2",sK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mx=ye("Settings",iK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],ln=ye("ShieldAlert",oK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ft=ye("ShieldCheck",lK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],dK=ye("Shield",cK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],X0=ye("Shirt",uK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],PA=ye("ShoppingBag",fK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]],pK=ye("ShoppingBasket",hK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Xj=ye("ShoppingCart",mK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],zO=ye("Smile",xK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Mr=ye("Sparkles",gK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=[["path",{d:"m6 16 6-12 6 12",key:"1b4byz"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]],vK=ye("SpellCheck",bK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]],xx=ye("Sprout",yK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gx=ye("SquareCheckBig",NK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],LA=ye("Square",wK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],EK=ye("Star",AK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],qO=ye("Sun",jK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],_L=ye("Tag",TK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],tu=ye("Target",SK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=[["path",{d:"M2 10s3-3 3-8",key:"3xiif0"}],["path",{d:"M22 10s-3-3-3-8",key:"ioaa5q"}],["path",{d:"M10 2c0 4.4-3.6 8-8 8",key:"16fkpi"}],["path",{d:"M14 2c0 4.4 3.6 8 8 8",key:"b9eulq"}],["path",{d:"M2 10s2 2 2 5",key:"1au1lb"}],["path",{d:"M22 10s-2 2-2 5",key:"qi2y5e"}],["path",{d:"M8 15h8",key:"45n4r"}],["path",{d:"M2 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"1vsc2m"}],["path",{d:"M14 22v-1a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1",key:"hrha4u"}]],r1=ye("Theater",kK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"M10.585 15H10",key:"4nqulp"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"M20 14.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0z",key:"yu0u2z"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h2",key:"1bbqgq"}]],CK=ye("ThermometerSnowflake",_K);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],VO=ye("ThumbsUp",OK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Lt=ye("Trash2",DK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],CL=ye("TrendingDown",IK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Vn=ye("TrendingUp",RK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xt=ye("TriangleAlert",MK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],LK=ye("Trophy",PK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],uf=ye("Truck",UK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]],a1=ye("Tv",FK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],UA=ye("Upload",BK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],oc=ye("UserCheck",zK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],lc=ye("UserPlus",qK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],n1=ye("UserX",VK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],la=ye("User",$K);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],mr=ye("Users",GK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],OL=ye("UtensilsCrossed",HK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],YK=ye("Utensils",KK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],XK=ye("Video",WK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],FA=ye("Wallet",JK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],s1=ye("Wind",QK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ze=ye("X",ZK);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ho=ye("Zap",eY);class $O extends R.Component{constructor(e){super(e),this.handleReset=()=>{localStorage.clear(),window.location.reload()},this.handleReload=()=>{window.location.reload()},this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Uncaught error:",e,r)}render(){const{hasError:e,error:r}=this.state,{children:n}=this.props;return e?a.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-6 font-sans",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-[2.5rem] p-10 shadow-2xl text-center space-y-6",children:[a.jsx("div",{className:"w-20 h-20 bg-red-50 text-red-600 rounded-3xl flex items-center justify-center mx-auto mb-4",children:a.jsx(ln,{size:40})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Ops! Algo falhou."}),a.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"O sistema encontrou um erro inesperado, provavelmente devido a dados antigos salvos no seu navegador."})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl border border-gray-100",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Detalhe Tcnico"}),a.jsx("div",{className:"text-[11px] font-bold text-red-500 overflow-hidden text-ellipsis",children:(r==null?void 0:r.message)||"Erro Desconhecido"})]}),a.jsxs("div",{className:"space-y-3 pt-4",children:[a.jsxs("button",{onClick:this.handleReload,className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest flex items-center justify-center gap-2 hover:bg-indigo-700 transition-all",children:[a.jsx(ic,{size:18})," Tentar Recarregar"]}),a.jsxs("button",{onClick:this.handleReset,className:"w-full py-4 bg-gray-100 text-gray-600 rounded-2xl font-black uppercase text-xs tracking-widest flex items-center justify-center gap-2 hover:bg-gray-200 transition-all",children:[a.jsx(Kj,{size:18})," Limpar Tudo e Sair"]})]}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest pt-4",children:"Se o erro persistir, use uma janela annima."})]})}):n}}function DL(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=DL(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Bt(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=DL(t))&&(n&&(n+=" "),n+=e);return n}var i1,GO;function An(){if(GO)return i1;GO=1;var t=Array.isArray;return i1=t,i1}var o1,HO;function IL(){if(HO)return o1;HO=1;var t=typeof ym=="object"&&ym&&ym.Object===Object&&ym;return o1=t,o1}var l1,KO;function ci(){if(KO)return l1;KO=1;var t=IL(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return l1=r,l1}var c1,YO;function Lh(){if(YO)return c1;YO=1;var t=ci(),e=t.Symbol;return c1=e,c1}var d1,WO;function tY(){if(WO)return d1;WO=1;var t=Lh(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,s=t?t.toStringTag:void 0;function i(o){var l=r.call(o,s),d=o[s];try{o[s]=void 0;var u=!0}catch{}var h=n.call(o);return u&&(l?o[s]=d:delete o[s]),h}return d1=i,d1}var u1,XO;function rY(){if(XO)return u1;XO=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return u1=r,u1}var f1,JO;function to(){if(JO)return f1;JO=1;var t=Lh(),e=tY(),r=rY(),n="[object Null]",s="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?s:n:i&&i in Object(l)?e(l):r(l)}return f1=o,f1}var h1,QO;function ro(){if(QO)return h1;QO=1;function t(e){return e!=null&&typeof e=="object"}return h1=t,h1}var p1,ZO;function Ou(){if(ZO)return p1;ZO=1;var t=to(),e=ro(),r="[object Symbol]";function n(s){return typeof s=="symbol"||e(s)&&t(s)==r}return p1=n,p1}var m1,e4;function Jj(){if(e4)return m1;e4=1;var t=An(),e=Ou(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return m1=s,m1}var x1,t4;function sl(){if(t4)return x1;t4=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return x1=t,x1}var g1,r4;function Qj(){if(r4)return g1;r4=1;var t=to(),e=sl(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var d=t(l);return d==n||d==s||d==r||d==i}return g1=o,g1}var b1,a4;function aY(){if(a4)return b1;a4=1;var t=ci(),e=t["__core-js_shared__"];return b1=e,b1}var v1,n4;function nY(){if(n4)return v1;n4=1;var t=aY(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return v1=r,v1}var y1,s4;function RL(){if(s4)return y1;s4=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return y1=r,y1}var N1,i4;function sY(){if(i4)return N1;i4=1;var t=Qj(),e=nY(),r=sl(),n=RL(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,d=o.toString,u=l.hasOwnProperty,h=RegExp("^"+d.call(u).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(x){if(!r(x)||e(x))return!1;var v=t(x)?h:i;return v.test(n(x))}return N1=p,N1}var w1,o4;function iY(){if(o4)return w1;o4=1;function t(e,r){return e==null?void 0:e[r]}return w1=t,w1}var A1,l4;function wc(){if(l4)return A1;l4=1;var t=sY(),e=iY();function r(n,s){var i=e(n,s);return t(i)?i:void 0}return A1=r,A1}var E1,c4;function Kg(){if(c4)return E1;c4=1;var t=wc(),e=t(Object,"create");return E1=e,E1}var j1,d4;function oY(){if(d4)return j1;d4=1;var t=Kg();function e(){this.__data__=t?t(null):{},this.size=0}return j1=e,j1}var T1,u4;function lY(){if(u4)return T1;u4=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return T1=t,T1}var S1,f4;function cY(){if(f4)return S1;f4=1;var t=Kg(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return n.call(o,i)?o[i]:void 0}return S1=s,S1}var k1,h4;function dY(){if(h4)return k1;h4=1;var t=Kg(),e=Object.prototype,r=e.hasOwnProperty;function n(s){var i=this.__data__;return t?i[s]!==void 0:r.call(i,s)}return k1=n,k1}var _1,p4;function uY(){if(p4)return _1;p4=1;var t=Kg(),e="__lodash_hash_undefined__";function r(n,s){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&s===void 0?e:s,this}return _1=r,_1}var C1,m4;function fY(){if(m4)return C1;m4=1;var t=oY(),e=lY(),r=cY(),n=dY(),s=uY();function i(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,C1=i,C1}var O1,x4;function hY(){if(x4)return O1;x4=1;function t(){this.__data__=[],this.size=0}return O1=t,O1}var D1,g4;function Zj(){if(g4)return D1;g4=1;function t(e,r){return e===r||e!==e&&r!==r}return D1=t,D1}var I1,b4;function Yg(){if(b4)return I1;b4=1;var t=Zj();function e(r,n){for(var s=r.length;s--;)if(t(r[s][0],n))return s;return-1}return I1=e,I1}var R1,v4;function pY(){if(v4)return R1;v4=1;var t=Yg(),e=Array.prototype,r=e.splice;function n(s){var i=this.__data__,o=t(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return R1=n,R1}var M1,y4;function mY(){if(y4)return M1;y4=1;var t=Yg();function e(r){var n=this.__data__,s=t(n,r);return s<0?void 0:n[s][1]}return M1=e,M1}var P1,N4;function xY(){if(N4)return P1;N4=1;var t=Yg();function e(r){return t(this.__data__,r)>-1}return P1=e,P1}var L1,w4;function gY(){if(w4)return L1;w4=1;var t=Yg();function e(r,n){var s=this.__data__,i=t(s,r);return i<0?(++this.size,s.push([r,n])):s[i][1]=n,this}return L1=e,L1}var U1,A4;function Wg(){if(A4)return U1;A4=1;var t=hY(),e=pY(),r=mY(),n=xY(),s=gY();function i(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,U1=i,U1}var F1,E4;function eT(){if(E4)return F1;E4=1;var t=wc(),e=ci(),r=t(e,"Map");return F1=r,F1}var B1,j4;function bY(){if(j4)return B1;j4=1;var t=fY(),e=Wg(),r=eT();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return B1=n,B1}var z1,T4;function vY(){if(T4)return z1;T4=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return z1=t,z1}var q1,S4;function Xg(){if(S4)return q1;S4=1;var t=vY();function e(r,n){var s=r.__data__;return t(n)?s[typeof n=="string"?"string":"hash"]:s.map}return q1=e,q1}var V1,k4;function yY(){if(k4)return V1;k4=1;var t=Xg();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return V1=e,V1}var $1,_4;function NY(){if(_4)return $1;_4=1;var t=Xg();function e(r){return t(this,r).get(r)}return $1=e,$1}var G1,C4;function wY(){if(C4)return G1;C4=1;var t=Xg();function e(r){return t(this,r).has(r)}return G1=e,G1}var H1,O4;function AY(){if(O4)return H1;O4=1;var t=Xg();function e(r,n){var s=t(this,r),i=s.size;return s.set(r,n),this.size+=s.size==i?0:1,this}return H1=e,H1}var K1,D4;function tT(){if(D4)return K1;D4=1;var t=bY(),e=yY(),r=NY(),n=wY(),s=AY();function i(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,K1=i,K1}var Y1,I4;function ML(){if(I4)return Y1;I4=1;var t=tT(),e="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(e);var i=function(){var o=arguments,l=s?s.apply(this,o):o[0],d=i.cache;if(d.has(l))return d.get(l);var u=n.apply(this,o);return i.cache=d.set(l,u)||d,u};return i.cache=new(r.Cache||t),i}return r.Cache=t,Y1=r,Y1}var W1,R4;function EY(){if(R4)return W1;R4=1;var t=ML(),e=500;function r(n){var s=t(n,function(o){return i.size===e&&i.clear(),o}),i=s.cache;return s}return W1=r,W1}var X1,M4;function jY(){if(M4)return X1;M4=1;var t=EY(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(e,function(o,l,d,u){i.push(d?u.replace(r,"$1"):l||o)}),i});return X1=n,X1}var J1,P4;function rT(){if(P4)return J1;P4=1;function t(e,r){for(var n=-1,s=e==null?0:e.length,i=Array(s);++n<s;)i[n]=r(e[n],n,e);return i}return J1=t,J1}var Q1,L4;function TY(){if(L4)return Q1;L4=1;var t=Lh(),e=rT(),r=An(),n=Ou(),s=t?t.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return i?i.call(l):"";var d=l+"";return d=="0"&&1/l==-1/0?"-0":d}return Q1=o,Q1}var Z1,U4;function PL(){if(U4)return Z1;U4=1;var t=TY();function e(r){return r==null?"":t(r)}return Z1=e,Z1}var eN,F4;function LL(){if(F4)return eN;F4=1;var t=An(),e=Jj(),r=jY(),n=PL();function s(i,o){return t(i)?i:e(i,o)?[i]:r(n(i))}return eN=s,eN}var tN,B4;function Jg(){if(B4)return tN;B4=1;var t=Ou();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return tN=e,tN}var rN,z4;function aT(){if(z4)return rN;z4=1;var t=LL(),e=Jg();function r(n,s){s=t(s,n);for(var i=0,o=s.length;n!=null&&i<o;)n=n[e(s[i++])];return i&&i==o?n:void 0}return rN=r,rN}var aN,q4;function UL(){if(q4)return aN;q4=1;var t=aT();function e(r,n,s){var i=r==null?void 0:t(r,n);return i===void 0?s:i}return aN=e,aN}var SY=UL();const $n=fr(SY);var nN,V4;function kY(){if(V4)return nN;V4=1;function t(e){return e==null}return nN=t,nN}var _Y=kY();const It=fr(_Y);var sN,$4;function CY(){if($4)return sN;$4=1;var t=to(),e=An(),r=ro(),n="[object String]";function s(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return sN=s,sN}var OY=CY();const Uh=fr(OY);var DY=Qj();const St=fr(DY);var IY=sl();const Du=fr(IY);var iN={exports:{}},dr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G4;function RY(){if(G4)return dr;G4=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,x=t?Symbol.for("react.suspense_list"):60120,v=t?Symbol.for("react.memo"):60115,b=t?Symbol.for("react.lazy"):60116,w=t?Symbol.for("react.block"):60121,g=t?Symbol.for("react.fundamental"):60117,S=t?Symbol.for("react.responder"):60118,k=t?Symbol.for("react.scope"):60119;function y(T){if(typeof T=="object"&&T!==null){var _=T.$$typeof;switch(_){case e:switch(T=T.type,T){case d:case u:case n:case i:case s:case p:return T;default:switch(T=T&&T.$$typeof,T){case l:case h:case b:case v:case o:return T;default:return _}}case r:return _}}}function j(T){return y(T)===u}return dr.AsyncMode=d,dr.ConcurrentMode=u,dr.ContextConsumer=l,dr.ContextProvider=o,dr.Element=e,dr.ForwardRef=h,dr.Fragment=n,dr.Lazy=b,dr.Memo=v,dr.Portal=r,dr.Profiler=i,dr.StrictMode=s,dr.Suspense=p,dr.isAsyncMode=function(T){return j(T)||y(T)===d},dr.isConcurrentMode=j,dr.isContextConsumer=function(T){return y(T)===l},dr.isContextProvider=function(T){return y(T)===o},dr.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===e},dr.isForwardRef=function(T){return y(T)===h},dr.isFragment=function(T){return y(T)===n},dr.isLazy=function(T){return y(T)===b},dr.isMemo=function(T){return y(T)===v},dr.isPortal=function(T){return y(T)===r},dr.isProfiler=function(T){return y(T)===i},dr.isStrictMode=function(T){return y(T)===s},dr.isSuspense=function(T){return y(T)===p},dr.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===u||T===i||T===s||T===p||T===x||typeof T=="object"&&T!==null&&(T.$$typeof===b||T.$$typeof===v||T.$$typeof===o||T.$$typeof===l||T.$$typeof===h||T.$$typeof===g||T.$$typeof===S||T.$$typeof===k||T.$$typeof===w)},dr.typeOf=y,dr}var H4;function MY(){return H4||(H4=1,iN.exports=RY()),iN.exports}var BA=MY(),oN,K4;function FL(){if(K4)return oN;K4=1;var t=to(),e=ro(),r="[object Number]";function n(s){return typeof s=="number"||e(s)&&t(s)==r}return oN=n,oN}var lN,Y4;function PY(){if(Y4)return lN;Y4=1;var t=FL();function e(r){return t(r)&&r!=+r}return lN=e,lN}var LY=PY();const Fh=fr(LY);var UY=FL();const FY=fr(UY);var en=function(e){return e===0?0:e>0?1:-1},Gl=function(e){return Uh(e)&&e.indexOf("%")===e.length-1},Je=function(e){return FY(e)&&!Fh(e)},pa=function(e){return Je(e)||Uh(e)},BY=0,Iu=function(e){var r=++BY;return"".concat(e||"").concat(r)},tn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(e)&&!Uh(e))return n;var i;if(Gl(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return Fh(i)&&(i=n),s&&i>r&&(i=r),i},Bo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},zY=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},s=0;s<r;s++)if(!n[e[s]])n[e[s]]=!0;else return!0;return!1},Ln=function(e,r){return Je(e)&&Je(r)?function(n){return e+n*(r-e)}:function(){return r}};function bx(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):$n(n,e))===r})}function qd(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function zA(t){"@babel/helpers - typeof";return zA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zA(t)}var qY=["viewBox","children"],VY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],W4=["points","pathLength"],cN={svg:qY,polygon:W4,polyline:W4},nT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],vx=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(R.isValidElement(e)&&(n=e.props),!Du(n))return null;var s={};return Object.keys(n).forEach(function(i){nT.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},$Y=function(e,r,n){return function(s){return e(r,n,s),null}},cc=function(e,r,n){if(!Du(e)||zA(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(i){var o=e[i];nT.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=$Y(o,r,n))}),s},GY=["children"],HY=["children"];function X4(t,e){if(t==null)return{};var r=KY(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KY(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function qA(t){"@babel/helpers - typeof";return qA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qA(t)}var J4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},zi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Q4=null,dN=null,sT=function t(e){if(e===Q4&&Array.isArray(dN))return dN;var r=[];return R.Children.forEach(e,function(n){It(n)||(BA.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),dN=r,Q4=e,r};function Gn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(s){return zi(s)}):n=[zi(e)],sT(t).forEach(function(s){var i=$n(s,"type.displayName")||$n(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function Pn(t,e){var r=Gn(t,e);return r&&r[0]}var Z4=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,s=r.height;return!(!Je(n)||n<=0||!Je(s)||s<=0)},YY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],WY=function(e){return e&&e.type&&Uh(e.type)&&YY.indexOf(e.type)>=0},XY=function(e){return e&&qA(e)==="object"&&"cx"in e&&"cy"in e&&"r"in e},JY=function(e,r,n,s){var i,o=(i=cN==null?void 0:cN[s])!==null&&i!==void 0?i:[];return!St(e)&&(s&&o.includes(r)||VY.includes(r))||n&&nT.includes(r)},mt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(R.isValidElement(e)&&(s=e.props),!Du(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;JY((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},VA=function t(e,r){if(e===r)return!0;var n=R.Children.count(e);if(n!==R.Children.count(r))return!1;if(n===0)return!0;if(n===1)return eD(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=e[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!eD(i,o))return!1}return!0},eD=function(e,r){if(It(e)&&It(r))return!0;if(!It(e)&&!It(r)){var n=e.props||{},s=n.children,i=X4(n,GY),o=r.props||{},l=o.children,d=X4(o,HY);return s&&l?qd(i,d)&&VA(s,l):!s&&!l?qd(i,d):!1}return!1},tD=function(e,r){var n=[],s={};return sT(e).forEach(function(i,o){if(WY(i))n.push(i);else if(i){var l=zi(i.type),d=r[l]||{},u=d.handler,h=d.once;if(u&&(!h||!s[l])){var p=u(i,l,o);n.push(p),s[l]=!0}}}),n},QY=function(e){var r=e&&e.type;return r&&J4[r]?J4[r]:null},ZY=function(e,r){return sT(r).indexOf(e)},eW=["children","width","height","viewBox","className","style","title","desc"];function $A(){return $A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$A.apply(this,arguments)}function tW(t,e){if(t==null)return{};var r=rW(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rW(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function GA(t){var e=t.children,r=t.width,n=t.height,s=t.viewBox,i=t.className,o=t.style,l=t.title,d=t.desc,u=tW(t,eW),h=s||{width:r,height:n,x:0,y:0},p=Bt("recharts-surface",i);return xe.createElement("svg",$A({},mt(u,!0,"svg"),{className:p,width:r,height:n,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),xe.createElement("title",null,l),xe.createElement("desc",null,d),e)}var aW=["children","className"];function HA(){return HA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HA.apply(this,arguments)}function nW(t,e){if(t==null)return{};var r=sW(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sW(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var ir=xe.forwardRef(function(t,e){var r=t.children,n=t.className,s=nW(t,aW),i=Bt("recharts-layer",n);return xe.createElement("g",HA({className:i},mt(s,!0),{ref:e}),r)}),Fs=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]},uN,rD;function iW(){if(rD)return uN;rD=1;function t(e,r,n){var s=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++s<i;)o[s]=e[s+r];return o}return uN=t,uN}var fN,aD;function oW(){if(aD)return fN;aD=1;var t=iW();function e(r,n,s){var i=r.length;return s=s===void 0?i:s,!n&&s>=i?r:t(r,n,s)}return fN=e,fN}var hN,nD;function BL(){if(nD)return hN;nD=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=e+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+s+i+"]");function d(u){return l.test(u)}return hN=d,hN}var pN,sD;function lW(){if(sD)return pN;sD=1;function t(e){return e.split("")}return pN=t,pN}var mN,iD;function cW(){if(iD)return mN;iD=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=e+r+n,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+d+")",h="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",b=u+"?",w="["+i+"]?",g="(?:"+v+"(?:"+[h,p,x].join("|")+")"+w+b+")*",S=w+b+g,k="(?:"+[h+l+"?",l,p,x,o].join("|")+")",y=RegExp(d+"(?="+d+")|"+k+S,"g");function j(T){return T.match(y)||[]}return mN=j,mN}var xN,oD;function dW(){if(oD)return xN;oD=1;var t=lW(),e=BL(),r=cW();function n(s){return e(s)?r(s):t(s)}return xN=n,xN}var gN,lD;function uW(){if(lD)return gN;lD=1;var t=oW(),e=BL(),r=dW(),n=PL();function s(i){return function(o){o=n(o);var l=e(o)?r(o):void 0,d=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return d[i]()+u}}return gN=s,gN}var bN,cD;function fW(){if(cD)return bN;cD=1;var t=uW(),e=t("toUpperCase");return bN=e,bN}var hW=fW();const Qg=fr(hW);function jr(t){return function(){return t}}const zL=Math.cos,yx=Math.sin,qs=Math.sqrt,Nx=Math.PI,Zg=2*Nx,KA=Math.PI,YA=2*KA,Ul=1e-6,pW=YA-Ul;function qL(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function mW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return qL;const r=10**e;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class xW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?qL:mW(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,s){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,r,n,s,i,o){this._append`C${+e},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,s,i){if(e=+e,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,d=n-e,u=s-r,h=o-e,p=l-r,x=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(x>Ul)if(!(Math.abs(p*d-u*h)>Ul)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-o,b=s-l,w=d*d+u*u,g=v*v+b*b,S=Math.sqrt(w),k=Math.sqrt(x),y=i*Math.tan((KA-Math.acos((w+x-g)/(2*S*k)))/2),j=y/k,T=y/S;Math.abs(j-1)>Ul&&this._append`L${e+j*h},${r+j*p}`,this._append`A${i},${i},0,0,${+(p*v>h*b)},${this._x1=e+T*d},${this._y1=r+T*u}`}}arc(e,r,n,s,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),d=n*Math.sin(s),u=e+l,h=r+d,p=1^o,x=o?s-i:i-s;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>Ul||Math.abs(this._y1-h)>Ul)&&this._append`L${u},${h}`,n&&(x<0&&(x=x%YA+YA),x>pW?this._append`A${n},${n},0,1,${p},${e-l},${r-d}A${n},${n},0,1,${p},${this._x1=u},${this._y1=h}`:x>Ul&&this._append`A${n},${n},0,${+(x>=KA)},${p},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function iT(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new xW(e)}function oT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function VL(t){this._context=t}VL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function eb(t){return new VL(t)}function $L(t){return t[0]}function GL(t){return t[1]}function HL(t,e){var r=jr(!0),n=null,s=eb,i=null,o=iT(l);t=typeof t=="function"?t:t===void 0?$L:jr(t),e=typeof e=="function"?e:e===void 0?GL:jr(e);function l(d){var u,h=(d=oT(d)).length,p,x=!1,v;for(n==null&&(i=s(v=o())),u=0;u<=h;++u)!(u<h&&r(p=d[u],u,d))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+t(p,u,d),+e(p,u,d));if(v)return i=null,v+""||null}return l.x=function(d){return arguments.length?(t=typeof d=="function"?d:jr(+d),l):t},l.y=function(d){return arguments.length?(e=typeof d=="function"?d:jr(+d),l):e},l.defined=function(d){return arguments.length?(r=typeof d=="function"?d:jr(!!d),l):r},l.curve=function(d){return arguments.length?(s=d,n!=null&&(i=s(n)),l):s},l.context=function(d){return arguments.length?(d==null?n=i=null:i=s(n=d),l):n},l}function wm(t,e,r){var n=null,s=jr(!0),i=null,o=eb,l=null,d=iT(u);t=typeof t=="function"?t:t===void 0?$L:jr(+t),e=typeof e=="function"?e:jr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?GL:jr(+r);function u(p){var x,v,b,w=(p=oT(p)).length,g,S=!1,k,y=new Array(w),j=new Array(w);for(i==null&&(l=o(k=d())),x=0;x<=w;++x){if(!(x<w&&s(g=p[x],x,p))===S)if(S=!S)v=x,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=x-1;b>=v;--b)l.point(y[b],j[b]);l.lineEnd(),l.areaEnd()}S&&(y[x]=+t(g,x,p),j[x]=+e(g,x,p),l.point(n?+n(g,x,p):y[x],r?+r(g,x,p):j[x]))}if(k)return l=null,k+""||null}function h(){return HL().defined(s).curve(o).context(i)}return u.x=function(p){return arguments.length?(t=typeof p=="function"?p:jr(+p),n=null,u):t},u.x0=function(p){return arguments.length?(t=typeof p=="function"?p:jr(+p),u):t},u.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:jr(+p),u):n},u.y=function(p){return arguments.length?(e=typeof p=="function"?p:jr(+p),r=null,u):e},u.y0=function(p){return arguments.length?(e=typeof p=="function"?p:jr(+p),u):e},u.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:jr(+p),u):r},u.lineX0=u.lineY0=function(){return h().x(t).y(e)},u.lineY1=function(){return h().x(t).y(r)},u.lineX1=function(){return h().x(n).y(e)},u.defined=function(p){return arguments.length?(s=typeof p=="function"?p:jr(!!p),u):s},u.curve=function(p){return arguments.length?(o=p,i!=null&&(l=o(i)),u):o},u.context=function(p){return arguments.length?(p==null?i=l=null:l=o(i=p),u):i},u}class KL{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function gW(t){return new KL(t,!0)}function bW(t){return new KL(t,!1)}const lT={draw(t,e){const r=qs(e/Nx);t.moveTo(r,0),t.arc(0,0,r,0,Zg)}},vW={draw(t,e){const r=qs(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},YL=qs(1/3),yW=YL*2,NW={draw(t,e){const r=qs(e/yW),n=r*YL;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},wW={draw(t,e){const r=qs(e),n=-r/2;t.rect(n,n,r,r)}},AW=.8908130915292852,WL=yx(Nx/10)/yx(7*Nx/10),EW=yx(Zg/10)*WL,jW=-zL(Zg/10)*WL,TW={draw(t,e){const r=qs(e*AW),n=EW*r,s=jW*r;t.moveTo(0,-r),t.lineTo(n,s);for(let i=1;i<5;++i){const o=Zg*i/5,l=zL(o),d=yx(o);t.lineTo(d*r,-l*r),t.lineTo(l*n-d*s,d*n+l*s)}t.closePath()}},vN=qs(3),SW={draw(t,e){const r=-qs(e/(vN*3));t.moveTo(0,r*2),t.lineTo(-vN*r,-r),t.lineTo(vN*r,-r),t.closePath()}},os=-.5,ls=qs(3)/2,WA=1/qs(12),kW=(WA/2+1)*3,_W={draw(t,e){const r=qs(e/kW),n=r/2,s=r*WA,i=n,o=r*WA+r,l=-i,d=o;t.moveTo(n,s),t.lineTo(i,o),t.lineTo(l,d),t.lineTo(os*n-ls*s,ls*n+os*s),t.lineTo(os*i-ls*o,ls*i+os*o),t.lineTo(os*l-ls*d,ls*l+os*d),t.lineTo(os*n+ls*s,os*s-ls*n),t.lineTo(os*i+ls*o,os*o-ls*i),t.lineTo(os*l+ls*d,os*d-ls*l),t.closePath()}};function CW(t,e){let r=null,n=iT(s);t=typeof t=="function"?t:jr(t||lT),e=typeof e=="function"?e:jr(e===void 0?64:+e);function s(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(t=typeof i=="function"?i:jr(i),s):t},s.size=function(i){return arguments.length?(e=typeof i=="function"?i:jr(+i),s):e},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function wx(){}function Ax(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function XL(t){this._context=t}XL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ax(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ax(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function OW(t){return new XL(t)}function JL(t){this._context=t}JL.prototype={areaStart:wx,areaEnd:wx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ax(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function DW(t){return new JL(t)}function QL(t){this._context=t}QL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ax(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function IW(t){return new QL(t)}function ZL(t){this._context=t}ZL.prototype={areaStart:wx,areaEnd:wx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function RW(t){return new ZL(t)}function dD(t){return t<0?-1:1}function uD(t,e,r){var n=t._x1-t._x0,s=e-t._x1,i=(t._y1-t._y0)/(n||s<0&&-0),o=(r-t._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(dD(i)+dD(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function fD(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function yN(t,e,r){var n=t._x0,s=t._y0,i=t._x1,o=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,s+l*e,i-l,o-l*r,i,o)}function Ex(t){this._context=t}Ex.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yN(this,this._t0,fD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,yN(this,fD(this,r=uD(this,t,e)),r);break;default:yN(this,this._t0,r=uD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function e9(t){this._context=new t9(t)}(e9.prototype=Object.create(Ex.prototype)).point=function(t,e){Ex.prototype.point.call(this,e,t)};function t9(t){this._context=t}t9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,s,i){this._context.bezierCurveTo(e,t,n,r,i,s)}};function MW(t){return new Ex(t)}function PW(t){return new e9(t)}function r9(t){this._context=t}r9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=hD(t),s=hD(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function hD(t){var e,r=t.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)s[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=s[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(s[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)s[e]=(o[e]-s[e+1])/i[e];for(i[r-1]=(t[r]+s[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-s[e+1];return[s,i]}function LW(t){return new r9(t)}function tb(t,e){this._context=t,this._t=e}tb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function UW(t){return new tb(t,.5)}function FW(t){return new tb(t,0)}function BW(t){return new tb(t,1)}function ru(t,e){if((o=t.length)>1)for(var r=1,n,s,i=t[e[0]],o,l=i.length;r<o;++r)for(s=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function XA(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function zW(t,e){return t[e]}function qW(t){const e=[];return e.key=t,e}function VW(){var t=jr([]),e=XA,r=ru,n=zW;function s(i){var o=Array.from(t.apply(this,arguments),qW),l,d=o.length,u=-1,h;for(const p of i)for(l=0,++u;l<d;++l)(o[l][u]=[0,+n(p,o[l].key,u,i)]).data=p;for(l=0,h=oT(e(o));l<d;++l)o[h[l]].index=l;return r(o,h),o}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:jr(Array.from(i)),s):t},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:jr(+i),s):n},s.order=function(i){return arguments.length?(e=i==null?XA:typeof i=="function"?i:jr(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(r=i??ru,s):r},s}function $W(t,e){if((n=t.length)>0){for(var r,n,s=0,i=t[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=t[r][s][1]||0;if(o)for(r=0;r<n;++r)t[r][s][1]/=o}ru(t,e)}}function GW(t,e){if((s=t.length)>0){for(var r=0,n=t[e[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ru(t,e)}}function HW(t,e){if(!(!((o=t.length)>0)||!((i=(s=t[e[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,d=0,u=0;l<o;++l){for(var h=t[e[l]],p=h[n][1]||0,x=h[n-1][1]||0,v=(p-x)/2,b=0;b<l;++b){var w=t[e[b]],g=w[n][1]||0,S=w[n-1][1]||0;v+=g-S}d+=p,u+=v*p}s[n-1][1]+=s[n-1][0]=r,d&&(r-=u/d)}s[n-1][1]+=s[n-1][0]=r,ru(t,e)}}function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}var KW=["type","size","sizeType"];function JA(){return JA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JA.apply(this,arguments)}function pD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function mD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(r),!0).forEach(function(n){YW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YW(t,e,r){return e=WW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WW(t){var e=XW(t,"string");return Rf(e)=="symbol"?e:String(e)}function XW(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JW(t,e){if(t==null)return{};var r=QW(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QW(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var a9={symbolCircle:lT,symbolCross:vW,symbolDiamond:NW,symbolSquare:wW,symbolStar:TW,symbolTriangle:SW,symbolWye:_W},ZW=Math.PI/180,eX=function(e){var r="symbol".concat(Qg(e));return a9[r]||lT},tX=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*ZW;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rX=function(e,r){a9["symbol".concat(Qg(e))]=r},cT=function(e){var r=e.type,n=r===void 0?"circle":r,s=e.size,i=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,d=JW(e,KW),u=mD(mD({},d),{},{type:n,size:i,sizeType:l}),h=function(){var g=eX(n),S=CW().type(g).size(tX(i,l,n));return S()},p=u.className,x=u.cx,v=u.cy,b=mt(u,!0);return x===+x&&v===+v&&i===+i?xe.createElement("path",JA({},b,{className:Bt("recharts-symbols",p),transform:"translate(".concat(x,", ").concat(v,")"),d:h()})):null};cT.registerSymbol=rX;function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function QA(){return QA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QA.apply(this,arguments)}function xD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function aX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(r),!0).forEach(function(n){Mf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s9(n.key),n)}}function iX(t,e,r){return e&&sX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oX(t,e,r){return e=jx(e),lX(t,n9()?Reflect.construct(e,r||[],jx(t).constructor):e.apply(t,r))}function lX(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cX(t)}function cX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n9=function(){return!!t})()}function jx(t){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jx(t)}function dX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZA(t,e)}function ZA(t,e){return ZA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ZA(t,e)}function Mf(t,e,r){return e=s9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s9(t){var e=uX(t,"string");return au(e)=="symbol"?e:String(e)}function uX(t,e){if(au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cs=32,dT=(function(t){dX(e,t);function e(){return nX(this,e),oX(this,e,arguments)}return iX(e,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=cs/2,o=cs/6,l=cs/3,d=n.inactive?s:n.color;if(n.type==="plainline")return xe.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:cs,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return xe.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(cs,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return xe.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(cs/8,"h").concat(cs,"v").concat(cs*3/4,"h").concat(-cs,"z"),className:"recharts-legend-icon"});if(xe.isValidElement(n.legendIcon)){var u=aX({},n);return delete u.legendIcon,xe.cloneElement(n.legendIcon,u)}return xe.createElement(cT,{fill:d,cx:i,cy:i,size:cs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,d=s.formatter,u=s.inactiveColor,h={x:0,y:0,width:cs,height:cs},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(v,b){var w=v.formatter||d,g=Bt(Mf(Mf({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",v.inactive));if(v.type==="none")return null;var S=St(v.value)?null:v.value;Fs(!St(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=v.inactive?u:v.color;return xe.createElement("li",QA({className:g,style:p,key:"legend-item-".concat(b)},cc(n.props,v,b)),xe.createElement(GA,{width:o,height:o,viewBox:h,style:x},n.renderIcon(v)),xe.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},w?w(S,v,b):S))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return xe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}]),e})(R.PureComponent);Mf(dT,"displayName","Legend");Mf(dT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var NN,gD;function fX(){if(gD)return NN;gD=1;var t=Wg();function e(){this.__data__=new t,this.size=0}return NN=e,NN}var wN,bD;function hX(){if(bD)return wN;bD=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return wN=t,wN}var AN,vD;function pX(){if(vD)return AN;vD=1;function t(e){return this.__data__.get(e)}return AN=t,AN}var EN,yD;function mX(){if(yD)return EN;yD=1;function t(e){return this.__data__.has(e)}return EN=t,EN}var jN,ND;function xX(){if(ND)return jN;ND=1;var t=Wg(),e=eT(),r=tT(),n=200;function s(i,o){var l=this.__data__;if(l instanceof t){var d=l.__data__;if(!e||d.length<n-1)return d.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(d)}return l.set(i,o),this.size=l.size,this}return jN=s,jN}var TN,wD;function i9(){if(wD)return TN;wD=1;var t=Wg(),e=fX(),r=hX(),n=pX(),s=mX(),i=xX();function o(l){var d=this.__data__=new t(l);this.size=d.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=s,o.prototype.set=i,TN=o,TN}var SN,AD;function gX(){if(AD)return SN;AD=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return SN=e,SN}var kN,ED;function bX(){if(ED)return kN;ED=1;function t(e){return this.__data__.has(e)}return kN=t,kN}var _N,jD;function o9(){if(jD)return _N;jD=1;var t=tT(),e=gX(),r=bX();function n(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new t;++i<o;)this.add(s[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,_N=n,_N}var CN,TD;function l9(){if(TD)return CN;TD=1;function t(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(e[n],n,e))return!0;return!1}return CN=t,CN}var ON,SD;function c9(){if(SD)return ON;SD=1;function t(e,r){return e.has(r)}return ON=t,ON}var DN,kD;function d9(){if(kD)return DN;kD=1;var t=o9(),e=l9(),r=c9(),n=1,s=2;function i(o,l,d,u,h,p){var x=d&n,v=o.length,b=l.length;if(v!=b&&!(x&&b>v))return!1;var w=p.get(o),g=p.get(l);if(w&&g)return w==l&&g==o;var S=-1,k=!0,y=d&s?new t:void 0;for(p.set(o,l),p.set(l,o);++S<v;){var j=o[S],T=l[S];if(u)var _=x?u(T,j,S,l,o,p):u(j,T,S,o,l,p);if(_!==void 0){if(_)continue;k=!1;break}if(y){if(!e(l,function(O,M){if(!r(y,M)&&(j===O||h(j,O,d,u,p)))return y.push(M)})){k=!1;break}}else if(!(j===T||h(j,T,d,u,p))){k=!1;break}}return p.delete(o),p.delete(l),k}return DN=i,DN}var IN,_D;function vX(){if(_D)return IN;_D=1;var t=ci(),e=t.Uint8Array;return IN=e,IN}var RN,CD;function yX(){if(CD)return RN;CD=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(s,i){n[++r]=[i,s]}),n}return RN=t,RN}var MN,OD;function uT(){if(OD)return MN;OD=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(s){n[++r]=s}),n}return MN=t,MN}var PN,DD;function NX(){if(DD)return PN;DD=1;var t=Lh(),e=vX(),r=Zj(),n=d9(),s=yX(),i=uT(),o=1,l=2,d="[object Boolean]",u="[object Date]",h="[object Error]",p="[object Map]",x="[object Number]",v="[object RegExp]",b="[object Set]",w="[object String]",g="[object Symbol]",S="[object ArrayBuffer]",k="[object DataView]",y=t?t.prototype:void 0,j=y?y.valueOf:void 0;function T(_,O,M,D,F,q,L){switch(M){case k:if(_.byteLength!=O.byteLength||_.byteOffset!=O.byteOffset)return!1;_=_.buffer,O=O.buffer;case S:return!(_.byteLength!=O.byteLength||!q(new e(_),new e(O)));case d:case u:case x:return r(+_,+O);case h:return _.name==O.name&&_.message==O.message;case v:case w:return _==O+"";case p:var B=s;case b:var X=D&o;if(B||(B=i),_.size!=O.size&&!X)return!1;var P=L.get(_);if(P)return P==O;D|=l,L.set(_,O);var U=n(B(_),B(O),D,F,q,L);return L.delete(_),U;case g:if(j)return j.call(_)==j.call(O)}return!1}return PN=T,PN}var LN,ID;function u9(){if(ID)return LN;ID=1;function t(e,r){for(var n=-1,s=r.length,i=e.length;++n<s;)e[i+n]=r[n];return e}return LN=t,LN}var UN,RD;function wX(){if(RD)return UN;RD=1;var t=u9(),e=An();function r(n,s,i){var o=s(n);return e(n)?o:t(o,i(n))}return UN=r,UN}var FN,MD;function AX(){if(MD)return FN;MD=1;function t(e,r){for(var n=-1,s=e==null?0:e.length,i=0,o=[];++n<s;){var l=e[n];r(l,n,e)&&(o[i++]=l)}return o}return FN=t,FN}var BN,PD;function EX(){if(PD)return BN;PD=1;function t(){return[]}return BN=t,BN}var zN,LD;function jX(){if(LD)return zN;LD=1;var t=AX(),e=EX(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),t(s(o),function(l){return n.call(o,l)}))}:e;return zN=i,zN}var qN,UD;function TX(){if(UD)return qN;UD=1;function t(e,r){for(var n=-1,s=Array(e);++n<e;)s[n]=r(n);return s}return qN=t,qN}var VN,FD;function SX(){if(FD)return VN;FD=1;var t=to(),e=ro(),r="[object Arguments]";function n(s){return e(s)&&t(s)==r}return VN=n,VN}var $N,BD;function fT(){if(BD)return $N;BD=1;var t=SX(),e=ro(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!s.call(o,"callee")};return $N=i,$N}var J0={exports:{}},GN,zD;function kX(){if(zD)return GN;zD=1;function t(){return!1}return GN=t,GN}J0.exports;var qD;function f9(){return qD||(qD=1,(function(t,e){var r=ci(),n=kX(),s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,l=o?r.Buffer:void 0,d=l?l.isBuffer:void 0,u=d||n;t.exports=u})(J0,J0.exports)),J0.exports}var HN,VD;function hT(){if(VD)return HN;VD=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,s){var i=typeof n;return s=s??t,!!s&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<s}return HN=r,HN}var KN,$D;function pT(){if($D)return KN;$D=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return KN=e,KN}var YN,GD;function _X(){if(GD)return YN;GD=1;var t=to(),e=pT(),r=ro(),n="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",d="[object Function]",u="[object Map]",h="[object Number]",p="[object Object]",x="[object RegExp]",v="[object Set]",b="[object String]",w="[object WeakMap]",g="[object ArrayBuffer]",S="[object DataView]",k="[object Float32Array]",y="[object Float64Array]",j="[object Int8Array]",T="[object Int16Array]",_="[object Int32Array]",O="[object Uint8Array]",M="[object Uint8ClampedArray]",D="[object Uint16Array]",F="[object Uint32Array]",q={};q[k]=q[y]=q[j]=q[T]=q[_]=q[O]=q[M]=q[D]=q[F]=!0,q[n]=q[s]=q[g]=q[i]=q[S]=q[o]=q[l]=q[d]=q[u]=q[h]=q[p]=q[x]=q[v]=q[b]=q[w]=!1;function L(B){return r(B)&&e(B.length)&&!!q[t(B)]}return YN=L,YN}var WN,HD;function h9(){if(HD)return WN;HD=1;function t(e){return function(r){return e(r)}}return WN=t,WN}var Q0={exports:{}};Q0.exports;var KD;function CX(){return KD||(KD=1,(function(t,e){var r=IL(),n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===n,o=i&&r.process,l=(function(){try{var d=s&&s.require&&s.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(Q0,Q0.exports)),Q0.exports}var XN,YD;function p9(){if(YD)return XN;YD=1;var t=_X(),e=h9(),r=CX(),n=r&&r.isTypedArray,s=n?e(n):t;return XN=s,XN}var JN,WD;function OX(){if(WD)return JN;WD=1;var t=TX(),e=fT(),r=An(),n=f9(),s=hT(),i=p9(),o=Object.prototype,l=o.hasOwnProperty;function d(u,h){var p=r(u),x=!p&&e(u),v=!p&&!x&&n(u),b=!p&&!x&&!v&&i(u),w=p||x||v||b,g=w?t(u.length,String):[],S=g.length;for(var k in u)(h||l.call(u,k))&&!(w&&(k=="length"||v&&(k=="offset"||k=="parent")||b&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||s(k,S)))&&g.push(k);return g}return JN=d,JN}var QN,XD;function DX(){if(XD)return QN;XD=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||t;return r===s}return QN=e,QN}var ZN,JD;function m9(){if(JD)return ZN;JD=1;function t(e,r){return function(n){return e(r(n))}}return ZN=t,ZN}var e2,QD;function IX(){if(QD)return e2;QD=1;var t=m9(),e=t(Object.keys,Object);return e2=e,e2}var t2,ZD;function RX(){if(ZD)return t2;ZD=1;var t=DX(),e=IX(),r=Object.prototype,n=r.hasOwnProperty;function s(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return t2=s,t2}var r2,eI;function Bh(){if(eI)return r2;eI=1;var t=Qj(),e=pT();function r(n){return n!=null&&e(n.length)&&!t(n)}return r2=r,r2}var a2,tI;function rb(){if(tI)return a2;tI=1;var t=OX(),e=RX(),r=Bh();function n(s){return r(s)?t(s):e(s)}return a2=n,a2}var n2,rI;function MX(){if(rI)return n2;rI=1;var t=wX(),e=jX(),r=rb();function n(s){return t(s,r,e)}return n2=n,n2}var s2,aI;function PX(){if(aI)return s2;aI=1;var t=MX(),e=1,r=Object.prototype,n=r.hasOwnProperty;function s(i,o,l,d,u,h){var p=l&e,x=t(i),v=x.length,b=t(o),w=b.length;if(v!=w&&!p)return!1;for(var g=v;g--;){var S=x[g];if(!(p?S in o:n.call(o,S)))return!1}var k=h.get(i),y=h.get(o);if(k&&y)return k==o&&y==i;var j=!0;h.set(i,o),h.set(o,i);for(var T=p;++g<v;){S=x[g];var _=i[S],O=o[S];if(d)var M=p?d(O,_,S,o,i,h):d(_,O,S,i,o,h);if(!(M===void 0?_===O||u(_,O,l,d,h):M)){j=!1;break}T||(T=S=="constructor")}if(j&&!T){var D=i.constructor,F=o.constructor;D!=F&&"constructor"in i&&"constructor"in o&&!(typeof D=="function"&&D instanceof D&&typeof F=="function"&&F instanceof F)&&(j=!1)}return h.delete(i),h.delete(o),j}return s2=s,s2}var i2,nI;function LX(){if(nI)return i2;nI=1;var t=wc(),e=ci(),r=t(e,"DataView");return i2=r,i2}var o2,sI;function UX(){if(sI)return o2;sI=1;var t=wc(),e=ci(),r=t(e,"Promise");return o2=r,o2}var l2,iI;function x9(){if(iI)return l2;iI=1;var t=wc(),e=ci(),r=t(e,"Set");return l2=r,l2}var c2,oI;function FX(){if(oI)return c2;oI=1;var t=wc(),e=ci(),r=t(e,"WeakMap");return c2=r,c2}var d2,lI;function BX(){if(lI)return d2;lI=1;var t=LX(),e=eT(),r=UX(),n=x9(),s=FX(),i=to(),o=RL(),l="[object Map]",d="[object Object]",u="[object Promise]",h="[object Set]",p="[object WeakMap]",x="[object DataView]",v=o(t),b=o(e),w=o(r),g=o(n),S=o(s),k=i;return(t&&k(new t(new ArrayBuffer(1)))!=x||e&&k(new e)!=l||r&&k(r.resolve())!=u||n&&k(new n)!=h||s&&k(new s)!=p)&&(k=function(y){var j=i(y),T=j==d?y.constructor:void 0,_=T?o(T):"";if(_)switch(_){case v:return x;case b:return l;case w:return u;case g:return h;case S:return p}return j}),d2=k,d2}var u2,cI;function zX(){if(cI)return u2;cI=1;var t=i9(),e=d9(),r=NX(),n=PX(),s=BX(),i=An(),o=f9(),l=p9(),d=1,u="[object Arguments]",h="[object Array]",p="[object Object]",x=Object.prototype,v=x.hasOwnProperty;function b(w,g,S,k,y,j){var T=i(w),_=i(g),O=T?h:s(w),M=_?h:s(g);O=O==u?p:O,M=M==u?p:M;var D=O==p,F=M==p,q=O==M;if(q&&o(w)){if(!o(g))return!1;T=!0,D=!1}if(q&&!D)return j||(j=new t),T||l(w)?e(w,g,S,k,y,j):r(w,g,O,S,k,y,j);if(!(S&d)){var L=D&&v.call(w,"__wrapped__"),B=F&&v.call(g,"__wrapped__");if(L||B){var X=L?w.value():w,P=B?g.value():g;return j||(j=new t),y(X,P,S,k,j)}}return q?(j||(j=new t),n(w,g,S,k,y,j)):!1}return u2=b,u2}var f2,dI;function mT(){if(dI)return f2;dI=1;var t=zX(),e=ro();function r(n,s,i,o,l){return n===s?!0:n==null||s==null||!e(n)&&!e(s)?n!==n&&s!==s:t(n,s,i,o,r,l)}return f2=r,f2}var h2,uI;function qX(){if(uI)return h2;uI=1;var t=i9(),e=mT(),r=1,n=2;function s(i,o,l,d){var u=l.length,h=u,p=!d;if(i==null)return!h;for(i=Object(i);u--;){var x=l[u];if(p&&x[2]?x[1]!==i[x[0]]:!(x[0]in i))return!1}for(;++u<h;){x=l[u];var v=x[0],b=i[v],w=x[1];if(p&&x[2]){if(b===void 0&&!(v in i))return!1}else{var g=new t;if(d)var S=d(b,w,v,i,o,g);if(!(S===void 0?e(w,b,r|n,d,g):S))return!1}}return!0}return h2=s,h2}var p2,fI;function g9(){if(fI)return p2;fI=1;var t=sl();function e(r){return r===r&&!t(r)}return p2=e,p2}var m2,hI;function VX(){if(hI)return m2;hI=1;var t=g9(),e=rb();function r(n){for(var s=e(n),i=s.length;i--;){var o=s[i],l=n[o];s[i]=[o,l,t(l)]}return s}return m2=r,m2}var x2,pI;function b9(){if(pI)return x2;pI=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return x2=t,x2}var g2,mI;function $X(){if(mI)return g2;mI=1;var t=qX(),e=VX(),r=b9();function n(s){var i=e(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===s||t(o,s,i)}}return g2=n,g2}var b2,xI;function GX(){if(xI)return b2;xI=1;function t(e,r){return e!=null&&r in Object(e)}return b2=t,b2}var v2,gI;function HX(){if(gI)return v2;gI=1;var t=LL(),e=fT(),r=An(),n=hT(),s=pT(),i=Jg();function o(l,d,u){d=t(d,l);for(var h=-1,p=d.length,x=!1;++h<p;){var v=i(d[h]);if(!(x=l!=null&&u(l,v)))break;l=l[v]}return x||++h!=p?x:(p=l==null?0:l.length,!!p&&s(p)&&n(v,p)&&(r(l)||e(l)))}return v2=o,v2}var y2,bI;function KX(){if(bI)return y2;bI=1;var t=GX(),e=HX();function r(n,s){return n!=null&&e(n,s,t)}return y2=r,y2}var N2,vI;function YX(){if(vI)return N2;vI=1;var t=mT(),e=UL(),r=KX(),n=Jj(),s=g9(),i=b9(),o=Jg(),l=1,d=2;function u(h,p){return n(h)&&s(p)?i(o(h),p):function(x){var v=e(x,h);return v===void 0&&v===p?r(x,h):t(p,v,l|d)}}return N2=u,N2}var w2,yI;function Ru(){if(yI)return w2;yI=1;function t(e){return e}return w2=t,w2}var A2,NI;function WX(){if(NI)return A2;NI=1;function t(e){return function(r){return r==null?void 0:r[e]}}return A2=t,A2}var E2,wI;function XX(){if(wI)return E2;wI=1;var t=aT();function e(r){return function(n){return t(n,r)}}return E2=e,E2}var j2,AI;function JX(){if(AI)return j2;AI=1;var t=WX(),e=XX(),r=Jj(),n=Jg();function s(i){return r(i)?t(n(i)):e(i)}return j2=s,j2}var T2,EI;function di(){if(EI)return T2;EI=1;var t=$X(),e=YX(),r=Ru(),n=An(),s=JX();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):s(o)}return T2=i,T2}var S2,jI;function v9(){if(jI)return S2;jI=1;function t(e,r,n,s){for(var i=e.length,o=n+(s?1:-1);s?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return S2=t,S2}var k2,TI;function QX(){if(TI)return k2;TI=1;function t(e){return e!==e}return k2=t,k2}var _2,SI;function ZX(){if(SI)return _2;SI=1;function t(e,r,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===r)return s;return-1}return _2=t,_2}var C2,kI;function eJ(){if(kI)return C2;kI=1;var t=v9(),e=QX(),r=ZX();function n(s,i,o){return i===i?r(s,i,o):t(s,e,o)}return C2=n,C2}var O2,_I;function tJ(){if(_I)return O2;_I=1;var t=eJ();function e(r,n){var s=r==null?0:r.length;return!!s&&t(r,n,0)>-1}return O2=e,O2}var D2,CI;function rJ(){if(CI)return D2;CI=1;function t(e,r,n){for(var s=-1,i=e==null?0:e.length;++s<i;)if(n(r,e[s]))return!0;return!1}return D2=t,D2}var I2,OI;function aJ(){if(OI)return I2;OI=1;function t(){}return I2=t,I2}var R2,DI;function nJ(){if(DI)return R2;DI=1;var t=x9(),e=aJ(),r=uT(),n=1/0,s=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return R2=s,R2}var M2,II;function sJ(){if(II)return M2;II=1;var t=o9(),e=tJ(),r=rJ(),n=c9(),s=nJ(),i=uT(),o=200;function l(d,u,h){var p=-1,x=e,v=d.length,b=!0,w=[],g=w;if(h)b=!1,x=r;else if(v>=o){var S=u?null:s(d);if(S)return i(S);b=!1,x=n,g=new t}else g=u?[]:w;e:for(;++p<v;){var k=d[p],y=u?u(k):k;if(k=h||k!==0?k:0,b&&y===y){for(var j=g.length;j--;)if(g[j]===y)continue e;u&&g.push(y),w.push(k)}else x(g,y,h)||(g!==w&&g.push(y),w.push(k))}return w}return M2=l,M2}var P2,RI;function iJ(){if(RI)return P2;RI=1;var t=di(),e=sJ();function r(n,s){return n&&n.length?e(n,t(s,2)):[]}return P2=r,P2}var oJ=iJ();const MI=fr(oJ);function y9(t,e,r){return e===!0?MI(t,r):St(e)?MI(t,e):t}function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}var lJ=["ref"];function PI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Dl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(r),!0).forEach(function(n){ab(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A9(n.key),n)}}function dJ(t,e,r){return e&&LI(t.prototype,e),r&&LI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uJ(t,e,r){return e=Tx(e),fJ(t,N9()?Reflect.construct(e,r||[],Tx(t).constructor):e.apply(t,r))}function fJ(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w9(t)}function N9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N9=function(){return!!t})()}function Tx(t){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tx(t)}function w9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eE(t,e)}function eE(t,e){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},eE(t,e)}function ab(t,e,r){return e=A9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A9(t){var e=pJ(t,"string");return nu(e)=="symbol"?e:String(e)}function pJ(t,e){if(nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mJ(t,e){if(t==null)return{};var r=xJ(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xJ(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function gJ(t){return t.value}function bJ(t,e){if(xe.isValidElement(t))return xe.cloneElement(t,e);if(typeof t=="function")return xe.createElement(t,e);e.ref;var r=mJ(e,lJ);return xe.createElement(dT,r)}var UI=1,dc=(function(t){hJ(e,t);function e(){var r;cJ(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=uJ(this,e,[].concat(s)),ab(w9(r),"lastBoundingBox",{width:-1,height:-1}),r}return dJ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>UI||Math.abs(s.height-this.lastBoundingBox.height)>UI)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Dl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,d=s.margin,u=s.chartWidth,h=s.chartHeight,p,x;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var v=this.getBBoxSnapshot();p={left:((u||0)-v.width)/2}}else p=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();x={top:((h||0)-b.height)/2}}else x=l==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Dl(Dl({},p),x)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,d=s.wrapperStyle,u=s.payloadUniqBy,h=s.payload,p=Dl(Dl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(d)),d);return xe.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(v){n.wrapperNode=v}},bJ(i,Dl(Dl({},this.props),{},{payload:y9(h,u,gJ)})))}}],[{key:"getWithHeight",value:function(n,s){var i=n.props.layout;return i==="vertical"&&Je(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||s}:null}}]),e})(R.PureComponent);ab(dc,"displayName","Legend");ab(dc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var L2,FI;function vJ(){if(FI)return L2;FI=1;var t=Lh(),e=fT(),r=An(),n=t?t.isConcatSpreadable:void 0;function s(i){return r(i)||e(i)||!!(n&&i&&i[n])}return L2=s,L2}var U2,BI;function E9(){if(BI)return U2;BI=1;var t=u9(),e=vJ();function r(n,s,i,o,l){var d=-1,u=n.length;for(i||(i=e),l||(l=[]);++d<u;){var h=n[d];s>0&&i(h)?s>1?r(h,s-1,i,o,l):t(l,h):o||(l[l.length]=h)}return l}return U2=r,U2}var F2,zI;function yJ(){if(zI)return F2;zI=1;function t(e){return function(r,n,s){for(var i=-1,o=Object(r),l=s(r),d=l.length;d--;){var u=l[e?d:++i];if(n(o[u],u,o)===!1)break}return r}}return F2=t,F2}var B2,qI;function NJ(){if(qI)return B2;qI=1;var t=yJ(),e=t();return B2=e,B2}var z2,VI;function j9(){if(VI)return z2;VI=1;var t=NJ(),e=rb();function r(n,s){return n&&t(n,s,e)}return z2=r,z2}var q2,$I;function wJ(){if($I)return q2;$I=1;var t=Bh();function e(r,n){return function(s,i){if(s==null)return s;if(!t(s))return r(s,i);for(var o=s.length,l=n?o:-1,d=Object(s);(n?l--:++l<o)&&i(d[l],l,d)!==!1;);return s}}return q2=e,q2}var V2,GI;function xT(){if(GI)return V2;GI=1;var t=j9(),e=wJ(),r=e(t);return V2=r,V2}var $2,HI;function T9(){if(HI)return $2;HI=1;var t=xT(),e=Bh();function r(n,s){var i=-1,o=e(n)?Array(n.length):[];return t(n,function(l,d,u){o[++i]=s(l,d,u)}),o}return $2=r,$2}var G2,KI;function AJ(){if(KI)return G2;KI=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return G2=t,G2}var H2,YI;function EJ(){if(YI)return H2;YI=1;var t=Ou();function e(r,n){if(r!==n){var s=r!==void 0,i=r===null,o=r===r,l=t(r),d=n!==void 0,u=n===null,h=n===n,p=t(n);if(!u&&!p&&!l&&r>n||l&&d&&h&&!u&&!p||i&&d&&h||!s&&h||!o)return 1;if(!i&&!l&&!p&&r<n||p&&s&&o&&!i&&!l||u&&s&&o||!d&&o||!h)return-1}return 0}return H2=e,H2}var K2,WI;function jJ(){if(WI)return K2;WI=1;var t=EJ();function e(r,n,s){for(var i=-1,o=r.criteria,l=n.criteria,d=o.length,u=s.length;++i<d;){var h=t(o[i],l[i]);if(h){if(i>=u)return h;var p=s[i];return h*(p=="desc"?-1:1)}}return r.index-n.index}return K2=e,K2}var Y2,XI;function TJ(){if(XI)return Y2;XI=1;var t=rT(),e=aT(),r=di(),n=T9(),s=AJ(),i=h9(),o=jJ(),l=Ru(),d=An();function u(h,p,x){p.length?p=t(p,function(w){return d(w)?function(g){return e(g,w.length===1?w[0]:w)}:w}):p=[l];var v=-1;p=t(p,i(r));var b=n(h,function(w,g,S){var k=t(p,function(y){return y(w)});return{criteria:k,index:++v,value:w}});return s(b,function(w,g){return o(w,g,x)})}return Y2=u,Y2}var W2,JI;function SJ(){if(JI)return W2;JI=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return W2=t,W2}var X2,QI;function kJ(){if(QI)return X2;QI=1;var t=SJ(),e=Math.max;function r(n,s,i){return s=e(s===void 0?n.length-1:s,0),function(){for(var o=arguments,l=-1,d=e(o.length-s,0),u=Array(d);++l<d;)u[l]=o[s+l];l=-1;for(var h=Array(s+1);++l<s;)h[l]=o[l];return h[s]=i(u),t(n,this,h)}}return X2=r,X2}var J2,ZI;function _J(){if(ZI)return J2;ZI=1;function t(e){return function(){return e}}return J2=t,J2}var Q2,e5;function S9(){if(e5)return Q2;e5=1;var t=wc(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Q2=e,Q2}var Z2,t5;function CJ(){if(t5)return Z2;t5=1;var t=_J(),e=S9(),r=Ru(),n=e?function(s,i){return e(s,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return Z2=n,Z2}var ew,r5;function OJ(){if(r5)return ew;r5=1;var t=800,e=16,r=Date.now;function n(s){var i=0,o=0;return function(){var l=r(),d=e-(l-o);if(o=l,d>0){if(++i>=t)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return ew=n,ew}var tw,a5;function DJ(){if(a5)return tw;a5=1;var t=CJ(),e=OJ(),r=e(t);return tw=r,tw}var rw,n5;function IJ(){if(n5)return rw;n5=1;var t=Ru(),e=kJ(),r=DJ();function n(s,i){return r(e(s,i,t),s+"")}return rw=n,rw}var aw,s5;function nb(){if(s5)return aw;s5=1;var t=Zj(),e=Bh(),r=hT(),n=sl();function s(i,o,l){if(!n(l))return!1;var d=typeof o;return(d=="number"?e(l)&&r(o,l.length):d=="string"&&o in l)?t(l[o],i):!1}return aw=s,aw}var nw,i5;function RJ(){if(i5)return nw;i5=1;var t=E9(),e=TJ(),r=IJ(),n=nb(),s=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return nw=s,nw}var MJ=RJ();const gT=fr(MJ);function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tE.apply(this,arguments)}function PJ(t,e){return BJ(t)||FJ(t,e)||UJ(t,e)||LJ()}function LJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UJ(t,e){if(t){if(typeof t=="string")return o5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o5(t,e)}}function o5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(h){u=!0,s=h}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function BJ(t){if(Array.isArray(t))return t}function l5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function sw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(r),!0).forEach(function(n){zJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zJ(t,e,r){return e=qJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qJ(t){var e=VJ(t,"string");return Pf(e)=="symbol"?e:String(e)}function VJ(t,e){if(Pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $J(t){return Array.isArray(t)&&pa(t[0])&&pa(t[1])?t.join(" ~ "):t}var GJ=function(e){var r=e.separator,n=r===void 0?" : ":r,s=e.contentStyle,i=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,d=e.labelStyle,u=d===void 0?{}:d,h=e.payload,p=e.formatter,x=e.itemSorter,v=e.wrapperClassName,b=e.labelClassName,w=e.label,g=e.labelFormatter,S=e.accessibilityLayer,k=S===void 0?!1:S,y=function(){if(h&&h.length){var L={padding:0,margin:0},B=(x?gT(h,x):h).map(function(X,P){if(X.type==="none")return null;var U=sw({display:"block",paddingTop:4,paddingBottom:4,color:X.color||"#000"},l),z=X.formatter||p||$J,V=X.value,Y=X.name,se=V,K=Y;if(z&&se!=null&&K!=null){var G=z(V,Y,X,P,h);if(Array.isArray(G)){var W=PJ(G,2);se=W[0],K=W[1]}else se=G}return xe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:U},pa(K)?xe.createElement("span",{className:"recharts-tooltip-item-name"},K):null,pa(K)?xe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,xe.createElement("span",{className:"recharts-tooltip-item-value"},se),xe.createElement("span",{className:"recharts-tooltip-item-unit"},X.unit||""))});return xe.createElement("ul",{className:"recharts-tooltip-item-list",style:L},B)}return null},j=sw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),T=sw({margin:0},u),_=!It(w),O=_?w:"",M=Bt("recharts-default-tooltip",v),D=Bt("recharts-tooltip-label",b);_&&g&&h!==void 0&&h!==null&&(O=g(w,h));var F=k?{role:"status","aria-live":"assertive"}:{};return xe.createElement("div",tE({className:M,style:j},F),xe.createElement("p",{className:D,style:T},xe.isValidElement(O)?O:"".concat(O)),y())};function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function Am(t,e,r){return e=HJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HJ(t){var e=KJ(t,"string");return Lf(e)=="symbol"?e:String(e)}function KJ(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F0="recharts-tooltip-wrapper",YJ={visibility:"hidden"};function WJ(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Bt(F0,Am(Am(Am(Am({},"".concat(F0,"-right"),Je(r)&&e&&Je(e.x)&&r>=e.x),"".concat(F0,"-left"),Je(r)&&e&&Je(e.x)&&r<e.x),"".concat(F0,"-bottom"),Je(n)&&e&&Je(e.y)&&n>=e.y),"".concat(F0,"-top"),Je(n)&&e&&Je(e.y)&&n<e.y))}function c5(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,s=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,d=t.viewBox,u=t.viewBoxDimension;if(i&&Je(i[n]))return i[n];var h=r[n]-l-s,p=r[n]+s;if(e[n])return o[n]?h:p;if(o[n]){var x=h,v=d[n];return x<v?Math.max(p,d[n]):Math.max(h,d[n])}var b=p+l,w=d[n]+u;return b>w?Math.max(h,d[n]):Math.max(p,d[n])}function XJ(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function JJ(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,s=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,d=t.viewBox,u,h,p;return o.height>0&&o.width>0&&r?(h=c5({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),p=c5({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),u=XJ({translateX:h,translateY:p,useTranslate3d:l})):u=YJ,{cssProperties:u,cssClasses:WJ({translateX:h,translateY:p,coordinate:r})}}function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function d5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function u5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d5(Object(r),!0).forEach(function(n){nE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_9(n.key),n)}}function eQ(t,e,r){return e&&ZJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tQ(t,e,r){return e=Sx(e),rQ(t,k9()?Reflect.construct(e,r||[],Sx(t).constructor):e.apply(t,r))}function rQ(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rE(t)}function k9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k9=function(){return!!t})()}function Sx(t){return Sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sx(t)}function rE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aE(t,e)}function aE(t,e){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},aE(t,e)}function nE(t,e,r){return e=_9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _9(t){var e=nQ(t,"string");return su(e)=="symbol"?e:String(e)}function nQ(t,e){if(su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f5=1,sQ=(function(t){aQ(e,t);function e(){var r;QJ(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=tQ(this,e,[].concat(s)),nE(rE(r),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),nE(rE(r),"handleKeyDown",function(o){if(o.key==="Escape"){var l,d,u,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&l!==void 0?l:0,y:(u=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&u!==void 0?u:0}})}}),r}return eQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>f5||Math.abs(n.height-this.state.lastBoundingBox.height)>f5)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,d=s.animationEasing,u=s.children,h=s.coordinate,p=s.hasPayload,x=s.isAnimationActive,v=s.offset,b=s.position,w=s.reverseDirection,g=s.useTranslate3d,S=s.viewBox,k=s.wrapperStyle,y=JJ({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:v,position:b,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:S}),j=y.cssClasses,T=y.cssProperties,_=u5(u5({transition:x&&i?"transform ".concat(l,"ms ").concat(d):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&p?"visible":"hidden",position:"absolute",top:0,left:0},k);return xe.createElement("div",{tabIndex:-1,className:j,style:_,ref:function(M){n.wrapperNode=M}},u)}}]),e})(R.PureComponent),iQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ac={isSsr:iQ()};function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function h5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function p5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h5(Object(r),!0).forEach(function(n){bT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O9(n.key),n)}}function cQ(t,e,r){return e&&lQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dQ(t,e,r){return e=kx(e),uQ(t,C9()?Reflect.construct(e,r||[],kx(t).constructor):e.apply(t,r))}function uQ(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fQ(t)}function fQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C9=function(){return!!t})()}function kx(t){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kx(t)}function hQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sE(t,e)}function sE(t,e){return sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},sE(t,e)}function bT(t,e,r){return e=O9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O9(t){var e=pQ(t,"string");return iu(e)=="symbol"?e:String(e)}function pQ(t,e){if(iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mQ(t){return t.dataKey}function xQ(t,e){return xe.isValidElement(t)?xe.cloneElement(t,e):typeof t=="function"?xe.createElement(t,e):xe.createElement(GJ,e)}var Qa=(function(t){hQ(e,t);function e(){return oQ(this,e),dQ(this,e,arguments)}return cQ(e,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,d=s.animationEasing,u=s.content,h=s.coordinate,p=s.filterNull,x=s.isAnimationActive,v=s.offset,b=s.payload,w=s.payloadUniqBy,g=s.position,S=s.reverseDirection,k=s.useTranslate3d,y=s.viewBox,j=s.wrapperStyle,T=b??[];p&&T.length&&(T=y9(b.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),w,mQ));var _=T.length>0;return xe.createElement(sQ,{allowEscapeViewBox:o,animationDuration:l,animationEasing:d,isAnimationActive:x,active:i,coordinate:h,hasPayload:_,offset:v,position:g,reverseDirection:S,useTranslate3d:k,viewBox:y,wrapperStyle:j},xQ(u,p5(p5({},this.props),{},{payload:T})))}}]),e})(R.PureComponent);bT(Qa,"displayName","Tooltip");bT(Qa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ac.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var iw,m5;function gQ(){if(m5)return iw;m5=1;var t=ci(),e=function(){return t.Date.now()};return iw=e,iw}var ow,x5;function bQ(){if(x5)return ow;x5=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return ow=e,ow}var lw,g5;function vQ(){if(g5)return lw;g5=1;var t=bQ(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return lw=r,lw}var cw,b5;function D9(){if(b5)return cw;b5=1;var t=vQ(),e=sl(),r=Ou(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function d(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=e(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=t(u);var p=i.test(u);return p||o.test(u)?l(u.slice(2),p?2:8):s.test(u)?n:+u}return cw=d,cw}var dw,v5;function yQ(){if(v5)return dw;v5=1;var t=sl(),e=gQ(),r=D9(),n="Expected a function",s=Math.max,i=Math.min;function o(l,d,u){var h,p,x,v,b,w,g=0,S=!1,k=!1,y=!0;if(typeof l!="function")throw new TypeError(n);d=r(d)||0,t(u)&&(S=!!u.leading,k="maxWait"in u,x=k?s(r(u.maxWait)||0,d):x,y="trailing"in u?!!u.trailing:y);function j(B){var X=h,P=p;return h=p=void 0,g=B,v=l.apply(P,X),v}function T(B){return g=B,b=setTimeout(M,d),S?j(B):v}function _(B){var X=B-w,P=B-g,U=d-X;return k?i(U,x-P):U}function O(B){var X=B-w,P=B-g;return w===void 0||X>=d||X<0||k&&P>=x}function M(){var B=e();if(O(B))return D(B);b=setTimeout(M,_(B))}function D(B){return b=void 0,y&&h?j(B):(h=p=void 0,v)}function F(){b!==void 0&&clearTimeout(b),g=0,h=w=p=b=void 0}function q(){return b===void 0?v:D(e())}function L(){var B=e(),X=O(B);if(h=arguments,p=this,w=B,X){if(b===void 0)return T(w);if(k)return clearTimeout(b),b=setTimeout(M,d),j(w)}return b===void 0&&(b=setTimeout(M,d)),v}return L.cancel=F,L.flush=q,L}return dw=o,dw}var uw,y5;function NQ(){if(y5)return uw;y5=1;var t=yQ(),e=sl(),r="Expected a function";function n(s,i,o){var l=!0,d=!0;if(typeof s!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,d="trailing"in o?!!o.trailing:d),t(s,i,{leading:l,maxWait:i,trailing:d})}return uw=n,uw}var wQ=NQ();const I9=fr(wQ);function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function N5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Em(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N5(Object(r),!0).forEach(function(n){AQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AQ(t,e,r){return e=EQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EQ(t){var e=jQ(t,"string");return Uf(e)=="symbol"?e:String(e)}function jQ(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TQ(t,e){return CQ(t)||_Q(t,e)||kQ(t,e)||SQ()}function SQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kQ(t,e){if(t){if(typeof t=="string")return w5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w5(t,e)}}function w5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _Q(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(h){u=!0,s=h}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function CQ(t){if(Array.isArray(t))return t}var ou=R.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,l=t.height,d=l===void 0?"100%":l,u=t.minWidth,h=u===void 0?0:u,p=t.minHeight,x=t.maxHeight,v=t.children,b=t.debounce,w=b===void 0?0:b,g=t.id,S=t.className,k=t.onResize,y=t.style,j=y===void 0?{}:y,T=R.useRef(null),_=R.useRef();_.current=k,R.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var O=R.useState({containerWidth:s.width,containerHeight:s.height}),M=TQ(O,2),D=M[0],F=M[1],q=R.useCallback(function(B,X){F(function(P){var U=Math.round(B),z=Math.round(X);return P.containerWidth===U&&P.containerHeight===z?P:{containerWidth:U,containerHeight:z}})},[]);R.useEffect(function(){var B=function(Y){var se,K=Y[0].contentRect,G=K.width,W=K.height;q(G,W),(se=_.current)===null||se===void 0||se.call(_,G,W)};w>0&&(B=I9(B,w,{trailing:!0,leading:!1}));var X=new ResizeObserver(B),P=T.current.getBoundingClientRect(),U=P.width,z=P.height;return q(U,z),X.observe(T.current),function(){X.disconnect()}},[q,w]);var L=R.useMemo(function(){var B=D.containerWidth,X=D.containerHeight;if(B<0||X<0)return null;Fs(Gl(o)||Gl(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),Fs(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=Gl(o)?B:o,U=Gl(d)?X:d;r&&r>0&&(P?U=P/r:U&&(P=U*r),x&&U>x&&(U=x)),Fs(P>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,U,o,d,h,p,r);var z=!Array.isArray(v)&&BA.isElement(v)&&zi(v.type).endsWith("Chart");return xe.Children.map(v,function(V){return BA.isElement(V)?R.cloneElement(V,Em({width:P,height:U},z?{style:Em({height:"100%",width:"100%",maxHeight:U,maxWidth:P},V.props.style)}:{})):V})},[r,v,d,x,p,h,D,o]);return xe.createElement("div",{id:g?"".concat(g):void 0,className:Bt("recharts-responsive-container",S),style:Em(Em({},j),{},{width:o,height:d,minWidth:h,minHeight:p,maxHeight:x}),ref:T},L)}),Qo=function(e){return null};Qo.displayName="Cell";function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function A5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function iE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A5(Object(r),!0).forEach(function(n){OQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OQ(t,e,r){return e=DQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DQ(t){var e=IQ(t,"string");return Ff(e)=="symbol"?e:String(e)}function IQ(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var md={widthCache:{},cacheCount:0},RQ=2e3,MQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},E5="recharts_measurement_span";function PQ(t){var e=iE({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var ff=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ac.isSsr)return{width:0,height:0};var n=PQ(r),s=JSON.stringify({text:e,copyStyle:n});if(md.widthCache[s])return md.widthCache[s];try{var i=document.getElementById(E5);i||(i=document.createElement("span"),i.setAttribute("id",E5),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=iE(iE({},MQ),n);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),d={width:l.width,height:l.height};return md.widthCache[s]=d,++md.cacheCount>RQ&&(md.cacheCount=0,md.widthCache={}),d}catch{return{width:0,height:0}}},LQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function _x(t,e){return zQ(t)||BQ(t,e)||FQ(t,e)||UQ()}function UQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FQ(t,e){if(t){if(typeof t=="string")return j5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j5(t,e)}}function j5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(h){u=!0,s=h}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function zQ(t){if(Array.isArray(t))return t}function qQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$Q(n.key),n)}}function VQ(t,e,r){return e&&T5(t.prototype,e),r&&T5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Q(t){var e=GQ(t,"string");return Bf(e)=="symbol"?e:String(e)}function GQ(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var S5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,k5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,R9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},YQ=Object.keys(R9),Rd="NaN";function WQ(t,e){return t*R9[e]}var jm=(function(){function t(e,r){qQ(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!HQ.test(r)&&(this.num=NaN,this.unit=""),YQ.includes(r)&&(this.num=WQ(e,r),this.unit="px")}return VQ(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=KQ.exec(r))!==null&&n!==void 0?n:[],i=_x(s,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}]),t})();function M9(t){if(t.includes(Rd))return Rd;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=S5.exec(e))!==null&&r!==void 0?r:[],s=_x(n,4),i=s[1],o=s[2],l=s[3],d=jm.parse(i??""),u=jm.parse(l??""),h=o==="*"?d.multiply(u):d.divide(u);if(h.isNaN())return Rd;e=e.replace(S5,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,x=(p=k5.exec(e))!==null&&p!==void 0?p:[],v=_x(x,4),b=v[1],w=v[2],g=v[3],S=jm.parse(b??""),k=jm.parse(g??""),y=w==="+"?S.add(k):S.subtract(k);if(y.isNaN())return Rd;e=e.replace(k5,y.toString())}return e}var _5=/\(([^()]*)\)/;function XQ(t){for(var e=t;e.includes("(");){var r=_5.exec(e),n=_x(r,2),s=n[1];e=e.replace(_5,M9(s))}return e}function JQ(t){var e=t.replace(/\s+/g,"");return e=XQ(e),e=M9(e),e}function QQ(t){try{return JQ(t)}catch{return Rd}}function fw(t){var e=QQ(t.slice(5,-1));return e===Rd?"":e}var ZQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],eZ=["dx","dy","angle","className","breakAll"];function oE(){return oE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oE.apply(this,arguments)}function C5(t,e){if(t==null)return{};var r=tZ(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tZ(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function O5(t,e){return sZ(t)||nZ(t,e)||aZ(t,e)||rZ()}function rZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aZ(t,e){if(t){if(typeof t=="string")return D5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D5(t,e)}}function D5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(h){u=!0,s=h}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function sZ(t){if(Array.isArray(t))return t}var P9=/[ \f\n\r\t\v\u2028\u2029]+/,L9=function(e){var r=e.children,n=e.breakAll,s=e.style;try{var i=[];It(r)||(n?i=r.toString().split(""):i=r.toString().split(P9));var o=i.map(function(d){return{word:d,width:ff(d,s).width}}),l=n?0:ff("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},iZ=function(e,r,n,s,i){var o=e.maxLines,l=e.children,d=e.style,u=e.breakAll,h=Je(o),p=l,x=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce(function(U,z){var V=z.word,Y=z.width,se=U[U.length-1];if(se&&(s==null||i||se.width+Y+n<Number(s)))se.words.push(V),se.width+=Y+n;else{var K={words:[V],width:Y};U.push(K)}return U},[])},v=x(r),b=function(P){return P.reduce(function(U,z){return U.width>z.width?U:z})};if(!h)return v;for(var w="",g=function(P){var U=p.slice(0,P),z=L9({breakAll:u,style:d,children:U+w}).wordsWithComputedWidth,V=x(z),Y=V.length>o||b(V).width>Number(s);return[Y,V]},S=0,k=p.length-1,y=0,j;S<=k&&y<=p.length-1;){var T=Math.floor((S+k)/2),_=T-1,O=g(_),M=O5(O,2),D=M[0],F=M[1],q=g(T),L=O5(q,1),B=L[0];if(!D&&!B&&(S=T+1),D&&B&&(k=T-1),!D&&B){j=F;break}y++}return j||v},I5=function(e){var r=It(e)?[]:e.toString().split(P9);return[{words:r}]},oZ=function(e){var r=e.width,n=e.scaleToFit,s=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!Ac.isSsr){var d,u,h=L9({breakAll:o,children:s,style:i});if(h){var p=h.wordsWithComputedWidth,x=h.spaceWidth;d=p,u=x}else return I5(s);return iZ({breakAll:o,children:s,maxLines:l,style:i},d,u,r,n)}return I5(s)},R5="#808080",uc=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,i=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,d=e.capHeight,u=d===void 0?"0.71em":d,h=e.scaleToFit,p=h===void 0?!1:h,x=e.textAnchor,v=x===void 0?"start":x,b=e.verticalAnchor,w=b===void 0?"end":b,g=e.fill,S=g===void 0?R5:g,k=C5(e,ZQ),y=R.useMemo(function(){return oZ({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:p,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,p,k.style,k.width]),j=k.dx,T=k.dy,_=k.angle,O=k.className,M=k.breakAll,D=C5(k,eZ);if(!pa(n)||!pa(i))return null;var F=n+(Je(j)?j:0),q=i+(Je(T)?T:0),L;switch(w){case"start":L=fw("calc(".concat(u,")"));break;case"middle":L=fw("calc(".concat((y.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:L=fw("calc(".concat(y.length-1," * -").concat(l,")"));break}var B=[];if(p){var X=y[0].width,P=k.width;B.push("scale(".concat((Je(P)?P/X:1)/X,")"))}return _&&B.push("rotate(".concat(_,", ").concat(F,", ").concat(q,")")),B.length&&(D.transform=B.join(" ")),xe.createElement("text",oE({},mt(D,!0),{x:F,y:q,className:Bt("recharts-text",O),textAnchor:v,fill:S.includes("url")?R5:S}),y.map(function(U,z){var V=U.words.join(M?"":" ");return xe.createElement("tspan",{x:F,dy:z===0?L:l,key:V},V)}))};function Ko(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vT(t){let e,r,n;t.length!==2?(e=Ko,r=(l,d)=>Ko(t(l),d),n=(l,d)=>t(l)-d):(e=t===Ko||t===lZ?t:cZ,r=t,n=t);function s(l,d,u=0,h=l.length){if(u<h){if(e(d,d)!==0)return h;do{const p=u+h>>>1;r(l[p],d)<0?u=p+1:h=p}while(u<h)}return u}function i(l,d,u=0,h=l.length){if(u<h){if(e(d,d)!==0)return h;do{const p=u+h>>>1;r(l[p],d)<=0?u=p+1:h=p}while(u<h)}return u}function o(l,d,u=0,h=l.length){const p=s(l,d,u,h-1);return p>u&&n(l[p-1],d)>-n(l[p],d)?p-1:p}return{left:s,center:o,right:i}}function cZ(){return 0}function U9(t){return t===null?NaN:+t}function*dZ(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const uZ=vT(Ko),zh=uZ.right;vT(U9).center;class M5 extends Map{constructor(e,r=pZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,s]of e)this.set(n,s)}get(e){return super.get(P5(this,e))}has(e){return super.has(P5(this,e))}set(e,r){return super.set(fZ(this,e),r)}delete(e){return super.delete(hZ(this,e))}}function P5({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function fZ({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function hZ({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function pZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mZ(t=Ko){if(t===Ko)return F9;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function F9(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const xZ=Math.sqrt(50),gZ=Math.sqrt(10),bZ=Math.sqrt(2);function Cx(t,e,r){const n=(e-t)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=xZ?10:i>=gZ?5:i>=bZ?2:1;let l,d,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(t*u),d=Math.round(e*u),l/u<t&&++l,d/u>e&&--d,u=-u):(u=Math.pow(10,s)*o,l=Math.round(t/u),d=Math.round(e/u),l*u<t&&++l,d*u>e&&--d),d<l&&.5<=r&&r<2?Cx(t,e,r*2):[l,d,u]}function lE(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[s,i,o]=n?Cx(e,t,r):Cx(t,e,r);if(!(i>=s))return[];const l=i-s+1,d=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)d[u]=(i-u)/-o;else for(let u=0;u<l;++u)d[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)d[u]=(s+u)/-o;else for(let u=0;u<l;++u)d[u]=(s+u)*o;return d}function cE(t,e,r){return e=+e,t=+t,r=+r,Cx(t,e,r)[2]}function dE(t,e,r){e=+e,t=+t,r=+r;const n=e<t,s=n?cE(e,t,r):cE(t,e,r);return(n?-1:1)*(s<0?1/-s:s)}function L5(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function U5(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function B9(t,e,r=0,n=1/0,s){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(s=s===void 0?F9:mZ(s);n>r;){if(n-r>600){const d=n-r+1,u=e-r+1,h=Math.log(d),p=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*p*(d-p)/d)*(u-d/2<0?-1:1),v=Math.max(r,Math.floor(e-u*p/d+x)),b=Math.min(n,Math.floor(e+(d-u)*p/d+x));B9(t,e,v,b,s)}const i=t[e];let o=r,l=n;for(B0(t,r,e),s(t[n],i)>0&&B0(t,r,n);o<l;){for(B0(t,o,l),++o,--l;s(t[o],i)<0;)++o;for(;s(t[l],i)>0;)--l}s(t[r],i)===0?B0(t,r,l):(++l,B0(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function B0(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function vZ(t,e,r){if(t=Float64Array.from(dZ(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return U5(t);if(e>=1)return L5(t);var n,s=(n-1)*e,i=Math.floor(s),o=L5(B9(t,i).subarray(0,i+1)),l=U5(t.subarray(i+1));return o+(l-o)*(s-i)}}function yZ(t,e,r=U9){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,s=(n-1)*e,i=Math.floor(s),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(s-i)}}function NZ(t,e,r){t=+t,e=+e,r=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(s);++n<s;)i[n]=t+n*r;return i}function vs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ao(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const uE=Symbol("implicit");function yT(){var t=new M5,e=[],r=[],n=uE;function s(i){let o=t.get(i);if(o===void 0){if(n!==uE)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new M5;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return yT(e,r).unknown(n)},vs.apply(s,arguments),s}function zf(){var t=yT().unknown(void 0),e=t.domain,r=t.range,n=0,s=1,i,o,l=!1,d=0,u=0,h=.5;delete t.unknown;function p(){var x=e().length,v=s<n,b=v?s:n,w=v?n:s;i=(w-b)/Math.max(1,x-d+u*2),l&&(i=Math.floor(i)),b+=(w-b-i*(x-d))*h,o=i*(1-d),l&&(b=Math.round(b),o=Math.round(o));var g=NZ(x).map(function(S){return b+i*S});return r(v?g.reverse():g)}return t.domain=function(x){return arguments.length?(e(x),p()):e()},t.range=function(x){return arguments.length?([n,s]=x,n=+n,s=+s,p()):[n,s]},t.rangeRound=function(x){return[n,s]=x,n=+n,s=+s,l=!0,p()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(x){return arguments.length?(l=!!x,p()):l},t.padding=function(x){return arguments.length?(d=Math.min(1,u=+x),p()):d},t.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),p()):d},t.paddingOuter=function(x){return arguments.length?(u=+x,p()):u},t.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),p()):h},t.copy=function(){return zf(e(),[n,s]).round(l).paddingInner(d).paddingOuter(u).align(h)},vs.apply(p(),arguments)}function z9(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return z9(e())},t}function hf(){return z9(zf.apply(null,arguments).paddingInner(1))}function NT(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function q9(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function qh(){}var qf=.7,Ox=1/qf,Vd="\\s*([+-]?\\d+)\\s*",Vf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wZ=/^#([0-9a-f]{3,8})$/,AZ=new RegExp(`^rgb\\(${Vd},${Vd},${Vd}\\)$`),EZ=new RegExp(`^rgb\\(${ti},${ti},${ti}\\)$`),jZ=new RegExp(`^rgba\\(${Vd},${Vd},${Vd},${Vf}\\)$`),TZ=new RegExp(`^rgba\\(${ti},${ti},${ti},${Vf}\\)$`),SZ=new RegExp(`^hsl\\(${Vf},${ti},${ti}\\)$`),kZ=new RegExp(`^hsla\\(${Vf},${ti},${ti},${Vf}\\)$`),F5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NT(qh,$f,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:B5,formatHex:B5,formatHex8:_Z,formatHsl:CZ,formatRgb:z5,toString:z5});function B5(){return this.rgb().formatHex()}function _Z(){return this.rgb().formatHex8()}function CZ(){return V9(this).formatHsl()}function z5(){return this.rgb().formatRgb()}function $f(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=wZ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?q5(e):r===3?new vn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Tm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Tm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=AZ.exec(t))?new vn(e[1],e[2],e[3],1):(e=EZ.exec(t))?new vn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=jZ.exec(t))?Tm(e[1],e[2],e[3],e[4]):(e=TZ.exec(t))?Tm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=SZ.exec(t))?G5(e[1],e[2]/100,e[3]/100,1):(e=kZ.exec(t))?G5(e[1],e[2]/100,e[3]/100,e[4]):F5.hasOwnProperty(t)?q5(F5[t]):t==="transparent"?new vn(NaN,NaN,NaN,0):null}function q5(t){return new vn(t>>16&255,t>>8&255,t&255,1)}function Tm(t,e,r,n){return n<=0&&(t=e=r=NaN),new vn(t,e,r,n)}function OZ(t){return t instanceof qh||(t=$f(t)),t?(t=t.rgb(),new vn(t.r,t.g,t.b,t.opacity)):new vn}function fE(t,e,r,n){return arguments.length===1?OZ(t):new vn(t,e,r,n??1)}function vn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}NT(vn,fE,q9(qh,{brighter(t){return t=t==null?Ox:Math.pow(Ox,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?qf:Math.pow(qf,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vn(Ql(this.r),Ql(this.g),Ql(this.b),Dx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:V5,formatHex:V5,formatHex8:DZ,formatRgb:$5,toString:$5}));function V5(){return`#${Hl(this.r)}${Hl(this.g)}${Hl(this.b)}`}function DZ(){return`#${Hl(this.r)}${Hl(this.g)}${Hl(this.b)}${Hl((isNaN(this.opacity)?1:this.opacity)*255)}`}function $5(){const t=Dx(this.opacity);return`${t===1?"rgb(":"rgba("}${Ql(this.r)}, ${Ql(this.g)}, ${Ql(this.b)}${t===1?")":`, ${t})`}`}function Dx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ql(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Hl(t){return t=Ql(t),(t<16?"0":"")+t.toString(16)}function G5(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Rs(t,e,r,n)}function V9(t){if(t instanceof Rs)return new Rs(t.h,t.s,t.l,t.opacity);if(t instanceof qh||(t=$f(t)),!t)return new Rs;if(t instanceof Rs)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,s=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,l=i-s,d=(i+s)/2;return l?(e===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-e)/l+2:o=(e-r)/l+4,l/=d<.5?i+s:2-i-s,o*=60):l=d>0&&d<1?0:o,new Rs(o,l,d,t.opacity)}function IZ(t,e,r,n){return arguments.length===1?V9(t):new Rs(t,e,r,n??1)}function Rs(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}NT(Rs,IZ,q9(qh,{brighter(t){return t=t==null?Ox:Math.pow(Ox,t),new Rs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?qf:Math.pow(qf,t),new Rs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,s=2*r-n;return new vn(hw(t>=240?t-240:t+120,s,n),hw(t,s,n),hw(t<120?t+240:t-120,s,n),this.opacity)},clamp(){return new Rs(H5(this.h),Sm(this.s),Sm(this.l),Dx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Dx(this.opacity);return`${t===1?"hsl(":"hsla("}${H5(this.h)}, ${Sm(this.s)*100}%, ${Sm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function H5(t){return t=(t||0)%360,t<0?t+360:t}function Sm(t){return Math.max(0,Math.min(1,t||0))}function hw(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const wT=t=>()=>t;function RZ(t,e){return function(r){return t+r*e}}function MZ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function PZ(t){return(t=+t)==1?$9:function(e,r){return r-e?MZ(e,r,t):wT(isNaN(e)?r:e)}}function $9(t,e){var r=e-t;return r?RZ(t,r):wT(isNaN(t)?e:t)}const K5=(function t(e){var r=PZ(e);function n(s,i){var o=r((s=fE(s)).r,(i=fE(i)).r),l=r(s.g,i.g),d=r(s.b,i.b),u=$9(s.opacity,i.opacity);return function(h){return s.r=o(h),s.g=l(h),s.b=d(h),s.opacity=u(h),s+""}}return n.gamma=t,n})(1);function LZ(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=t[s]*(1-i)+e[s]*i;return n}}function UZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function FZ(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Mu(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function BZ(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Ix(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function zZ(t,e){var r={},n={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?r[s]=Mu(t[s],e[s]):n[s]=e[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var hE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pw=new RegExp(hE.source,"g");function qZ(t){return function(){return t}}function VZ(t){return function(e){return t(e)+""}}function $Z(t,e){var r=hE.lastIndex=pw.lastIndex=0,n,s,i,o=-1,l=[],d=[];for(t=t+"",e=e+"";(n=hE.exec(t))&&(s=pw.exec(e));)(i=s.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,d.push({i:o,x:Ix(n,s)})),r=pw.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?d[0]?VZ(d[0].x):qZ(e):(e=d.length,function(u){for(var h=0,p;h<e;++h)l[(p=d[h]).i]=p.x(u);return l.join("")})}function Mu(t,e){var r=typeof e,n;return e==null||r==="boolean"?wT(e):(r==="number"?Ix:r==="string"?(n=$f(e))?(e=n,K5):$Z:e instanceof $f?K5:e instanceof Date?BZ:UZ(e)?LZ:Array.isArray(e)?FZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?zZ:Ix)(t,e)}function AT(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function GZ(t,e){e===void 0&&(e=t,t=Mu);for(var r=0,n=e.length-1,s=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(s,s=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function HZ(t){return function(){return t}}function Rx(t){return+t}var Y5=[0,1];function rn(t){return t}function pE(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:HZ(isNaN(e)?NaN:.5)}function KZ(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function YZ(t,e,r){var n=t[0],s=t[1],i=e[0],o=e[1];return s<n?(n=pE(s,n),i=r(o,i)):(n=pE(n,s),i=r(i,o)),function(l){return i(n(l))}}function WZ(t,e,r){var n=Math.min(t.length,e.length)-1,s=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)s[o]=pE(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var d=zh(t,l,1,n)-1;return i[d](s[d](l))}}function Vh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function sb(){var t=Y5,e=Y5,r=Mu,n,s,i,o=rn,l,d,u;function h(){var x=Math.min(t.length,e.length);return o!==rn&&(o=KZ(t[0],t[x-1])),l=x>2?WZ:YZ,d=u=null,p}function p(x){return x==null||isNaN(x=+x)?i:(d||(d=l(t.map(n),e,r)))(n(o(x)))}return p.invert=function(x){return o(s((u||(u=l(e,t.map(n),Ix)))(x)))},p.domain=function(x){return arguments.length?(t=Array.from(x,Rx),h()):t.slice()},p.range=function(x){return arguments.length?(e=Array.from(x),h()):e.slice()},p.rangeRound=function(x){return e=Array.from(x),r=AT,h()},p.clamp=function(x){return arguments.length?(o=x?!0:rn,h()):o!==rn},p.interpolate=function(x){return arguments.length?(r=x,h()):r},p.unknown=function(x){return arguments.length?(i=x,p):i},function(x,v){return n=x,s=v,h()}}function ET(){return sb()(rn,rn)}function XZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Mx(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function lu(t){return t=Mx(Math.abs(t)),t?t[1]:NaN}function JZ(t,e){return function(r,n){for(var s=r.length,i=[],o=0,l=t[0],d=0;s>0&&l>0&&(d+l+1>n&&(l=Math.max(1,n-d)),i.push(r.substring(s-=l,s+l)),!((d+=l+1)>n));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function QZ(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var ZZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gf(t){if(!(e=ZZ.exec(t)))throw new Error("invalid format: "+t);var e;return new jT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Gf.prototype=jT.prototype;function jT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}jT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eee(t){e:for(var e=t.length,r=1,n=-1,s;r<e;++r)switch(t[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(s+1):t}var Px;function tee(t,e){var r=Mx(t,e);if(!r)return Px=void 0,t.toPrecision(e);var n=r[0],s=r[1],i=s-(Px=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Mx(t,Math.max(0,e+i-1))[0]}function W5(t,e){var r=Mx(t,e);if(!r)return t+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const X5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:XZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>W5(t*100,e),r:W5,s:tee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function J5(t){return t}var Q5=Array.prototype.map,Z5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ree(t){var e=t.grouping===void 0||t.thousands===void 0?J5:JZ(Q5.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?J5:QZ(Q5.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function u(p,x){p=Gf(p);var v=p.fill,b=p.align,w=p.sign,g=p.symbol,S=p.zero,k=p.width,y=p.comma,j=p.precision,T=p.trim,_=p.type;_==="n"?(y=!0,_="g"):X5[_]||(j===void 0&&(j=12),T=!0,_="g"),(S||v==="0"&&b==="=")&&(S=!0,v="0",b="=");var O=(x&&x.prefix!==void 0?x.prefix:"")+(g==="$"?r:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():""),M=(g==="$"?n:/[%p]/.test(_)?o:"")+(x&&x.suffix!==void 0?x.suffix:""),D=X5[_],F=/[defgprs%]/.test(_);j=j===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function q(L){var B=O,X=M,P,U,z;if(_==="c")X=D(L)+X,L="";else{L=+L;var V=L<0||1/L<0;if(L=isNaN(L)?d:D(Math.abs(L),j),T&&(L=eee(L)),V&&+L==0&&w!=="+"&&(V=!1),B=(V?w==="("?w:l:w==="-"||w==="("?"":w)+B,X=(_==="s"&&!isNaN(L)&&Px!==void 0?Z5[8+Px/3]:"")+X+(V&&w==="("?")":""),F){for(P=-1,U=L.length;++P<U;)if(z=L.charCodeAt(P),48>z||z>57){X=(z===46?s+L.slice(P+1):L.slice(P))+X,L=L.slice(0,P);break}}}y&&!S&&(L=e(L,1/0));var Y=B.length+L.length+X.length,se=Y<k?new Array(k-Y+1).join(v):"";switch(y&&S&&(L=e(se+L,se.length?k-X.length:1/0),se=""),b){case"<":L=B+L+X+se;break;case"=":L=B+se+L+X;break;case"^":L=se.slice(0,Y=se.length>>1)+B+L+X+se.slice(Y);break;default:L=se+B+L+X;break}return i(L)}return q.toString=function(){return p+""},q}function h(p,x){var v=Math.max(-8,Math.min(8,Math.floor(lu(x)/3)))*3,b=Math.pow(10,-v),w=u((p=Gf(p),p.type="f",p),{suffix:Z5[8+v/3]});return function(g){return w(b*g)}}return{format:u,formatPrefix:h}}var km,TT,G9;aee({thousands:",",grouping:[3],currency:["$",""]});function aee(t){return km=ree(t),TT=km.format,G9=km.formatPrefix,km}function nee(t){return Math.max(0,-lu(Math.abs(t)))}function see(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lu(e)/3)))*3-lu(Math.abs(t)))}function iee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,lu(e)-lu(t))+1}function H9(t,e,r,n){var s=dE(t,e,r),i;switch(n=Gf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=see(s,o))&&(n.precision=i),G9(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=iee(s,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=nee(s))&&(n.precision=i-(n.type==="%")*2);break}}return TT(n)}function il(t){var e=t.domain;return t.ticks=function(r){var n=e();return lE(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var s=e();return H9(s[0],s[s.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),s=0,i=n.length-1,o=n[s],l=n[i],d,u,h=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);h-- >0;){if(u=cE(o,l,r),u===d)return n[s]=o,n[i]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;d=u}return t},t}function Lx(){var t=ET();return t.copy=function(){return Vh(t,Lx())},vs.apply(t,arguments),il(t)}function K9(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Rx),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return K9(t).unknown(e)},t=arguments.length?Array.from(t,Rx):[0,1],il(r)}function Y9(t,e){t=t.slice();var r=0,n=t.length-1,s=t[r],i=t[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),t[r]=e.floor(s),t[n]=e.ceil(i),t}function eR(t){return Math.log(t)}function tR(t){return Math.exp(t)}function oee(t){return-Math.log(-t)}function lee(t){return-Math.exp(-t)}function cee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function dee(t){return t===10?cee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function uee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function rR(t){return(e,r)=>-t(-e,r)}function ST(t){const e=t(eR,tR),r=e.domain;let n=10,s,i;function o(){return s=uee(n),i=dee(n),r()[0]<0?(s=rR(s),i=rR(i),t(oee,lee)):t(eR,tR),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const d=r();let u=d[0],h=d[d.length-1];const p=h<u;p&&([u,h]=[h,u]);let x=s(u),v=s(h),b,w;const g=l==null?10:+l;let S=[];if(!(n%1)&&v-x<g){if(x=Math.floor(x),v=Math.ceil(v),u>0){for(;x<=v;++x)for(b=1;b<n;++b)if(w=x<0?b/i(-x):b*i(x),!(w<u)){if(w>h)break;S.push(w)}}else for(;x<=v;++x)for(b=n-1;b>=1;--b)if(w=x>0?b/i(-x):b*i(x),!(w<u)){if(w>h)break;S.push(w)}S.length*2<g&&(S=lE(u,h,g))}else S=lE(x,v,Math.min(v-x,g)).map(i);return p?S.reverse():S},e.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Gf(d)).precision==null&&(d.trim=!0),d=TT(d)),l===1/0)return d;const u=Math.max(1,n*l/e.ticks().length);return h=>{let p=h/i(Math.round(s(h)));return p*n<n-.5&&(p*=n),p<=u?d(h):""}},e.nice=()=>r(Y9(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),e}function W9(){const t=ST(sb()).domain([1,10]);return t.copy=()=>Vh(t,W9()).base(t.base()),vs.apply(t,arguments),t}function aR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function nR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function kT(t){var e=1,r=t(aR(e),nR(e));return r.constant=function(n){return arguments.length?t(aR(e=+n),nR(e)):e},il(r)}function X9(){var t=kT(sb());return t.copy=function(){return Vh(t,X9()).constant(t.constant())},vs.apply(t,arguments)}function sR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function fee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hee(t){return t<0?-t*t:t*t}function _T(t){var e=t(rn,rn),r=1;function n(){return r===1?t(rn,rn):r===.5?t(fee,hee):t(sR(r),sR(1/r))}return e.exponent=function(s){return arguments.length?(r=+s,n()):r},il(e)}function CT(){var t=_T(sb());return t.copy=function(){return Vh(t,CT()).exponent(t.exponent())},vs.apply(t,arguments),t}function pee(){return CT.apply(null,arguments).exponent(.5)}function iR(t){return Math.sign(t)*t*t}function mee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function J9(){var t=ET(),e=[0,1],r=!1,n;function s(i){var o=mee(t(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return t.invert(iR(i))},s.domain=function(i){return arguments.length?(t.domain(i),s):t.domain()},s.range=function(i){return arguments.length?(t.range((e=Array.from(i,Rx)).map(iR)),s):e.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(t.clamp(i),s):t.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return J9(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},vs.apply(s,arguments),il(s)}function Q9(){var t=[],e=[],r=[],n;function s(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=yZ(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:e[zh(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Ko),s()},i.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return Q9().domain(t).range(e).unknown(n)},vs.apply(i,arguments)}function Z9(){var t=0,e=1,r=1,n=[.5],s=[0,1],i;function o(d){return d!=null&&d<=d?s[zh(n,d,0,r)]:i}function l(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,l()):[t,e]},o.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,l()):s.slice()},o.invertExtent=function(d){var u=s.indexOf(d);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Z9().domain([t,e]).range(s).unknown(i)},vs.apply(il(o),arguments)}function eU(){var t=[.5],e=[0,1],r,n=1;function s(i){return i!=null&&i<=i?e[zh(t,i,0,n)]:r}return s.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return eU().domain(t).range(e).unknown(r)},vs.apply(s,arguments)}const mw=new Date,xw=new Date;function ba(t,e,r,n){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const d=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return d;let u;do d.push(u=new Date(+i)),e(i,l),t(i);while(u<i&&i<o);return d},s.filter=i=>ba(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(s.count=(i,o)=>(mw.setTime(+i),xw.setTime(+o),t(mw),t(xw),Math.floor(r(mw,xw))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Ux=ba(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ux.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ba(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Ux);Ux.range;const Mi=1e3,xs=Mi*60,Pi=xs*60,Xi=Pi*24,OT=Xi*7,oR=Xi*30,gw=Xi*365,Kl=ba(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getUTCSeconds());Kl.range;const DT=ba(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Mi)},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getMinutes());DT.range;const IT=ba(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getUTCMinutes());IT.range;const RT=ba(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Mi-t.getMinutes()*xs)},(t,e)=>{t.setTime(+t+e*Pi)},(t,e)=>(e-t)/Pi,t=>t.getHours());RT.range;const MT=ba(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Pi)},(t,e)=>(e-t)/Pi,t=>t.getUTCHours());MT.range;const $h=ba(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*xs)/Xi,t=>t.getDate()-1);$h.range;const ib=ba(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Xi,t=>t.getUTCDate()-1);ib.range;const tU=ba(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Xi,t=>Math.floor(t/Xi));tU.range;function Ec(t){return ba(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*xs)/OT)}const ob=Ec(0),Fx=Ec(1),xee=Ec(2),gee=Ec(3),cu=Ec(4),bee=Ec(5),vee=Ec(6);ob.range;Fx.range;xee.range;gee.range;cu.range;bee.range;vee.range;function jc(t){return ba(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/OT)}const lb=jc(0),Bx=jc(1),yee=jc(2),Nee=jc(3),du=jc(4),wee=jc(5),Aee=jc(6);lb.range;Bx.range;yee.range;Nee.range;du.range;wee.range;Aee.range;const PT=ba(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());PT.range;const LT=ba(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());LT.range;const Ji=ba(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ji.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ba(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ji.range;const Qi=ba(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ba(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Qi.range;function rU(t,e,r,n,s,i){const o=[[Kl,1,Mi],[Kl,5,5*Mi],[Kl,15,15*Mi],[Kl,30,30*Mi],[i,1,xs],[i,5,5*xs],[i,15,15*xs],[i,30,30*xs],[s,1,Pi],[s,3,3*Pi],[s,6,6*Pi],[s,12,12*Pi],[n,1,Xi],[n,2,2*Xi],[r,1,OT],[e,1,oR],[e,3,3*oR],[t,1,gw]];function l(u,h,p){const x=h<u;x&&([u,h]=[h,u]);const v=p&&typeof p.range=="function"?p:d(u,h,p),b=v?v.range(u,+h+1):[];return x?b.reverse():b}function d(u,h,p){const x=Math.abs(h-u)/p,v=vT(([,,g])=>g).right(o,x);if(v===o.length)return t.every(dE(u/gw,h/gw,p));if(v===0)return Ux.every(Math.max(dE(u,h,p),1));const[b,w]=o[x/o[v-1][2]<o[v][2]/x?v-1:v];return b.every(w)}return[l,d]}const[Eee,jee]=rU(Qi,LT,lb,tU,MT,IT),[Tee,See]=rU(Ji,PT,ob,$h,RT,DT);function bw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function vw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function z0(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function kee(t){var e=t.dateTime,r=t.date,n=t.time,s=t.periods,i=t.days,o=t.shortDays,l=t.months,d=t.shortMonths,u=q0(s),h=V0(s),p=q0(i),x=V0(i),v=q0(o),b=V0(o),w=q0(l),g=V0(l),S=q0(d),k=V0(d),y={a:z,A:V,b:Y,B:se,c:null,d:hR,e:hR,f:Jee,g:ote,G:cte,H:Yee,I:Wee,j:Xee,L:aU,m:Qee,M:Zee,p:K,q:G,Q:xR,s:gR,S:ete,u:tte,U:rte,V:ate,w:nte,W:ste,x:null,X:null,y:ite,Y:lte,Z:dte,"%":mR},j={a:W,A:Q,b:ee,B:he,c:null,d:pR,e:pR,f:pte,g:Ete,G:Tte,H:ute,I:fte,j:hte,L:sU,m:mte,M:xte,p:je,q:me,Q:xR,s:gR,S:gte,u:bte,U:vte,V:yte,w:Nte,W:wte,x:null,X:null,y:Ate,Y:jte,Z:Ste,"%":mR},T={a:F,A:q,b:L,B,c:X,d:uR,e:uR,f:$ee,g:dR,G:cR,H:fR,I:fR,j:Bee,L:Vee,m:Fee,M:zee,p:D,q:Uee,Q:Hee,s:Kee,S:qee,u:Iee,U:Ree,V:Mee,w:Dee,W:Pee,x:P,X:U,y:dR,Y:cR,Z:Lee,"%":Gee};y.x=_(r,y),y.X=_(n,y),y.c=_(e,y),j.x=_(r,j),j.X=_(n,j),j.c=_(e,j);function _(re,ge){return function(Me){var J=[],Ae=-1,ne=0,ve=re.length,we,Ee,fe;for(Me instanceof Date||(Me=new Date(+Me));++Ae<ve;)re.charCodeAt(Ae)===37&&(J.push(re.slice(ne,Ae)),(Ee=lR[we=re.charAt(++Ae)])!=null?we=re.charAt(++Ae):Ee=we==="e"?" ":"0",(fe=ge[we])&&(we=fe(Me,Ee)),J.push(we),ne=Ae+1);return J.push(re.slice(ne,Ae)),J.join("")}}function O(re,ge){return function(Me){var J=z0(1900,void 0,1),Ae=M(J,re,Me+="",0),ne,ve;if(Ae!=Me.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(ge&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(ne=vw(z0(J.y,0,1)),ve=ne.getUTCDay(),ne=ve>4||ve===0?Bx.ceil(ne):Bx(ne),ne=ib.offset(ne,(J.V-1)*7),J.y=ne.getUTCFullYear(),J.m=ne.getUTCMonth(),J.d=ne.getUTCDate()+(J.w+6)%7):(ne=bw(z0(J.y,0,1)),ve=ne.getDay(),ne=ve>4||ve===0?Fx.ceil(ne):Fx(ne),ne=$h.offset(ne,(J.V-1)*7),J.y=ne.getFullYear(),J.m=ne.getMonth(),J.d=ne.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),ve="Z"in J?vw(z0(J.y,0,1)).getUTCDay():bw(z0(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(ve+5)%7:J.w+J.U*7-(ve+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,vw(J)):bw(J)}}function M(re,ge,Me,J){for(var Ae=0,ne=ge.length,ve=Me.length,we,Ee;Ae<ne;){if(J>=ve)return-1;if(we=ge.charCodeAt(Ae++),we===37){if(we=ge.charAt(Ae++),Ee=T[we in lR?ge.charAt(Ae++):we],!Ee||(J=Ee(re,Me,J))<0)return-1}else if(we!=Me.charCodeAt(J++))return-1}return J}function D(re,ge,Me){var J=u.exec(ge.slice(Me));return J?(re.p=h.get(J[0].toLowerCase()),Me+J[0].length):-1}function F(re,ge,Me){var J=v.exec(ge.slice(Me));return J?(re.w=b.get(J[0].toLowerCase()),Me+J[0].length):-1}function q(re,ge,Me){var J=p.exec(ge.slice(Me));return J?(re.w=x.get(J[0].toLowerCase()),Me+J[0].length):-1}function L(re,ge,Me){var J=S.exec(ge.slice(Me));return J?(re.m=k.get(J[0].toLowerCase()),Me+J[0].length):-1}function B(re,ge,Me){var J=w.exec(ge.slice(Me));return J?(re.m=g.get(J[0].toLowerCase()),Me+J[0].length):-1}function X(re,ge,Me){return M(re,e,ge,Me)}function P(re,ge,Me){return M(re,r,ge,Me)}function U(re,ge,Me){return M(re,n,ge,Me)}function z(re){return o[re.getDay()]}function V(re){return i[re.getDay()]}function Y(re){return d[re.getMonth()]}function se(re){return l[re.getMonth()]}function K(re){return s[+(re.getHours()>=12)]}function G(re){return 1+~~(re.getMonth()/3)}function W(re){return o[re.getUTCDay()]}function Q(re){return i[re.getUTCDay()]}function ee(re){return d[re.getUTCMonth()]}function he(re){return l[re.getUTCMonth()]}function je(re){return s[+(re.getUTCHours()>=12)]}function me(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var ge=_(re+="",y);return ge.toString=function(){return re},ge},parse:function(re){var ge=O(re+="",!1);return ge.toString=function(){return re},ge},utcFormat:function(re){var ge=_(re+="",j);return ge.toString=function(){return re},ge},utcParse:function(re){var ge=O(re+="",!0);return ge.toString=function(){return re},ge}}}var lR={"-":"",_:" ",0:"0"},ka=/^\s*\d+/,_ee=/^%/,Cee=/[\\^$*+?|[\]().{}]/g;function or(t,e,r){var n=t<0?"-":"",s=(n?-t:t)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(e)+s:s)}function Oee(t){return t.replace(Cee,"\\$&")}function q0(t){return new RegExp("^(?:"+t.map(Oee).join("|")+")","i")}function V0(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Dee(t,e,r){var n=ka.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Iee(t,e,r){var n=ka.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Ree(t,e,r){var n=ka.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Mee(t,e,r){var n=ka.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Pee(t,e,r){var n=ka.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function cR(t,e,r){var n=ka.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function dR(t,e,r){var n=ka.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Lee(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Uee(t,e,r){var n=ka.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Fee(t,e,r){var n=ka.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function uR(t,e,r){var n=ka.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Bee(t,e,r){var n=ka.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function fR(t,e,r){var n=ka.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function zee(t,e,r){var n=ka.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function qee(t,e,r){var n=ka.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Vee(t,e,r){var n=ka.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function $ee(t,e,r){var n=ka.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Gee(t,e,r){var n=_ee.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Hee(t,e,r){var n=ka.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Kee(t,e,r){var n=ka.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function hR(t,e){return or(t.getDate(),e,2)}function Yee(t,e){return or(t.getHours(),e,2)}function Wee(t,e){return or(t.getHours()%12||12,e,2)}function Xee(t,e){return or(1+$h.count(Ji(t),t),e,3)}function aU(t,e){return or(t.getMilliseconds(),e,3)}function Jee(t,e){return aU(t,e)+"000"}function Qee(t,e){return or(t.getMonth()+1,e,2)}function Zee(t,e){return or(t.getMinutes(),e,2)}function ete(t,e){return or(t.getSeconds(),e,2)}function tte(t){var e=t.getDay();return e===0?7:e}function rte(t,e){return or(ob.count(Ji(t)-1,t),e,2)}function nU(t){var e=t.getDay();return e>=4||e===0?cu(t):cu.ceil(t)}function ate(t,e){return t=nU(t),or(cu.count(Ji(t),t)+(Ji(t).getDay()===4),e,2)}function nte(t){return t.getDay()}function ste(t,e){return or(Fx.count(Ji(t)-1,t),e,2)}function ite(t,e){return or(t.getFullYear()%100,e,2)}function ote(t,e){return t=nU(t),or(t.getFullYear()%100,e,2)}function lte(t,e){return or(t.getFullYear()%1e4,e,4)}function cte(t,e){var r=t.getDay();return t=r>=4||r===0?cu(t):cu.ceil(t),or(t.getFullYear()%1e4,e,4)}function dte(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+or(e/60|0,"0",2)+or(e%60,"0",2)}function pR(t,e){return or(t.getUTCDate(),e,2)}function ute(t,e){return or(t.getUTCHours(),e,2)}function fte(t,e){return or(t.getUTCHours()%12||12,e,2)}function hte(t,e){return or(1+ib.count(Qi(t),t),e,3)}function sU(t,e){return or(t.getUTCMilliseconds(),e,3)}function pte(t,e){return sU(t,e)+"000"}function mte(t,e){return or(t.getUTCMonth()+1,e,2)}function xte(t,e){return or(t.getUTCMinutes(),e,2)}function gte(t,e){return or(t.getUTCSeconds(),e,2)}function bte(t){var e=t.getUTCDay();return e===0?7:e}function vte(t,e){return or(lb.count(Qi(t)-1,t),e,2)}function iU(t){var e=t.getUTCDay();return e>=4||e===0?du(t):du.ceil(t)}function yte(t,e){return t=iU(t),or(du.count(Qi(t),t)+(Qi(t).getUTCDay()===4),e,2)}function Nte(t){return t.getUTCDay()}function wte(t,e){return or(Bx.count(Qi(t)-1,t),e,2)}function Ate(t,e){return or(t.getUTCFullYear()%100,e,2)}function Ete(t,e){return t=iU(t),or(t.getUTCFullYear()%100,e,2)}function jte(t,e){return or(t.getUTCFullYear()%1e4,e,4)}function Tte(t,e){var r=t.getUTCDay();return t=r>=4||r===0?du(t):du.ceil(t),or(t.getUTCFullYear()%1e4,e,4)}function Ste(){return"+0000"}function mR(){return"%"}function xR(t){return+t}function gR(t){return Math.floor(+t/1e3)}var xd,oU,lU;kte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kte(t){return xd=kee(t),oU=xd.format,xd.parse,lU=xd.utcFormat,xd.utcParse,xd}function _te(t){return new Date(t)}function Cte(t){return t instanceof Date?+t:+new Date(+t)}function UT(t,e,r,n,s,i,o,l,d,u){var h=ET(),p=h.invert,x=h.domain,v=u(".%L"),b=u(":%S"),w=u("%I:%M"),g=u("%I %p"),S=u("%a %d"),k=u("%b %d"),y=u("%B"),j=u("%Y");function T(_){return(d(_)<_?v:l(_)<_?b:o(_)<_?w:i(_)<_?g:n(_)<_?s(_)<_?S:k:r(_)<_?y:j)(_)}return h.invert=function(_){return new Date(p(_))},h.domain=function(_){return arguments.length?x(Array.from(_,Cte)):x().map(_te)},h.ticks=function(_){var O=x();return t(O[0],O[O.length-1],_??10)},h.tickFormat=function(_,O){return O==null?T:u(O)},h.nice=function(_){var O=x();return(!_||typeof _.range!="function")&&(_=e(O[0],O[O.length-1],_??10)),_?x(Y9(O,_)):h},h.copy=function(){return Vh(h,UT(t,e,r,n,s,i,o,l,d,u))},h}function Ote(){return vs.apply(UT(Tee,See,Ji,PT,ob,$h,RT,DT,Kl,oU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Dte(){return vs.apply(UT(Eee,jee,Qi,LT,lb,ib,MT,IT,Kl,lU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cb(){var t=0,e=1,r,n,s,i,o=rn,l=!1,d;function u(p){return p==null||isNaN(p=+p)?d:o(s===0?.5:(p=(i(p)-r)*s,l?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([t,e]=p,r=i(t=+t),n=i(e=+e),s=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(p){return arguments.length?(l=!!p,u):l},u.interpolator=function(p){return arguments.length?(o=p,u):o};function h(p){return function(x){var v,b;return arguments.length?([v,b]=x,o=p(v,b),u):[o(0),o(1)]}}return u.range=h(Mu),u.rangeRound=h(AT),u.unknown=function(p){return arguments.length?(d=p,u):d},function(p){return i=p,r=p(t),n=p(e),s=r===n?0:1/(n-r),u}}function ol(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function cU(){var t=il(cb()(rn));return t.copy=function(){return ol(t,cU())},ao.apply(t,arguments)}function dU(){var t=ST(cb()).domain([1,10]);return t.copy=function(){return ol(t,dU()).base(t.base())},ao.apply(t,arguments)}function uU(){var t=kT(cb());return t.copy=function(){return ol(t,uU()).constant(t.constant())},ao.apply(t,arguments)}function FT(){var t=_T(cb());return t.copy=function(){return ol(t,FT()).exponent(t.exponent())},ao.apply(t,arguments)}function Ite(){return FT.apply(null,arguments).exponent(.5)}function fU(){var t=[],e=rn;function r(n){if(n!=null&&!isNaN(n=+n))return e((zh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let s of n)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ko),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,s)=>e(s/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>vZ(t,i/n))},r.copy=function(){return fU(e).domain(t)},ao.apply(r,arguments)}function db(){var t=0,e=.5,r=1,n=1,s,i,o,l,d,u=rn,h,p=!1,x;function v(w){return isNaN(w=+w)?x:(w=.5+((w=+h(w))-i)*(n*w<n*i?l:d),u(p?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([t,e,r]=w,s=h(t=+t),i=h(e=+e),o=h(r=+r),l=s===i?0:.5/(i-s),d=i===o?0:.5/(o-i),n=i<s?-1:1,v):[t,e,r]},v.clamp=function(w){return arguments.length?(p=!!w,v):p},v.interpolator=function(w){return arguments.length?(u=w,v):u};function b(w){return function(g){var S,k,y;return arguments.length?([S,k,y]=g,u=GZ(w,[S,k,y]),v):[u(0),u(.5),u(1)]}}return v.range=b(Mu),v.rangeRound=b(AT),v.unknown=function(w){return arguments.length?(x=w,v):x},function(w){return h=w,s=w(t),i=w(e),o=w(r),l=s===i?0:.5/(i-s),d=i===o?0:.5/(o-i),n=i<s?-1:1,v}}function hU(){var t=il(db()(rn));return t.copy=function(){return ol(t,hU())},ao.apply(t,arguments)}function pU(){var t=ST(db()).domain([.1,1,10]);return t.copy=function(){return ol(t,pU()).base(t.base())},ao.apply(t,arguments)}function mU(){var t=kT(db());return t.copy=function(){return ol(t,mU()).constant(t.constant())},ao.apply(t,arguments)}function BT(){var t=_T(db());return t.copy=function(){return ol(t,BT()).exponent(t.exponent())},ao.apply(t,arguments)}function Rte(){return BT.apply(null,arguments).exponent(.5)}const bR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zf,scaleDiverging:hU,scaleDivergingLog:pU,scaleDivergingPow:BT,scaleDivergingSqrt:Rte,scaleDivergingSymlog:mU,scaleIdentity:K9,scaleImplicit:uE,scaleLinear:Lx,scaleLog:W9,scaleOrdinal:yT,scalePoint:hf,scalePow:CT,scaleQuantile:Q9,scaleQuantize:Z9,scaleRadial:J9,scaleSequential:cU,scaleSequentialLog:dU,scaleSequentialPow:FT,scaleSequentialQuantile:fU,scaleSequentialSqrt:Ite,scaleSequentialSymlog:uU,scaleSqrt:pee,scaleSymlog:X9,scaleThreshold:eU,scaleTime:Ote,scaleUtc:Dte,tickFormat:H9},Symbol.toStringTag,{value:"Module"}));var yw,vR;function ub(){if(vR)return yw;vR=1;var t=Ou();function e(r,n,s){for(var i=-1,o=r.length;++i<o;){var l=r[i],d=n(l);if(d!=null&&(u===void 0?d===d&&!t(d):s(d,u)))var u=d,h=l}return h}return yw=e,yw}var Nw,yR;function xU(){if(yR)return Nw;yR=1;function t(e,r){return e>r}return Nw=t,Nw}var ww,NR;function Mte(){if(NR)return ww;NR=1;var t=ub(),e=xU(),r=Ru();function n(s){return s&&s.length?t(s,r,e):void 0}return ww=n,ww}var Pte=Mte();const fb=fr(Pte);var Aw,wR;function gU(){if(wR)return Aw;wR=1;function t(e,r){return e<r}return Aw=t,Aw}var Ew,AR;function Lte(){if(AR)return Ew;AR=1;var t=ub(),e=gU(),r=Ru();function n(s){return s&&s.length?t(s,r,e):void 0}return Ew=n,Ew}var Ute=Lte();const hb=fr(Ute);var jw,ER;function Fte(){if(ER)return jw;ER=1;var t=rT(),e=di(),r=T9(),n=An();function s(i,o){var l=n(i)?t:r;return l(i,e(o,3))}return jw=s,jw}var Tw,jR;function Bte(){if(jR)return Tw;jR=1;var t=E9(),e=Fte();function r(n,s){return t(e(n,s),1)}return Tw=r,Tw}var zte=Bte();const qte=fr(zte);var Sw,TR;function Vte(){if(TR)return Sw;TR=1;var t=mT();function e(r,n){return t(r,n)}return Sw=e,Sw}var $te=Vte();const Gh=fr($te);var Pu=1e9,Gte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qT,Br=!0,gs="[DecimalError] ",Zl=gs+"Invalid argument: ",zT=gs+"Exponent out of range: ",Lu=Math.floor,Fl=Math.pow,Hte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fn,wa=1e7,Rr=7,bU=9007199254740991,zx=Lu(bU/Rr),rt={};rt.absoluteValue=rt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};rt.comparedTo=rt.cmp=function(t){var e,r,n,s,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,s=t.d.length,e=0,r=n<s?n:s;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};rt.decimalPlaces=rt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Rr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};rt.dividedBy=rt.div=function(t){return qi(this,new this.constructor(t))};rt.dividedToIntegerBy=rt.idiv=function(t){var e=this,r=e.constructor;return Nr(qi(e,new r(t),0,1),r.precision)};rt.equals=rt.eq=function(t){return!this.cmp(t)};rt.exponent=function(){return oa(this)};rt.greaterThan=rt.gt=function(t){return this.cmp(t)>0};rt.greaterThanOrEqualTo=rt.gte=function(t){return this.cmp(t)>=0};rt.isInteger=rt.isint=function(){return this.e>this.d.length-2};rt.isNegative=rt.isneg=function(){return this.s<0};rt.isPositive=rt.ispos=function(){return this.s>0};rt.isZero=function(){return this.s===0};rt.lessThan=rt.lt=function(t){return this.cmp(t)<0};rt.lessThanOrEqualTo=rt.lte=function(t){return this.cmp(t)<1};rt.logarithm=rt.log=function(t){var e,r=this,n=r.constructor,s=n.precision,i=s+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Fn))throw Error(gs+"NaN");if(r.s<1)throw Error(gs+(r.s?"NaN":"-Infinity"));return r.eq(Fn)?new n(0):(Br=!1,e=qi(Hf(r,i),Hf(t,i),i),Br=!0,Nr(e,s))};rt.minus=rt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?NU(e,t):vU(e,(t.s=-t.s,t))};rt.modulo=rt.mod=function(t){var e,r=this,n=r.constructor,s=n.precision;if(t=new n(t),!t.s)throw Error(gs+"NaN");return r.s?(Br=!1,e=qi(r,t,0,1).times(t),Br=!0,r.minus(e)):Nr(new n(r),s)};rt.naturalExponential=rt.exp=function(){return yU(this)};rt.naturalLogarithm=rt.ln=function(){return Hf(this)};rt.negated=rt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};rt.plus=rt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?vU(e,t):NU(e,(t.s=-t.s,t))};rt.precision=rt.sd=function(t){var e,r,n,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Zl+t);if(e=oa(s)+1,n=s.d.length-1,r=n*Rr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};rt.squareRoot=rt.sqrt=function(){var t,e,r,n,s,i,o,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(gs+"NaN")}for(t=oa(l),Br=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=Zs(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=Lu((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(s.toString()),r=d.precision,s=o=r+3;;)if(i=n,n=i.plus(qi(l,i,o+2)).times(.5),Zs(i.d).slice(0,o)===(e=Zs(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(Nr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;o+=4}return Br=!0,Nr(n,r)};rt.times=rt.mul=function(t){var e,r,n,s,i,o,l,d,u,h=this,p=h.constructor,x=h.d,v=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,r=h.e+t.e,d=x.length,u=v.length,d<u&&(i=x,x=v,v=i,o=d,d=u,u=o),i=[],o=d+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,s=d+n;s>n;)l=i[s]+v[n]*x[s-n-1]+e,i[s--]=l%wa|0,e=l/wa|0;i[s]=(i[s]+e)%wa|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Br?Nr(t,p.precision):t};rt.toDecimalPlaces=rt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(si(t,0,Pu),e===void 0?e=n.rounding:si(e,0,8),Nr(r,t+oa(r)+1,e))};rt.toExponential=function(t,e){var r,n=this,s=n.constructor;return t===void 0?r=fc(n,!0):(si(t,0,Pu),e===void 0?e=s.rounding:si(e,0,8),n=Nr(new s(n),t+1,e),r=fc(n,!0,t+1)),r};rt.toFixed=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?fc(s):(si(t,0,Pu),e===void 0?e=i.rounding:si(e,0,8),n=Nr(new i(s),t+oa(s)+1,e),r=fc(n.abs(),!1,t+oa(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};rt.toInteger=rt.toint=function(){var t=this,e=t.constructor;return Nr(new e(t),oa(t)+1,e.rounding)};rt.toNumber=function(){return+this};rt.toPower=rt.pow=function(t){var e,r,n,s,i,o,l=this,d=l.constructor,u=12,h=+(t=new d(t));if(!t.s)return new d(Fn);if(l=new d(l),!l.s){if(t.s<1)throw Error(gs+"Infinity");return l}if(l.eq(Fn))return l;if(n=d.precision,t.eq(Fn))return Nr(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=h<0?-h:h)<=bU){for(s=new d(Fn),e=Math.ceil(n/Rr+4),Br=!1;r%2&&(s=s.times(l),kR(s.d,e)),r=Lu(r/2),r!==0;)l=l.times(l),kR(l.d,e);return Br=!0,t.s<0?new d(Fn).div(s):Nr(s,n)}}else if(i<0)throw Error(gs+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Br=!1,s=t.times(Hf(l,n+u)),Br=!0,s=yU(s),s.s=i,s};rt.toPrecision=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?(r=oa(s),n=fc(s,r<=i.toExpNeg||r>=i.toExpPos)):(si(t,1,Pu),e===void 0?e=i.rounding:si(e,0,8),s=Nr(new i(s),t,e),r=oa(s),n=fc(s,t<=r||r<=i.toExpNeg,t)),n};rt.toSignificantDigits=rt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(si(t,1,Pu),e===void 0?e=n.rounding:si(e,0,8)),Nr(new n(r),t,e)};rt.toString=rt.valueOf=rt.val=rt.toJSON=rt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=oa(t),r=t.constructor;return fc(t,e<=r.toExpNeg||e>=r.toExpPos)};function vU(t,e){var r,n,s,i,o,l,d,u,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Br?Nr(e,p):e;if(d=t.d,u=e.d,o=t.e,s=e.e,d=d.slice(),i=o-s,i){for(i<0?(n=d,i=-i,l=u.length):(n=u,s=o,l=d.length),o=Math.ceil(p/Rr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=d.length,i=u.length,l-i<0&&(i=l,n=u,u=d,d=n),r=0;i;)r=(d[--i]=d[i]+u[i]+r)/wa|0,d[i]%=wa;for(r&&(d.unshift(r),++s),l=d.length;d[--l]==0;)d.pop();return e.d=d,e.e=s,Br?Nr(e,p):e}function si(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Zl+t)}function Zs(t){var e,r,n,s=t.length-1,i="",o=t[0];if(s>0){for(i+=o,e=1;e<s;e++)n=t[e]+"",r=Rr-n.length,r&&(i+=Lo(r)),i+=n;o=t[e],n=o+"",r=Rr-n.length,r&&(i+=Lo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var qi=(function(){function t(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%wa|0,o=i/wa|0;return o&&n.unshift(o),n}function e(n,s,i,o){var l,d;if(i!=o)d=i>o?1:-1;else for(l=d=0;l<i;l++)if(n[l]!=s[l]){d=n[l]>s[l]?1:-1;break}return d}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*wa+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,d,u,h,p,x,v,b,w,g,S,k,y,j,T,_,O,M,D=n.constructor,F=n.s==s.s?1:-1,q=n.d,L=s.d;if(!n.s)return new D(n);if(!s.s)throw Error(gs+"Division by zero");for(d=n.e-s.e,O=L.length,T=q.length,v=new D(F),b=v.d=[],u=0;L[u]==(q[u]||0);)++u;if(L[u]>(q[u]||0)&&--d,i==null?k=i=D.precision:o?k=i+(oa(n)-oa(s))+1:k=i,k<0)return new D(0);if(k=k/Rr+2|0,u=0,O==1)for(h=0,L=L[0],k++;(u<T||h)&&k--;u++)y=h*wa+(q[u]||0),b[u]=y/L|0,h=y%L|0;else{for(h=wa/(L[0]+1)|0,h>1&&(L=t(L,h),q=t(q,h),O=L.length,T=q.length),j=O,w=q.slice(0,O),g=w.length;g<O;)w[g++]=0;M=L.slice(),M.unshift(0),_=L[0],L[1]>=wa/2&&++_;do h=0,l=e(L,w,O,g),l<0?(S=w[0],O!=g&&(S=S*wa+(w[1]||0)),h=S/_|0,h>1?(h>=wa&&(h=wa-1),p=t(L,h),x=p.length,g=w.length,l=e(p,w,x,g),l==1&&(h--,r(p,O<x?M:L,x))):(h==0&&(l=h=1),p=L.slice()),x=p.length,x<g&&p.unshift(0),r(w,p,g),l==-1&&(g=w.length,l=e(L,w,O,g),l<1&&(h++,r(w,O<g?M:L,g))),g=w.length):l===0&&(h++,w=[0]),b[u++]=h,l&&w[0]?w[g++]=q[j]||0:(w=[q[j]],g=1);while((j++<T||w[0]!==void 0)&&k--)}return b[0]||b.shift(),v.e=d,Nr(v,o?i+oa(v)+1:i)}})();function yU(t,e){var r,n,s,i,o,l,d=0,u=0,h=t.constructor,p=h.precision;if(oa(t)>16)throw Error(zT+oa(t));if(!t.s)return new h(Fn);for(Br=!1,l=p,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(Fl(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new h(Fn),h.precision=l;;){if(s=Nr(s.times(t),l),r=r.times(++d),o=i.plus(qi(s,r,l)),Zs(o.d).slice(0,l)===Zs(i.d).slice(0,l)){for(;u--;)i=Nr(i.times(i),l);return h.precision=p,e==null?(Br=!0,Nr(i,p)):i}i=o}}function oa(t){for(var e=t.e*Rr,r=t.d[0];r>=10;r/=10)e++;return e}function kw(t,e,r){if(e>t.LN10.sd())throw Br=!0,r&&(t.precision=r),Error(gs+"LN10 precision limit exceeded");return Nr(new t(t.LN10),e)}function Lo(t){for(var e="";t--;)e+="0";return e}function Hf(t,e){var r,n,s,i,o,l,d,u,h,p=1,x=10,v=t,b=v.d,w=v.constructor,g=w.precision;if(v.s<1)throw Error(gs+(v.s?"NaN":"-Infinity"));if(v.eq(Fn))return new w(0);if(e==null?(Br=!1,u=g):u=e,v.eq(10))return e==null&&(Br=!0),kw(w,u);if(u+=x,w.precision=u,r=Zs(b),n=r.charAt(0),i=oa(v),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=Zs(v.d),n=r.charAt(0),p++;i=oa(v),n>1?(v=new w("0."+r),i++):v=new w(n+"."+r.slice(1))}else return d=kw(w,u+2,g).times(i+""),v=Hf(new w(n+"."+r.slice(1)),u-x).plus(d),w.precision=g,e==null?(Br=!0,Nr(v,g)):v;for(l=o=v=qi(v.minus(Fn),v.plus(Fn),u),h=Nr(v.times(v),u),s=3;;){if(o=Nr(o.times(h),u),d=l.plus(qi(o,new w(s),u)),Zs(d.d).slice(0,u)===Zs(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(kw(w,u+2,g).times(i+""))),l=qi(l,new w(p),u),w.precision=g,e==null?(Br=!0,Nr(l,g)):l;l=d,s+=2}}function SR(t,e){var r,n,s;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(n,s),e){if(s-=n,r=r-n-1,t.e=Lu(r/Rr),t.d=[],n=(r+1)%Rr,r<0&&(n+=Rr),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=Rr;n<s;)t.d.push(+e.slice(n,n+=Rr));e=e.slice(n),n=Rr-e.length}else n-=s;for(;n--;)e+="0";if(t.d.push(+e),Br&&(t.e>zx||t.e<-zx))throw Error(zT+r)}else t.s=0,t.e=0,t.d=[0];return t}function Nr(t,e,r){var n,s,i,o,l,d,u,h,p=t.d;for(o=1,i=p[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=Rr,s=e,u=p[h=0];else{if(h=Math.ceil((n+1)/Rr),i=p.length,h>=i)return t;for(u=i=p[h],o=1;i>=10;i/=10)o++;n%=Rr,s=n-Rr+o}if(r!==void 0&&(i=Fl(10,o-s-1),l=u/i%10|0,d=e<0||p[h+1]!==void 0||u%i,d=r<4?(l||d)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||d||r==6&&(n>0?s>0?u/Fl(10,o-s):0:p[h-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return d?(i=oa(t),p.length=1,e=e-i-1,p[0]=Fl(10,(Rr-e%Rr)%Rr),t.e=Lu(-e/Rr)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=h,i=1,h--):(p.length=h+1,i=Fl(10,Rr-n),p[h]=s>0?(u/Fl(10,o-s)%Fl(10,s)|0)*i:0),d)for(;;)if(h==0){(p[0]+=i)==wa&&(p[0]=1,++t.e);break}else{if(p[h]+=i,p[h]!=wa)break;p[h--]=0,i=1}for(n=p.length;p[--n]===0;)p.pop();if(Br&&(t.e>zx||t.e<-zx))throw Error(zT+oa(t));return t}function NU(t,e){var r,n,s,i,o,l,d,u,h,p,x=t.constructor,v=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),Br?Nr(e,v):e;if(d=t.d,p=e.d,n=e.e,u=t.e,d=d.slice(),o=u-n,o){for(h=o<0,h?(r=d,o=-o,l=p.length):(r=p,n=u,l=d.length),s=Math.max(Math.ceil(v/Rr),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=d.length,l=p.length,h=s<l,h&&(l=s),s=0;s<l;s++)if(d[s]!=p[s]){h=d[s]<p[s];break}o=0}for(h&&(r=d,d=p,p=r,e.s=-e.s),l=d.length,s=p.length-l;s>0;--s)d[l++]=0;for(s=p.length;s>o;){if(d[--s]<p[s]){for(i=s;i&&d[--i]===0;)d[i]=wa-1;--d[i],d[s]+=wa}d[s]-=p[s]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,Br?Nr(e,v):e):new x(0)}function fc(t,e,r){var n,s=oa(t),i=Zs(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Lo(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Lo(-s-1)+i,r&&(n=r-o)>0&&(i+=Lo(n))):s>=o?(i+=Lo(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Lo(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Lo(n))),t.s<0?"-"+i:i}function kR(t,e){if(t.length>e)return t.length=e,!0}function wU(t){var e,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Zl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return SR(o,i.toString())}else if(typeof i!="string")throw Error(Zl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Hte.test(i))SR(o,i);else throw Error(Zl+i)}if(s.prototype=rt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=wU,s.config=s.set=Kte,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return s.config(t),s}function Kte(t){if(!t||typeof t!="object")throw Error(gs+"Object expected");var e,r,n,s=["precision",1,Pu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((n=t[r=s[e]])!==void 0)if(Lu(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(Zl+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Zl+r+": "+n);return this}var qT=wU(Gte);Fn=new qT(1);const vr=qT;function Yte(t){return Qte(t)||Jte(t)||Xte(t)||Wte()}function Wte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xte(t,e){if(t){if(typeof t=="string")return mE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mE(t,e)}}function Jte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Qte(t){if(Array.isArray(t))return mE(t)}function mE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Zte=function(e){return e},AU={},EU=function(e){return e===AU},_R=function(e){return function r(){return arguments.length===0||arguments.length===1&&EU(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},ere=function t(e,r){return e===1?r:_R(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==AU}).length;return o>=e?r.apply(void 0,s):t(e-o,_R(function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];var h=s.map(function(p){return EU(p)?d.shift():p});return r.apply(void 0,Yte(h).concat(d))}))})},pb=function(e){return ere(e.length,e)},xE=function(e,r){for(var n=[],s=e;s<r;++s)n[s-e]=s;return n},tre=pb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),rre=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Zte;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,d){return d(l)},i.apply(void 0,arguments))}},gE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},jU=function(e){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,d){return l===r[d]})||(r=i,n=e.apply(void 0,i)),n}};function are(t){var e;return t===0?e=1:e=Math.floor(new vr(t).abs().log(10).toNumber())+1,e}function nre(t,e,r){for(var n=new vr(t),s=0,i=[];n.lt(e)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var sre=pb(function(t,e,r){var n=+t,s=+e;return n+r*(s-n)}),ire=pb(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),ore=pb(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const mb={rangeStep:nre,getDigitCount:are,interpolateNumber:sre,uninterpolateNumber:ire,uninterpolateTruncation:ore};function bE(t){return dre(t)||cre(t)||TU(t)||lre()}function lre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cre(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function dre(t){if(Array.isArray(t))return vE(t)}function Kf(t,e){return hre(t)||fre(t,e)||TU(t,e)||ure()}function ure(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TU(t,e){if(t){if(typeof t=="string")return vE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vE(t,e)}}function vE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fre(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(d){s=!0,i=d}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function hre(t){if(Array.isArray(t))return t}function SU(t){var e=Kf(t,2),r=e[0],n=e[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function kU(t,e,r){if(t.lte(0))return new vr(0);var n=mb.getDigitCount(t.toNumber()),s=new vr(10).pow(n),i=t.div(s),o=n!==1?.05:.1,l=new vr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),d=l.mul(s);return e?d:new vr(Math.ceil(d))}function pre(t,e,r){var n=1,s=new vr(t);if(!s.isint()&&r){var i=Math.abs(t);i<1?(n=new vr(10).pow(mb.getDigitCount(t)-1),s=new vr(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new vr(Math.floor(t)))}else t===0?s=new vr(Math.floor((e-1)/2)):r||(s=new vr(Math.floor(t)));var o=Math.floor((e-1)/2),l=rre(tre(function(d){return s.add(new vr(d-o).mul(n)).toNumber()}),xE);return l(0,e)}function _U(t,e,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new vr(0),tickMin:new vr(0),tickMax:new vr(0)};var i=kU(new vr(e).sub(t).div(r-1),n,s),o;t<=0&&e>=0?o=new vr(0):(o=new vr(t).add(e).div(2),o=o.sub(new vr(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),d=Math.ceil(new vr(e).sub(o).div(i).toNumber()),u=l+d+1;return u>r?_U(t,e,r,n,s+1):(u<r&&(d=e>0?d+(r-u):d,l=e>0?l:l+(r-u)),{step:i,tickMin:o.sub(new vr(l).mul(i)),tickMax:o.add(new vr(d).mul(i))})}function mre(t){var e=Kf(t,2),r=e[0],n=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=SU([r,n]),d=Kf(l,2),u=d[0],h=d[1];if(u===-1/0||h===1/0){var p=h===1/0?[u].concat(bE(xE(0,s-1).map(function(){return 1/0}))):[].concat(bE(xE(0,s-1).map(function(){return-1/0})),[h]);return r>n?gE(p):p}if(u===h)return pre(u,s,i);var x=_U(u,h,o,i),v=x.step,b=x.tickMin,w=x.tickMax,g=mb.rangeStep(b,w.add(new vr(.1).mul(v)),v);return r>n?gE(g):g}function xre(t,e){var r=Kf(t,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=SU([n,s]),l=Kf(o,2),d=l[0],u=l[1];if(d===-1/0||u===1/0)return[n,s];if(d===u)return[d];var h=Math.max(e,2),p=kU(new vr(u).sub(d).div(h-1),i,0),x=[].concat(bE(mb.rangeStep(new vr(d),new vr(u).sub(new vr(.99).mul(p)),p)),[u]);return n>s?gE(x):x}var gre=jU(mre),bre=jU(xre),vre="Invariant failed";function hc(t,e){throw new Error(vre)}var yre=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function qx(){return qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qx.apply(this,arguments)}function Nre(t,e){return jre(t)||Ere(t,e)||Are(t,e)||wre()}function wre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Are(t,e){if(t){if(typeof t=="string")return CR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CR(t,e)}}function CR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ere(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(h){u=!0,s=h}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function jre(t){if(Array.isArray(t))return t}function Tre(t,e){if(t==null)return{};var r=Sre(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sre(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Hh(t){var e=t.offset,r=t.layout,n=t.width,s=t.dataKey,i=t.data,o=t.dataPointFormatter,l=t.xAxis,d=t.yAxis,u=Tre(t,yre),h=mt(u,!1);t.direction==="x"&&l.type!=="number"&&hc();var p=i.map(function(x){var v=o(x,s),b=v.x,w=v.y,g=v.value,S=v.errorVal;if(!S)return null;var k=[],y,j;if(Array.isArray(S)){var T=Nre(S,2);y=T[0],j=T[1]}else y=j=S;if(r==="vertical"){var _=l.scale,O=w+e,M=O+n,D=O-n,F=_(g-y),q=_(g+j);k.push({x1:q,y1:M,x2:q,y2:D}),k.push({x1:F,y1:O,x2:q,y2:O}),k.push({x1:F,y1:M,x2:F,y2:D})}else if(r==="horizontal"){var L=d.scale,B=b+e,X=B-n,P=B+n,U=L(g-y),z=L(g+j);k.push({x1:X,y1:z,x2:P,y2:z}),k.push({x1:B,y1:U,x2:B,y2:z}),k.push({x1:X,y1:U,x2:P,y2:U})}return xe.createElement(ir,qx({className:"recharts-errorBar",key:"bar-".concat(k.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},h),k.map(function(V){return xe.createElement("line",qx({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return xe.createElement(ir,{className:"recharts-errorBars"},p)}Hh.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};Hh.displayName="ErrorBar";function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function _w(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){kre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kre(t,e,r){return e=_re(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _re(t){var e=Cre(t,"string");return Yf(e)=="symbol"?e:String(e)}function Cre(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CU=function(e){var r=e.children,n=e.formattedGraphicalItems,s=e.legendWidth,i=e.legendContent,o=Pn(r,dc);if(!o)return null;var l;return o.props&&o.props.payload?l=o.props&&o.props.payload:i==="children"?l=(n||[]).reduce(function(d,u){var h=u.item,p=u.props,x=p.sectors||p.data||[];return d.concat(x.map(function(v){return{type:o.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):l=(n||[]).map(function(d){var u=d.item,h=u.props,p=h.dataKey,x=h.name,v=h.legendType,b=h.hide;return{inactive:b,dataKey:p,type:o.props.iconType||v||"square",color:VT(u),value:x||p,payload:u.props}}),_w(_w(_w({},o.props),dc.getWithHeight(o,s)),{},{payload:l,item:o})};function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function DR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ps(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(r),!0).forEach(function(n){$d(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $d(t,e,r){return e=Ore(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ore(t){var e=Dre(t,"string");return Wf(e)=="symbol"?e:String(e)}function Dre(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IR(t){return Pre(t)||Mre(t)||Rre(t)||Ire()}function Ire(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rre(t,e){if(t){if(typeof t=="string")return yE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yE(t,e)}}function Mre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pre(t){if(Array.isArray(t))return yE(t)}function yE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ha(t,e,r){return It(t)||It(e)?r:pa(e)?$n(t,e,r):St(e)?e(t):r}function pf(t,e,r,n){var s=qte(t,function(l){return ha(l,e)});if(r==="number"){var i=s.filter(function(l){return Je(l)||parseFloat(l)});return i.length?[hb(i),fb(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!It(l)}):s;return o.map(function(l){return pa(l)||l instanceof Date?l:""})}var Lre=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,u=0;u<l;u++){var h=u>0?s[u-1].coordinate:s[l-1].coordinate,p=s[u].coordinate,x=u>=l-1?s[0].coordinate:s[u+1].coordinate,v=void 0;if(en(p-h)!==en(x-p)){var b=[];if(en(x-p)===en(d[1]-d[0])){v=x;var w=p+d[1]-d[0];b[0]=Math.min(w,(w+h)/2),b[1]=Math.max(w,(w+h)/2)}else{v=h;var g=x+d[1]-d[0];b[0]=Math.min(p,(g+p)/2),b[1]=Math.max(p,(g+p)/2)}var S=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>S[0]&&e<=S[1]||e>=b[0]&&e<=b[1]){o=s[u].index;break}}else{var k=Math.min(h,x),y=Math.max(h,x);if(e>(k+p)/2&&e<=(y+p)/2){o=s[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&e>(n[j].coordinate+n[j-1].coordinate)/2&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&e>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},VT=function(e){var r=e,n=r.type.displayName,s=e.props,i=s.stroke,o=s.fill,l;switch(n){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:o;break;default:l=o;break}return l},Ure=function(e){var r=e.barSize,n=e.totalSize,s=e.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),d=0,u=l.length;d<u;d++)for(var h=i[l[d]].stackGroups,p=Object.keys(h),x=0,v=p.length;x<v;x++){var b=h[p[x]],w=b.items,g=b.cateAxisId,S=w.filter(function(T){return zi(T.type).indexOf("Bar")>=0});if(S&&S.length){var k=S[0].props.barSize,y=S[0].props[g];o[y]||(o[y]=[]);var j=It(k)?r:k;o[y].push({item:S[0],stackList:S.slice(1),barSize:It(j)?void 0:tn(j,n,0)})}}return o},Fre=function(e){var r=e.barGap,n=e.barCategoryGap,s=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,d=o.length;if(d<1)return null;var u=tn(r,s,0,!0),h,p=[];if(o[0].barSize===+o[0].barSize){var x=!1,v=s/d,b=o.reduce(function(j,T){return j+T.barSize||0},0);b+=(d-1)*u,b>=s&&(b-=(d-1)*u,u=0),b>=s&&v>0&&(x=!0,v*=.9,b=d*v);var w=(s-b)/2>>0,g={offset:w-u,size:0};h=o.reduce(function(j,T){var _={item:T.item,position:{offset:g.offset+g.size+u,size:x?v:T.barSize}},O=[].concat(IR(j),[_]);return g=O[O.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(M){O.push({item:M,position:g})}),O},p)}else{var S=tn(n,s,0,!0);s-2*S-(d-1)*u<=0&&(u=0);var k=(s-2*S-(d-1)*u)/d;k>1&&(k>>=0);var y=l===+l?Math.min(k,l):k;h=o.reduce(function(j,T,_){var O=[].concat(IR(j),[{item:T.item,position:{offset:S+(k+u)*_+(k-y)/2,size:y}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(M){O.push({item:M,position:O[O.length-1].position})}),O},p)}return h},Bre=function(e,r,n,s){var i=n.children,o=n.width,l=n.margin,d=o-(l.left||0)-(l.right||0),u=CU({children:i,legendWidth:d});if(u){var h=s||{},p=h.width,x=h.height,v=u.align,b=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&b==="middle")&&v!=="center"&&Je(e[v]))return ps(ps({},e),{},$d({},v,e[v]+(p||0)));if((w==="horizontal"||w==="vertical"&&v==="center")&&b!=="middle"&&Je(e[b]))return ps(ps({},e),{},$d({},b,e[b]+(x||0)))}return e},zre=function(e,r,n){return It(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},OU=function(e,r,n,s,i){var o=r.props.children,l=Gn(o,Hh).filter(function(u){return zre(s,i,u.props.direction)});if(l&&l.length){var d=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,h){var p=ha(h,n);if(It(p))return u;var x=Array.isArray(p)?[hb(p),fb(p)]:[p,p],v=d.reduce(function(b,w){var g=ha(h,w,0),S=x[0]-Math.abs(Array.isArray(g)?g[0]:g),k=x[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(S,b[0]),Math.max(k,b[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},qre=function(e,r,n,s,i){var o=r.map(function(l){return OU(e,l,n,i,s)}).filter(function(l){return!It(l)});return o&&o.length?o.reduce(function(l,d){return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]):null},DU=function(e,r,n,s,i){var o=r.map(function(d){var u=d.props.dataKey;return n==="number"&&u&&OU(e,d,u,s)||pf(e,u,n,i)});if(n==="number")return o.reduce(function(d,u){return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(d,u){for(var h=0,p=u.length;h<p;h++)l[u[h]]||(l[u[h]]=!0,d.push(u[h]));return d},[])},IU=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},RU=function(e,r,n,s){if(s)return e.map(function(d){return d.coordinate});var i,o,l=e.map(function(d){return d.coordinate===r&&(i=!0),d.coordinate===n&&(o=!0),d.coordinate});return i||l.push(r),o||l.push(n),l},Li=function(e,r,n){if(!e)return null;var s=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,d=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/d:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?en(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var x=i?i.indexOf(p):p;return{coordinate:s(x)+u,value:p,offset:u}});return h.filter(function(p){return!Fh(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,x){return{coordinate:s(p)+u,value:p,index:x,offset:u}}):s.ticks&&!n?s.ticks(e.tickCount).map(function(p){return{coordinate:s(p)+u,value:p,offset:u}}):s.domain().map(function(p,x){return{coordinate:s(p)+u,value:i?i[p]:p,index:x,offset:u}})},Cw=new WeakMap,_m=function(e,r){if(typeof r!="function")return e;Cw.has(e)||Cw.set(e,new WeakMap);var n=Cw.get(e);if(n.has(r))return n.get(r);var s=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},MU=function(e,r,n){var s=e.scale,i=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:zf(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Lx(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:hf(),realScaleType:"point"}:i==="category"?{scale:zf(),realScaleType:"band"}:{scale:Lx(),realScaleType:"linear"};if(Uh(s)){var d="scale".concat(Qg(s));return{scale:(bR[d]||hf)(),realScaleType:bR[d]?d:"point"}}return St(s)?{scale:s}:{scale:hf(),realScaleType:"point"}},RR=1e-4,PU=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,s=e.range(),i=Math.min(s[0],s[1])-RR,o=Math.max(s[0],s[1])+RR,l=e(r[0]),d=e(r[n-1]);(l<i||l>o||d<i||d>o)&&e.domain([r[0],r[n-1]])}},Vre=function(e,r){if(!e)return null;for(var n=0,s=e.length;n<s;n++)if(e[n].item===r)return e[n].position;return null},$re=function(e,r){if(!r||r.length!==2||!Je(r[0])||!Je(r[1]))return e;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!Je(e[0])||e[0]<n)&&(i[0]=n),(!Je(e[1])||e[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},Gre=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var d=Fh(e[l][n][1])?e[l][n][0]:e[l][n][1];d>=0?(e[l][n][0]=i,e[l][n][1]=i+d,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+d,o=e[l][n][1])}},Hre=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Fh(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Kre={sign:Gre,expand:$W,none:ru,silhouette:GW,wiggle:HW,positive:Hre},Yre=function(e,r,n){var s=r.map(function(l){return l.props.dataKey}),i=Kre[n],o=VW().keys(s).value(function(l,d){return+ha(l,d,0)}).order(XA).offset(i);return o(e)},Wre=function(e,r,n,s,i,o){if(!e)return null;var l=o?r.reverse():r,d={},u=l.reduce(function(p,x){var v=x.props,b=v.stackId,w=v.hide;if(w)return p;var g=x.props[n],S=p[g]||{hasStack:!1,stackGroups:{}};if(pa(b)){var k=S.stackGroups[b]||{numericAxisId:n,cateAxisId:s,items:[]};k.items.push(x),S.hasStack=!0,S.stackGroups[b]=k}else S.stackGroups[Iu("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[x]};return ps(ps({},p),{},$d({},g,S))},d),h={};return Object.keys(u).reduce(function(p,x){var v=u[x];if(v.hasStack){var b={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(w,g){var S=v.stackGroups[g];return ps(ps({},w),{},$d({},g,{numericAxisId:n,cateAxisId:s,items:S.items,stackedData:Yre(e,S.items,i)}))},b)}return ps(ps({},p),{},$d({},x,v))},h)},LU=function(e,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var h=gre(u,i,l);return e.domain([hb(h),fb(h)]),{niceTicks:h}}if(i&&s==="number"){var p=e.domain(),x=bre(p,i,l);return{niceTicks:x}}return null};function MR(t){var e=t.axis,r=t.ticks,n=t.bandSize,s=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!It(s[e.dataKey])){var l=bx(r,"value",s[e.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=ha(s,It(o)?e.dataKey:o);return It(d)?null:e.scale(d)}var PR=function(e){var r=e.axis,n=e.ticks,s=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var d=ha(o,r.dataKey,r.domain[l]);return It(d)?null:r.scale(d)-i/2+s},Xre=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},Jre=function(e,r){var n=e.props.stackId;if(pa(n)){var s=r[n];if(s){var i=s.items.indexOf(e);return i>=0?s.stackedData[i]:null}}return null},Qre=function(e){return e.reduce(function(r,n){return[hb(n.concat([r[0]]).filter(Je)),fb(n.concat([r[1]]).filter(Je))]},[1/0,-1/0])},UU=function(e,r,n){return Object.keys(e).reduce(function(s,i){var o=e[i],l=o.stackedData,d=l.reduce(function(u,h){var p=Qre(h.slice(r,n+1));return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},LR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NE=function(e,r,n){if(St(e))return e(r,n);if(!Array.isArray(e))return r;var s=[];if(Je(e[0]))s[0]=n?e[0]:Math.min(e[0],r[0]);else if(LR.test(e[0])){var i=+LR.exec(e[0])[1];s[0]=r[0]-i}else St(e[0])?s[0]=e[0](r[0]):s[0]=r[0];if(Je(e[1]))s[1]=n?e[1]:Math.max(e[1],r[1]);else if(UR.test(e[1])){var o=+UR.exec(e[1])[1];s[1]=r[1]+o}else St(e[1])?s[1]=e[1](r[1]):s[1]=r[1];return s},Vx=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!n||s>0)return s}if(e&&r&&r.length>=2){for(var i=gT(r,function(p){return p.coordinate}),o=1/0,l=1,d=i.length;l<d;l++){var u=i[l],h=i[l-1];o=Math.min((u.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},FR=function(e,r,n){return!e||!e.length||Gh(e,$n(n,"type.defaultProps.domain"))?r:e},FU=function(e,r){var n=e.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,d=n.tooltipType,u=n.chartType,h=n.hide;return ps(ps({},mt(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:VT(e),value:ha(r,s),type:d,payload:r,chartType:u,hide:h})};function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function BR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(r),!0).forEach(function(n){BU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BU(t,e,r){return e=Zre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zre(t){var e=eae(t,"string");return Xf(e)=="symbol"?e:String(e)}function eae(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tae(t,e){return sae(t)||nae(t,e)||aae(t,e)||rae()}function rae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aae(t,e){if(t){if(typeof t=="string")return zR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zR(t,e)}}function zR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(h){u=!0,s=h}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function sae(t){if(Array.isArray(t))return t}var $x=Math.PI/180,iae=function(e){return e*180/Math.PI},Tr=function(e,r,n,s){return{x:e+Math.cos(-$x*s)*n,y:r+Math.sin(-$x*s)*n}},zU=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},oae=function(e,r,n,s,i){var o=e.width,l=e.height,d=e.startAngle,u=e.endAngle,h=tn(e.cx,o,o/2),p=tn(e.cy,l,l/2),x=zU(o,l,n),v=tn(e.innerRadius,x,0),b=tn(e.outerRadius,x,x*.8),w=Object.keys(r);return w.reduce(function(g,S){var k=r[S],y=k.domain,j=k.reversed,T;if(It(k.range))s==="angleAxis"?T=[d,u]:s==="radiusAxis"&&(T=[v,b]),j&&(T=[T[1],T[0]]);else{T=k.range;var _=T,O=tae(_,2);d=O[0],u=O[1]}var M=MU(k,i),D=M.realScaleType,F=M.scale;F.domain(y).range(T),PU(F);var q=LU(F,Ii(Ii({},k),{},{realScaleType:D})),L=Ii(Ii(Ii({},k),q),{},{range:T,radius:b,realScaleType:D,scale:F,cx:h,cy:p,innerRadius:v,outerRadius:b,startAngle:d,endAngle:u});return Ii(Ii({},g),{},BU({},S,L))},{})},lae=function(e,r){var n=e.x,s=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},cae=function(e,r){var n=e.x,s=e.y,i=r.cx,o=r.cy,l=lae({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var d=(n-i)/l,u=Math.acos(d);return s>o&&(u=2*Math.PI-u),{radius:l,angle:iae(u),angleInRadian:u}},dae=function(e){var r=e.startAngle,n=e.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},uae=function(e,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return e+l*360},qR=function(e,r){var n=e.x,s=e.y,i=cae({x:n,y:s},r),o=i.radius,l=i.angle,d=r.innerRadius,u=r.outerRadius;if(o<d||o>u)return!1;if(o===0)return!0;var h=dae(r),p=h.startAngle,x=h.endAngle,v=l,b;if(p<=x){for(;v>x;)v-=360;for(;v<p;)v+=360;b=v>=p&&v<=x}else{for(;v>p;)v-=360;for(;v<x;)v+=360;b=v>=x&&v<=p}return b?Ii(Ii({},r),{},{radius:o,angle:uae(v,r)}):null},qU=function(e){return!R.isValidElement(e)&&!St(e)&&typeof e!="boolean"?e.className:""};function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}var fae=["offset"];function hae(t){return gae(t)||xae(t)||mae(t)||pae()}function pae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mae(t,e){if(t){if(typeof t=="string")return wE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wE(t,e)}}function xae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gae(t){if(Array.isArray(t))return wE(t)}function wE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bae(t,e){if(t==null)return{};var r=vae(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vae(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function VR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(r),!0).forEach(function(n){yae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yae(t,e,r){return e=Nae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nae(t){var e=wae(t,"string");return Jf(e)=="symbol"?e:String(e)}function wae(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qf.apply(this,arguments)}var Aae=function(e){var r=e.value,n=e.formatter,s=It(e.children)?r:e.children;return St(n)?n(s):s},Eae=function(e,r){var n=en(r-e),s=Math.min(Math.abs(r-e),360);return n*s},jae=function(e,r,n){var s=e.position,i=e.viewBox,o=e.offset,l=e.className,d=i,u=d.cx,h=d.cy,p=d.innerRadius,x=d.outerRadius,v=d.startAngle,b=d.endAngle,w=d.clockWise,g=(p+x)/2,S=Eae(v,b),k=S>=0?1:-1,y,j;s==="insideStart"?(y=v+k*o,j=w):s==="insideEnd"?(y=b-k*o,j=!w):s==="end"&&(y=b+k*o,j=w),j=S<=0?j:!j;var T=Tr(u,h,g,y),_=Tr(u,h,g,y+(j?1:-1)*359),O="M".concat(T.x,",").concat(T.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(j?0:1,`,
    `).concat(_.x,",").concat(_.y),M=It(e.id)?Iu("recharts-radial-line-"):e.id;return xe.createElement("text",Qf({},n,{dominantBaseline:"central",className:Bt("recharts-radial-bar-label",l)}),xe.createElement("defs",null,xe.createElement("path",{id:M,d:O})),xe.createElement("textPath",{xlinkHref:"#".concat(M)},r))},Tae=function(e){var r=e.viewBox,n=e.offset,s=e.position,i=r,o=i.cx,l=i.cy,d=i.innerRadius,u=i.outerRadius,h=i.startAngle,p=i.endAngle,x=(h+p)/2;if(s==="outside"){var v=Tr(o,l,u+n,x),b=v.x,w=v.y;return{x:b,y:w,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(d+u)/2,S=Tr(o,l,g,x),k=S.x,y=S.y;return{x:k,y,textAnchor:"middle",verticalAnchor:"middle"}},Sae=function(e){var r=e.viewBox,n=e.parentViewBox,s=e.offset,i=e.position,o=r,l=o.x,d=o.y,u=o.width,h=o.height,p=h>=0?1:-1,x=p*s,v=p>0?"end":"start",b=p>0?"start":"end",w=u>=0?1:-1,g=w*s,S=w>0?"end":"start",k=w>0?"start":"end";if(i==="top"){var y={x:l+u/2,y:d-p*s,textAnchor:"middle",verticalAnchor:v};return da(da({},y),n?{height:Math.max(d-n.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:d+h+x,textAnchor:"middle",verticalAnchor:b};return da(da({},j),n?{height:Math.max(n.y+n.height-(d+h),0),width:u}:{})}if(i==="left"){var T={x:l-g,y:d+h/2,textAnchor:S,verticalAnchor:"middle"};return da(da({},T),n?{width:Math.max(T.x-n.x,0),height:h}:{})}if(i==="right"){var _={x:l+u+g,y:d+h/2,textAnchor:k,verticalAnchor:"middle"};return da(da({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:h}:{})}var O=n?{width:u,height:h}:{};return i==="insideLeft"?da({x:l+g,y:d+h/2,textAnchor:k,verticalAnchor:"middle"},O):i==="insideRight"?da({x:l+u-g,y:d+h/2,textAnchor:S,verticalAnchor:"middle"},O):i==="insideTop"?da({x:l+u/2,y:d+x,textAnchor:"middle",verticalAnchor:b},O):i==="insideBottom"?da({x:l+u/2,y:d+h-x,textAnchor:"middle",verticalAnchor:v},O):i==="insideTopLeft"?da({x:l+g,y:d+x,textAnchor:k,verticalAnchor:b},O):i==="insideTopRight"?da({x:l+u-g,y:d+x,textAnchor:S,verticalAnchor:b},O):i==="insideBottomLeft"?da({x:l+g,y:d+h-x,textAnchor:k,verticalAnchor:v},O):i==="insideBottomRight"?da({x:l+u-g,y:d+h-x,textAnchor:S,verticalAnchor:v},O):Du(i)&&(Je(i.x)||Gl(i.x))&&(Je(i.y)||Gl(i.y))?da({x:l+tn(i.x,u),y:d+tn(i.y,h),textAnchor:"end",verticalAnchor:"end"},O):da({x:l+u/2,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},O)},kae=function(e){return"cx"in e&&Je(e.cx)};function Ea(t){var e=t.offset,r=e===void 0?5:e,n=bae(t,fae),s=da({offset:r},n),i=s.viewBox,o=s.position,l=s.value,d=s.children,u=s.content,h=s.className,p=h===void 0?"":h,x=s.textBreakAll;if(!i||It(l)&&It(d)&&!R.isValidElement(u)&&!St(u))return null;if(R.isValidElement(u))return R.cloneElement(u,s);var v;if(St(u)){if(v=R.createElement(u,s),R.isValidElement(v))return v}else v=Aae(s);var b=kae(i),w=mt(s,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return jae(s,v,w);var g=b?Tae(s):Sae(s);return xe.createElement(uc,Qf({className:Bt("recharts-label",p)},w,g,{breakAll:x}),v)}Ea.displayName="Label";var VU=function(e){var r=e.cx,n=e.cy,s=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,d=e.radius,u=e.innerRadius,h=e.outerRadius,p=e.x,x=e.y,v=e.top,b=e.left,w=e.width,g=e.height,S=e.clockWise,k=e.labelViewBox;if(k)return k;if(Je(w)&&Je(g)){if(Je(p)&&Je(x))return{x:p,y:x,width:w,height:g};if(Je(v)&&Je(b))return{x:v,y:b,width:w,height:g}}return Je(p)&&Je(x)?{x:p,y:x,width:0,height:0}:Je(r)&&Je(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:h||d||l||0,clockWise:S}:e.viewBox?e.viewBox:{}},_ae=function(e,r){return e?e===!0?xe.createElement(Ea,{key:"label-implicit",viewBox:r}):pa(e)?xe.createElement(Ea,{key:"label-implicit",viewBox:r,value:e}):R.isValidElement(e)?e.type===Ea?R.cloneElement(e,{key:"label-implicit",viewBox:r}):xe.createElement(Ea,{key:"label-implicit",content:e,viewBox:r}):St(e)?xe.createElement(Ea,{key:"label-implicit",content:e,viewBox:r}):Du(e)?xe.createElement(Ea,Qf({viewBox:r},e,{key:"label-implicit"})):null:null},Cae=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,i=VU(e),o=Gn(s,Ea).map(function(d,u){return R.cloneElement(d,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=_ae(e.label,r||i);return[l].concat(hae(o))};Ea.parseViewBox=VU;Ea.renderCallByParent=Cae;var Ow,$R;function Oae(){if($R)return Ow;$R=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Ow=t,Ow}var Dae=Oae();const Iae=fr(Dae);function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}var Rae=["valueAccessor"],Mae=["data","dataKey","clockWise","id","textBreakAll"];function Pae(t){return Bae(t)||Fae(t)||Uae(t)||Lae()}function Lae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uae(t,e){if(t){if(typeof t=="string")return AE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AE(t,e)}}function Fae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bae(t){if(Array.isArray(t))return AE(t)}function AE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gx(){return Gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gx.apply(this,arguments)}function GR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function HR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(r),!0).forEach(function(n){zae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zae(t,e,r){return e=qae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qae(t){var e=Vae(t,"string");return Zf(e)=="symbol"?e:String(e)}function Vae(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KR(t,e){if(t==null)return{};var r=$ae(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $ae(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var Gae=function(e){return Array.isArray(e.value)?Iae(e.value):e.value};function Vi(t){var e=t.valueAccessor,r=e===void 0?Gae:e,n=KR(t,Rae),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,d=n.textBreakAll,u=KR(n,Mae);return!s||!s.length?null:xe.createElement(ir,{className:"recharts-label-list"},s.map(function(h,p){var x=It(i)?r(h,p):ha(h&&h.payload,i),v=It(l)?{}:{id:"".concat(l,"-").concat(p)};return xe.createElement(Ea,Gx({},mt(h,!0),u,v,{parentViewBox:h.parentViewBox,value:x,textBreakAll:d,viewBox:Ea.parseViewBox(It(o)?h:HR(HR({},h),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}Vi.displayName="LabelList";function Hae(t,e){return t?t===!0?xe.createElement(Vi,{key:"labelList-implicit",data:e}):xe.isValidElement(t)||St(t)?xe.createElement(Vi,{key:"labelList-implicit",data:e,content:t}):Du(t)?xe.createElement(Vi,Gx({data:e},t,{key:"labelList-implicit"})):null:null}function Kae(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,s=Gn(n,Vi).map(function(o,l){return R.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return s;var i=Hae(t.label,e);return[i].concat(Pae(s))}Vi.renderCallByParent=Kae;function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function EE(){return EE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EE.apply(this,arguments)}function YR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function WR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(r),!0).forEach(function(n){Yae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yae(t,e,r){return e=Wae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wae(t){var e=Xae(t,"string");return eh(e)=="symbol"?e:String(e)}function Xae(t,e){if(eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jae=function(e,r){var n=en(r-e),s=Math.min(Math.abs(r-e),359.999);return n*s},Cm=function(e){var r=e.cx,n=e.cy,s=e.radius,i=e.angle,o=e.sign,l=e.isExternal,d=e.cornerRadius,u=e.cornerIsExternal,h=d*(l?1:-1)+s,p=Math.asin(d/h)/$x,x=u?i:i+o*p,v=Tr(r,n,h,x),b=Tr(r,n,s,x),w=u?i-o*p:i,g=Tr(r,n,h*Math.cos(p*$x),w);return{center:v,circleTangency:b,lineTangency:g,theta:p}},$U=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,d=Jae(o,l),u=o+d,h=Tr(r,n,i,o),p=Tr(r,n,i,u),x="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(s>0){var v=Tr(r,n,s,o),b=Tr(r,n,s,u);x+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else x+="L ".concat(r,",").concat(n," Z");return x},Qae=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,d=e.cornerIsExternal,u=e.startAngle,h=e.endAngle,p=en(h-u),x=Cm({cx:r,cy:n,radius:i,angle:u,sign:p,cornerRadius:o,cornerIsExternal:d}),v=x.circleTangency,b=x.lineTangency,w=x.theta,g=Cm({cx:r,cy:n,radius:i,angle:h,sign:-p,cornerRadius:o,cornerIsExternal:d}),S=g.circleTangency,k=g.lineTangency,y=g.theta,j=d?Math.abs(u-h):Math.abs(u-h)-w-y;if(j<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):$U({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:h});var T="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(k.x,",").concat(k.y,`
  `);if(s>0){var _=Cm({cx:r,cy:n,radius:s,angle:u,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),O=_.circleTangency,M=_.lineTangency,D=_.theta,F=Cm({cx:r,cy:n,radius:s,angle:h,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),q=F.circleTangency,L=F.lineTangency,B=F.theta,X=d?Math.abs(u-h):Math.abs(u-h)-D-B;if(X<0&&o===0)return"".concat(T,"L").concat(r,",").concat(n,"Z");T+="L".concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(q.x,",").concat(q.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(X>180),",").concat(+(p>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,"Z")}else T+="L".concat(r,",").concat(n,"Z");return T},Zae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GU=function(e){var r=WR(WR({},Zae),e),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,d=r.forceCornerRadius,u=r.cornerIsExternal,h=r.startAngle,p=r.endAngle,x=r.className;if(o<i||h===p)return null;var v=Bt("recharts-sector",x),b=o-i,w=tn(l,b,0,!0),g;return w>0&&Math.abs(h-p)<360?g=Qae({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,b/2),forceCornerRadius:d,cornerIsExternal:u,startAngle:h,endAngle:p}):g=$U({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:h,endAngle:p}),xe.createElement("path",EE({},mt(r,!0),{className:v,d:g,role:"img"}))};function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jE.apply(this,arguments)}function XR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function JR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(r),!0).forEach(function(n){ene(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ene(t,e,r){return e=tne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tne(t){var e=rne(t,"string");return th(e)=="symbol"?e:String(e)}function rne(t,e){if(th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QR={curveBasisClosed:DW,curveBasisOpen:IW,curveBasis:OW,curveBumpX:gW,curveBumpY:bW,curveLinearClosed:RW,curveLinear:eb,curveMonotoneX:MW,curveMonotoneY:PW,curveNatural:LW,curveStep:UW,curveStepAfter:BW,curveStepBefore:FW},Om=function(e){return e.x===+e.x&&e.y===+e.y},$0=function(e){return e.x},G0=function(e){return e.y},ane=function(e,r){if(St(e))return e;var n="curve".concat(Qg(e));return(n==="curveMonotone"||n==="curveBump")&&r?QR["".concat(n).concat(r==="vertical"?"Y":"X")]:QR[n]||eb},nne=function(e){var r=e.type,n=r===void 0?"linear":r,s=e.points,i=s===void 0?[]:s,o=e.baseLine,l=e.layout,d=e.connectNulls,u=d===void 0?!1:d,h=ane(n,l),p=u?i.filter(function(w){return Om(w)}):i,x;if(Array.isArray(o)){var v=u?o.filter(function(w){return Om(w)}):o,b=p.map(function(w,g){return JR(JR({},w),{},{base:v[g]})});return l==="vertical"?x=wm().y(G0).x1($0).x0(function(w){return w.base.x}):x=wm().x($0).y1(G0).y0(function(w){return w.base.y}),x.defined(Om).curve(h),x(b)}return l==="vertical"&&Je(o)?x=wm().y(G0).x1($0).x0(o):Je(o)?x=wm().x($0).y1(G0).y0(o):x=HL().x($0).y(G0),x.defined(Om).curve(h),x(p)},Hx=function(e){var r=e.className,n=e.points,s=e.path,i=e.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?nne(e):s;return xe.createElement("path",jE({},mt(e,!1),vx(e),{className:Bt("recharts-curve",r),d:o,ref:i}))},Dw={exports:{}},Iw,ZR;function sne(){if(ZR)return Iw;ZR=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Iw=t,Iw}var Rw,e6;function ine(){if(e6)return Rw;e6=1;var t=sne();function e(){}function r(){}return r.resetWarningCache=e,Rw=function(){function n(o,l,d,u,h,p){if(p!==t){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},Rw}var t6;function one(){return t6||(t6=1,Dw.exports=ine()()),Dw.exports}var lne=one();const ur=fr(lne),{getOwnPropertyNames:cne,getOwnPropertySymbols:dne}=Object,{hasOwnProperty:une}=Object.prototype;function Mw(t,e){return function(n,s,i){return t(n,s,i)&&e(n,s,i)}}function Dm(t){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const d=t(r,n,s);return i.delete(r),i.delete(n),d}}function fne(t){return t!=null?t[Symbol.toStringTag]:void 0}function r6(t){return cne(t).concat(dne(t))}const hne=Object.hasOwn||((t,e)=>une.call(t,e));function Tc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const pne="__v",mne="__o",xne="_owner",{getOwnPropertyDescriptor:a6,keys:n6}=Object;function gne(t,e){return t.byteLength===e.byteLength&&Kx(new Uint8Array(t),new Uint8Array(e))}function bne(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function vne(t,e){return t.byteLength===e.byteLength&&Kx(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function yne(t,e){return Tc(t.getTime(),e.getTime())}function Nne(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function wne(t,e){return t===e}function s6(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const s=new Array(n),i=t.entries();let o,l,d=0;for(;(o=i.next())&&!o.done;){const u=e.entries();let h=!1,p=0;for(;(l=u.next())&&!l.done;){if(s[p]){p++;continue}const x=o.value,v=l.value;if(r.equals(x[0],v[0],d,p,t,e,r)&&r.equals(x[1],v[1],x[0],v[0],t,e,r)){h=s[p]=!0;break}p++}if(!h)return!1;d++}return!0}const Ane=Tc;function Ene(t,e,r){const n=n6(t);let s=n.length;if(n6(e).length!==s)return!1;for(;s-- >0;)if(!HU(t,e,r,n[s]))return!1;return!0}function H0(t,e,r){const n=r6(t);let s=n.length;if(r6(e).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!HU(t,e,r,i)||(o=a6(t,i),l=a6(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function jne(t,e){return Tc(t.valueOf(),e.valueOf())}function Tne(t,e){return t.source===e.source&&t.flags===e.flags}function i6(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const s=new Array(n),i=t.values();let o,l;for(;(o=i.next())&&!o.done;){const d=e.values();let u=!1,h=0;for(;(l=d.next())&&!l.done;){if(!s[h]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=s[h]=!0;break}h++}if(!u)return!1}return!0}function Kx(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Sne(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function HU(t,e,r,n){return(n===xne||n===mne||n===pne)&&(t.$$typeof||e.$$typeof)?!0:hne(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const kne="[object ArrayBuffer]",_ne="[object Arguments]",Cne="[object Boolean]",One="[object DataView]",Dne="[object Date]",Ine="[object Error]",Rne="[object Map]",Mne="[object Number]",Pne="[object Object]",Lne="[object RegExp]",Une="[object Set]",Fne="[object String]",Bne={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},zne="[object URL]",qne=Object.prototype.toString;function Vne({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:d,arePrimitiveWrappersEqual:u,areRegExpsEqual:h,areSetsEqual:p,areTypedArraysEqual:x,areUrlsEqual:v,unknownTagComparators:b}){return function(g,S,k){if(g===S)return!0;if(g==null||S==null)return!1;const y=typeof g;if(y!==typeof S)return!1;if(y!=="object")return y==="number"?l(g,S,k):y==="function"?i(g,S,k):!1;const j=g.constructor;if(j!==S.constructor)return!1;if(j===Object)return d(g,S,k);if(Array.isArray(g))return e(g,S,k);if(j===Date)return n(g,S,k);if(j===RegExp)return h(g,S,k);if(j===Map)return o(g,S,k);if(j===Set)return p(g,S,k);const T=qne.call(g);if(T===Dne)return n(g,S,k);if(T===Lne)return h(g,S,k);if(T===Rne)return o(g,S,k);if(T===Une)return p(g,S,k);if(T===Pne)return typeof g.then!="function"&&typeof S.then!="function"&&d(g,S,k);if(T===zne)return v(g,S,k);if(T===Ine)return s(g,S,k);if(T===_ne)return d(g,S,k);if(Bne[T])return x(g,S,k);if(T===kne)return t(g,S,k);if(T===One)return r(g,S,k);if(T===Cne||T===Mne||T===Fne)return u(g,S,k);if(b){let _=b[T];if(!_){const O=fne(g);O&&(_=b[O])}if(_)return _(g,S,k)}return!1}}function $ne({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:gne,areArraysEqual:r?H0:bne,areDataViewsEqual:vne,areDatesEqual:yne,areErrorsEqual:Nne,areFunctionsEqual:wne,areMapsEqual:r?Mw(s6,H0):s6,areNumbersEqual:Ane,areObjectsEqual:r?H0:Ene,arePrimitiveWrappersEqual:jne,areRegExpsEqual:Tne,areSetsEqual:r?Mw(i6,H0):i6,areTypedArraysEqual:r?Mw(Kx,H0):Kx,areUrlsEqual:Sne,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const s=Dm(n.areArraysEqual),i=Dm(n.areMapsEqual),o=Dm(n.areObjectsEqual),l=Dm(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function Gne(t){return function(e,r,n,s,i,o,l){return t(e,r,l)}}function Hne({circular:t,comparator:e,createState:r,equals:n,strict:s}){if(r)return function(l,d){const{cache:u=t?new WeakMap:void 0,meta:h}=r();return e(l,d,{cache:u,equals:n,meta:h,strict:s})};if(t)return function(l,d){return e(l,d,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,d){return e(l,d,i)}}const Kne=ll();ll({strict:!0});ll({circular:!0});ll({circular:!0,strict:!0});ll({createInternalComparator:()=>Tc});ll({strict:!0,createInternalComparator:()=>Tc});ll({circular:!0,createInternalComparator:()=>Tc});ll({circular:!0,createInternalComparator:()=>Tc,strict:!0});function ll(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:s=!1}=t,i=$ne(t),o=Vne(i),l=r?r(o):Gne(o);return Hne({circular:e,comparator:o,createState:n,equals:l,strict:s})}function Yne(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function o6(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>e?(t(i),r=-1):Yne(s)};requestAnimationFrame(n)}function TE(t){"@babel/helpers - typeof";return TE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TE(t)}function Wne(t){return Zne(t)||Qne(t)||Jne(t)||Xne()}function Xne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jne(t,e){if(t){if(typeof t=="string")return l6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l6(t,e)}}function l6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zne(t){if(Array.isArray(t))return t}function ese(){var t={},e=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Wne(o),d=l[0],u=l.slice(1);if(typeof d=="number"){o6(s.bind(null,u),d);return}s(d),o6(s.bind(null,u));return}TE(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function c6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function d6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c6(Object(r),!0).forEach(function(n){KU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KU(t,e,r){return e=tse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tse(t){var e=rse(t,"string");return rh(e)==="symbol"?e:String(e)}function rse(t,e){if(rh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ase=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},nse=function(e){return e},sse=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},mf=function(e,r){return Object.keys(r).reduce(function(n,s){return d6(d6({},n),{},KU({},s,e(s,r[s])))},{})},u6=function(e,r,n){return e.map(function(s){return"".concat(sse(s)," ").concat(r,"ms ").concat(n)}).join(",")};function ise(t,e){return cse(t)||lse(t,e)||YU(t,e)||ose()}function ose(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(h){u=!0,s=h}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function cse(t){if(Array.isArray(t))return t}function dse(t){return hse(t)||fse(t)||YU(t)||use()}function use(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YU(t,e){if(t){if(typeof t=="string")return SE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SE(t,e)}}function fse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hse(t){if(Array.isArray(t))return SE(t)}function SE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Yx=1e-4,WU=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},XU=function(e,r){return e.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},f6=function(e,r){return function(n){var s=WU(e,r);return XU(s,n)}},pse=function(e,r){return function(n){var s=WU(e,r),i=[].concat(dse(s.map(function(o,l){return o*l}).slice(1)),[0]);return XU(i,n)}},h6=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var u=d[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),h=ise(u,4);s=h[0],i=h[1],o=h[2],l=h[3]}}}var p=f6(s,o),x=f6(i,l),v=pse(s,o),b=function(S){return S>1?1:S<0?0:S},w=function(S){for(var k=S>1?1:S,y=k,j=0;j<8;++j){var T=p(y)-k,_=v(y);if(Math.abs(T-k)<Yx||_<Yx)return x(y);y=b(y-T/_)}return x(y)};return w.isStepper=!1,w},mse=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,s=e.damping,i=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,d=function(h,p,x){var v=-(h-p)*n,b=x*i,w=x+(v-b)*l/1e3,g=x*l/1e3+h;return Math.abs(g-p)<Yx&&Math.abs(w)<Yx?[p,0]:[g,w]};return d.isStepper=!0,d.dt=l,d},xse=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return h6(s);case"spring":return mse();default:if(s.split("(")[0]==="cubic-bezier")return h6(s)}return typeof s=="function"?s:null};function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function p6(t){return vse(t)||bse(t)||JU(t)||gse()}function gse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vse(t){if(Array.isArray(t))return _E(t)}function m6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ma(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m6(Object(r),!0).forEach(function(n){kE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kE(t,e,r){return e=yse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yse(t){var e=Nse(t,"string");return ah(e)==="symbol"?e:String(e)}function Nse(t,e){if(ah(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ah(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wse(t,e){return jse(t)||Ese(t,e)||JU(t,e)||Ase()}function Ase(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JU(t,e){if(t){if(typeof t=="string")return _E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _E(t,e)}}function _E(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ese(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(h){u=!0,s=h}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function jse(t){if(Array.isArray(t))return t}var Wx=function(e,r,n){return e+(r-e)*n},CE=function(e){var r=e.from,n=e.to;return r!==n},Tse=function t(e,r,n){var s=mf(function(i,o){if(CE(o)){var l=e(o.from,o.to,o.velocity),d=wse(l,2),u=d[0],h=d[1];return Ma(Ma({},o),{},{from:u,velocity:h})}return o},r);return n<1?mf(function(i,o){return CE(o)?Ma(Ma({},o),{},{velocity:Wx(o.velocity,s[i].velocity,n),from:Wx(o.from,s[i].from,n)}):o},r):t(e,s,n-1)};const Sse=(function(t,e,r,n,s){var i=ase(t,e),o=i.reduce(function(g,S){return Ma(Ma({},g),{},kE({},S,[t[S],e[S]]))},{}),l=i.reduce(function(g,S){return Ma(Ma({},g),{},kE({},S,{from:t[S],velocity:0,to:e[S]}))},{}),d=-1,u,h,p=function(){return null},x=function(){return mf(function(S,k){return k.from},l)},v=function(){return!Object.values(l).filter(CE).length},b=function(S){u||(u=S);var k=S-u,y=k/r.dt;l=Tse(r,l,y),s(Ma(Ma(Ma({},t),e),x())),u=S,v()||(d=requestAnimationFrame(p))},w=function(S){h||(h=S);var k=(S-h)/n,y=mf(function(T,_){return Wx.apply(void 0,p6(_).concat([r(k)]))},o);if(s(Ma(Ma(Ma({},t),e),y)),k<1)d=requestAnimationFrame(p);else{var j=mf(function(T,_){return Wx.apply(void 0,p6(_).concat([r(1)]))},o);s(Ma(Ma(Ma({},t),e),j))}};return p=r.isStepper?b:w,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}});function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}var kse=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _se(t,e){if(t==null)return{};var r=Cse(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cse(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Pw(t){return Rse(t)||Ise(t)||Dse(t)||Ose()}function Ose(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dse(t,e){if(t){if(typeof t=="string")return OE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OE(t,e)}}function Ise(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rse(t){if(Array.isArray(t))return OE(t)}function OE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function x6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ts(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x6(Object(r),!0).forEach(function(n){Z0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z0(t,e,r){return e=QU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QU(n.key),n)}}function Lse(t,e,r){return e&&Pse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QU(t){var e=Use(t,"string");return uu(e)==="symbol"?e:String(e)}function Use(t,e){if(uu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DE(t,e)}function DE(t,e){return DE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},DE(t,e)}function Bse(t){var e=zse();return function(){var n=Xx(t),s;if(e){var i=Xx(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return IE(this,s)}}function IE(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RE(t)}function RE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zse(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xx(t){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(t)}var ii=(function(t){Fse(r,t);var e=Bse(r);function r(n,s){var i;Mse(this,r),i=e.call(this,n,s);var o=i.props,l=o.isActive,d=o.attributeName,u=o.from,h=o.to,p=o.steps,x=o.children,v=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(RE(i)),i.changeStyle=i.changeStyle.bind(RE(i)),!l||v<=0)return i.state={style:{}},typeof x=="function"&&(i.state={style:h}),IE(i);if(p&&p.length)i.state={style:p[0].style};else if(u){if(typeof x=="function")return i.state={style:u},IE(i);i.state={style:d?Z0({},d,u):u}}else i.state={style:{}};return i}return Lse(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,d=i.attributeName,u=i.shouldReAnimate,h=i.to,p=i.from,x=this.state.style;if(l){if(!o){var v={style:d?Z0({},d,h):h};this.state&&x&&(d&&x[d]!==h||!d&&x!==h)&&this.setState(v);return}if(!(Kne(s.to,h)&&s.canBegin&&s.isActive)){var b=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=b||u?p:s.to;if(this.state&&x){var g={style:d?Z0({},d,w):w};(d&&x[d]!==w||!d&&x!==w)&&this.setState(g)}this.runAnimation(Ts(Ts({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,d=s.duration,u=s.easing,h=s.begin,p=s.onAnimationEnd,x=s.onAnimationStart,v=Sse(o,l,xse(u),d,this.changeStyle),b=function(){i.stopJSAnimation=v()};this.manager.start([x,h,b,d,p])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,d=s.onAnimationStart,u=o[0],h=u.style,p=u.duration,x=p===void 0?0:p,v=function(w,g,S){if(S===0)return w;var k=g.duration,y=g.easing,j=y===void 0?"ease":y,T=g.style,_=g.properties,O=g.onAnimationEnd,M=S>0?o[S-1]:g,D=_||Object.keys(T);if(typeof j=="function"||j==="spring")return[].concat(Pw(w),[i.runJSAnimation.bind(i,{from:M.style,to:T,duration:k,easing:j}),k]);var F=u6(D,k,j),q=Ts(Ts(Ts({},M.style),T),{},{transition:F});return[].concat(Pw(w),[q,k,O]).filter(nse)};return this.manager.start([d].concat(Pw(o.reduce(v,[h,Math.max(x,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=ese());var i=s.begin,o=s.duration,l=s.attributeName,d=s.to,u=s.easing,h=s.onAnimationStart,p=s.onAnimationEnd,x=s.steps,v=s.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(s);return}if(x.length>1){this.runStepAnimation(s);return}var w=l?Z0({},l,d):d,g=u6(Object.keys(w),o,u);b.start([h,i,Ts(Ts({},w),{},{transition:g}),o,p])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var d=_se(s,kse),u=R.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!l||u===0||o<=0)return i;var p=function(v){var b=v.props,w=b.style,g=w===void 0?{}:w,S=b.className,k=R.cloneElement(v,Ts(Ts({},d),{},{style:Ts(Ts({},g),h),className:S}));return k};return u===1?p(R.Children.only(i)):xe.createElement("div",null,R.Children.map(i,function(x){return p(x)}))}}]),r})(R.PureComponent);ii.displayName="Animate";ii.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ii.propTypes={from:ur.oneOfType([ur.object,ur.string]),to:ur.oneOfType([ur.object,ur.string]),attributeName:ur.string,duration:ur.number,begin:ur.number,easing:ur.oneOfType([ur.string,ur.func]),steps:ur.arrayOf(ur.shape({duration:ur.number.isRequired,style:ur.object.isRequired,easing:ur.oneOfType([ur.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ur.func]),properties:ur.arrayOf("string"),onAnimationEnd:ur.func})),children:ur.oneOfType([ur.node,ur.func]),isActive:ur.bool,canBegin:ur.bool,onAnimationEnd:ur.func,shouldReAnimate:ur.bool,onAnimationStart:ur.func,onAnimationReStart:ur.func};function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function Jx(){return Jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jx.apply(this,arguments)}function qse(t,e){return Hse(t)||Gse(t,e)||$se(t,e)||Vse()}function Vse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $se(t,e){if(t){if(typeof t=="string")return g6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g6(t,e)}}function g6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(h){u=!0,s=h}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Hse(t){if(Array.isArray(t))return t}function b6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function v6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b6(Object(r),!0).forEach(function(n){Kse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kse(t,e,r){return e=Yse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yse(t){var e=Wse(t,"string");return nh(e)=="symbol"?e:String(e)}function Wse(t,e){if(nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y6=function(e,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,d=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,h;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],x=0,v=4;x<v;x++)p[x]=i[x]>o?o:i[x];h="M".concat(e,",").concat(r+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(e+d*p[0],",").concat(r)),h+="L ".concat(e+n-d*p[1],",").concat(r),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*p[1])),h+="L ".concat(e+n,",").concat(r+s-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(e+n-d*p[2],",").concat(r+s)),h+="L ".concat(e+d*p[3],",").concat(r+s),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+s-l*p[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);h="M ".concat(e,",").concat(r+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+d*b,",").concat(r,`
            L `).concat(e+n-d*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*b,`
            L `).concat(e+n,",").concat(r+s-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+n-d*b,",").concat(r+s,`
            L `).concat(e+d*b,",").concat(r+s,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e,",").concat(r+s-l*b," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return h},Xse=function(e,r){if(!e||!r)return!1;var n=e.x,s=e.y,i=r.x,o=r.y,l=r.width,d=r.height;if(Math.abs(l)>0&&Math.abs(d)>0){var u=Math.min(i,i+l),h=Math.max(i,i+l),p=Math.min(o,o+d),x=Math.max(o,o+d);return n>=u&&n<=h&&s>=p&&s<=x}return!1},Jse={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$T=function(e){var r=v6(v6({},Jse),e),n=R.useRef(),s=R.useState(-1),i=qse(s,2),o=i[0],l=i[1];R.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var d=r.x,u=r.y,h=r.width,p=r.height,x=r.radius,v=r.className,b=r.animationEasing,w=r.animationDuration,g=r.animationBegin,S=r.isAnimationActive,k=r.isUpdateAnimationActive;if(d!==+d||u!==+u||h!==+h||p!==+p||h===0||p===0)return null;var y=Bt("recharts-rectangle",v);return k?xe.createElement(ii,{canBegin:o>0,from:{width:h,height:p,x:d,y:u},to:{width:h,height:p,x:d,y:u},duration:w,animationEasing:b,isActive:k},function(j){var T=j.width,_=j.height,O=j.x,M=j.y;return xe.createElement(ii,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:w,isActive:S,easing:b},xe.createElement("path",Jx({},mt(r,!0),{className:y,d:y6(O,M,T,_,x),ref:n})))}):xe.createElement("path",Jx({},mt(r,!0),{className:y,d:y6(d,u,h,p,x)}))},Qse=["points","className","baseLinePoints","connectNulls"];function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Md.apply(this,arguments)}function Zse(t,e){if(t==null)return{};var r=eie(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eie(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function N6(t){return nie(t)||aie(t)||rie(t)||tie()}function tie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rie(t,e){if(t){if(typeof t=="string")return ME(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ME(t,e)}}function aie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nie(t){if(Array.isArray(t))return ME(t)}function ME(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var w6=function(e){return e&&e.x===+e.x&&e.y===+e.y},sie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){w6(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),w6(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},xf=function(e,r){var n=sie(e);r&&(n=[n.reduce(function(i,o){return[].concat(N6(i),N6(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,d){return"".concat(o).concat(d===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},iie=function(e,r,n){var s=xf(e,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(xf(r.reverse(),n).slice(1))},oie=function(e){var r=e.points,n=e.className,s=e.baseLinePoints,i=e.connectNulls,o=Zse(e,Qse);if(!r||!r.length)return null;var l=Bt("recharts-polygon",n);if(s&&s.length){var d=o.stroke&&o.stroke!=="none",u=iie(r,s,i);return xe.createElement("g",{className:l},xe.createElement("path",Md({},mt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),d?xe.createElement("path",Md({},mt(o,!0),{fill:"none",d:xf(r,i)})):null,d?xe.createElement("path",Md({},mt(o,!0),{fill:"none",d:xf(s,i)})):null)}var h=xf(r,i);return xe.createElement("path",Md({},mt(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",className:l,d:h}))};function PE(){return PE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PE.apply(this,arguments)}var xb=function(e){var r=e.cx,n=e.cy,s=e.r,i=e.className,o=Bt("recharts-dot",i);return r===+r&&n===+n&&s===+s?xe.createElement("circle",PE({},mt(e,!1),vx(e),{className:o,cx:r,cy:n,r:s})):null};function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}var lie=["x","y","top","left","width","height","className"];function LE(){return LE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LE.apply(this,arguments)}function A6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function cie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A6(Object(r),!0).forEach(function(n){die(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function die(t,e,r){return e=uie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uie(t){var e=fie(t,"string");return sh(e)=="symbol"?e:String(e)}function fie(t,e){if(sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hie(t,e){if(t==null)return{};var r=pie(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pie(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var mie=function(e,r,n,s,i,o){return"M".concat(e,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},xie=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,i=s===void 0?0:s,o=e.top,l=o===void 0?0:o,d=e.left,u=d===void 0?0:d,h=e.width,p=h===void 0?0:h,x=e.height,v=x===void 0?0:x,b=e.className,w=hie(e,lie),g=cie({x:n,y:i,top:l,left:u,width:p,height:v},w);return!Je(n)||!Je(i)||!Je(p)||!Je(v)||!Je(l)||!Je(u)?null:xe.createElement("path",LE({},mt(g,!0),{className:Bt("recharts-cross",b),d:mie(n,i,p,v,l,u)}))},Lw,E6;function gie(){if(E6)return Lw;E6=1;var t=ub(),e=xU(),r=di();function n(s,i){return s&&s.length?t(s,r(i,2),e):void 0}return Lw=n,Lw}var bie=gie();const vie=fr(bie);var Uw,j6;function yie(){if(j6)return Uw;j6=1;var t=ub(),e=di(),r=gU();function n(s,i){return s&&s.length?t(s,e(i,2),r):void 0}return Uw=n,Uw}var Nie=yie();const wie=fr(Nie);var Aie=["cx","cy","angle","ticks","axisLine"],Eie=["ticks","tick","angle","tickFormatter","stroke"];function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gf.apply(this,arguments)}function T6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Il(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T6(Object(r),!0).forEach(function(n){gb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S6(t,e){if(t==null)return{};var r=jie(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jie(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Tie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eF(n.key),n)}}function Sie(t,e,r){return e&&k6(t.prototype,e),r&&k6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kie(t,e,r){return e=Qx(e),_ie(t,ZU()?Reflect.construct(e,r||[],Qx(t).constructor):e.apply(t,r))}function _ie(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cie(t)}function Cie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZU=function(){return!!t})()}function Qx(t){return Qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qx(t)}function Oie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UE(t,e)}function UE(t,e){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},UE(t,e)}function gb(t,e,r){return e=eF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eF(t){var e=Die(t,"string");return fu(e)=="symbol"?e:String(e)}function Die(t,e){if(fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bb=(function(t){Oie(e,t);function e(){return Tie(this,e),kie(this,e,arguments)}return Sie(e,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,d=i.cy;return Tr(l,d,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,d=vie(l,function(h){return h.coordinate||0}),u=wie(l,function(h){return h.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,d=n.axisLine,u=S6(n,Aie),h=l.reduce(function(b,w){return[Math.min(b[0],w.coordinate),Math.max(b[1],w.coordinate)]},[1/0,-1/0]),p=Tr(s,i,h[0],o),x=Tr(s,i,h[1],o),v=Il(Il(Il({},mt(u,!1)),{},{fill:"none"},mt(d,!1)),{},{x1:p.x,y1:p.y,x2:x.x,y2:x.y});return xe.createElement("line",gf({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,d=s.tickFormatter,u=s.stroke,h=S6(s,Eie),p=this.getTickTextAnchor(),x=mt(h,!1),v=mt(o,!1),b=i.map(function(w,g){var S=n.getTickValueCoord(w),k=Il(Il(Il(Il({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(S.x,", ").concat(S.y,")")},x),{},{stroke:"none",fill:u},v),{},{index:g},S),{},{payload:w});return xe.createElement(ir,gf({className:Bt("recharts-polar-radius-axis-tick",qU(o)),key:"tick-".concat(w.coordinate)},cc(n.props,w,g)),e.renderTickItem(o,k,d?d(w.value,g):w.value))});return xe.createElement(ir,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:xe.createElement(ir,{className:Bt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Ea.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return xe.isValidElement(n)?o=xe.cloneElement(n,s):St(n)?o=n(s):o=xe.createElement(uc,gf({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}]),e})(R.PureComponent);gb(bb,"displayName","PolarRadiusAxis");gb(bb,"axisType","radiusAxis");gb(bb,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function zl(){return zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zl.apply(this,arguments)}function _6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Rl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_6(Object(r),!0).forEach(function(n){vb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rF(n.key),n)}}function Rie(t,e,r){return e&&C6(t.prototype,e),r&&C6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mie(t,e,r){return e=Zx(e),Pie(t,tF()?Reflect.construct(e,r||[],Zx(t).constructor):e.apply(t,r))}function Pie(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lie(t)}function Lie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!t})()}function Zx(t){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zx(t)}function Uie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FE(t,e)}function FE(t,e){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},FE(t,e)}function vb(t,e,r){return e=rF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rF(t){var e=Fie(t,"string");return hu(e)=="symbol"?e:String(e)}function Fie(t,e){if(hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bie=Math.PI/180,O6=1e-5,yb=(function(t){Uie(e,t);function e(){return Iie(this,e),Mie(this,e,arguments)}return Rie(e,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,d=s.orientation,u=s.tickSize,h=u||8,p=Tr(i,o,l,n.coordinate),x=Tr(i,o,l+(d==="inner"?-1:1)*h,n.coordinate);return{x1:p.x,y1:p.y,x2:x.x,y2:x.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*Bie),o;return i>O6?o=s==="outer"?"start":"end":i<-O6?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,d=n.axisLineType,u=Rl(Rl({},mt(this.props,!1)),{},{fill:"none"},mt(l,!1));if(d==="circle")return xe.createElement(xb,zl({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var h=this.props.ticks,p=h.map(function(x){return Tr(s,i,o,x.coordinate)});return xe.createElement(oie,zl({className:"recharts-polar-angle-axis-line"},u,{points:p}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,d=s.tickFormatter,u=s.stroke,h=mt(this.props,!1),p=mt(o,!1),x=Rl(Rl({},h),{},{fill:"none"},mt(l,!1)),v=i.map(function(b,w){var g=n.getTickLineCoord(b),S=n.getTickTextAnchor(b),k=Rl(Rl(Rl({textAnchor:S},h),{},{stroke:"none",fill:u},p),{},{index:w,payload:b,x:g.x2,y:g.y2});return xe.createElement(ir,zl({className:Bt("recharts-polar-angle-axis-tick",qU(o)),key:"tick-".concat(b.coordinate)},cc(n.props,b,w)),l&&xe.createElement("line",zl({className:"recharts-polar-angle-axis-tick-line"},x,g)),o&&e.renderTickItem(o,k,d?d(b.value,w):b.value))});return xe.createElement(ir,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:xe.createElement(ir,{className:Bt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return xe.isValidElement(n)?o=xe.cloneElement(n,s):St(n)?o=n(s):o=xe.createElement(uc,zl({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}]),e})(R.PureComponent);vb(yb,"displayName","PolarAngleAxis");vb(yb,"axisType","angleAxis");vb(yb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Fw,D6;function zie(){if(D6)return Fw;D6=1;var t=m9(),e=t(Object.getPrototypeOf,Object);return Fw=e,Fw}var Bw,I6;function qie(){if(I6)return Bw;I6=1;var t=to(),e=zie(),r=ro(),n="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,d=o.call(Object);function u(h){if(!r(h)||t(h)!=n)return!1;var p=e(h);if(p===null)return!0;var x=l.call(p,"constructor")&&p.constructor;return typeof x=="function"&&x instanceof x&&o.call(x)==d}return Bw=u,Bw}var Vie=qie();const $ie=fr(Vie);var zw,R6;function Gie(){if(R6)return zw;R6=1;var t=to(),e=ro(),r="[object Boolean]";function n(s){return s===!0||s===!1||e(s)&&t(s)==r}return zw=n,zw}var Hie=Gie();const Kie=fr(Hie);function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function eg(){return eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eg.apply(this,arguments)}function Yie(t,e){return Qie(t)||Jie(t,e)||Xie(t,e)||Wie()}function Wie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xie(t,e){if(t){if(typeof t=="string")return M6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M6(t,e)}}function M6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(h){u=!0,s=h}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Qie(t){if(Array.isArray(t))return t}function P6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function L6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P6(Object(r),!0).forEach(function(n){Zie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zie(t,e,r){return e=eoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eoe(t){var e=toe(t,"string");return ih(e)=="symbol"?e:String(e)}function toe(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var U6=function(e,r,n,s,i){var o=n-s,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+i),l+="L ".concat(e+n-o/2-s,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},roe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aoe=function(e){var r=L6(L6({},roe),e),n=R.useRef(),s=R.useState(-1),i=Yie(s,2),o=i[0],l=i[1];R.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&l(y)}catch{}},[]);var d=r.x,u=r.y,h=r.upperWidth,p=r.lowerWidth,x=r.height,v=r.className,b=r.animationEasing,w=r.animationDuration,g=r.animationBegin,S=r.isUpdateAnimationActive;if(d!==+d||u!==+u||h!==+h||p!==+p||x!==+x||h===0&&p===0||x===0)return null;var k=Bt("recharts-trapezoid",v);return S?xe.createElement(ii,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:x,x:d,y:u},to:{upperWidth:h,lowerWidth:p,height:x,x:d,y:u},duration:w,animationEasing:b,isActive:S},function(y){var j=y.upperWidth,T=y.lowerWidth,_=y.height,O=y.x,M=y.y;return xe.createElement(ii,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:w,easing:b},xe.createElement("path",eg({},mt(r,!0),{className:k,d:U6(O,M,j,T,_),ref:n})))}):xe.createElement("g",null,xe.createElement("path",eg({},mt(r,!0),{className:k,d:U6(d,u,h,p,x)})))},noe=["option","shapeType","propTransformer","activeClassName","isActive"];function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function soe(t,e){if(t==null)return{};var r=ioe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ioe(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function F6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function tg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F6(Object(r),!0).forEach(function(n){ooe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ooe(t,e,r){return e=loe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function loe(t){var e=coe(t,"string");return oh(e)=="symbol"?e:String(e)}function coe(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function doe(t,e){return tg(tg({},e),t)}function uoe(t,e){return t==="symbols"}function B6(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return xe.createElement($T,r);case"trapezoid":return xe.createElement(aoe,r);case"sector":return xe.createElement(GU,r);case"symbols":if(uoe(e))return xe.createElement(cT,r);break;default:return null}}function foe(t){return R.isValidElement(t)?t.props:t}function aF(t){var e=t.option,r=t.shapeType,n=t.propTransformer,s=n===void 0?doe:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,d=soe(t,noe),u;if(R.isValidElement(e))u=R.cloneElement(e,tg(tg({},d),foe(e)));else if(St(e))u=e(d);else if($ie(e)&&!Kie(e)){var h=s(e,d);u=xe.createElement(B6,{shapeType:r,elementProps:h})}else{var p=d;u=xe.createElement(B6,{shapeType:r,elementProps:p})}return l?xe.createElement(ir,{className:o},u):u}function Nb(t,e){return e!=null&&"trapezoids"in t.props}function wb(t,e){return e!=null&&"sectors"in t.props}function lh(t,e){return e!=null&&"points"in t.props}function hoe(t,e){var r,n,s=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return s&&i}function poe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function moe(t,e){var r=t.x===e.x,n=t.y===e.y,s=t.z===e.z;return r&&n&&s}function xoe(t,e){var r;return Nb(t,e)?r=hoe:wb(t,e)?r=poe:lh(t,e)&&(r=moe),r}function goe(t,e){var r;return Nb(t,e)?r="trapezoids":wb(t,e)?r="sectors":lh(t,e)&&(r="points"),r}function boe(t,e){if(Nb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(wb(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return lh(t,e)?e.payload:{}}function voe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,s=goe(r,e),i=boe(r,e),o=n.filter(function(d,u){var h=Gh(i,d),p=r.props[s].filter(function(b){var w=xoe(r,e);return w(b,e)}),x=r.props[s].indexOf(p[p.length-1]),v=u===x;return h&&v}),l=n.indexOf(o[o.length-1]);return l}var sx;function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function Pd(){return Pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pd.apply(this,arguments)}function z6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z6(Object(r),!0).forEach(function(n){ms(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sF(n.key),n)}}function Noe(t,e,r){return e&&q6(t.prototype,e),r&&q6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function woe(t,e,r){return e=rg(e),Aoe(t,nF()?Reflect.construct(e,r||[],rg(t).constructor):e.apply(t,r))}function Aoe(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sd(t)}function nF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nF=function(){return!!t})()}function rg(t){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rg(t)}function Sd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BE(t,e)}function BE(t,e){return BE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},BE(t,e)}function ms(t,e,r){return e=sF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sF(t){var e=joe(t,"string");return pu(e)=="symbol"?e:String(e)}function joe(t,e){if(pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var no=(function(t){Eoe(e,t);function e(r){var n;return yoe(this,e),n=woe(this,e,[r]),ms(Sd(n),"pieRef",null),ms(Sd(n),"sectorRefs",[]),ms(Sd(n),"id",Iu("recharts-pie-")),ms(Sd(n),"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),St(s)&&s()}),ms(Sd(n),"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),St(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Noe(e,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,d=i.dataKey,u=i.valueKey,h=mt(this.props,!1),p=mt(o,!1),x=mt(l,!1),v=o&&o.offsetRadius||20,b=n.map(function(w,g){var S=(w.startAngle+w.endAngle)/2,k=Tr(w.cx,w.cy,w.outerRadius+v,S),y=Ur(Ur(Ur(Ur({},h),w),{},{stroke:"none"},p),{},{index:g,textAnchor:e.getTextAnchor(k.x,w.cx)},k),j=Ur(Ur(Ur(Ur({},h),w),{},{fill:"none",stroke:w.fill},x),{},{index:g,points:[Tr(w.cx,w.cy,w.outerRadius,S),k],key:"line"}),T=d;return It(d)&&It(u)?T="value":It(d)&&(T=u),xe.createElement(ir,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(g)},l&&e.renderLabelLineItem(l,j),e.renderLabelItem(o,y,ha(w,T)))});return xe.createElement(ir,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,d=i.inactiveShape;return n.map(function(u,h){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var p=s.isActiveIndex(h),x=d&&s.hasActiveIndex()?d:null,v=p?o:x,b=Ur(Ur({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return xe.createElement(ir,Pd({ref:function(g){g&&!s.sectorRefs.includes(g)&&s.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},cc(s.props,u,h),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(h)}),xe.createElement(aF,Pd({option:v,isActive:p,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,d=s.animationDuration,u=s.animationEasing,h=s.animationId,p=this.state,x=p.prevSectors,v=p.prevIsAnimationActive;return xe.createElement(ii,{begin:l,duration:d,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var w=b.t,g=[],S=i&&i[0],k=S.startAngle;return i.forEach(function(y,j){var T=x&&x[j],_=j>0?$n(y,"paddingAngle",0):0;if(T){var O=Ln(T.endAngle-T.startAngle,y.endAngle-y.startAngle),M=Ur(Ur({},y),{},{startAngle:k+_,endAngle:k+O(w)+_});g.push(M),k=M.endAngle}else{var D=y.endAngle,F=y.startAngle,q=Ln(0,D-F),L=q(w),B=Ur(Ur({},y),{},{startAngle:k+_,endAngle:k+L+_});g.push(B),k=B.endAngle}}),xe.createElement(ir,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Gh(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,d=s.label,u=s.cx,h=s.cy,p=s.innerRadius,x=s.outerRadius,v=s.isAnimationActive,b=this.state.isAnimationFinished;if(i||!o||!o.length||!Je(u)||!Je(h)||!Je(p)||!Je(x))return null;var w=Bt("recharts-pie",l);return xe.createElement(ir,{tabIndex:this.props.rootTabIndex,className:w,ref:function(S){n.pieRef=S}},this.renderSectors(),d&&this.renderLabels(o),Ea.renderCallByParent(this.props,null,!1),(!v||b)&&Vi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s){if(xe.isValidElement(n))return xe.cloneElement(n,s);if(St(n))return n(s);var i=Bt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return xe.createElement(Hx,Pd({},s,{type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,s,i){if(xe.isValidElement(n))return xe.cloneElement(n,s);var o=i;if(St(n)&&(o=n(s),xe.isValidElement(o)))return o;var l=Bt("recharts-pie-label-text",typeof n!="boolean"&&!St(n)?n.className:"");return xe.createElement(uc,Pd({},s,{alignmentBaseline:"middle",className:l}),o)}}]),e})(R.PureComponent);sx=no;ms(no,"displayName","Pie");ms(no,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ac.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ms(no,"parseDeltaAngle",function(t,e){var r=en(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ms(no,"getRealPieData",function(t){var e=t.props,r=e.data,n=e.children,s=mt(t.props,!1),i=Gn(n,Qo);return r&&r.length?r.map(function(o,l){return Ur(Ur(Ur({payload:o},s),o),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(o){return Ur(Ur({},s),o.props)}):[]});ms(no,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,s=e.width,i=e.height,o=zU(s,i),l=n+tn(t.props.cx,s,s/2),d=r+tn(t.props.cy,i,i/2),u=tn(t.props.innerRadius,o,0),h=tn(t.props.outerRadius,o,o*.8),p=t.props.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:d,innerRadius:u,outerRadius:h,maxRadius:p}});ms(no,"getComposedData",function(t){var e=t.item,r=t.offset,n=sx.getRealPieData(e);if(!n||!n.length)return null;var s=e.props,i=s.cornerRadius,o=s.startAngle,l=s.endAngle,d=s.paddingAngle,u=s.dataKey,h=s.nameKey,p=s.valueKey,x=s.tooltipType,v=Math.abs(e.props.minAngle),b=sx.parseCoordinateOfPie(e,r),w=sx.parseDeltaAngle(o,l),g=Math.abs(w),S=u;It(u)&&It(p)?(Fs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):It(u)&&(Fs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=p);var k=n.filter(function(M){return ha(M,S,0)!==0}).length,y=(g>=360?k:k-1)*d,j=g-k*v-y,T=n.reduce(function(M,D){var F=ha(D,S,0);return M+(Je(F)?F:0)},0),_;if(T>0){var O;_=n.map(function(M,D){var F=ha(M,S,0),q=ha(M,h,D),L=(Je(F)?F:0)/T,B;D?B=O.endAngle+en(w)*d*(F!==0?1:0):B=o;var X=B+en(w)*((F!==0?v:0)+L*j),P=(B+X)/2,U=(b.innerRadius+b.outerRadius)/2,z=[{name:q,value:F,payload:M,dataKey:S,type:x}],V=Tr(b.cx,b.cy,U,P);return O=Ur(Ur(Ur({percent:L,cornerRadius:i,name:q,tooltipPayload:z,midAngle:P,middleRadius:U,tooltipPosition:V},M),b),{},{value:ha(M,S),startAngle:B,endAngle:X,payload:M,paddingAngle:en(w)*d}),O})}return Ur(Ur({},b),{},{sectors:_,data:n})});var qw,V6;function Toe(){if(V6)return qw;V6=1;var t=Math.ceil,e=Math.max;function r(n,s,i,o){for(var l=-1,d=e(t((s-n)/(i||1)),0),u=Array(d);d--;)u[o?d:++l]=n,n+=i;return u}return qw=r,qw}var Vw,$6;function iF(){if($6)return Vw;$6=1;var t=D9(),e=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=t(s),s===e||s===-e){var i=s<0?-1:1;return i*r}return s===s?s:0}return Vw=n,Vw}var $w,G6;function Soe(){if(G6)return $w;G6=1;var t=Toe(),e=nb(),r=iF();function n(s){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),t(i,o,l,s)}}return $w=n,$w}var Gw,H6;function koe(){if(H6)return Gw;H6=1;var t=Soe(),e=t();return Gw=e,Gw}var _oe=koe();const ag=fr(_oe);function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function K6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Y6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K6(Object(r),!0).forEach(function(n){oF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oF(t,e,r){return e=Coe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Coe(t){var e=Ooe(t,"string");return ch(e)=="symbol"?e:String(e)}function Ooe(t,e){if(ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Doe=["Webkit","Moz","O","ms"],Ioe=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),s=Doe.reduce(function(i,o){return Y6(Y6({},i),{},oF({},o+n,r))},{});return s[e]=r,s};function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function ng(){return ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ng.apply(this,arguments)}function W6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Hw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W6(Object(r),!0).forEach(function(n){Mn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Roe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cF(n.key),n)}}function Moe(t,e,r){return e&&X6(t.prototype,e),r&&X6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Poe(t,e,r){return e=sg(e),Loe(t,lF()?Reflect.construct(e,r||[],sg(t).constructor):e.apply(t,r))}function Loe(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Js(t)}function lF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lF=function(){return!!t})()}function sg(t){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sg(t)}function Js(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zE(t,e)}function zE(t,e){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zE(t,e)}function Mn(t,e,r){return e=cF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cF(t){var e=Foe(t,"string");return mu(e)=="symbol"?e:String(e)}function Foe(t,e){if(mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Boe=function(e){var r=e.data,n=e.startIndex,s=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,u=hf().domain(ag(0,d)).range([i,i+o-l]),h=u.domain().map(function(p){return u(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:h}},J6=function(e){return e.changedTouches&&!!e.changedTouches.length},xu=(function(t){Uoe(e,t);function e(r){var n;return Roe(this,e),n=Poe(this,e,[r]),Mn(Js(n),"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Mn(Js(n),"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Mn(Js(n),"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Mn(Js(n),"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Mn(Js(n),"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Mn(Js(n),"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Mn(Js(n),"handleSlideDragStart",function(s){var i=J6(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(Js(n),"startX"),endX:n.handleTravellerDragStart.bind(Js(n),"endX")},n.state={},n}return Moe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,d=l.gap,u=l.data,h=u.length-1,p=Math.min(s,i),x=Math.max(s,i),v=e.getIndexInRange(o,p),b=e.getIndexInRange(o,x);return{startIndex:v-v%d,endIndex:b===h?h:b-b%d}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,d=ha(i[n],l,n);return St(o)?o(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,d=this.props,u=d.x,h=d.width,p=d.travellerWidth,x=d.startIndex,v=d.endIndex,b=d.onChange,w=n.pageX-i;w>0?w=Math.min(w,u+h-p-l,u+h-p-o):w<0&&(w=Math.max(w,u-o,u-l));var g=this.getIndex({startX:o+w,endX:l+w});(g.startIndex!==x||g.endIndex!==v)&&b&&b(g),this.setState({startX:o+w,endX:l+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=J6(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,d=s.startX,u=this.state[o],h=this.props,p=h.x,x=h.width,v=h.travellerWidth,b=h.onChange,w=h.gap,g=h.data,S={startX:this.state.startX,endX:this.state.endX},k=n.pageX-i;k>0?k=Math.min(k,p+x-v-u):k<0&&(k=Math.max(k,p-u)),S[o]=u+k;var y=this.getIndex(S),j=y.startIndex,T=y.endIndex,_=function(){var M=g.length-1;return o==="startX"&&(l>d?j%w===0:T%w===0)||l<d&&T===M||o==="endX"&&(l>d?T%w===0:j%w===0)||l>d&&T===M};this.setState(Mn(Mn({},o,u+k),"brushMoveStartX",n.pageX),function(){b&&_()&&b(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,d=o.startX,u=o.endX,h=this.state[s],p=l.indexOf(h);if(p!==-1){var x=p+n;if(!(x===-1||x>=l.length)){var v=l[x];s==="startX"&&v>=u||s==="endX"&&v<=d||this.setState(Mn({},s,v),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,d=n.fill,u=n.stroke;return xe.createElement("rect",{stroke:u,fill:d,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,d=n.data,u=n.children,h=n.padding,p=R.Children.only(u);return p?xe.cloneElement(p,{x:s,y:i,width:o,height:l,margin:h,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,d=this.props,u=d.y,h=d.travellerWidth,p=d.height,x=d.traveller,v=d.ariaLabel,b=d.data,w=d.startIndex,g=d.endIndex,S=Math.max(n,this.props.x),k=Hw(Hw({},mt(this.props,!1)),{},{x:S,y:u,width:h,height:p}),y=v||"Min value: ".concat((i=b[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=b[g])===null||o===void 0?void 0:o.name);return xe.createElement(ir,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),l.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(x,k))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,d=i.stroke,u=i.travellerWidth,h=Math.min(n,s)+u,p=Math.max(Math.abs(s-n)-u,0);return xe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:h,y:o,width:p,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,d=n.travellerWidth,u=n.stroke,h=this.state,p=h.startX,x=h.endX,v=5,b={pointerEvents:"none",fill:u};return xe.createElement(ir,{className:"recharts-brush-texts"},xe.createElement(uc,ng({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,x)-v,y:o+l/2},b),this.getTextOfTick(s)),xe.createElement(uc,ng({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,x)+d+v,y:o+l/2},b),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,d=n.y,u=n.width,h=n.height,p=n.alwaysShowText,x=this.state,v=x.startX,b=x.endX,w=x.isTextActive,g=x.isSlideMoving,S=x.isTravellerMoving,k=x.isTravellerFocused;if(!s||!s.length||!Je(l)||!Je(d)||!Je(u)||!Je(h)||u<=0||h<=0)return null;var y=Bt("recharts-brush",i),j=xe.Children.count(o)===1,T=Ioe("userSelect","none");return xe.createElement(ir,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(v,b),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(b,"endX"),(w||g||S||k||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,d=n.stroke,u=Math.floor(i+l/2)-1;return xe.createElement(xe.Fragment,null,xe.createElement("rect",{x:s,y:i,width:o,height:l,fill:d,stroke:"none"}),xe.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),xe.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return xe.isValidElement(n)?i=xe.cloneElement(n,s):St(n)?i=n(s):i=e.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,d=n.travellerWidth,u=n.updateId,h=n.startIndex,p=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return Hw({prevData:i,prevTravellerWidth:d,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Boe({data:i,width:o,x:l,travellerWidth:d,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||d!==s.prevTravellerWidth)){s.scale.range([l,l+o-d]);var x=s.scale.domain().map(function(v){return s.scale(v)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var d=Math.floor((o+l)/2);n[d]>s?l=d:o=d}return s>=n[l]?l:o}}]),e})(R.PureComponent);Mn(xu,"displayName","Brush");Mn(xu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Kw,Q6;function zoe(){if(Q6)return Kw;Q6=1;var t=xT();function e(r,n){var s;return t(r,function(i,o,l){return s=n(i,o,l),!s}),!!s}return Kw=e,Kw}var Yw,Z6;function qoe(){if(Z6)return Yw;Z6=1;var t=l9(),e=di(),r=zoe(),n=An(),s=nb();function i(o,l,d){var u=n(o)?t:r;return d&&s(o,l,d)&&(l=void 0),u(o,e(l,3))}return Yw=i,Yw}var Voe=qoe();const $oe=fr(Voe);var ri=function(e,r){var n=e.alwaysShow,s=e.ifOverflow;return n&&(s="extendDomain"),s===r},Ww,e3;function Goe(){if(e3)return Ww;e3=1;var t=S9();function e(r,n,s){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return Ww=e,Ww}var Xw,t3;function Hoe(){if(t3)return Xw;t3=1;var t=Goe(),e=j9(),r=di();function n(s,i){var o={};return i=r(i,3),e(s,function(l,d,u){t(o,d,i(l,d,u))}),o}return Xw=n,Xw}var Koe=Hoe();const Yoe=fr(Koe);var Jw,r3;function Woe(){if(r3)return Jw;r3=1;function t(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!r(e[n],n,e))return!1;return!0}return Jw=t,Jw}var Qw,a3;function Xoe(){if(a3)return Qw;a3=1;var t=xT();function e(r,n){var s=!0;return t(r,function(i,o,l){return s=!!n(i,o,l),s}),s}return Qw=e,Qw}var Zw,n3;function Joe(){if(n3)return Zw;n3=1;var t=Woe(),e=Xoe(),r=di(),n=An(),s=nb();function i(o,l,d){var u=n(o)?t:e;return d&&s(o,l,d)&&(l=void 0),u(o,r(l,3))}return Zw=i,Zw}var Qoe=Joe();const dF=fr(Qoe);var Zoe=["x","y"];function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function qE(){return qE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qE.apply(this,arguments)}function s3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function K0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s3(Object(r),!0).forEach(function(n){ele(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ele(t,e,r){return e=tle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tle(t){var e=rle(t,"string");return dh(e)=="symbol"?e:String(e)}function rle(t,e){if(dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ale(t,e){if(t==null)return{};var r=nle(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nle(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function sle(t,e){var r=t.x,n=t.y,s=ale(t,Zoe),i="".concat(r),o=parseInt(i,10),l="".concat(n),d=parseInt(l,10),u="".concat(e.height||s.height),h=parseInt(u,10),p="".concat(e.width||s.width),x=parseInt(p,10);return K0(K0(K0(K0(K0({},e),s),o?{x:o}:{}),d?{y:d}:{}),{},{height:h,width:x,name:e.name,radius:e.radius})}function i3(t){return xe.createElement(aF,qE({shapeType:"rectangle",propTransformer:sle,activeClassName:"recharts-active-bar"},t))}var ile=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof e=="number")return e;var i=typeof n=="number";return i?e(n,s):(i||hc(),r)}},ole=["value","background"],uF;function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function lle(t,e){if(t==null)return{};var r=cle(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cle(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function ig(){return ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ig.apply(this,arguments)}function o3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o3(Object(r),!0).forEach(function(n){Vo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hF(n.key),n)}}function ule(t,e,r){return e&&l3(t.prototype,e),r&&l3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fle(t,e,r){return e=og(e),hle(t,fF()?Reflect.construct(e,r||[],og(t).constructor):e.apply(t,r))}function hle(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ef(t)}function fF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fF=function(){return!!t})()}function og(t){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},og(t)}function ef(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ple(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VE(t,e)}function VE(t,e){return VE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},VE(t,e)}function Vo(t,e,r){return e=hF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hF(t){var e=mle(t,"string");return gu(e)=="symbol"?e:String(e)}function mle(t,e){if(gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ui=(function(t){ple(e,t);function e(){var r;dle(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=fle(this,e,[].concat(s)),Vo(ef(r),"state",{isAnimationFinished:!1}),Vo(ef(r),"id",Iu("recharts-bar-")),Vo(ef(r),"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Vo(ef(r),"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return ule(e,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,d=i.activeIndex,u=i.activeBar,h=mt(this.props,!1);return n&&n.map(function(p,x){var v=x===d,b=v?u:o,w=Na(Na(Na({},h),p),{},{isActive:v,option:b,index:x,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return xe.createElement(ir,ig({className:"recharts-bar-rectangle"},cc(s.props,p,x),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value)}),xe.createElement(i3,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,d=s.animationBegin,u=s.animationDuration,h=s.animationEasing,p=s.animationId,x=this.state.prevData;return xe.createElement(ii,{begin:d,duration:u,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t,w=i.map(function(g,S){var k=x&&x[S];if(k){var y=Ln(k.x,g.x),j=Ln(k.y,g.y),T=Ln(k.width,g.width),_=Ln(k.height,g.height);return Na(Na({},g),{},{x:y(b),y:j(b),width:T(b),height:_(b)})}if(o==="horizontal"){var O=Ln(0,g.height),M=O(b);return Na(Na({},g),{},{y:g.y+g.height-M,height:M})}var D=Ln(0,g.width),F=D(b);return Na(Na({},g),{},{width:F})});return xe.createElement(ir,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Gh(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,d=mt(this.props.background,!1);return i.map(function(u,h){u.value;var p=u.background,x=lle(u,ole);if(!p)return null;var v=Na(Na(Na(Na(Na({},x),{},{fill:"#eee"},p),d),cc(n.props,u,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:h,key:"background-bar-".concat(h),className:"recharts-bar-background-rectangle"});return xe.createElement(i3,ig({option:n.props.background,isActive:h===l},v))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,d=i.yAxis,u=i.layout,h=i.children,p=Gn(h,Hh);if(!p)return null;var x=u==="vertical"?o[0].height/2:o[0].width/2,v=function(g,S){var k=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:k,errorVal:ha(g,S)}},b={clipPath:n?"url(#clipPath-".concat(s,")"):null};return xe.createElement(ir,b,p.map(function(w){return xe.cloneElement(w,{key:"error-bar-".concat(s,"-").concat(w.props.dataKey),data:o,xAxis:l,yAxis:d,layout:u,offset:x,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,d=n.yAxis,u=n.left,h=n.top,p=n.width,x=n.height,v=n.isAnimationActive,b=n.background,w=n.id;if(s||!i||!i.length)return null;var g=this.state.isAnimationFinished,S=Bt("recharts-bar",o),k=l&&l.allowDataOverflow,y=d&&d.allowDataOverflow,j=k||y,T=It(w)?this.id:w;return xe.createElement(ir,{className:S},k||y?xe.createElement("defs",null,xe.createElement("clipPath",{id:"clipPath-".concat(T)},xe.createElement("rect",{x:k?u:u-p/2,y:y?h:h-x/2,width:k?p:p*2,height:y?x:x*2}))):null,xe.createElement(ir,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(T,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,T),(!v||g)&&Vi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}]),e})(R.PureComponent);uF=ui;Vo(ui,"displayName","Bar");Vo(ui,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ac.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Vo(ui,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,s=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,d=t.yAxisTicks,u=t.stackedData,h=t.dataStartIndex,p=t.displayedData,x=t.offset,v=Vre(n,r);if(!v)return null;var b=e.layout,w=r.props,g=w.dataKey,S=w.children,k=w.minPointSize,y=b==="horizontal"?o:i,j=u?y.scale.domain():null,T=Xre({numericAxis:y}),_=Gn(S,Qo),O=p.map(function(M,D){var F,q,L,B,X,P;u?F=$re(u[h+D],j):(F=ha(M,g),Array.isArray(F)||(F=[T,F]));var U=ile(k,uF.defaultProps.minPointSize)(F[1],D);if(b==="horizontal"){var z,V=[o.scale(F[0]),o.scale(F[1])],Y=V[0],se=V[1];q=PR({axis:i,ticks:l,bandSize:s,offset:v.offset,entry:M,index:D}),L=(z=se??Y)!==null&&z!==void 0?z:void 0,B=v.size;var K=Y-se;if(X=Number.isNaN(K)?0:K,P={x:q,y:o.y,width:B,height:o.height},Math.abs(U)>0&&Math.abs(X)<Math.abs(U)){var G=en(X||U)*(Math.abs(U)-Math.abs(X));L-=G,X+=G}}else{var W=[i.scale(F[0]),i.scale(F[1])],Q=W[0],ee=W[1];if(q=Q,L=PR({axis:o,ticks:d,bandSize:s,offset:v.offset,entry:M,index:D}),B=ee-Q,X=v.size,P={x:i.x,y:L,width:i.width,height:X},Math.abs(U)>0&&Math.abs(B)<Math.abs(U)){var he=en(B||U)*(Math.abs(U)-Math.abs(B));B+=he}}return Na(Na(Na({},M),{},{x:q,y:L,width:B,height:X,value:u?F:F[1],payload:M,background:P},_&&_[D]&&_[D].props),{},{tooltipPayload:[FU(r,M)],tooltipPosition:{x:q+B/2,y:L+X/2}})});return Na({data:O,layout:b},x)});function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function xle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pF(n.key),n)}}function gle(t,e,r){return e&&c3(t.prototype,e),r&&c3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function d3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Os(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d3(Object(r),!0).forEach(function(n){Ab(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ab(t,e,r){return e=pF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pF(t){var e=ble(t,"string");return uh(e)=="symbol"?e:String(e)}function ble(t,e){if(uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mF=function(e,r,n,s,i){var o=e.width,l=e.height,d=e.layout,u=e.children,h=Object.keys(r),p={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},x=!!Pn(u,ui);return h.reduce(function(v,b){var w=r[b],g=w.orientation,S=w.domain,k=w.padding,y=k===void 0?{}:k,j=w.mirror,T=w.reversed,_="".concat(g).concat(j?"Mirror":""),O,M,D,F,q;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var L=S[1]-S[0],B=1/0,X=w.categoricalDomain.sort();if(X.forEach(function(Q,ee){ee>0&&(B=Math.min((Q||0)-(X[ee-1]||0),B))}),Number.isFinite(B)){var P=B/L,U=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(O=P*U/2),w.padding==="no-gap"){var z=tn(e.barCategoryGap,P*U),V=P*U/2;O=V-z-(V-z)/U*z}}}s==="xAxis"?M=[n.left+(y.left||0)+(O||0),n.left+n.width-(y.right||0)-(O||0)]:s==="yAxis"?M=d==="horizontal"?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(O||0),n.top+n.height-(y.bottom||0)-(O||0)]:M=w.range,T&&(M=[M[1],M[0]]);var Y=MU(w,i,x),se=Y.scale,K=Y.realScaleType;se.domain(S).range(M),PU(se);var G=LU(se,Os(Os({},w),{},{realScaleType:K}));s==="xAxis"?(q=g==="top"&&!j||g==="bottom"&&j,D=n.left,F=p[_]-q*w.height):s==="yAxis"&&(q=g==="left"&&!j||g==="right"&&j,D=p[_]-q*w.width,F=n.top);var W=Os(Os(Os({},w),G),{},{realScaleType:K,x:D,y:F,scale:se,width:s==="xAxis"?n.width:w.width,height:s==="yAxis"?n.height:w.height});return W.bandSize=Vx(W,G),!w.hide&&s==="xAxis"?p[_]+=(q?-1:1)*W.height:w.hide||(p[_]+=(q?-1:1)*W.width),Os(Os({},v),{},Ab({},b,W))},{})},xF=function(e,r){var n=e.x,s=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},vle=function(e){var r=e.x1,n=e.y1,s=e.x2,i=e.y2;return xF({x:r,y:n},{x:s,y:i})},gF=(function(){function t(e){xle(this,t),this.scale=e}return gle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new t(r)}}]),t})();Ab(gF,"EPS",1e-4);var GT=function(e){var r=Object.keys(e).reduce(function(n,s){return Os(Os({},n),{},Ab({},s,gF.create(e[s])))},{});return Os(Os({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Yoe(s,function(d,u){return r[u].apply(d,{bandAware:o,position:l})})},isInRange:function(s){return dF(s,function(i,o){return r[o].isInRange(i)})}})};function yle(t){return(t%180+180)%180}var Nle=function(e){var r=e.width,n=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=yle(s),o=i*Math.PI/180,l=Math.atan(n/r),d=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},eA,u3;function wle(){if(u3)return eA;u3=1;var t=di(),e=Bh(),r=rb();function n(s){return function(i,o,l){var d=Object(i);if(!e(i)){var u=t(o,3);i=r(i),o=function(p){return u(d[p],p,d)}}var h=s(i,o,l);return h>-1?d[u?i[h]:h]:void 0}}return eA=n,eA}var tA,f3;function Ale(){if(f3)return tA;f3=1;var t=iF();function e(r){var n=t(r),s=n%1;return n===n?s?n-s:n:0}return tA=e,tA}var rA,h3;function Ele(){if(h3)return rA;h3=1;var t=v9(),e=di(),r=Ale(),n=Math.max;function s(i,o,l){var d=i==null?0:i.length;if(!d)return-1;var u=l==null?0:r(l);return u<0&&(u=n(d+u,0)),t(i,e(o,3),u)}return rA=s,rA}var aA,p3;function jle(){if(p3)return aA;p3=1;var t=wle(),e=Ele(),r=t(e);return aA=r,aA}var Tle=jle();const Sle=fr(Tle);var kle=ML();const _le=fr(kle);var Cle=_le(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),HT=R.createContext(void 0),KT=R.createContext(void 0),bF=R.createContext(void 0),vF=R.createContext({}),yF=R.createContext(void 0),NF=R.createContext(0),wF=R.createContext(0),m3=function(e){var r=e.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,d=e.width,u=e.height,h=Cle(i);return xe.createElement(HT.Provider,{value:n},xe.createElement(KT.Provider,{value:s},xe.createElement(vF.Provider,{value:i},xe.createElement(bF.Provider,{value:h},xe.createElement(yF.Provider,{value:o},xe.createElement(NF.Provider,{value:u},xe.createElement(wF.Provider,{value:d},l)))))))},Ole=function(){return R.useContext(yF)},AF=function(e){var r=R.useContext(HT);r==null&&hc();var n=r[e];return n==null&&hc(),n},Dle=function(){var e=R.useContext(HT);return Bo(e)},Ile=function(){var e=R.useContext(KT),r=Sle(e,function(n){return dF(n.domain,Number.isFinite)});return r||Bo(e)},EF=function(e){var r=R.useContext(KT);r==null&&hc();var n=r[e];return n==null&&hc(),n},Rle=function(){var e=R.useContext(bF);return e},Mle=function(){return R.useContext(vF)},YT=function(){return R.useContext(wF)},WT=function(){return R.useContext(NF)};function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function x3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function g3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x3(Object(r),!0).forEach(function(n){Ple(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ple(t,e,r){return e=Lle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lle(t){var e=Ule(t,"string");return fh(e)=="symbol"?e:String(e)}function Ule(t,e){if(fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fle(t,e){return Vle(t)||qle(t,e)||zle(t,e)||Ble()}function Ble(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zle(t,e){if(t){if(typeof t=="string")return b3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b3(t,e)}}function b3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(h){u=!0,s=h}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Vle(t){if(Array.isArray(t))return t}function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$E.apply(this,arguments)}var $le=function(e,r){var n;return xe.isValidElement(e)?n=xe.cloneElement(e,r):St(e)?n=e(r):n=xe.createElement("line",$E({},r,{className:"recharts-reference-line-line"})),n},Gle=function(e,r,n,s,i,o,l,d,u){var h=i.x,p=i.y,x=i.width,v=i.height;if(n){var b=u.y,w=e.y.apply(b,{position:o});if(ri(u,"discard")&&!e.y.isInRange(w))return null;var g=[{x:h+x,y:w},{x:h,y:w}];return d==="left"?g.reverse():g}if(r){var S=u.x,k=e.x.apply(S,{position:o});if(ri(u,"discard")&&!e.x.isInRange(k))return null;var y=[{x:k,y:p+v},{x:k,y:p}];return l==="top"?y.reverse():y}if(s){var j=u.segment,T=j.map(function(_){return e.apply(_,{position:o})});return ri(u,"discard")&&$oe(T,function(_){return!e.isInRange(_)})?null:T}return null};function XT(t){var e=t.x,r=t.y,n=t.segment,s=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,d=t.alwaysShow,u=Ole(),h=AF(s),p=EF(i),x=Rle();if(!u||!x)return null;Fs(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=GT({x:h.scale,y:p.scale}),b=pa(e),w=pa(r),g=n&&n.length===2,S=Gle(v,b,w,g,x,t.position,h.orientation,p.orientation,t);if(!S)return null;var k=Fle(S,2),y=k[0],j=y.x,T=y.y,_=k[1],O=_.x,M=_.y,D=ri(t,"hidden")?"url(#".concat(u,")"):void 0,F=g3(g3({clipPath:D},mt(t,!0)),{},{x1:j,y1:T,x2:O,y2:M});return xe.createElement(ir,{className:Bt("recharts-reference-line",l)},$le(o,F),Ea.renderCallByParent(t,vle({x1:j,y1:T,x2:O,y2:M})))}XT.displayName="ReferenceLine";XT.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GE.apply(this,arguments)}function v3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function y3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v3(Object(r),!0).forEach(function(n){Hle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hle(t,e,r){return e=Kle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kle(t){var e=Yle(t,"string");return hh(e)=="symbol"?e:String(e)}function Yle(t,e){if(hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wle=function(e){var r=e.x,n=e.y,s=e.xAxis,i=e.yAxis,o=GT({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ri(e,"discard")&&!o.isInRange(l)?null:l};function Kh(t){var e=t.x,r=t.y,n=t.r,s=t.alwaysShow,i=t.clipPathId,o=pa(e),l=pa(r);if(Fs(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!l)return null;var d=Wle(t);if(!d)return null;var u=d.x,h=d.y,p=t.shape,x=t.className,v=ri(t,"hidden")?"url(#".concat(i,")"):void 0,b=y3(y3({clipPath:v},mt(t,!0)),{},{cx:u,cy:h});return xe.createElement(ir,{className:Bt("recharts-reference-dot",x)},Kh.renderDot(p,b),Ea.renderCallByParent(t,{x:u-n,y:h-n,width:2*n,height:2*n}))}Kh.displayName="ReferenceDot";Kh.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};Kh.renderDot=function(t,e){var r;return xe.isValidElement(t)?r=xe.cloneElement(t,e):St(t)?r=t(e):r=xe.createElement(xb,GE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r};function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HE.apply(this,arguments)}function N3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function w3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N3(Object(r),!0).forEach(function(n){Xle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xle(t,e,r){return e=Jle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jle(t){var e=Qle(t,"string");return ph(e)=="symbol"?e:String(e)}function Qle(t,e){if(ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zle=function(e,r,n,s,i){var o=i.x1,l=i.x2,d=i.y1,u=i.y2,h=i.xAxis,p=i.yAxis;if(!h||!p)return null;var x=GT({x:h.scale,y:p.scale}),v={x:e?x.x.apply(o,{position:"start"}):x.x.rangeMin,y:n?x.y.apply(d,{position:"start"}):x.y.rangeMin},b={x:r?x.x.apply(l,{position:"end"}):x.x.rangeMax,y:s?x.y.apply(u,{position:"end"}):x.y.rangeMax};return ri(i,"discard")&&(!x.isInRange(v)||!x.isInRange(b))?null:xF(v,b)};function Yh(t){var e=t.x1,r=t.x2,n=t.y1,s=t.y2,i=t.className,o=t.alwaysShow,l=t.clipPathId;Fs(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=pa(e),u=pa(r),h=pa(n),p=pa(s),x=t.shape;if(!d&&!u&&!h&&!p&&!x)return null;var v=Zle(d,u,h,p,t);if(!v&&!x)return null;var b=ri(t,"hidden")?"url(#".concat(l,")"):void 0;return xe.createElement(ir,{className:Bt("recharts-reference-area",i)},Yh.renderRect(x,w3(w3({clipPath:b},mt(t,!0)),v)),Ea.renderCallByParent(t,v))}Yh.displayName="ReferenceArea";Yh.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Yh.renderRect=function(t,e){var r;return xe.isValidElement(t)?r=xe.cloneElement(t,e):St(t)?r=t(e):r=xe.createElement($T,HE({},e,{className:"recharts-reference-area-rect"})),r};function jF(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],s=0;s<t.length;s+=e)n.push(t[s]);return n}function ece(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Nle(n,r)}function tce(t,e,r){var n=r==="width",s=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function lg(t,e,r,n,s){if(t*e<t*n||t*e>t*s)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-s)<=0}function rce(t,e){return jF(t,e+1)}function ace(t,e,r,n,s){for(var i=(n||[]).slice(),o=e.start,l=e.end,d=0,u=1,h=o,p=function(){var b=n==null?void 0:n[d];if(b===void 0)return{v:jF(n,u)};var w=d,g,S=function(){return g===void 0&&(g=r(b,w)),g},k=b.coordinate,y=d===0||lg(t,k,S,h,l);y||(d=0,h=o,u+=1),y&&(h=k+t*(S()/2+s),d+=u)},x;u<=i.length;)if(x=p(),x)return x.v;return[]}function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function A3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function za(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A3(Object(r),!0).forEach(function(n){nce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nce(t,e,r){return e=sce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sce(t){var e=ice(t,"string");return mh(e)=="symbol"?e:String(e)}function ice(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oce(t,e,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=e.start,d=e.end,u=function(x){var v=i[x],b,w=function(){return b===void 0&&(b=r(v,x)),b};if(x===o-1){var g=t*(v.coordinate+t*w()/2-d);i[x]=v=za(za({},v),{},{tickCoord:g>0?v.coordinate-g*t:v.coordinate})}else i[x]=v=za(za({},v),{},{tickCoord:v.coordinate});var S=lg(t,v.tickCoord,w,l,d);S&&(d=v.tickCoord-t*(w()/2+s),i[x]=za(za({},v),{},{isShow:!0}))},h=o-1;h>=0;h--)u(h);return i}function lce(t,e,r,n,s,i){var o=(n||[]).slice(),l=o.length,d=e.start,u=e.end;if(i){var h=n[l-1],p=r(h,l-1),x=t*(h.coordinate+t*p/2-u);o[l-1]=h=za(za({},h),{},{tickCoord:x>0?h.coordinate-x*t:h.coordinate});var v=lg(t,h.tickCoord,function(){return p},d,u);v&&(u=h.tickCoord-t*(p/2+s),o[l-1]=za(za({},h),{},{isShow:!0}))}for(var b=i?l-1:l,w=function(k){var y=o[k],j,T=function(){return j===void 0&&(j=r(y,k)),j};if(k===0){var _=t*(y.coordinate-t*T()/2-d);o[k]=y=za(za({},y),{},{tickCoord:_<0?y.coordinate-_*t:y.coordinate})}else o[k]=y=za(za({},y),{},{tickCoord:y.coordinate});var O=lg(t,y.tickCoord,T,d,u);O&&(d=y.tickCoord+t*(T()/2+s),o[k]=za(za({},y),{},{isShow:!0}))},g=0;g<b;g++)w(g);return o}function JT(t,e,r){var n=t.tick,s=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,d=t.interval,u=t.tickFormatter,h=t.unit,p=t.angle;if(!s||!s.length||!n)return[];if(Je(d)||Ac.isSsr)return rce(s,typeof d=="number"&&Je(d)?d:0);var x=[],v=l==="top"||l==="bottom"?"width":"height",b=h&&v==="width"?ff(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(y,j){var T=St(u)?u(y.value,j):y.value;return v==="width"?ece(ff(T,{fontSize:e,letterSpacing:r}),b,p):ff(T,{fontSize:e,letterSpacing:r})[v]},g=s.length>=2?en(s[1].coordinate-s[0].coordinate):1,S=tce(i,g,v);return d==="equidistantPreserveStart"?ace(g,S,w,s,o):(d==="preserveStart"||d==="preserveStartEnd"?x=lce(g,S,w,s,o,d==="preserveStartEnd"):x=oce(g,S,w,s,o),x.filter(function(k){return k.isShow}))}var cce=["viewBox"],dce=["viewBox"],uce=["ticks"];function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function Ld(){return Ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ld.apply(this,arguments)}function E3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Xa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E3(Object(r),!0).forEach(function(n){QT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nA(t,e){if(t==null)return{};var r=fce(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fce(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function hce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SF(n.key),n)}}function pce(t,e,r){return e&&j3(t.prototype,e),r&&j3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mce(t,e,r){return e=cg(e),xce(t,TF()?Reflect.construct(e,r||[],cg(t).constructor):e.apply(t,r))}function xce(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gce(t)}function gce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TF=function(){return!!t})()}function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cg(t)}function bce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KE(t,e)}function KE(t,e){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},KE(t,e)}function QT(t,e,r){return e=SF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SF(t){var e=vce(t,"string");return bu(e)=="symbol"?e:String(e)}function vce(t,e){if(bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uu=(function(t){bce(e,t);function e(r){var n;return hce(this,e),n=mce(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return pce(e,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=nA(n,cce),l=this.props,d=l.viewBox,u=nA(l,dce);return!qd(i,d)||!qd(o,u)||!qd(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,d=s.height,u=s.orientation,h=s.tickSize,p=s.mirror,x=s.tickMargin,v,b,w,g,S,k,y=p?-1:1,j=n.tickSize||h,T=Je(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":v=b=n.coordinate,g=o+ +!p*d,w=g-y*j,k=w-y*x,S=T;break;case"left":w=g=n.coordinate,b=i+ +!p*l,v=b-y*j,S=v-y*x,k=T;break;case"right":w=g=n.coordinate,b=i+ +p*l,v=b+y*j,S=v+y*x,k=T;break;default:v=b=n.coordinate,g=o+ +p*d,w=g+y*j,k=w+y*x,S=T;break}return{line:{x1:v,y1:w,x2:b,y2:g},tick:{x:S,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,d=n.orientation,u=n.mirror,h=n.axisLine,p=Xa(Xa(Xa({},mt(this.props,!1)),mt(h,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var x=+(d==="top"&&!u||d==="bottom"&&u);p=Xa(Xa({},p),{},{x1:s,y1:i+x*l,x2:s+o,y2:i+x*l})}else{var v=+(d==="left"&&!u||d==="right"&&u);p=Xa(Xa({},p),{},{x1:s+v*o,y1:i,x2:s+v*o,y2:i+l})}return xe.createElement("line",Ld({},p,{className:Bt("recharts-cartesian-axis-line",$n(h,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,d=l.tickLine,u=l.stroke,h=l.tick,p=l.tickFormatter,x=l.unit,v=JT(Xa(Xa({},this.props),{},{ticks:n}),s,i),b=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),g=mt(this.props,!1),S=mt(h,!1),k=Xa(Xa({},g),{},{fill:"none"},mt(d,!1)),y=v.map(function(j,T){var _=o.getTickLineCoord(j),O=_.line,M=_.tick,D=Xa(Xa(Xa(Xa({textAnchor:b,verticalAnchor:w},g),{},{stroke:"none",fill:u},S),M),{},{index:T,payload:j,visibleTicksCount:v.length,tickFormatter:p});return xe.createElement(ir,Ld({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},cc(o.props,j,T)),d&&xe.createElement("line",Ld({},k,O,{className:Bt("recharts-cartesian-axis-tick-line",$n(d,"className"))})),h&&e.renderTickItem(h,D,"".concat(St(p)?p(j.value,T):j.value).concat(x||"")))});return xe.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,d=s.ticksGenerator,u=s.className,h=s.hide;if(h)return null;var p=this.props,x=p.ticks,v=nA(p,uce),b=x;return St(d)&&(b=x&&x.length>0?d(this.props):d(v)),o<=0||l<=0||!b||!b.length?null:xe.createElement(ir,{className:Bt("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Ea.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return xe.isValidElement(n)?o=xe.cloneElement(n,s):St(n)?o=n(s):o=xe.createElement(uc,Ld({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}]),e})(R.Component);QT(Uu,"displayName","CartesianAxis");QT(Uu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var yce=["x1","y1","x2","y2","key"],Nce=["offset"];function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function T3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Va(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T3(Object(r),!0).forEach(function(n){wce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wce(t,e,r){return e=Ace(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ace(t){var e=Ece(t,"string");return pc(e)=="symbol"?e:String(e)}function Ece(t,e){if(pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yl.apply(this,arguments)}function S3(t,e){if(t==null)return{};var r=jce(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jce(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var Tce=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,s=e.x,i=e.y,o=e.width,l=e.height;return xe.createElement("rect",{x:s,y:i,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function kF(t,e){var r;if(xe.isValidElement(t))r=xe.cloneElement(t,e);else if(St(t))r=t(e);else{var n=e.x1,s=e.y1,i=e.x2,o=e.y2,l=e.key,d=S3(e,yce),u=mt(d,!1);u.offset;var h=S3(u,Nce);r=xe.createElement("line",Yl({},h,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function Sce(t){var e=t.x,r=t.width,n=t.horizontal,s=n===void 0?!0:n,i=t.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,d){var u=Va(Va({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(d),index:d});return kF(s,u)});return xe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function kce(t){var e=t.y,r=t.height,n=t.vertical,s=n===void 0?!0:n,i=t.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,d){var u=Va(Va({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(d),index:d});return kF(s,u)});return xe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function _ce(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,s=t.y,i=t.width,o=t.height,l=t.horizontalPoints,d=t.horizontal,u=d===void 0?!0:d;if(!u||!e||!e.length)return null;var h=l.map(function(x){return Math.round(x+s-s)}).sort(function(x,v){return x-v});s!==h[0]&&h.unshift(0);var p=h.map(function(x,v){var b=!h[v+1],w=b?s+o-x:h[v+1]-x;if(w<=0)return null;var g=v%e.length;return xe.createElement("rect",{key:"react-".concat(v),y:x,x:n,height:w,width:i,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return xe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Cce(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,s=t.fillOpacity,i=t.x,o=t.y,l=t.width,d=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var h=u.map(function(x){return Math.round(x+i-i)}).sort(function(x,v){return x-v});i!==h[0]&&h.unshift(0);var p=h.map(function(x,v){var b=!h[v+1],w=b?i+l-x:h[v+1]-x;if(w<=0)return null;var g=v%n.length;return xe.createElement("rect",{key:"react-".concat(v),x,y:o,width:w,height:d,stroke:"none",fill:n[g],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return xe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Oce=function(e,r){var n=e.xAxis,s=e.width,i=e.height,o=e.offset;return RU(JT(Va(Va(Va({},Uu.defaultProps),n),{},{ticks:Li(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},Dce=function(e,r){var n=e.yAxis,s=e.width,i=e.height,o=e.offset;return RU(JT(Va(Va(Va({},Uu.defaultProps),n),{},{ticks:Li(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},gd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Fu(t){var e,r,n,s,i,o,l=YT(),d=WT(),u=Mle(),h=Va(Va({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:gd.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:gd.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:gd.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:gd.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:gd.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:gd.verticalFill,x:Je(t.x)?t.x:u.left,y:Je(t.y)?t.y:u.top,width:Je(t.width)?t.width:u.width,height:Je(t.height)?t.height:u.height}),p=h.x,x=h.y,v=h.width,b=h.height,w=h.syncWithTicks,g=h.horizontalValues,S=h.verticalValues,k=Dle(),y=Ile();if(!Je(v)||v<=0||!Je(b)||b<=0||!Je(p)||p!==+p||!Je(x)||x!==+x)return null;var j=h.verticalCoordinatesGenerator||Oce,T=h.horizontalCoordinatesGenerator||Dce,_=h.horizontalPoints,O=h.verticalPoints;if((!_||!_.length)&&St(T)){var M=g&&g.length,D=T({yAxis:y?Va(Va({},y),{},{ticks:M?g:y.ticks}):void 0,width:l,height:d,offset:u},M?!0:w);Fs(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(pc(D),"]")),Array.isArray(D)&&(_=D)}if((!O||!O.length)&&St(j)){var F=S&&S.length,q=j({xAxis:k?Va(Va({},k),{},{ticks:F?S:k.ticks}):void 0,width:l,height:d,offset:u},F?!0:w);Fs(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(pc(q),"]")),Array.isArray(q)&&(O=q)}return xe.createElement("g",{className:"recharts-cartesian-grid"},xe.createElement(Tce,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height}),xe.createElement(Sce,Yl({},h,{offset:u,horizontalPoints:_,xAxis:k,yAxis:y})),xe.createElement(kce,Yl({},h,{offset:u,verticalPoints:O,xAxis:k,yAxis:y})),xe.createElement(_ce,Yl({},h,{horizontalPoints:_})),xe.createElement(Cce,Yl({},h,{verticalPoints:O})))}Fu.displayName="CartesianGrid";var Ice=["type","layout","connectNulls","ref"];function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function Rce(t,e){if(t==null)return{};var r=Mce(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mce(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function bf(){return bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bf.apply(this,arguments)}function k3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k3(Object(r),!0).forEach(function(n){Ds(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bd(t){return Fce(t)||Uce(t)||Lce(t)||Pce()}function Pce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lce(t,e){if(t){if(typeof t=="string")return YE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YE(t,e)}}function Uce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fce(t){if(Array.isArray(t))return YE(t)}function YE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CF(n.key),n)}}function zce(t,e,r){return e&&_3(t.prototype,e),r&&_3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qce(t,e,r){return e=dg(e),Vce(t,_F()?Reflect.construct(e,r||[],dg(t).constructor):e.apply(t,r))}function Vce(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Po(t)}function _F(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_F=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dg(t)}function Po(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $ce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WE(t,e)}function WE(t,e){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},WE(t,e)}function Ds(t,e,r){return e=CF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CF(t){var e=Gce(t,"string");return vu(e)=="symbol"?e:String(e)}function Gce(t,e){if(vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wh=(function(t){$ce(e,t);function e(){var r;Bce(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=qce(this,e,[].concat(s)),Ds(Po(r),"state",{isAnimationFinished:!0,totalLength:0}),Ds(Po(r),"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ds(Po(r),"getStrokeDasharray",function(o,l,d){var u=d.reduce(function(S,k){return S+k});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var h=Math.floor(o/u),p=o%u,x=l-o,v=[],b=0,w=0;b<d.length;w+=d[b],++b)if(w+d[b]>p){v=[].concat(bd(d.slice(0,b)),[p-w]);break}var g=v.length%2===0?[0,x]:[x];return[].concat(bd(e.repeat(d,h)),bd(v),g).map(function(S){return"".concat(S,"px")}).join(", ")}),Ds(Po(r),"id",Iu("recharts-line-")),Ds(Po(r),"pathRef",function(o){r.mainCurve=o}),Ds(Po(r),"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ds(Po(r),"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return zce(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,d=i.yAxis,u=i.layout,h=i.children,p=Gn(h,Hh);if(!p)return null;var x=function(w,g){return{x:w.x,y:w.y,value:w.value,errorVal:ha(w.payload,g)}},v={clipPath:n?"url(#clipPath-".concat(s,")"):null};return xe.createElement(ir,v,p.map(function(b){return xe.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:o,xAxis:l,yAxis:d,layout:u,dataPointFormatter:x})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,d=l.dot,u=l.points,h=l.dataKey,p=mt(this.props,!1),x=mt(d,!0),v=u.map(function(w,g){var S=In(In(In({key:"dot-".concat(g),r:3},p),x),{},{value:w.value,dataKey:h,cx:w.x,cy:w.y,index:g,payload:w.payload});return e.renderDotItem(d,S)}),b={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return xe.createElement(ir,bf({className:"recharts-line-dots",key:"dots"},b),v)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,d=l.type,u=l.layout,h=l.connectNulls;l.ref;var p=Rce(l,Ice),x=In(In(In({},mt(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:d,layout:u,connectNulls:h});return xe.createElement(Hx,bf({},x,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,d=o.strokeDasharray,u=o.isAnimationActive,h=o.animationBegin,p=o.animationDuration,x=o.animationEasing,v=o.animationId,b=o.animateNewValues,w=o.width,g=o.height,S=this.state,k=S.prevPoints,y=S.totalLength;return xe.createElement(ii,{begin:h,duration:p,isActive:u,easing:x,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var T=j.t;if(k){var _=k.length/l.length,O=l.map(function(L,B){var X=Math.floor(B*_);if(k[X]){var P=k[X],U=Ln(P.x,L.x),z=Ln(P.y,L.y);return In(In({},L),{},{x:U(T),y:z(T)})}if(b){var V=Ln(w*2,L.x),Y=Ln(g/2,L.y);return In(In({},L),{},{x:V(T),y:Y(T)})}return In(In({},L),{},{x:L.x,y:L.y})});return i.renderCurveStatically(O,n,s)}var M=Ln(0,y),D=M(T),F;if(d){var q="".concat(d).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});F=i.getStrokeDasharray(D,y,q)}else F=i.generateSimpleStrokeDasharray(y,D);return i.renderCurveStatically(l,n,s,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,d=this.state,u=d.prevPoints,h=d.totalLength;return l&&o&&o.length&&(!u&&h>0||!Gh(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,d=s.className,u=s.xAxis,h=s.yAxis,p=s.top,x=s.left,v=s.width,b=s.height,w=s.isAnimationActive,g=s.id;if(i||!l||!l.length)return null;var S=this.state.isAnimationFinished,k=l.length===1,y=Bt("recharts-line",d),j=u&&u.allowDataOverflow,T=h&&h.allowDataOverflow,_=j||T,O=It(g)?this.id:g,M=(n=mt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},D=M.r,F=D===void 0?3:D,q=M.strokeWidth,L=q===void 0?2:q,B=XY(o)?o:{},X=B.clipDot,P=X===void 0?!0:X,U=F*2+L;return xe.createElement(ir,{className:y},j||T?xe.createElement("defs",null,xe.createElement("clipPath",{id:"clipPath-".concat(O)},xe.createElement("rect",{x:j?x:x-v/2,y:T?p:p-b/2,width:j?v:v*2,height:T?b:b*2})),!P&&xe.createElement("clipPath",{id:"clipPath-dots-".concat(O)},xe.createElement("rect",{x:x-U/2,y:p-U/2,width:v+U,height:b+U}))):null,!k&&this.renderCurve(_,O),this.renderErrorBar(_,O),(k||o)&&this.renderDots(_,P,O),(!w||S)&&Vi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(bd(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(bd(o),bd(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(xe.isValidElement(n))i=xe.cloneElement(n,s);else if(St(n))i=n(s);else{var o=Bt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=xe.createElement(xb,bf({},s,{className:o}))}return i}}]),e})(R.PureComponent);Ds(Wh,"displayName","Line");Ds(Wh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ac.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ds(Wh,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,s=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,d=t.displayedData,u=t.offset,h=e.layout,p=d.map(function(x,v){var b=ha(x,o);return h==="horizontal"?{x:MR({axis:r,ticks:s,bandSize:l,entry:x,index:v}),y:It(b)?null:n.scale(b),value:b,payload:x}:{x:It(b)?null:r.scale(b),y:MR({axis:n,ticks:i,bandSize:l,entry:x,index:v}),value:b,payload:x}});return In({points:p,layout:h},u)});function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XE.apply(this,arguments)}var so=function(e){var r=e.xAxisId,n=YT(),s=WT(),i=AF(r);return i==null?null:xe.createElement(Uu,XE({},i,{className:Bt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Li(l,!0)}}))};so.displayName="XAxis";so.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function JE(){return JE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JE.apply(this,arguments)}var io=function(e){var r=e.yAxisId,n=YT(),s=WT(),i=EF(r);return i==null?null:xe.createElement(Uu,JE({},i,{className:Bt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Li(l,!0)}}))};io.displayName="YAxis";io.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function C3(t){return Wce(t)||Yce(t)||Kce(t)||Hce()}function Hce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kce(t,e){if(t){if(typeof t=="string")return QE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QE(t,e)}}function Yce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wce(t){if(Array.isArray(t))return QE(t)}function QE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ZE=function(e,r,n,s,i){var o=Gn(e,XT),l=Gn(e,Kh),d=[].concat(C3(o),C3(l)),u=Gn(e,Yh),h="".concat(s,"Id"),p=s[0],x=r;if(d.length&&(x=d.reduce(function(w,g){if(g.props[h]===n&&ri(g.props,"extendDomain")&&Je(g.props[p])){var S=g.props[p];return[Math.min(w[0],S),Math.max(w[1],S)]}return w},x)),u.length){var v="".concat(p,"1"),b="".concat(p,"2");x=u.reduce(function(w,g){if(g.props[h]===n&&ri(g.props,"extendDomain")&&Je(g.props[v])&&Je(g.props[b])){var S=g.props[v],k=g.props[b];return[Math.min(w[0],S,k),Math.max(w[1],S,k)]}return w},x)}return i&&i.length&&(x=i.reduce(function(w,g){return Je(g)?[Math.min(w[0],g),Math.max(w[1],g)]:w},x)),x},sA={exports:{}},O3;function Xce(){return O3||(O3=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(d,u,h){this.fn=d,this.context=u,this.once=h||!1}function i(d,u,h,p,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new s(h,p||d,x),b=r?r+u:u;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],v]:d._events[b].push(v):(d._events[b]=v,d._eventsCount++),d}function o(d,u){--d._eventsCount===0?d._events=new n:delete d._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],h,p;if(this._eventsCount===0)return u;for(p in h=this._events)e.call(h,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},l.prototype.listeners=function(u){var h=r?r+u:u,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var x=0,v=p.length,b=new Array(v);x<v;x++)b[x]=p[x].fn;return b},l.prototype.listenerCount=function(u){var h=r?r+u:u,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(u,h,p,x,v,b){var w=r?r+u:u;if(!this._events[w])return!1;var g=this._events[w],S=arguments.length,k,y;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),S){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,h),!0;case 3:return g.fn.call(g.context,h,p),!0;case 4:return g.fn.call(g.context,h,p,x),!0;case 5:return g.fn.call(g.context,h,p,x,v),!0;case 6:return g.fn.call(g.context,h,p,x,v,b),!0}for(y=1,k=new Array(S-1);y<S;y++)k[y-1]=arguments[y];g.fn.apply(g.context,k)}else{var j=g.length,T;for(y=0;y<j;y++)switch(g[y].once&&this.removeListener(u,g[y].fn,void 0,!0),S){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,h);break;case 3:g[y].fn.call(g[y].context,h,p);break;case 4:g[y].fn.call(g[y].context,h,p,x);break;default:if(!k)for(T=1,k=new Array(S-1);T<S;T++)k[T-1]=arguments[T];g[y].fn.apply(g[y].context,k)}}return!0},l.prototype.on=function(u,h,p){return i(this,u,h,p,!1)},l.prototype.once=function(u,h,p){return i(this,u,h,p,!0)},l.prototype.removeListener=function(u,h,p,x){var v=r?r+u:u;if(!this._events[v])return this;if(!h)return o(this,v),this;var b=this._events[v];if(b.fn)b.fn===h&&(!x||b.once)&&(!p||b.context===p)&&o(this,v);else{for(var w=0,g=[],S=b.length;w<S;w++)(b[w].fn!==h||x&&!b[w].once||p&&b[w].context!==p)&&g.push(b[w]);g.length?this._events[v]=g.length===1?g[0]:g:o(this,v)}return this},l.prototype.removeAllListeners=function(u){var h;return u?(h=r?r+u:u,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(sA)),sA.exports}var Jce=Xce();const Qce=fr(Jce);var iA=new Qce,oA="recharts.syncMouseEvents";function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function Zce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ede(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OF(n.key),n)}}function tde(t,e,r){return e&&ede(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lA(t,e,r){return e=OF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OF(t){var e=rde(t,"string");return xh(e)=="symbol"?e:String(e)}function rde(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ade=(function(){function t(){Zce(this,t),lA(this,"activeIndex",0),lA(this,"coordinateList",[]),lA(this,"layout","horizontal")}return tde(t,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,d=r.layout,u=d===void 0?null:d,h=r.offset,p=h===void 0?null:h,x=r.mouseHandlerCallback,v=x===void 0?null:x;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,d=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=i+d+u,x=o+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:p,pageY:x})}}}]),t})();function nde(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],s=t==null?void 0:t[1];if(n&&s&&Je(n)&&Je(s))return!0}return!1}function sde(t,e,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-s,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function DF(t){var e=t.cx,r=t.cy,n=t.radius,s=t.startAngle,i=t.endAngle,o=Tr(e,r,n,s),l=Tr(e,r,n,i);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:s,endAngle:i}}function ide(t,e,r){var n,s,i,o;if(t==="horizontal")n=e.x,i=n,s=r.top,o=r.top+r.height;else if(t==="vertical")s=e.y,o=s,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,d=e.cy,u=e.innerRadius,h=e.outerRadius,p=e.angle,x=Tr(l,d,u,p),v=Tr(l,d,h,p);n=x.x,s=x.y,i=v.x,o=v.y}else return DF(e);return[{x:n,y:s},{x:i,y:o}]}function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function D3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Im(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D3(Object(r),!0).forEach(function(n){ode(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ode(t,e,r){return e=lde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lde(t){var e=cde(t,"string");return gh(e)=="symbol"?e:String(e)}function cde(t,e){if(gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dde(t){var e=t.element,r=t.tooltipEventType,n=t.isActive,s=t.activeCoordinate,i=t.activePayload,o=t.offset,l=t.activeTooltipIndex,d=t.tooltipAxisBandSize,u=t.layout,h=t.chartName;if(!e||!e.props.cursor||!n||!s||h!=="ScatterChart"&&r!=="axis")return null;var p,x=Hx;if(h==="ScatterChart")p=s,x=xie;else if(h==="BarChart")p=sde(u,s,o,d),x=$T;else if(u==="radial"){var v=DF(s),b=v.cx,w=v.cy,g=v.radius,S=v.startAngle,k=v.endAngle;p={cx:b,cy:w,startAngle:S,endAngle:k,innerRadius:g,outerRadius:g},x=GU}else p={points:ide(u,s,o)},x=Hx;var y=Im(Im(Im(Im({stroke:"#ccc",pointerEvents:"none"},o),p),mt(e.props.cursor,!1)),{},{payload:i,payloadIndex:l,className:Bt("recharts-tooltip-cursor",e.props.cursor.className)});return R.isValidElement(e.props.cursor)?R.cloneElement(e.props.cursor,y):R.createElement(x,y)}var ude=["item"],fde=["children","className","width","height","style","compact","title","desc"];function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vf.apply(this,arguments)}function I3(t,e){return mde(t)||pde(t,e)||RF(t,e)||hde()}function hde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);d=!0);}catch(h){u=!0,s=h}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function mde(t){if(Array.isArray(t))return t}function R3(t,e){if(t==null)return{};var r=xde(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xde(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function gde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MF(n.key),n)}}function vde(t,e,r){return e&&bde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yde(t,e,r){return e=ug(e),Nde(t,IF()?Reflect.construct(e,r||[],ug(t).constructor):e.apply(t,r))}function Nde(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return er(t)}function IF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IF=function(){return!!t})()}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ug(t)}function er(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ej(t,e)}function ej(t,e){return ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ej(t,e)}function Nu(t){return jde(t)||Ede(t)||RF(t)||Ade()}function Ade(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RF(t,e){if(t){if(typeof t=="string")return tj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tj(t,e)}}function Ede(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jde(t){if(Array.isArray(t))return tj(t)}function tj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function M3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ve(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M3(Object(r),!0).forEach(function(n){wt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wt(t,e,r){return e=MF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MF(t){var e=Tde(t,"string");return yu(e)=="symbol"?e:String(e)}function Tde(t,e){if(yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sde={xAxis:["bottom","top"],yAxis:["left","right"]},kde={width:"100%",height:"100%"},PF={x:0,y:0};function Rm(t){return t}var _de=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Cde=function(e,r,n,s){var i=r.find(function(h){return h&&h.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=s.radius;return Ve(Ve(Ve({},s),Tr(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var d=i.coordinate,u=s.angle;return Ve(Ve(Ve({},s),Tr(s.cx,s.cy,d,u)),{},{angle:u,radius:d})}return PF},Eb=function(e,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,d){var u=d.props.data;return u&&u.length?[].concat(Nu(l),Nu(u)):l},[]);return o.length>0?o:e&&e.length&&Je(s)&&Je(i)?e.slice(s,i+1):[]};function LF(t){return t==="number"?[0,"auto"]:void 0}var rj=function(e,r,n,s){var i=e.graphicalItems,o=e.tooltipAxis,l=Eb(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(d,u){var h,p=(h=u.props.data)!==null&&h!==void 0?h:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var x;if(o.dataKey&&!o.allowDuplicatedCategory){var v=p===void 0?l:p;x=bx(v,o.dataKey,s)}else x=p&&p[n]||l[n];return x?[].concat(Nu(d),[FU(u,x)]):d},[])},P3=function(e,r,n,s){var i=s||{x:e.chartX,y:e.chartY},o=_de(i,n),l=e.orderedTooltipTicks,d=e.tooltipAxis,u=e.tooltipTicks,h=Lre(o,l,u,d);if(h>=0&&u){var p=u[h]&&u[h].value,x=rj(e,r,h,p),v=Cde(n,l,h,i);return{activeTooltipIndex:h,activeLabel:p,activePayload:x,activeCoordinate:v}}return null},Ode=function(e,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,d=r.dataStartIndex,u=r.dataEndIndex,h=e.layout,p=e.children,x=e.stackOffset,v=IU(h,i);return n.reduce(function(b,w){var g,S=w.props,k=S.type,y=S.dataKey,j=S.allowDataOverflow,T=S.allowDuplicatedCategory,_=S.scale,O=S.ticks,M=S.includeHidden,D=w.props[o];if(b[D])return b;var F=Eb(e.data,{graphicalItems:s.filter(function(G){return G.props[o]===D}),dataStartIndex:d,dataEndIndex:u}),q=F.length,L,B,X;nde(w.props.domain,j,k)&&(L=NE(w.props.domain,null,j),v&&(k==="number"||_!=="auto")&&(X=pf(F,y,"category")));var P=LF(k);if(!L||L.length===0){var U,z=(U=w.props.domain)!==null&&U!==void 0?U:P;if(y){if(L=pf(F,y,k),k==="category"&&v){var V=zY(L);T&&V?(B=L,L=ag(0,q)):T||(L=FR(z,L,w).reduce(function(G,W){return G.indexOf(W)>=0?G:[].concat(Nu(G),[W])},[]))}else if(k==="category")T?L=L.filter(function(G){return G!==""&&!It(G)}):L=FR(z,L,w).reduce(function(G,W){return G.indexOf(W)>=0||W===""||It(W)?G:[].concat(Nu(G),[W])},[]);else if(k==="number"){var Y=qre(F,s.filter(function(G){return G.props[o]===D&&(M||!G.props.hide)}),y,i,h);Y&&(L=Y)}v&&(k==="number"||_!=="auto")&&(X=pf(F,y,"category"))}else v?L=ag(0,q):l&&l[D]&&l[D].hasStack&&k==="number"?L=x==="expand"?[0,1]:UU(l[D].stackGroups,d,u):L=DU(F,s.filter(function(G){return G.props[o]===D&&(M||!G.props.hide)}),k,h,!0);if(k==="number")L=ZE(p,L,D,i,O),z&&(L=NE(z,L,j));else if(k==="category"&&z){var se=z,K=L.every(function(G){return se.indexOf(G)>=0});K&&(L=se)}}return Ve(Ve({},b),{},wt({},D,Ve(Ve({},w.props),{},{axisType:i,domain:L,categoricalDomain:X,duplicateDomain:B,originalDomain:(g=w.props.domain)!==null&&g!==void 0?g:P,isCategorical:v,layout:h})))},{})},Dde=function(e,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,d=r.dataStartIndex,u=r.dataEndIndex,h=e.layout,p=e.children,x=Eb(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:u}),v=x.length,b=IU(h,i),w=-1;return n.reduce(function(g,S){var k=S.props[o],y=LF("number");if(!g[k]){w++;var j;return b?j=ag(0,v):l&&l[k]&&l[k].hasStack?(j=UU(l[k].stackGroups,d,u),j=ZE(p,j,k,i)):(j=NE(y,DU(x,n.filter(function(T){return T.props[o]===k&&!T.props.hide}),"number",h),s.defaultProps.allowDataOverflow),j=ZE(p,j,k,i)),Ve(Ve({},g),{},wt({},k,Ve(Ve({axisType:i},s.defaultProps),{},{hide:!0,orientation:$n(Sde,"".concat(i,".").concat(w%2),null),domain:j,originalDomain:y,isCategorical:b,layout:h})))}return g},{})},Ide=function(e,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,d=r.dataStartIndex,u=r.dataEndIndex,h=e.children,p="".concat(s,"Id"),x=Gn(h,i),v={};return x&&x.length?v=Ode(e,{axes:x,graphicalItems:o,axisType:s,axisIdKey:p,stackGroups:l,dataStartIndex:d,dataEndIndex:u}):o&&o.length&&(v=Dde(e,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:p,stackGroups:l,dataStartIndex:d,dataEndIndex:u})),v},Rde=function(e){var r=Bo(e),n=Li(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:gT(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Vx(r,n)}},L3=function(e){var r=e.children,n=e.defaultShowTooltip,s=Pn(r,xu),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Mde=function(e){return!e||!e.length?!1:e.some(function(r){var n=zi(r&&r.type);return n&&n.indexOf("Bar")>=0})},U3=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Pde=function(e,r){var n=e.props,s=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,d=l===void 0?{}:l,u=n.width,h=n.height,p=n.children,x=n.margin||{},v=Pn(p,xu),b=Pn(p,dc),w=Object.keys(d).reduce(function(T,_){var O=d[_],M=O.orientation;return!O.mirror&&!O.hide?Ve(Ve({},T),{},wt({},M,T[M]+O.width)):T},{left:x.left||0,right:x.right||0}),g=Object.keys(o).reduce(function(T,_){var O=o[_],M=O.orientation;return!O.mirror&&!O.hide?Ve(Ve({},T),{},wt({},M,$n(T,"".concat(M))+O.height)):T},{top:x.top||0,bottom:x.bottom||0}),S=Ve(Ve({},g),w),k=S.bottom;v&&(S.bottom+=v.props.height||xu.defaultProps.height),b&&r&&(S=Bre(S,s,n,r));var y=u-S.left-S.right,j=h-S.top-S.bottom;return Ve(Ve({brushBottom:k},S),{},{width:Math.max(y,0),height:Math.max(j,0)})},Lde=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},ZT=function(e){var r,n=e.chartName,s=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,l=e.validateTooltipEventTypes,d=l===void 0?["axis"]:l,u=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,x=e.defaultProps,v=function(g,S){var k=S.graphicalItems,y=S.stackGroups,j=S.offset,T=S.updateId,_=S.dataStartIndex,O=S.dataEndIndex,M=g.barSize,D=g.layout,F=g.barGap,q=g.barCategoryGap,L=g.maxBarSize,B=U3(D),X=B.numericAxisName,P=B.cateAxisName,U=Mde(k),z=[];return k.forEach(function(V,Y){var se=Eb(g.data,{graphicalItems:[V],dataStartIndex:_,dataEndIndex:O}),K=V.props,G=K.dataKey,W=K.maxBarSize,Q=V.props["".concat(X,"Id")],ee=V.props["".concat(P,"Id")],he={},je=u.reduce(function(Ue,le){var ze=S["".concat(le.axisType,"Map")],Ye=V.props["".concat(le.axisType,"Id")];ze&&ze[Ye]||le.axisType==="zAxis"||hc();var qe=ze[Ye];return Ve(Ve({},Ue),{},wt(wt({},le.axisType,qe),"".concat(le.axisType,"Ticks"),Li(qe)))},he),me=je[P],re=je["".concat(P,"Ticks")],ge=y&&y[Q]&&y[Q].hasStack&&Jre(V,y[Q].stackGroups),Me=zi(V.type).indexOf("Bar")>=0,J=Vx(me,re),Ae=[],ne=U&&Ure({barSize:M,stackGroups:y,totalSize:Lde(je,P)});if(Me){var ve,we,Ee=It(W)?L:W,fe=(ve=(we=Vx(me,re,!0))!==null&&we!==void 0?we:Ee)!==null&&ve!==void 0?ve:0;Ae=Fre({barGap:F,barCategoryGap:q,bandSize:fe!==J?fe:J,sizeList:ne[ee],maxBarSize:Ee}),fe!==J&&(Ae=Ae.map(function(Ue){return Ve(Ve({},Ue),{},{position:Ve(Ve({},Ue.position),{},{offset:Ue.position.offset-fe/2})})}))}var Ce=V&&V.type&&V.type.getComposedData;Ce&&z.push({props:Ve(Ve({},Ce(Ve(Ve({},je),{},{displayedData:se,props:g,dataKey:G,item:V,bandSize:J,barPosition:Ae,offset:j,stackedData:ge,layout:D,dataStartIndex:_,dataEndIndex:O}))),{},wt(wt(wt({key:V.key||"item-".concat(Y)},X,je[X]),P,je[P]),"animationId",T)),childIndex:ZY(V,g.children),item:V})}),z},b=function(g,S){var k=g.props,y=g.dataStartIndex,j=g.dataEndIndex,T=g.updateId;if(!Z4({props:k}))return null;var _=k.children,O=k.layout,M=k.stackOffset,D=k.data,F=k.reverseStackOrder,q=U3(O),L=q.numericAxisName,B=q.cateAxisName,X=Gn(_,s),P=Wre(D,X,"".concat(L,"Id"),"".concat(B,"Id"),M,F),U=u.reduce(function(K,G){var W="".concat(G.axisType,"Map");return Ve(Ve({},K),{},wt({},W,Ide(k,Ve(Ve({},G),{},{graphicalItems:X,stackGroups:G.axisType===L&&P,dataStartIndex:y,dataEndIndex:j}))))},{}),z=Pde(Ve(Ve({},U),{},{props:k,graphicalItems:X}),S==null?void 0:S.legendBBox);Object.keys(U).forEach(function(K){U[K]=p(k,U[K],z,K.replace("Map",""),n)});var V=U["".concat(B,"Map")],Y=Rde(V),se=v(k,Ve(Ve({},U),{},{dataStartIndex:y,dataEndIndex:j,updateId:T,graphicalItems:X,stackGroups:P,offset:z}));return Ve(Ve({formattedGraphicalItems:se,graphicalItems:X,offset:z,stackGroups:P},Y),U)};return r=(function(w){wde(g,w);function g(S){var k,y,j;return gde(this,g),j=yde(this,g,[S]),wt(er(j),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),wt(er(j),"accessibilityManager",new ade),wt(er(j),"handleLegendBBoxUpdate",function(T){if(T){var _=j.state,O=_.dataStartIndex,M=_.dataEndIndex,D=_.updateId;j.setState(Ve({legendBBox:T},b({props:j.props,dataStartIndex:O,dataEndIndex:M,updateId:D},Ve(Ve({},j.state),{},{legendBBox:T}))))}}),wt(er(j),"handleReceiveSyncEvent",function(T,_,O){if(j.props.syncId===T){if(O===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(_)}}),wt(er(j),"handleBrushChange",function(T){var _=T.startIndex,O=T.endIndex;if(_!==j.state.dataStartIndex||O!==j.state.dataEndIndex){var M=j.state.updateId;j.setState(function(){return Ve({dataStartIndex:_,dataEndIndex:O},b({props:j.props,dataStartIndex:_,dataEndIndex:O,updateId:M},j.state))}),j.triggerSyncEvent({dataStartIndex:_,dataEndIndex:O})}}),wt(er(j),"handleMouseEnter",function(T){var _=j.getMouseInfo(T);if(_){var O=Ve(Ve({},_),{},{isTooltipActive:!0});j.setState(O),j.triggerSyncEvent(O);var M=j.props.onMouseEnter;St(M)&&M(O,T)}}),wt(er(j),"triggeredAfterMouseMove",function(T){var _=j.getMouseInfo(T),O=_?Ve(Ve({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(O),j.triggerSyncEvent(O);var M=j.props.onMouseMove;St(M)&&M(O,T)}),wt(er(j),"handleItemMouseEnter",function(T){j.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),wt(er(j),"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),wt(er(j),"handleMouseMove",function(T){T.persist(),j.throttleTriggeredAfterMouseMove(T)}),wt(er(j),"handleMouseLeave",function(T){j.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};j.setState(_),j.triggerSyncEvent(_);var O=j.props.onMouseLeave;St(O)&&O(_,T)}),wt(er(j),"handleOuterEvent",function(T){var _=QY(T),O=$n(j.props,"".concat(_));if(_&&St(O)){var M,D;/.*touch.*/i.test(_)?D=j.getMouseInfo(T.changedTouches[0]):D=j.getMouseInfo(T),O((M=D)!==null&&M!==void 0?M:{},T)}}),wt(er(j),"handleClick",function(T){var _=j.getMouseInfo(T);if(_){var O=Ve(Ve({},_),{},{isTooltipActive:!0});j.setState(O),j.triggerSyncEvent(O);var M=j.props.onClick;St(M)&&M(O,T)}}),wt(er(j),"handleMouseDown",function(T){var _=j.props.onMouseDown;if(St(_)){var O=j.getMouseInfo(T);_(O,T)}}),wt(er(j),"handleMouseUp",function(T){var _=j.props.onMouseUp;if(St(_)){var O=j.getMouseInfo(T);_(O,T)}}),wt(er(j),"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),wt(er(j),"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&j.handleMouseDown(T.changedTouches[0])}),wt(er(j),"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&j.handleMouseUp(T.changedTouches[0])}),wt(er(j),"triggerSyncEvent",function(T){j.props.syncId!==void 0&&iA.emit(oA,j.props.syncId,T,j.eventEmitterSymbol)}),wt(er(j),"applySyncEvent",function(T){var _=j.props,O=_.layout,M=_.syncMethod,D=j.state.updateId,F=T.dataStartIndex,q=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)j.setState(Ve({dataStartIndex:F,dataEndIndex:q},b({props:j.props,dataStartIndex:F,dataEndIndex:q,updateId:D},j.state)));else if(T.activeTooltipIndex!==void 0){var L=T.chartX,B=T.chartY,X=T.activeTooltipIndex,P=j.state,U=P.offset,z=P.tooltipTicks;if(!U)return;if(typeof M=="function")X=M(z,T);else if(M==="value"){X=-1;for(var V=0;V<z.length;V++)if(z[V].value===T.activeLabel){X=V;break}}var Y=Ve(Ve({},U),{},{x:U.left,y:U.top}),se=Math.min(L,Y.x+Y.width),K=Math.min(B,Y.y+Y.height),G=z[X]&&z[X].value,W=rj(j.state,j.props.data,X),Q=z[X]?{x:O==="horizontal"?z[X].coordinate:se,y:O==="horizontal"?K:z[X].coordinate}:PF;j.setState(Ve(Ve({},T),{},{activeLabel:G,activeCoordinate:Q,activePayload:W,activeTooltipIndex:X}))}else j.setState(T)}),wt(er(j),"renderCursor",function(T){var _,O=j.state,M=O.isTooltipActive,D=O.activeCoordinate,F=O.activePayload,q=O.offset,L=O.activeTooltipIndex,B=O.tooltipAxisBandSize,X=j.getTooltipEventType(),P=(_=T.props.active)!==null&&_!==void 0?_:M,U=j.props.layout,z=T.key||"_recharts-cursor";return xe.createElement(dde,{key:z,activeCoordinate:D,activePayload:F,activeTooltipIndex:L,chartName:n,element:T,isActive:P,layout:U,offset:q,tooltipAxisBandSize:B,tooltipEventType:X})}),wt(er(j),"renderPolarAxis",function(T,_,O){var M=$n(T,"type.axisType"),D=$n(j.state,"".concat(M,"Map")),F=D&&D[T.props["".concat(M,"Id")]];return R.cloneElement(T,Ve(Ve({},F),{},{className:Bt(M,F.className),key:T.key||"".concat(_,"-").concat(O),ticks:Li(F,!0)}))}),wt(er(j),"renderPolarGrid",function(T){var _=T.props,O=_.radialLines,M=_.polarAngles,D=_.polarRadius,F=j.state,q=F.radiusAxisMap,L=F.angleAxisMap,B=Bo(q),X=Bo(L),P=X.cx,U=X.cy,z=X.innerRadius,V=X.outerRadius;return R.cloneElement(T,{polarAngles:Array.isArray(M)?M:Li(X,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(D)?D:Li(B,!0).map(function(Y){return Y.coordinate}),cx:P,cy:U,innerRadius:z,outerRadius:V,key:T.key||"polar-grid",radialLines:O})}),wt(er(j),"renderLegend",function(){var T=j.state.formattedGraphicalItems,_=j.props,O=_.children,M=_.width,D=_.height,F=j.props.margin||{},q=M-(F.left||0)-(F.right||0),L=CU({children:O,formattedGraphicalItems:T,legendWidth:q,legendContent:h});if(!L)return null;var B=L.item,X=R3(L,ude);return R.cloneElement(B,Ve(Ve({},X),{},{chartWidth:M,chartHeight:D,margin:F,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),wt(er(j),"renderTooltip",function(){var T,_=j.props,O=_.children,M=_.accessibilityLayer,D=Pn(O,Qa);if(!D)return null;var F=j.state,q=F.isTooltipActive,L=F.activeCoordinate,B=F.activePayload,X=F.activeLabel,P=F.offset,U=(T=D.props.active)!==null&&T!==void 0?T:q;return R.cloneElement(D,{viewBox:Ve(Ve({},P),{},{x:P.left,y:P.top}),active:U,label:X,payload:U?B:[],coordinate:L,accessibilityLayer:M})}),wt(er(j),"renderBrush",function(T){var _=j.props,O=_.margin,M=_.data,D=j.state,F=D.offset,q=D.dataStartIndex,L=D.dataEndIndex,B=D.updateId;return R.cloneElement(T,{key:T.key||"_recharts-brush",onChange:_m(j.handleBrushChange,T.props.onChange),data:M,x:Je(T.props.x)?T.props.x:F.left,y:Je(T.props.y)?T.props.y:F.top+F.height+F.brushBottom-(O.bottom||0),width:Je(T.props.width)?T.props.width:F.width,startIndex:q,endIndex:L,updateId:"brush-".concat(B)})}),wt(er(j),"renderReferenceElement",function(T,_,O){if(!T)return null;var M=er(j),D=M.clipPathId,F=j.state,q=F.xAxisMap,L=F.yAxisMap,B=F.offset,X=T.props,P=X.xAxisId,U=X.yAxisId;return R.cloneElement(T,{key:T.key||"".concat(_,"-").concat(O),xAxis:q[P],yAxis:L[U],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:D})}),wt(er(j),"renderActivePoints",function(T){var _=T.item,O=T.activePoint,M=T.basePoint,D=T.childIndex,F=T.isRange,q=[],L=_.props.key,B=_.item.props,X=B.activeDot,P=B.dataKey,U=Ve(Ve({index:D,dataKey:P,cx:O.x,cy:O.y,r:4,fill:VT(_.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value,key:"".concat(L,"-activePoint-").concat(D)},mt(X,!1)),vx(X));return q.push(g.renderActiveDot(X,U)),M?q.push(g.renderActiveDot(X,Ve(Ve({},U),{},{cx:M.x,cy:M.y,key:"".concat(L,"-basePoint-").concat(D)}))):F&&q.push(null),q}),wt(er(j),"renderGraphicChild",function(T,_,O){var M=j.filterFormatItem(T,_,O);if(!M)return null;var D=j.getTooltipEventType(),F=j.state,q=F.isTooltipActive,L=F.tooltipAxis,B=F.activeTooltipIndex,X=F.activeLabel,P=j.props.children,U=Pn(P,Qa),z=M.props,V=z.points,Y=z.isRange,se=z.baseLine,K=M.item.props,G=K.activeDot,W=K.hide,Q=K.activeBar,ee=K.activeShape,he=!!(!W&&q&&U&&(G||Q||ee)),je={};D!=="axis"&&U&&U.props.trigger==="click"?je={onClick:_m(j.handleItemMouseEnter,T.props.onClick)}:D!=="axis"&&(je={onMouseLeave:_m(j.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:_m(j.handleItemMouseEnter,T.props.onMouseEnter)});var me=R.cloneElement(T,Ve(Ve({},M.props),je));function re(le){return typeof L.dataKey=="function"?L.dataKey(le.payload):null}if(he)if(B>=0){var ge,Me;if(L.dataKey&&!L.allowDuplicatedCategory){var J=typeof L.dataKey=="function"?re:"payload.".concat(L.dataKey.toString());ge=bx(V,J,X),Me=Y&&se&&bx(se,J,X)}else ge=V==null?void 0:V[B],Me=Y&&se&&se[B];if(ee||Q){var Ae=T.props.activeIndex!==void 0?T.props.activeIndex:B;return[R.cloneElement(T,Ve(Ve(Ve({},M.props),je),{},{activeIndex:Ae})),null,null]}if(!It(ge))return[me].concat(Nu(j.renderActivePoints({item:M,activePoint:ge,basePoint:Me,childIndex:B,isRange:Y})))}else{var ne,ve=(ne=j.getItemByXY(j.state.activeCoordinate))!==null&&ne!==void 0?ne:{graphicalItem:me},we=ve.graphicalItem,Ee=we.item,fe=Ee===void 0?T:Ee,Ce=we.childIndex,Ue=Ve(Ve(Ve({},M.props),je),{},{activeIndex:Ce});return[R.cloneElement(fe,Ue),null,null]}return Y?[me,null,null]:[me,null]}),wt(er(j),"renderCustomized",function(T,_,O){return R.cloneElement(T,Ve(Ve({key:"recharts-customized-".concat(O)},j.props),j.state))}),wt(er(j),"renderMap",{CartesianGrid:{handler:Rm,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Rm},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Rm},YAxis:{handler:Rm},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((k=S.id)!==null&&k!==void 0?k:Iu("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=I9(j.triggeredAfterMouseMove,(y=S.throttleDelay)!==null&&y!==void 0?y:1e3/60),j.state={},j}return vde(g,[{key:"componentDidMount",value:function(){var k,y;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(y=this.props.margin.top)!==null&&y!==void 0?y:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,y=k.children,j=k.data,T=k.height,_=k.layout,O=Pn(y,Qa);if(O){var M=O.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length)){var D=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,F=rj(this.state,j,M,D),q=this.state.tooltipTicks[M].coordinate,L=(this.state.offset.top+T)/2,B=_==="horizontal",X=B?{x:q,y:L}:{y:q,x:L},P=this.state.formattedGraphicalItems.find(function(z){var V=z.item;return V.type.name==="Scatter"});P&&(X=Ve(Ve({},X),P.props.points[M].tooltipPosition),F=P.props.points[M].tooltipPayload);var U={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:D,activePayload:F,activeCoordinate:X};this.setState(U),this.renderCursor(O),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,y){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==y.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var j,T;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(k){VA([Pn(k.children,Qa)],[Pn(this.props.children,Qa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=Pn(this.props.children,Qa);if(k&&typeof k.props.shared=="boolean"){var y=k.props.shared?"axis":"item";return d.indexOf(y)>=0?y:o}return o}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var y=this.container,j=y.getBoundingClientRect(),T=LQ(j),_={chartX:Math.round(k.pageX-T.left),chartY:Math.round(k.pageY-T.top)},O=j.width/y.offsetWidth||1,M=this.inRange(_.chartX,_.chartY,O);if(!M)return null;var D=this.state,F=D.xAxisMap,q=D.yAxisMap,L=this.getTooltipEventType();if(L!=="axis"&&F&&q){var B=Bo(F).scale,X=Bo(q).scale,P=B&&B.invert?B.invert(_.chartX):null,U=X&&X.invert?X.invert(_.chartY):null;return Ve(Ve({},_),{},{xValue:P,yValue:U})}var z=P3(this.state,this.props.data,this.props.layout,M);return z?Ve(Ve({},_),z):null}},{key:"inRange",value:function(k,y){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,_=k/j,O=y/j;if(T==="horizontal"||T==="vertical"){var M=this.state.offset,D=_>=M.left&&_<=M.left+M.width&&O>=M.top&&O<=M.top+M.height;return D?{x:_,y:O}:null}var F=this.state,q=F.angleAxisMap,L=F.radiusAxisMap;if(q&&L){var B=Bo(q);return qR({x:_,y:O},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,y=this.getTooltipEventType(),j=Pn(k,Qa),T={};j&&y==="axis"&&(j.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var _=vx(this.props,this.handleOuterEvent);return Ve(Ve({},_),T)}},{key:"addListener",value:function(){iA.on(oA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){iA.removeListener(oA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,y,j){for(var T=this.state.formattedGraphicalItems,_=0,O=T.length;_<O;_++){var M=T[_];if(M.item===k||M.props.key===k.key||y===zi(M.item.type)&&j===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,y=this.state.offset,j=y.left,T=y.top,_=y.height,O=y.width;return xe.createElement("defs",null,xe.createElement("clipPath",{id:k},xe.createElement("rect",{x:j,y:T,height:_,width:O})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(y,j){var T=I3(j,2),_=T[0],O=T[1];return Ve(Ve({},y),{},wt({},_,O.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(y,j){var T=I3(j,2),_=T[0],O=T[1];return Ve(Ve({},y),{},wt({},_,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var y;return(y=this.state.xAxisMap)===null||y===void 0||(y=y[k])===null||y===void 0?void 0:y.scale}},{key:"getYScaleByAxisId",value:function(k){var y;return(y=this.state.yAxisMap)===null||y===void 0||(y=y[k])===null||y===void 0?void 0:y.scale}},{key:"getItemByXY",value:function(k){var y=this.state,j=y.formattedGraphicalItems,T=y.activeItem;if(j&&j.length)for(var _=0,O=j.length;_<O;_++){var M=j[_],D=M.props,F=M.item,q=zi(F.type);if(q==="Bar"){var L=(D.data||[]).find(function(U){return Xse(k,U)});if(L)return{graphicalItem:M,payload:L}}else if(q==="RadialBar"){var B=(D.data||[]).find(function(U){return qR(k,U)});if(B)return{graphicalItem:M,payload:B}}else if(Nb(M,T)||wb(M,T)||lh(M,T)){var X=voe({graphicalItem:M,activeTooltipItem:T,itemData:F.props.data}),P=F.props.activeIndex===void 0?X:F.props.activeIndex;return{graphicalItem:Ve(Ve({},M),{},{childIndex:P}),payload:lh(M,T)?F.props.data[X]:M.props.data[X]}}}return null}},{key:"render",value:function(){var k=this;if(!Z4(this))return null;var y=this.props,j=y.children,T=y.className,_=y.width,O=y.height,M=y.style,D=y.compact,F=y.title,q=y.desc,L=R3(y,fde),B=mt(L,!1);if(D)return xe.createElement(m3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},xe.createElement(GA,vf({},B,{width:_,height:O,title:F,desc:q}),this.renderClipPath(),tD(j,this.renderMap)));if(this.props.accessibilityLayer){var X,P;B.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,B.role=(P=this.props.role)!==null&&P!==void 0?P:"application",B.onKeyDown=function(z){k.accessibilityManager.keyboardEvent(z)},B.onFocus=function(){k.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return xe.createElement(m3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},xe.createElement("div",vf({className:Bt("recharts-wrapper",T),style:Ve({position:"relative",cursor:"default",width:_,height:O},M)},U,{ref:function(V){k.container=V}}),xe.createElement(GA,vf({},B,{width:_,height:O,title:F,desc:q,style:kde}),this.renderClipPath(),tD(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),g})(R.Component),wt(r,"displayName",n),wt(r,"defaultProps",Ve({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},x)),wt(r,"getDerivedStateFromProps",function(w,g){var S=w.dataKey,k=w.data,y=w.children,j=w.width,T=w.height,_=w.layout,O=w.stackOffset,M=w.margin,D=g.dataStartIndex,F=g.dataEndIndex;if(g.updateId===void 0){var q=L3(w);return Ve(Ve(Ve({},q),{},{updateId:0},b(Ve(Ve({props:w},q),{},{updateId:0}),g)),{},{prevDataKey:S,prevData:k,prevWidth:j,prevHeight:T,prevLayout:_,prevStackOffset:O,prevMargin:M,prevChildren:y})}if(S!==g.prevDataKey||k!==g.prevData||j!==g.prevWidth||T!==g.prevHeight||_!==g.prevLayout||O!==g.prevStackOffset||!qd(M,g.prevMargin)){var L=L3(w),B={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},X=Ve(Ve({},P3(g,k,_)),{},{updateId:g.updateId+1}),P=Ve(Ve(Ve({},L),B),X);return Ve(Ve(Ve({},P),b(Ve({props:w},P),g)),{},{prevDataKey:S,prevData:k,prevWidth:j,prevHeight:T,prevLayout:_,prevStackOffset:O,prevMargin:M,prevChildren:y})}if(!VA(y,g.prevChildren)){var U,z,V,Y,se=Pn(y,xu),K=se&&(U=(z=se.props)===null||z===void 0?void 0:z.startIndex)!==null&&U!==void 0?U:D,G=se&&(V=(Y=se.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&V!==void 0?V:F,W=K!==D||G!==F,Q=!It(k),ee=Q&&!W?g.updateId:g.updateId+1;return Ve(Ve({updateId:ee},b(Ve(Ve({props:w},g),{},{updateId:ee,dataStartIndex:K,dataEndIndex:G}),g)),{},{prevChildren:y,dataStartIndex:K,dataEndIndex:G})}return null}),wt(r,"renderActiveDot",function(w,g){var S;return R.isValidElement(w)?S=R.cloneElement(w,g):St(w)?S=w(g):S=xe.createElement(xb,g),xe.createElement(ir,{className:"recharts-active-dot",key:g.key},S)}),r},Ude=ZT({chartName:"LineChart",GraphicalChild:Wh,axisComponents:[{axisType:"xAxis",AxisComp:so},{axisType:"yAxis",AxisComp:io}],formatAxisMap:mF}),jb=ZT({chartName:"BarChart",GraphicalChild:ui,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:so},{axisType:"yAxis",AxisComp:io}],formatAxisMap:mF}),Fde=ZT({chartName:"PieChart",GraphicalChild:no,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:yb},{axisType:"radiusAxis",AxisComp:bb}],formatAxisMap:oae,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),us=(t=>(t.ACTIVE="ATIVO",t.INACTIVE="INATIVO",t.COMPLETED="CONCLUDO",t))(us||{});const cl=["6 ANO A","6 ANO B","6 ANO D","6 ANO E","7 ANO A","7 ANO B","7 ANO D","7 ANO E","8 ANO A","8 ANO B","8 ANO D","8 ANO E","9 ANO A","9 ANO B","9 ANO C","9 ANO D","9 ANO E"],UF=["LNGUA PORTUGUESA","MATEMTICA","CINCIAS","HISTRIA","GEOGRAFIA","ARTE","EDUCAO FSICA","LNGUA INGLESA","ENSINO RELIGIOSO","PROJETO DE VIDA","PRTICAS EXPERIMENTAIS"],F3=[{id:"sup-alimex",name:"ALIMEX LIMA",full_name:"ALIMEX LIMA LTDA",cnpj:"10.234.567/0001-89",email:"contato@alimex.com.br",phone:"66 3541-1200",category:"Gneros Diversos",score:5,location:"COLDER/MT"},{id:"sup-mariaroma",name:"MARIA ROMA",full_name:"CASA DE CARNE E MERCADO MARIA ROMA LTDA",cnpj:"08.112.334/0001-22",email:"financeiro@mariaroma.com.br",phone:"66 3541-4455",category:"Perecveis",score:4.8,location:"COLDER/MT"},{id:"sup-cooperlider",name:"COOPERLIDER",full_name:"COOPERLIDER COOPERATIVA DE PRODUTORES RURAIS",cnpj:"15.998.776/0001-10",email:"cooperlider.col@gmail.com",phone:"66 99988-1020",category:"Agricultura Familiar",score:5,location:"COLDER/MT"},{id:"sup-ivan",name:"IVAN DIAS",full_name:"IVAN DIAS LINS ME",cnpj:"12.445.667/0001-33",email:"ivan.dias@bol.com.br",phone:"66 3541-8899",category:"Gneros Secos",score:4.5,location:"COLDER/MT"},{id:"sup-j-assis",name:"J. ASSIS",full_name:"J. ASSIS E CIA LTDA ME",cnpj:"05.667.889/0001-44",email:"jassis.dist@hotmail.com",phone:"66 3541-7766",category:"Gneros Diversos",score:4.7,location:"COLDER/MT"},{id:"sup-laercio",name:"LAERCIO BATISTA",full_name:"LAERCIO BATISTA DA SILVA ME",cnpj:"11.223.445/0001-55",email:"laercio.frigo@gmail.com",phone:"66 99665-3040",category:"Perecveis",score:4.9,location:"COLDER/MT"},{id:"sup-nc-santos",name:"N.C. SANTOS",full_name:"N.C. DOS SANTOS",cnpj:"20.112.223/0001-66",email:"nc.laticinios@terra.com.br",phone:"66 3541-2211",category:"Gneros Diversos",score:4.6,location:"COLDER/MT"},{id:"sup-raros-sabor",name:"RARO SABOR",full_name:"RAROS SABOR LTDA",cnpj:"33.445.556/0001-77",email:"padaria@rarosabor.com.br",phone:"66 3541-9080",category:"Padaria",score:5,location:"COLDER/MT"},{id:"sup-scarpin",name:"SERGIO SCARPIN",full_name:"SERGIO SCARPIN LTDA",cnpj:"01.223.334/0001-88",email:"sergio.horti@uol.com.br",phone:"66 3541-1515",category:"Perecveis",score:4.4,location:"COLDER/MT"},{id:"sup-coait",name:"COAIT",full_name:"COAIT COOPERATIVA DE TAPURAH",cnpj:"19.887.665/0001-99",email:"coait@tapurah.coop.br",phone:"66 3547-1010",category:"Agricultura Familiar",score:4.8,location:"TAPURAH/MT"},{id:"sup-ascop",name:"ASCOP",full_name:"ASCOP AGRICULTORES FAMILIARES",cnpj:"22.334.445/0001-00",email:"ascop.vendas@ascop.org.br",phone:"65 3321-4040",category:"Agricultura Familiar",score:4.9,location:"VARZEA GRANDE/MT"}],Tb=[{id:"ct-2026-alimex-01",number:"01/2026/SEDUC/MT",supplierId:"sup-alimex",supplierName:"ALIMEX LIMA",startDate:"2026-01-20",endDate:"2027-01-20",status:us.ACTIVE,type:"Prego Presencial",items:[{id:"alim-i1",description:"AAFro",contractedQuantity:8,acquiredQuantity:0,unit:"KG",unitPrice:78,brand:"ASCOP"},{id:"alim-i2",description:"CAF TORRADO E MODO",contractedQuantity:19,acquiredQuantity:0,unit:"KG",unitPrice:64.9,brand:"ORIGEM"},{id:"alim-i3",description:"COCO RALADO",contractedQuantity:8,acquiredQuantity:0,unit:"KG",unitPrice:52.5,brand:"DUCOCO"},{id:"alim-i4",description:"FARINHA DE TRIGO",contractedQuantity:242,acquiredQuantity:0,unit:"KG",unitPrice:5.3,brand:"CAMPESINA"},{id:"alim-i5",description:"MASSA PARA LASANHA",contractedQuantity:125,acquiredQuantity:0,unit:"KG",unitPrice:20.45,brand:"DONA BENTA"},{id:"alim-i6",description:"PEIXE CONGELADO FIL DE TILPIA",contractedQuantity:35,acquiredQuantity:0,unit:"KG",unitPrice:48.9,brand:"ASCOP"},{id:"alim-i7",description:"VINAGRE DE LCOOL",contractedQuantity:25,acquiredQuantity:0,unit:"UNID 750ML",unitPrice:2.9,brand:"NEVAL"}]},{id:"ct-2026-mariaroma-02",number:"002/2026/SEDUC/MT",supplierId:"sup-mariaroma",supplierName:"MARIA ROMA",startDate:"2026-01-20",endDate:"2027-01-20",status:us.ACTIVE,type:"Prego Presencial",items:[{id:"mari-i1",description:"ACAR CRISTAL",contractedQuantity:58,acquiredQuantity:0,unit:"UNID 2KG",unitPrice:6.2,brand:"BARRALCOOL"},{id:"mari-i2",description:"CARNE CONGELADA DE SUNO SEM OSSO (FIL MIGNON)",contractedQuantity:267,acquiredQuantity:0,unit:"KG",unitPrice:34,brand:"NUTRIBRS"},{id:"mari-i3",description:"FEIJO CARIOCA",contractedQuantity:542,acquiredQuantity:0,unit:"KG",unitPrice:5.2,brand:"YUMAI"},{id:"mari-i4",description:"FEIJO PRETO",contractedQuantity:125,acquiredQuantity:0,unit:"KG",unitPrice:6.85,brand:"RIZZON"},{id:"mari-i5",description:"MACARRO PARAFUSO",contractedQuantity:458,acquiredQuantity:0,unit:"KG",unitPrice:7.5,brand:"JOIA"},{id:"mari-i6",description:"LEO DE SOJA",contractedQuantity:234,acquiredQuantity:0,unit:"UNID 900ML",unitPrice:9.5,brand:"LIZA"}]},{id:"ct-2026-cooperlider-03",number:"003/2026/SEDUC/MT",supplierId:"sup-cooperlider",supplierName:"COOPERLIDER",startDate:"2026-02-02",endDate:"2027-02-02",status:us.ACTIVE,type:"Agricultura Familiar",items:[{id:"cl-i1",description:"ABACAXI PROLA",contractedQuantity:644,acquiredQuantity:0,unit:"KG",unitPrice:12.75},{id:"cl-i2",description:"ABBORA CABOTI",contractedQuantity:57,acquiredQuantity:0,unit:"KG",unitPrice:7.49},{id:"cl-i3",description:"ABBORA PAULISTA",contractedQuantity:56,acquiredQuantity:0,unit:"KG",unitPrice:8.25},{id:"cl-i4",description:"ALFACE LISA",contractedQuantity:158,acquiredQuantity:0,unit:"KG",unitPrice:29.5},{id:"cl-i5",description:"ALMEIRO",contractedQuantity:33,acquiredQuantity:0,unit:"KG",unitPrice:30.5},{id:"cl-i6",description:"BANANA DA TERRA",contractedQuantity:83,acquiredQuantity:0,unit:"KG",unitPrice:13},{id:"cl-i7",description:"BATATA DOCE",contractedQuantity:104,acquiredQuantity:0,unit:"KG",unitPrice:7.99},{id:"cl-i8",description:"BETERRABA",contractedQuantity:73,acquiredQuantity:0,unit:"KG",unitPrice:6.05},{id:"cl-i9",description:"CENOURA",contractedQuantity:317,acquiredQuantity:0,unit:"KG",unitPrice:7.75},{id:"cl-i10",description:"COENTRO",contractedQuantity:8,acquiredQuantity:0,unit:"KG",unitPrice:41.98},{id:"cl-i11",description:"LARANJA PRA",contractedQuantity:504,acquiredQuantity:0,unit:"KG",unitPrice:12.5},{id:"cl-i12",description:"LIMO TAHITI",contractedQuantity:67,acquiredQuantity:0,unit:"KG",unitPrice:13},{id:"cl-i13",description:"MAMO FORMOSA",contractedQuantity:625,acquiredQuantity:0,unit:"KG",unitPrice:14.25},{id:"cl-i14",description:"MELO",contractedQuantity:813,acquiredQuantity:0,unit:"KG",unitPrice:11.5},{id:"cl-i15",description:"PEPINO",contractedQuantity:42,acquiredQuantity:0,unit:"KG",unitPrice:8.5},{id:"cl-i16",description:"PIMENTA DE CHEIRO",contractedQuantity:25,acquiredQuantity:0,unit:"KG",unitPrice:35},{id:"cl-i17",description:"PIMENTO VERDE",contractedQuantity:75,acquiredQuantity:0,unit:"KG",unitPrice:28.45},{id:"cl-i18",description:"POLPA DE ACEROLA",contractedQuantity:42,acquiredQuantity:0,unit:"KG",unitPrice:33.85},{id:"cl-i19",description:"PONC",contractedQuantity:373,acquiredQuantity:0,unit:"KG",unitPrice:18},{id:"cl-i20",description:"REPOLHO BRANCO/VERDE",contractedQuantity:271,acquiredQuantity:0,unit:"KG",unitPrice:5.99},{id:"cl-i21",description:"SALSA",contractedQuantity:116,acquiredQuantity:0,unit:"KG",unitPrice:45.98}]},{id:"ct-2026-ivan-03",number:"003/2026/SEDUC/MT (IVAN)",supplierId:"sup-ivan",supplierName:"IVAN DIAS",startDate:"2026-01-20",endDate:"2027-01-20",status:us.ACTIVE,type:"Prego Presencial",items:[{id:"ivan-i1",description:"ARROZ BRANCO",contractedQuantity:534,acquiredQuantity:0,unit:"UNID 5KG",unitPrice:15.75,brand:"YUMAI"},{id:"ivan-i2",description:"FIL DE PEITO DE FRANGO",contractedQuantity:1227,acquiredQuantity:0,unit:"KG",unitPrice:24.9,brand:"SEARA"},{id:"ivan-i3",description:"SAL",contractedQuantity:105,acquiredQuantity:0,unit:"KG",unitPrice:2.1,brand:"MASTER"}]},{id:"ct-2026-j-assis-04",number:"004/2026/SEDUC/MT",supplierId:"sup-j-assis",supplierName:"J. ASSIS",startDate:"2026-01-20",endDate:"2027-01-20",status:us.ACTIVE,type:"Prego Presencial",items:[{id:"ja-i1",description:"AMIDO DE MILHO",contractedQuantity:46,acquiredQuantity:0,unit:"KG",unitPrice:11.95,brand:"AMAFIL"},{id:"ja-i2",description:"CH MATE",contractedQuantity:21,acquiredQuantity:0,unit:"KG",unitPrice:28.45,brand:"RICO"},{id:"ja-i3",description:"COLORAU",contractedQuantity:33,acquiredQuantity:0,unit:"KG",unitPrice:14.9,brand:"SINH"},{id:"ja-i4",description:"EXTRATO DE TOMATE",contractedQuantity:121,acquiredQuantity:0,unit:"KG",unitPrice:10.45,brand:"VAL"}]},{id:"ct-2026-laercio-05",number:"005/2026/SEDUC/MT",supplierId:"sup-laercio",supplierName:"LAERCIO BATISTA",startDate:"2026-01-20",endDate:"2027-01-20",status:us.ACTIVE,type:"Prego Presencial",items:[{id:"laer-i1",description:"CARNE EM CUBOS CONGELADA DE BOVINO - ACM",contractedQuantity:649,acquiredQuantity:0,unit:"KG",unitPrice:30.77,brand:"FRIGOLDER"},{id:"laer-i2",description:"CARNE MOIDA CONGELADA DE BOVINO - MSCULO",contractedQuantity:408,acquiredQuantity:0,unit:"KG",unitPrice:33.45,brand:"FRIGOLDER"},{id:"laer-i3",description:"CARNE EM ISCAS CONGELADA DE BOVINO - PALETA",contractedQuantity:269,acquiredQuantity:0,unit:"KG",unitPrice:29.9,brand:"FRIGOLDER"},{id:"laer-i4",description:"OVO DE GALINHA TIPO A",contractedQuantity:253,acquiredQuantity:0,unit:"DZ",unitPrice:9.4,brand:"SURDI"}]},{id:"ct-2026-nc-santos-06",number:"006/2026/SEDUC/MT",supplierId:"sup-nc-santos",supplierName:"N.C. SANTOS",startDate:"2026-01-20",endDate:"2027-01-20",status:us.ACTIVE,type:"Prego Presencial",items:[{id:"nc-i1",description:"MANTEIGA PURA COM SAL",contractedQuantity:86,acquiredQuantity:0,unit:"KG",unitPrice:71.5,brand:"COOPERNOVA"},{id:"nc-i2",description:"PEIXE CONGELADO FIL DE PINTADO",contractedQuantity:36,acquiredQuantity:0,unit:"KG",unitPrice:58,brand:"DELICIUS FISH"}]},{id:"ct-2026-raros-sabor-07",number:"007/2026/SEDUC/MT",supplierId:"sup-raros-sabor",supplierName:"RARO SABOR",startDate:"2026-01-20",endDate:"2027-01-20",status:us.ACTIVE,type:"Prego Presencial",items:[{id:"rs-i1",description:"PO DOCE",contractedQuantity:63,acquiredQuantity:0,unit:"KG",unitPrice:31.3,brand:"RARO SABOR"},{id:"rs-i2",description:"PO FRANCS",contractedQuantity:494,acquiredQuantity:0,unit:"KG",unitPrice:20.7,brand:"RARO SABOR"}]},{id:"ct-2026-scarpin-08",number:"008/2026/SEDUC/MT",supplierId:"sup-scarpin",supplierName:"SERGIO SCARPIN",startDate:"2026-01-20",endDate:"2027-01-20",status:us.ACTIVE,type:"Prego Presencial",items:[{id:"scarpin-i1",description:"AGRIO",contractedQuantity:75,acquiredQuantity:0,unit:"KG",unitPrice:36.88,brand:"HETROS"},{id:"scarpin-i2",description:"ALHO BRANCO",contractedQuantity:53,acquiredQuantity:0,unit:"KG",unitPrice:30,brand:"HETROS"},{id:"scarpin-i3",description:"ALHO BRANCO DESCASCADO RESFRIADO",contractedQuantity:53,acquiredQuantity:0,unit:"KG",unitPrice:46.98,brand:"DERMARCH"},{id:"scarpin-i4",description:"BATATA INGLESA",contractedQuantity:292,acquiredQuantity:0,unit:"KG",unitPrice:4.7,brand:"HETROS"},{id:"scarpin-i5",description:"BRCOLIS",contractedQuantity:33,acquiredQuantity:0,unit:"KG",unitPrice:26.45,brand:"HETROS"},{id:"scarpin-i6",description:"CACAU EM P SOLVEL 100% CACAU",contractedQuantity:27,acquiredQuantity:0,unit:"KG",unitPrice:89.99,brand:"CACAU POWER"},{id:"scarpin-i7",description:"CEBOLA BRANCA",contractedQuantity:275,acquiredQuantity:0,unit:"KG",unitPrice:4.3,brand:"HETROS"},{id:"scarpin-i8",description:"LOURO",contractedQuantity:8,acquiredQuantity:0,unit:"KG",unitPrice:425.1,brand:"REI DOS CONDIMENTOS"},{id:"scarpin-i9",description:"MA FUJI",contractedQuantity:575,acquiredQuantity:0,unit:"KG",unitPrice:11.8,brand:"HETROS"},{id:"scarpin-i10",description:"MILHO VERDE EM CONSERVA",contractedQuantity:21,acquiredQuantity:0,unit:"KG",unitPrice:20,brand:"FUGINI"}]},{id:"ct-2026-coait-02",number:"002/2026/SEDUC/MT (COAIT)",supplierId:"sup-coait",supplierName:"COAIT",startDate:"2026-02-02",endDate:"2027-02-02",status:us.ACTIVE,type:"Agricultura Familiar",items:[{id:"coait-i1",description:"BANANA NANICA",contractedQuantity:1082,acquiredQuantity:0,unit:"KG",unitPrice:10.5},{id:"coait-i2",description:"CEBOLINHA",contractedQuantity:155,acquiredQuantity:0,unit:"KG",unitPrice:44},{id:"coait-i3",description:"COUVE",contractedQuantity:142,acquiredQuantity:0,unit:"KG",unitPrice:30.25},{id:"coait-i4",description:"MANDIOCA DESCASCADA CONGELADA",contractedQuantity:167,acquiredQuantity:0,unit:"KG",unitPrice:10.76},{id:"coait-i5",description:"MELANCIA",contractedQuantity:1442,acquiredQuantity:0,unit:"KG",unitPrice:5.75},{id:"coait-i6",description:"POLPA DE MARACUJ",contractedQuantity:42,acquiredQuantity:0,unit:"KG",unitPrice:54.85},{id:"coait-i7",description:"RCULA",contractedQuantity:158,acquiredQuantity:0,unit:"KG",unitPrice:26.88},{id:"coait-i8",description:"TOMATE SALADA",contractedQuantity:104,acquiredQuantity:0,unit:"KG",unitPrice:13.98}]},{id:"ct-2026-ascop-001",number:"001/2026/SEDUC/MT (CH. PBLICA)",supplierId:"sup-ascop",supplierName:"ASCOP",startDate:"2026-02-02",endDate:"2027-02-02",status:us.ACTIVE,type:"Agricultura Familiar",items:[{id:"ascop-i1",description:"BEBIDA LCTEA FERMENTADA SABOR COCO",contractedQuantity:63,acquiredQuantity:0,unit:"KG",unitPrice:10.11},{id:"ascop-i2",description:"FARINHA DE MANDIOCA",contractedQuantity:104,acquiredQuantity:0,unit:"KG",unitPrice:11.99},{id:"ascop-i3",description:"LEITE UHT INTEGRAL",contractedQuantity:590,acquiredQuantity:0,unit:"LITRO",unitPrice:7.99},{id:"ascop-i4",description:"PEIXE CONGELADO FIL DE TILPIA",contractedQuantity:71,acquiredQuantity:0,unit:"KG",unitPrice:73.34},{id:"ascop-i5",description:"QUEIJO MUSSARELA",contractedQuantity:82,acquiredQuantity:0,unit:"KG",unitPrice:51.98},{id:"ascop-i6",description:"REQUEIJO CREMOSO",contractedQuantity:15,acquiredQuantity:0,unit:"KG",unitPrice:44.95}]}],$i=[{Sequencia:"1",CodigoAluno:"2667280",Nome:"YURY LINS DOS SANTOS MOTA",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-12-21",PAED:"No",TransporteEscolar:"No"},{Sequencia:"2",CodigoAluno:"2667264",Nome:"MICHEL AZEVEDO PEREIRA",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-04-04",PAED:"No",TransporteEscolar:"No"},{Sequencia:"3",CodigoAluno:"2667299",Nome:"MIGUEL AZEVEDO PEREIRA",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-04-04",PAED:"No",TransporteEscolar:"No"},{Sequencia:"4",CodigoAluno:"2667474",Nome:"KAUAN FEITOSA MORAES",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-10-28",PAED:"No",TransporteEscolar:"No"},{Sequencia:"5",CodigoAluno:"2667419",Nome:"JOO LUCAS DE SOUZA DA SILVA",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-01-01",PAED:"No",TransporteEscolar:"No"},{Sequencia:"6",CodigoAluno:"2667873",Nome:"DAVI LUCAS LIMA RODRIGUES",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-05-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"7",CodigoAluno:"2667896",Nome:"WELBER LERRANDRO LOPES APARECIDO",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-05-06",PAED:"No",TransporteEscolar:"No"},{Sequencia:"8",CodigoAluno:"2667915",Nome:"LEONEL FELIPE OLIVEIRA DOS SANTOS",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-02-13",PAED:"No",TransporteEscolar:"No"},{Sequencia:"9",CodigoAluno:"2667952",Nome:"MARIA FERNANDA EQUIDONE MACHADO",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-10-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"10",CodigoAluno:"2669227",Nome:"CRISLANE EDUARDA FARIAS DE ALMEIDA",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-05-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"11",CodigoAluno:"2669069",Nome:"CRISLAINE VICTORIA FARIAS DE ALMEIDA",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-05-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"12",CodigoAluno:"2668996",Nome:"ANA CLARA PEREIRA BRITO",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-02-12",PAED:"No",TransporteEscolar:"No"},{Sequencia:"13",CodigoAluno:"2668972",Nome:"BEPIET PANARA METUKTIRE",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-02-28",PAED:"No",TransporteEscolar:"No"},{Sequencia:"14",CodigoAluno:"2668902",Nome:"ENZO ARTHUR DA SILVA SANTOS",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-03-02",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"15",CodigoAluno:"2668931",Nome:"EMILY CRISTINA DO NASCIMENTO",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-04-30",PAED:"No",TransporteEscolar:"No"},{Sequencia:"16",CodigoAluno:"2668909",Nome:"SABRINA VITORIA MATIAS MARTINS",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-06-27",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"17",CodigoAluno:"2668897",Nome:"JOO GABRIEL DE OLIVEIRA MARTINS",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-12-19",PAED:"No",TransporteEscolar:"No"},{Sequencia:"18",CodigoAluno:"2668889",Nome:"ISADORA CAETANO MATEUS",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-10-09",PAED:"No",TransporteEscolar:"No"},{Sequencia:"19",CodigoAluno:"2670913",Nome:"MISAEL LUIZ DA SILVA DIAS",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-01-06",PAED:"No",TransporteEscolar:"No"},{Sequencia:"20",CodigoAluno:"2286454",Nome:"JOO VITOR PEREIRA DA SILVA",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-06-18",PAED:"No",TransporteEscolar:"No"},{Sequencia:"21",CodigoAluno:"2286436",Nome:"GUSTAVO HENRIQUE DE PAULA DE LARA",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-03-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"22",CodigoAluno:"2292207",Nome:"JOO OTVIO GONSALVES DE LIMA",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-04-18",PAED:"No",TransporteEscolar:"No"},{Sequencia:"23",CodigoAluno:"2302994",Nome:"GUILHERME SOUZA ALVES",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-07-03",PAED:"No",TransporteEscolar:"No"},{Sequencia:"24",CodigoAluno:"2287215",Nome:"PAULA FERNANDA COIMBRA DA SILVA",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-08-02",PAED:"No",TransporteEscolar:"No"},{Sequencia:"25",CodigoAluno:"2325694",Nome:"MIKAELY TIBURCIO SILVA",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-10-02",PAED:"No",TransporteEscolar:"No"},{Sequencia:"26",CodigoAluno:"2304199",Nome:"JASMIM RAFAELA AMNCIO DE LIMA",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-03-23",PAED:"No",TransporteEscolar:"No"},{Sequencia:"27",CodigoAluno:"2723256",Nome:"FELIPE NUNES DA SILVA",Turma:"6 ANO A",Turno:"MATUTINO",DataMatricula:"2026-02-02",DataNascimento:"2014-06-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"1",CodigoAluno:"2569401",Nome:"ALISONGUILHERME RODRIGUES ARAUJO",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-02-25",PAED:"No",TransporteEscolar:"No"},{Sequencia:"2",CodigoAluno:"2683159",Nome:"ANTHONY MIGUEL PEREIRA DE SOUZA",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-01-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"3",CodigoAluno:"2239407",Nome:"BEKIRE METUKTIRE",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-05-02",DataNascimento:"2014-04-23",PAED:"No",TransporteEscolar:"No"},{Sequencia:"4",CodigoAluno:"2724743",Nome:"BEPY ARETI METUKTIRE",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-05-02",DataNascimento:"2015-03-16",PAED:"No",TransporteEscolar:"No"},{Sequencia:"5",CodigoAluno:"2673461",Nome:"BRENDA VITORIA SILVA BERTORELLO",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-07-12",PAED:"No",TransporteEscolar:"No"},{Sequencia:"6",CodigoAluno:"2702574",Nome:"CAMILLY VITORIA BALBINO SOARES",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-01-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"7",CodigoAluno:"2284461",Nome:"DANIEL ROBERT RUFINO DA COSTA",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-07-31",PAED:"No",TransporteEscolar:"No"},{Sequencia:"8",CodigoAluno:"2156760",Nome:"EDUARDO PEREIRA DA SILVA SIMPLICIO",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-10-23",PAED:"No",TransporteEscolar:"No"},{Sequencia:"9",CodigoAluno:"2671946",Nome:"EMANUEL LORENZO DO CARMO BRANCO",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-05-21",PAED:"No",TransporteEscolar:"No"},{Sequencia:"10",CodigoAluno:"2321383",Nome:"EVERTON KAUAN DOMICIANO GONALVES",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-12-03",PAED:"No",TransporteEscolar:"No"},{Sequencia:"11",CodigoAluno:"2682303",Nome:"ENZO GONALVES DOS SANTOS",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-12-19",PAED:"No",TransporteEscolar:"No"},{Sequencia:"12",CodigoAluno:"2286825",Nome:"GABRIEL DA SILVA SOUZA",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-11-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"13",CodigoAluno:"2286559",Nome:"GUILHERME CONSTANTINI DE LIMA",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-06-16",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"14",CodigoAluno:"2569402",Nome:"GLENNDA GOMES DE SOUZA",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-04-02",DataNascimento:"2014-07-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"15",CodigoAluno:"2569403",Nome:"ISADORA NOBREGA NEGRETE GARCIA",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-10-30",PAED:"No",TransporteEscolar:"No"},{Sequencia:"16",CodigoAluno:"2230457",Nome:"JHENIFER PEREIRA DA SILVA SIMPLICIO",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-01-24",PAED:"No",TransporteEscolar:"No"},{Sequencia:"17",CodigoAluno:"2683745",Nome:"JOO MIGUEL MARTINS NOVAIS",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-12-10",PAED:"No",TransporteEscolar:"No"},{Sequencia:"18",CodigoAluno:"2286964",Nome:"JULIANA DE SOUZA CAMPOS",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-08-04",PAED:"No",TransporteEscolar:"No"},{Sequencia:"19",CodigoAluno:"2287021",Nome:"LAUARA LAIANNY APARECIDA ASSUNO",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-08-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"20",CodigoAluno:"2674867",Nome:"LUCAS GABRIEL DE SOUZA",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-08-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"21",CodigoAluno:"2685041",Nome:"LUIZ HENRIQUE SOUZA MATOS",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-04-29",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"22",CodigoAluno:"2681029",Nome:"MARIA CLARA CARDOSO RESENDE",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-05-26",PAED:"No",TransporteEscolar:"No"},{Sequencia:"23",CodigoAluno:"2721831",Nome:"NATHALY POLLYANE LOPES DA SILVA RIBEIRO",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-03-30",DataNascimento:"2014-09-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"24",CodigoAluno:"2569404",Nome:"STEFANY LAURA RODRIGUES LIMA",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-05-03",PAED:"No",TransporteEscolar:"No"},{Sequencia:"25",CodigoAluno:"2673467",Nome:"THAEMILLI REGIELLI MARCELINO SOARES",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-09-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"26",CodigoAluno:"2716708",Nome:"VINICIUS RAFAEL NOVAIS DA SILVA",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-02-09",PAED:"No",TransporteEscolar:"No"},{Sequencia:"27",CodigoAluno:"2689354",Nome:"VITORIA GABRIELLY DIAS",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-07-07",PAED:"No",TransporteEscolar:"No"},{Sequencia:"28",CodigoAluno:"2569400",Nome:"YURI GABRIEL ALVES DE AMORIM",Turma:"6 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-10-20",PAED:"No",TransporteEscolar:"No"},{Sequencia:"1",CodigoAluno:"2666110",Nome:"DAVY HENRIQUE BACHIEGA COSTA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-09-15",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"2",CodigoAluno:"2666169",Nome:"JOO MIGUEL JESUS ARAUJO THOME",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-04-04",PAED:"No",TransporteEscolar:"No"},{Sequencia:"3",CodigoAluno:"2666214",Nome:"ADRIEL COSTA GONALO",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-07-03",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"4",CodigoAluno:"2666258",Nome:"MARIANA BENCIO COSTA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-02-03",PAED:"No",TransporteEscolar:"No"},{Sequencia:"5",CodigoAluno:"2666296",Nome:"JOO VITOR DOS SANTOS MATEUS",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-11-18",PAED:"No",TransporteEscolar:"No"},{Sequencia:"6",CodigoAluno:"2666394",Nome:"GABRIEL PLACEDINO TREVIZAN",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-05-29",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"7",CodigoAluno:"2666421",Nome:"JEFERSON TARIFA DOS SANTOS",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-08-26",PAED:"No",TransporteEscolar:"No"},{Sequencia:"8",CodigoAluno:"2666437",Nome:"SAMUEL LEANDRO DO VALE",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-04-19",PAED:"No",TransporteEscolar:"No"},{Sequencia:"9",CodigoAluno:"2667251",Nome:"ARTHUR DE LIMA SANCHES",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-01-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"10",CodigoAluno:"2667226",Nome:"AKEMILLY MARIA BALDAIA PAIM",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-04-11",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"11",CodigoAluno:"2287110",Nome:"LORANE DA SILVA BEZERRA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-04-16",PAED:"No",TransporteEscolar:"No"},{Sequencia:"12",CodigoAluno:"2286535",Nome:"ALLISON VICTOR DOS SANTOS PORTO",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-11-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"13",CodigoAluno:"2368034",Nome:"GABRIELI MARTINS LIMA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-01-23",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"14",CodigoAluno:"2339491",Nome:"TAKAKPYNEITI KABRAL METUKTIRE",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-09-04",PAED:"No",TransporteEscolar:"No"},{Sequencia:"15",CodigoAluno:"2289783",Nome:"ELOIZA DE SOUZA DIAS",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-09-30",PAED:"No",TransporteEscolar:"No"},{Sequencia:"16",CodigoAluno:"2286447",Nome:"YAN SILVA NUNES",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-01-23",PAED:"No",TransporteEscolar:"No"},{Sequencia:"17",CodigoAluno:"2459053",Nome:"GUSTTAVO HENRIQUE DA COSTA SOUZA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-07-03",PAED:"No",TransporteEscolar:"No"},{Sequencia:"18",CodigoAluno:"2289500",Nome:"PAOLLA LIMA DA SILVA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-10-16",PAED:"No",TransporteEscolar:"No"},{Sequencia:"19",CodigoAluno:"2323714",Nome:"GABRIELLY CORREIA DOS SANTOS",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-05-26",PAED:"No",TransporteEscolar:"No"},{Sequencia:"20",CodigoAluno:"2320081",Nome:"MATHEUS DE SOUZA FRANA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-02-11",PAED:"No",TransporteEscolar:"No"},{Sequencia:"21",CodigoAluno:"2305802",Nome:"JEAN PAULO SOARES DE OLIVEIRA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-05-02",PAED:"No",TransporteEscolar:"No"},{Sequencia:"22",CodigoAluno:"2671389",Nome:"JOYCE DE JESUS DOS SANTOS",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-10-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"23",CodigoAluno:"2671365",Nome:"JORGE HENRIQUE PEREIRA DE AZEVEDO",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-02-03",PAED:"No",TransporteEscolar:"No"},{Sequencia:"24",CodigoAluno:"2671289",Nome:"HIAXLLEY VICTOR PAULINO BISPO",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-12-02",PAED:"No",TransporteEscolar:"No"},{Sequencia:"25",CodigoAluno:"2699492",Nome:"FELIPE GERMANO BENTO DA SILVA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-06-19",PAED:"No",TransporteEscolar:"No"},{Sequencia:"26",CodigoAluno:"2709916",Nome:"HIAGO BRUNO ARAUJO DE ALMEIDA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-01-15",PAED:"No",TransporteEscolar:"No"},{Sequencia:"27",CodigoAluno:"2208519",Nome:"ESTER SANTANA RODRIGUES SANTOS",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-07-24",PAED:"No",TransporteEscolar:"No"},{Sequencia:"28",CodigoAluno:"2716602",Nome:"HENRRY GABRIEL CARDOSO DORIA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-08-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"29",CodigoAluno:"2683198",Nome:"ENZO VINICIOS ALMONDES DE LIMA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-07-09",PAED:"No",TransporteEscolar:"No"},{Sequencia:"1",CodigoAluno:"2671253",Nome:"JOO LUIZ MESQUITA SILVA DOS SANTOS",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-05-10",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"2",CodigoAluno:"2671433",Nome:"MIKAELLY CRISTINA FERREIRA DOS SANTOS",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-11-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"3",CodigoAluno:"2421444",Nome:"JOAQUIM LEITE MARCHIORO",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-04-15",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"4",CodigoAluno:"2671845",Nome:"HESTER BEATRIZ DOS SANTOS MARTIRIO",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-02-28",PAED:"No",TransporteEscolar:"No"},{Sequencia:"5",CodigoAluno:"2673453",Nome:"JOS EDUARDO DOURADO ARAUJO",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-08-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"6",CodigoAluno:"2673457",Nome:"ANA CLARA DE OLIVEIRA ANDRADE",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-09-02",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"7",CodigoAluno:"2673503",Nome:"RAYQUE VITOR DOS SANTOS RODRIGUES",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-12-30",PAED:"No",TransporteEscolar:"No"},{Sequencia:"8",CodigoAluno:"2313125",Nome:"KHYMBERLLY KLERYS VAZ DE OLIVEIRA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-01-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"9",CodigoAluno:"2674904",Nome:"ADRYAN SOUSA DOS ANJOS",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-03-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"10",CodigoAluno:"2290250",Nome:"KOKOIREJ MARIZA METUKTIRE",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-07-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"11",CodigoAluno:"2681047",Nome:"NCOLAS JOS PEREIRA VIANA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-12-11",PAED:"No",TransporteEscolar:"No"},{Sequencia:"12",CodigoAluno:"2686851",Nome:"GUILHERME DOS SANTOS AMORIM",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-02-18",PAED:"No",TransporteEscolar:"No"},{Sequencia:"13",CodigoAluno:"2297923",Nome:"MARYA CLARA FERREIRA DOS SANTOS",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-09-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"14",CodigoAluno:"2478383",Nome:"VICTOR JOAQUIM MARQUES MADEIRA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-01-25",PAED:"No",TransporteEscolar:"No"},{Sequencia:"15",CodigoAluno:"2693387",Nome:"GUILHERME HENRIQ MOREIRA DA SILVA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-06-03",PAED:"No",TransporteEscolar:"No"},{Sequencia:"16",CodigoAluno:"2693480",Nome:"GREG NAUAN DO AMARAL",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-12-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"17",CodigoAluno:"2693981",Nome:"YASMIN MARIA VITORIA NASCIMENTO DA SILVA PEDROSO",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-03-12",PAED:"No",TransporteEscolar:"No"},{Sequencia:"18",CodigoAluno:"2694555",Nome:"SAMUEL UES FERREIRA DA SILVA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-11-20",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"19",CodigoAluno:"2338717",Nome:"YAYCKE ARISTIDES DO NASCIMENTO JURUNA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-07-28",PAED:"No",TransporteEscolar:"No"},{Sequencia:"20",CodigoAluno:"2350612",Nome:"ELOSA MOREIRA DONATO",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-01-15",PAED:"No",TransporteEscolar:"No"},{Sequencia:"21",CodigoAluno:"2421264",Nome:"JOO PEDRO FERMINO DA SILVA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-08-30",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"22",CodigoAluno:"2315761",Nome:"EMILY VITRIA DE ALMEIDA FAUSTINO",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-02-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"23",CodigoAluno:"2671297",Nome:"GABRIELA HENRIQUE GIZONI DA SILVA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-06-12",PAED:"No",TransporteEscolar:"No"},{Sequencia:"24",CodigoAluno:"2277854",Nome:"LUIZ MIGUEL CHAVES MENDONA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-10-18",PAED:"No",TransporteEscolar:"No"},{Sequencia:"25",CodigoAluno:"2312384",Nome:"RUTE DOS SANTOS MAGIOLO",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2015-01-20",PAED:"No",TransporteEscolar:"No"},{Sequencia:"26",CodigoAluno:"2569399",Nome:"ROSE EMANUELLY ALMEIDA AGUIAR",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-03-30",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"27",CodigoAluno:"2309740",Nome:"YZANNI YONARA RIBEIRO DE SOUZA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-02-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"28",CodigoAluno:"2721632",Nome:"WIDYNEI HENRIQUE DOS SANTOS CORREA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-12-15",PAED:"No",TransporteEscolar:"No"},{Sequencia:"29",CodigoAluno:"2721826",Nome:"JOSE MARCIO LEMOS CABRAL",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-30",DataNascimento:"2014-08-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"30",CodigoAluno:"2725279",Nome:"ALEXANDRE MOURA DOS SANTOS",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-02-05",DataNascimento:"2014-11-12",PAED:"No",TransporteEscolar:"No"},{Sequencia:"1",CodigoAluno:"2580648",Nome:"KAUAN EDUARDO BITENCOURT",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-11-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"2",CodigoAluno:"2600523",Nome:"PEDRO HENRIQUE TREVIZAN DA SILVA",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-09-07",PAED:"No",TransporteEscolar:"No"},{Sequencia:"3",CodigoAluno:"2213860",Nome:"SAMELA VITORIA RAMOS Andrade",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-06-21",PAED:"No",TransporteEscolar:"No"},{Sequencia:"4",CodigoAluno:"2596401",Nome:"SARAH DOS SANTOS LIMA",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-08-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"5",CodigoAluno:"2600770",Nome:"SARAH PEREIRA DE ALMEIDA",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-11-15",PAED:"No",TransporteEscolar:"No"},{Sequencia:"6",CodigoAluno:"2600785",Nome:"SOPHIA PEREIRA DE ALMEIDA",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-11-15",PAED:"No",TransporteEscolar:"No"},{Sequencia:"7",CodigoAluno:"2604263",Nome:"TAYNARA FIGUEIREDO VASCON",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-01-30",PAED:"No",TransporteEscolar:"No"},{Sequencia:"8",CodigoAluno:"2198238",Nome:"VICTTOR HUGGO MONTEIRO DE SOUZA",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-07-01",PAED:"No",TransporteEscolar:"No"},{Sequencia:"9",CodigoAluno:"2651735",Nome:"DAVI LUCA BARBOSA MOREIRA",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-05-09",PAED:"No",TransporteEscolar:"No"},{Sequencia:"10",CodigoAluno:"2595180",Nome:"DHAFFINE LAVINYA GOMES FERREIRA",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-03-13",PAED:"No",TransporteEscolar:"No"},{Sequencia:"11",CodigoAluno:"2649923",Nome:"EMANUELLY MORAES GOMES",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-03-19",PAED:"No",TransporteEscolar:"No"},{Sequencia:"12",CodigoAluno:"2231709",Nome:"EMANUELLY VITRIA DIAS PRATES",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-04-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"13",CodigoAluno:"2223181",Nome:"EMILLY VITORIA FOCAS DE AMORIM",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-06-01",PAED:"No",TransporteEscolar:"No"},{Sequencia:"14",CodigoAluno:"2208540",Nome:"ENDREW ALVES DE SOUZA",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-05-29",PAED:"No",TransporteEscolar:"No"},{Sequencia:"15",CodigoAluno:"2588048",Nome:"ENZO DA COSTA LIMA",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-10-11",PAED:"No",TransporteEscolar:"No"},{Sequencia:"16",CodigoAluno:"2596515",Nome:"ENZO JOS DE SOUZA NICOLETI",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-11-21",PAED:"No",TransporteEscolar:"No"},{Sequencia:"17",CodigoAluno:"2626709",Nome:"ERYKSOM KAUAM PEREIRA DA SILVA",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-12-13",PAED:"No",TransporteEscolar:"No"},{Sequencia:"18",CodigoAluno:"2651633",Nome:"FABRICIO LEANDRO FLOR VERDADEIRO",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-09-26",PAED:"No",TransporteEscolar:"No"},{Sequencia:"19",CodigoAluno:"2599606",Nome:"FELIPE BONETTI MILHEIRO",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-07-12",PAED:"No",TransporteEscolar:"No"},{Sequencia:"20",CodigoAluno:"2596783",Nome:"GABRIEL HENRIKE DUARTE",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-11-07",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"21",CodigoAluno:"2595083",Nome:"GEOVANA KETTELLEEN NASCIMENTO DA COSTA",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-02-24",PAED:"No",TransporteEscolar:"No"},{Sequencia:"22",CodigoAluno:"2587899",Nome:"GUSTAVO AMORIM DOS SANTOS",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-06-11",PAED:"No",TransporteEscolar:"No"},{Sequencia:"23",CodigoAluno:"2651630",Nome:"GUSTAVO SILVA FLOR",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-12-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"24",CodigoAluno:"2231294",Nome:"HELOISE PEDROTTI RAMOS",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-09-20",PAED:"No",TransporteEscolar:"No"},{Sequencia:"25",CodigoAluno:"2405507",Nome:"ISABELA SOARES DO BEM",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-08-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"26",CodigoAluno:"2208914",Nome:"JOO GABRIEL DA SILVA",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-08-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"27",CodigoAluno:"2596601",Nome:"JOO LUCAS DO NASCIMENTO LIMA",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-02-03",PAED:"No",TransporteEscolar:"No"},{Sequencia:"28",CodigoAluno:"2246470",Nome:"JLLIA RAFAELA GOMES DA CRUZ",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-04-13",PAED:"No",TransporteEscolar:"No"},{Sequencia:"29",CodigoAluno:"2596196",Nome:"NAYANI FERNANDES DA SILVA",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-05-02",PAED:"No",TransporteEscolar:"No"},{Sequencia:"30",CodigoAluno:"2599033",Nome:"LORRAYNE SOUZA JACINTO",Turma:"7 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-05-20",PAED:"No",TransporteEscolar:"No"},{Sequencia:"1",CodigoAluno:"2208354",Nome:"AMANDA ESTEFANY SIQUEIRA DA SILVA",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-09-13",PAED:"No",TransporteEscolar:"No"},{Sequencia:"2",CodigoAluno:"2623156",Nome:"ANA BEATRIZ PEREIRA MENDES DOS SANTOS",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-11-19",PAED:"No",TransporteEscolar:"No"},{Sequencia:"3",CodigoAluno:"2603223",Nome:"ANNA LAURA SILVA RIBEIRO",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-06-21",PAED:"No",TransporteEscolar:"No"},{Sequencia:"4",CodigoAluno:"2594697",Nome:"BRENDO HENRIQUE DE OLIVEIRA NOVAIS",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-12-24",PAED:"No",TransporteEscolar:"No"},{Sequencia:"5",CodigoAluno:"2149607",Nome:"CLEICIANE SOARES RODRIGUES",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-06-04",PAED:"No",TransporteEscolar:"No"},{Sequencia:"6",CodigoAluno:"2600921",Nome:"FELIP APARECIDO BELARMINO",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-01-31",PAED:"No",TransporteEscolar:"No"},{Sequencia:"7",CodigoAluno:"2600464",Nome:"HEVILLY GARCIA JARDIM",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-05-31",PAED:"No",TransporteEscolar:"No"},{Sequencia:"8",CodigoAluno:"2594780",Nome:"ISABELLY PEREIRA DE SOUZA",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-04-12",PAED:"No",TransporteEscolar:"No"},{Sequencia:"9",CodigoAluno:"2214165",Nome:"JOO PEDRO SABIA RAMOS",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-06-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"10",CodigoAluno:"2594979",Nome:"JOO VITOR RAMOS DALBERTO",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-01-25",PAED:"No",TransporteEscolar:"No"},{Sequencia:"11",CodigoAluno:"2645141",Nome:"JOHONNY SOUZA ALMEIDA",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-11-21",PAED:"No",TransporteEscolar:"No"},{Sequencia:"12",CodigoAluno:"2405266",Nome:"KAIQUE JOS CANDIDO DA SILVA",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-07-02",PAED:"No",TransporteEscolar:"No"},{Sequencia:"13",CodigoAluno:"2338472",Nome:"KAYLA RAFAELA LAGE HORNICH",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-04-21",PAED:"No",TransporteEscolar:"No"},{Sequencia:"14",CodigoAluno:"2417540",Nome:"KETHELYN SOFIA DE SOUSA DOS SANTOS",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-11-23",PAED:"No",TransporteEscolar:"No"},{Sequencia:"15",CodigoAluno:"2240478",Nome:"KOKON TXUKARRAME",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-03-04",PAED:"No",TransporteEscolar:"No"},{Sequencia:"16",CodigoAluno:"2581600",Nome:"LUZ FELIPE BRAIDA",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-04-15",PAED:"No",TransporteEscolar:"No"},{Sequencia:"17",CodigoAluno:"2246251",Nome:"LUKAS GONALVES DOMINGOS",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-02-15",PAED:"No",TransporteEscolar:"No"},{Sequencia:"18",CodigoAluno:"2348896",Nome:"MARIA LARA DAL PUPO DE CARVALHO",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-01-30",PAED:"No",TransporteEscolar:"No"},{Sequencia:"19",CodigoAluno:"2597454",Nome:"MARIA VITRIA DA SILVA SOUZA",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-03-23",PAED:"No",TransporteEscolar:"No"},{Sequencia:"20",CodigoAluno:"2207895",Nome:"MIGUEL SEICENTOS DE LIMA",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-06-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"21",CodigoAluno:"2600960",Nome:"MIKAELLY SANTOS AZEVEDO",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-07-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"22",CodigoAluno:"2207901",Nome:"MURILO SEICENTOS DE LIMA",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-06-02",PAED:"No",TransporteEscolar:"No"},{Sequencia:"23",CodigoAluno:"2603175",Nome:"MYCILLENE APARECIDA DOS SANTOS",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-08-04",PAED:"No",TransporteEscolar:"No"},{Sequencia:"24",CodigoAluno:"2581604",Nome:"PEDRO HENRIQUE REBOUAS SALGO",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-04-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"25",CodigoAluno:"2243589",Nome:"TAKAKAJYRY METUKTIRE",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-11-21",PAED:"No",TransporteEscolar:"No"},{Sequencia:"26",CodigoAluno:"2648005",Nome:"THIAGO GOMES FERREIRA",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-04-02",PAED:"No",TransporteEscolar:"No"},{Sequencia:"27",CodigoAluno:"2210229",Nome:"VITOR DANIEL ARQUINO BATISTA",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-12-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"28",CodigoAluno:"2596648",Nome:"YASMIN VITRIA DE AZEVEDO",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-08-28",PAED:"No",TransporteEscolar:"No"},{Sequencia:"29",CodigoAluno:"2652310",Nome:"YASMIN VITORIA DO NASCIMENTO FIGUEIREDO",Turma:"7 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-02-28",PAED:"No",TransporteEscolar:"No"},{Sequencia:"1",CodigoAluno:"2580815",Nome:"ANA HELOISA DO NASCIMENTO",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-04-04",PAED:"No",TransporteEscolar:"No"},{Sequencia:"2",CodigoAluno:"2137069",Nome:"ANA VITORIA DOS SANTOS MATEUS",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-04-03",PAED:"No",TransporteEscolar:"No"},{Sequencia:"3",CodigoAluno:"2601272",Nome:"ANDRIELY CAMARA DE SOUZA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-06-20",PAED:"No",TransporteEscolar:"No"},{Sequencia:"4",CodigoAluno:"2176526",Nome:"BEKWYPRYTO METUKTIRE TXUCARRAME",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-06-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"5",CodigoAluno:"2486770",Nome:"BRENDA VITORIA DOS SANTOS BESERRA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-04-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"6",CodigoAluno:"2308856",Nome:"BRUNO VICTOR PEREIRA DA SILVA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-08-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"7",CodigoAluno:"2191657",Nome:"CARLOS EDUARDO ALVES CIRILO",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-03-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"8",CodigoAluno:"2589370",Nome:"DAVI LUCAS ARANHA DA SILVA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-07-10",PAED:"No",TransporteEscolar:"No"},{Sequencia:"9",CodigoAluno:"2208534",Nome:"EDUARDA CARVALHO COSTA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-11-20",PAED:"No",TransporteEscolar:"No"},{Sequencia:"10",CodigoAluno:"2614263",Nome:"ERICK HONORATO FAGUNDES DE OLIVEIRA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-05-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"11",CodigoAluno:"2601462",Nome:"ESTER MARTINS DA SILVA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-02-25",PAED:"No",TransporteEscolar:"No"},{Sequencia:"12",CodigoAluno:"1974328",Nome:"IREKARE METUKTIRE",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2010-04-16",PAED:"No",TransporteEscolar:"No"},{Sequencia:"13",CodigoAluno:"2601591",Nome:"ISAAC BALDUINO DA COSTA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-12-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"14",CodigoAluno:"2580615",Nome:"ISABELLY GONALVES ALVES",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-05-01",PAED:"No",TransporteEscolar:"No"},{Sequencia:"15",CodigoAluno:"2599665",Nome:"ISADORA SANTOS CAVALCANTE",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-08-19",PAED:"No",TransporteEscolar:"No"},{Sequencia:"16",CodigoAluno:"2597818",Nome:"IZADORA FERREIRA DOS SANTOS",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-06-06",PAED:"No",TransporteEscolar:"No"},{Sequencia:"17",CodigoAluno:"2208341",Nome:"JORGE HENRIQUE DOS SANTOS DA COSTA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-10-19",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"18",CodigoAluno:"2595500",Nome:"JULLYANA ALONSO ARAUJO",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-01-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"19",CodigoAluno:"2244544",Nome:"KARINE VICTORIA OLIVEIRA CNDIDO",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-07-12",PAED:"No",TransporteEscolar:"No"},{Sequencia:"20",CodigoAluno:"2597303",Nome:"KAYKY RAFAEL DORINI DO PRADO",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-12-01",PAED:"No",TransporteEscolar:"No"},{Sequencia:"21",CodigoAluno:"2246485",Nome:"KEMILY KAUANY OLIVEIRA DOS SANTOS",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-07-16",PAED:"No",TransporteEscolar:"No"},{Sequencia:"22",CodigoAluno:"2208561",Nome:"KENYA KATTIELLY DA SILVA SANTOS",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-01-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"23",CodigoAluno:"2239392",Nome:"KOKOYAPOJTI METUKTIRE",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-09-02",PAED:"No",TransporteEscolar:"No"},{Sequencia:"24",CodigoAluno:"2137209",Nome:"KRYSTHOFFER GABRIEL MARTINS BORGES",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-01-15",PAED:"No",TransporteEscolar:"No"},{Sequencia:"25",CodigoAluno:"2599285",Nome:"LUIZ FRANCISCO ROBERT ABREU",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-10-17",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"26",CodigoAluno:"2142305",Nome:"PEDRO GABRIEL SANTOS DA SILVA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-11-10",PAED:"No",TransporteEscolar:"No"},{Sequencia:"27",CodigoAluno:"2207882",Nome:"TALITA SANTIAGO DE OLIVEIRA BENTO",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-03-16",PAED:"No",TransporteEscolar:"No"},{Sequencia:"28",CodigoAluno:"2581467",Nome:"YURI RAFAEL DOS SANTOS OLIVEIRA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-06-06",PAED:"No",TransporteEscolar:"No"},{Sequencia:"29",CodigoAluno:"2048360",Nome:"CLAUDEMIR ADRIAM CALIXTO BIFI",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-29",DataNascimento:"2011-05-10",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"30",CodigoAluno:"2722366",Nome:"MARIA ELOIZA CAETANO NASCIMENTO",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-30",DataNascimento:"2014-03-12",PAED:"No",TransporteEscolar:"No"},{Sequencia:"1",CodigoAluno:"2635276",Nome:"ANA JULIA FERREIRA DA SILVA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-02-10",PAED:"No",TransporteEscolar:"No"},{Sequencia:"2",CodigoAluno:"2244517",Nome:"ANY KAROLYNY GONALVES ROCHA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-11-11",PAED:"No",TransporteEscolar:"No"},{Sequencia:"3",CodigoAluno:"2208348",Nome:"BEATRIZ RIBEIRO DE SOUZA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-03-31",PAED:"No",TransporteEscolar:"No"},{Sequencia:"4",CodigoAluno:"2156344",Nome:"GUSTAVO HENRIQUE CRUZ DA SILVA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-07-04",PAED:"No",TransporteEscolar:"No"},{Sequencia:"5",CodigoAluno:"2420336",Nome:"IREBIERE METUKTIRE",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-08-19",PAED:"No",TransporteEscolar:"No"},{Sequencia:"6",CodigoAluno:"2208334",Nome:"ISADORA ZANOVELLO DA SILVA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-08-17",PAED:"No",TransporteEscolar:"No"},{Sequencia:"7",CodigoAluno:"2213985",Nome:"KETHELLY YASMIN ALVES BISPO",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-12-03",PAED:"No",TransporteEscolar:"No"},{Sequencia:"8",CodigoAluno:"2228554",Nome:"KOKOYAMROTI METUKTIRE TAPAYUNA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-06-25",PAED:"No",TransporteEscolar:"No"},{Sequencia:"9",CodigoAluno:"2604723",Nome:"LAURA IASMIN CAMPOS SILVA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2014-03-20",PAED:"No",TransporteEscolar:"No"},{Sequencia:"10",CodigoAluno:"2623793",Nome:"LAYLA LORELLAY DE OLIVEIRA SILVA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-12-18",PAED:"No",TransporteEscolar:"No"},{Sequencia:"11",CodigoAluno:"2601238",Nome:"LUIZ OTVIO NIEDERMEYER",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-08-21",PAED:"No",TransporteEscolar:"No"},{Sequencia:"12",CodigoAluno:"2246483",Nome:"MARIA EDUARDA GONSALVES RIBEIRO",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-06-12",PAED:"No",TransporteEscolar:"No"},{Sequencia:"13",CodigoAluno:"2413159",Nome:"MAYK NATANAEL MAY DA SILVA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-12-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"14",CodigoAluno:"2601671",Nome:"NHAKNHYRY TXUCARRAME",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-12-09",PAED:"No",TransporteEscolar:"No"},{Sequencia:"15",CodigoAluno:"2352757",Nome:"PEDRO LUCCA GOMES DA SILVA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-11-10",PAED:"No",TransporteEscolar:"No"},{Sequencia:"16",CodigoAluno:"2601426",Nome:"RAISSA MARTINS SANTOS",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-11-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"17",CodigoAluno:"2370587",Nome:"SAMELLA FLORES FERMINO",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-07-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"18",CodigoAluno:"2418734",Nome:"SARA MAYARA DE OLIVEIRA MEDEIROS",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-10-13",PAED:"No",TransporteEscolar:"No"},{Sequencia:"19",CodigoAluno:"2603427",Nome:"TEPYIN YANARI METUKTIRE",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-05-03",PAED:"No",TransporteEscolar:"No"},{Sequencia:"20",CodigoAluno:"2604711",Nome:"THAWANY FERNANDA DE JESUS CORDEIRO",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-10-17",PAED:"No",TransporteEscolar:"No"},{Sequencia:"21",CodigoAluno:"2623157",Nome:"TIAGO DOMINGUES DOS SANTOS",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-09-16",PAED:"No",TransporteEscolar:"No"},{Sequencia:"22",CodigoAluno:"2208483",Nome:"VITOR GABRIEL LIMA SILVA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-05-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"23",CodigoAluno:"2258234",Nome:"VITRIA BORGES CARDOSO",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-04-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"24",CodigoAluno:"2207809",Nome:"WELLITON DA SILVA LOZANO",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-07-19",PAED:"No",TransporteEscolar:"No"},{Sequencia:"25",CodigoAluno:"2598998",Nome:"ANGELO FERREIRA CORBALAN",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-07-04",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"26",CodigoAluno:"2537653",Nome:"TAKAK JAMRO METUKTIRE",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-05-12",PAED:"No",TransporteEscolar:"No"},{Sequencia:"27",CodigoAluno:"2613255",Nome:"LEIDIANE VILLA RIEDEL",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-07-23",PAED:"No",TransporteEscolar:"No"},{Sequencia:"28",CodigoAluno:"2203137",Nome:"PEDRO RAFAEL AMNCIO DE LIMA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-01-03",PAED:"No",TransporteEscolar:"No"},{Sequencia:"29",CodigoAluno:"2722312",Nome:"JOO PEDRO SOUZA CAETANO PEREIRA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-30",DataNascimento:"2012-01-30",PAED:"No",TransporteEscolar:"No"},{Sequencia:"30",CodigoAluno:"2631278",Nome:"MATHEUS RAMOS SOARES",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-02-02",DataNascimento:"2014-03-06",PAED:"No",TransporteEscolar:"No"},{Sequencia:"1",CodigoAluno:"2538543",Nome:"ALEXANDRE JUNIOR SANTOS AQUINO",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-04-15",PAED:"No",TransporteEscolar:"No"},{Sequencia:"2",CodigoAluno:"2137410",Nome:"AMANDA CARVALHO LUIZ",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-08-23",PAED:"No",TransporteEscolar:"No"},{Sequencia:"3",CodigoAluno:"2522551",Nome:"ANDR MENDES DE OLIVEIRA",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-11-23",PAED:"No",TransporteEscolar:"No"},{Sequencia:"4",CodigoAluno:"2517846",Nome:"ANTHONY MIGUEL ALVES DE MELO DUTRA",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-10-04",PAED:"No",TransporteEscolar:"No"},{Sequencia:"5",CodigoAluno:"2136684",Nome:"DANIELE GOMES DE BRITO MARQUES",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-12-26",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"6",CodigoAluno:"2168493",Nome:"DIEGO DIONISIO TONIATO",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-05-28",PAED:"No",TransporteEscolar:"No"},{Sequencia:"7",CodigoAluno:"2645898",Nome:"DIOCIBET ASHLEY MACKENZIN PEREZ GUZMAN",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-05-25",PAED:"No",TransporteEscolar:"No"},{Sequencia:"8",CodigoAluno:"2288971",Nome:"FABIANA ALANA FROIS SANITA",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-06-17",PAED:"No",TransporteEscolar:"No"},{Sequencia:"9",CodigoAluno:"2536878",Nome:"GABRIELLY RODRIGUES PAZIM",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-10-15",PAED:"No",TransporteEscolar:"No"},{Sequencia:"10",CodigoAluno:"2137918",Nome:"GABRYELLE DE OLIVEIRA ALVES",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-06-30",PAED:"No",TransporteEscolar:"No"},{Sequencia:"11",CodigoAluno:"2250607",Nome:"GUSTAVO GONSALVES FERREIRA",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-12-10",PAED:"No",TransporteEscolar:"No"},{Sequencia:"12",CodigoAluno:"2517841",Nome:"HALLANA GABRIELLY DOS SANTRO CASTRO",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-08-09",PAED:"No",TransporteEscolar:"No"},{Sequencia:"13",CodigoAluno:"2136598",Nome:"HELOIZA MANTOVANI DE OLIVEIRA",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-02-04",PAED:"No",TransporteEscolar:"No"},{Sequencia:"14",CodigoAluno:"2522390",Nome:"JOO PAULO FIDELIS SOUZA",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-05-30",PAED:"No",TransporteEscolar:"No"},{Sequencia:"15",CodigoAluno:"2517807",Nome:"JOO VICTOR DA SILVA ALVES",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-11-29",PAED:"No",TransporteEscolar:"No"},{Sequencia:"16",CodigoAluno:"2406028",Nome:"LAUANE AMORIM WESTPHAL",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-11-16",PAED:"No",TransporteEscolar:"No"},{Sequencia:"17",CodigoAluno:"491301",Nome:"LETICIA MARCIELLY AZEVEDO PEREIRA",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-08-15",PAED:"No",TransporteEscolar:"No"},{Sequencia:"18",CodigoAluno:"2151057",Nome:"LUIS HENRIQUE LANGRAF DA SILVA",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-02-04",PAED:"No",TransporteEscolar:"No"},{Sequencia:"19",CodigoAluno:"2464953",Nome:"RAFFAELLA VITORYA GARGIA DOS SANTOS",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-12-02",PAED:"No",TransporteEscolar:"No"},{Sequencia:"20",CodigoAluno:"2136789",Nome:"RAY CARLOS FERREIRA DOS SANTOS",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-01-09",PAED:"No",TransporteEscolar:"No"},{Sequencia:"21",CodigoAluno:"2137101",Nome:"VITOR GABRIEL DIAS PEREIRA",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-06-24",PAED:"No",TransporteEscolar:"No"},{Sequencia:"22",CodigoAluno:"2523030",Nome:"YAGO RICARDO DA SILVA MERGULHO",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-08-16",PAED:"No",TransporteEscolar:"No"},{Sequencia:"23",CodigoAluno:"2517936",Nome:"YANI FAUSTINO MENDES",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-10-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"24",CodigoAluno:"2069781",Nome:"KAUAN RAFAEL NUNES DA SILVA",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-07-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"25",CodigoAluno:"2050585",Nome:"DOUGLAS GOMES DE BRITO",Turma:"8 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-06-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"1",CodigoAluno:"2235168",Nome:"ALEX EMANUEL PAIXO SILVA",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-10-31",PAED:"No",TransporteEscolar:"No"},{Sequencia:"2",CodigoAluno:"2270899",Nome:"ANA CLARA FIEL BRITO",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-02-02",PAED:"No",TransporteEscolar:"No"},{Sequencia:"3",CodigoAluno:"2519067",Nome:"ARTHUR MANOEL GONGALVES BRANCO",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-02-02",DataNascimento:"2012-08-10",PAED:"No",TransporteEscolar:"No"},{Sequencia:"4",CodigoAluno:"2166814",Nome:"DERICK ENRIQUE GUIMARES AUGUSTO",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-01-17",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"5",CodigoAluno:"2197774",Nome:"EMANOEL DUARTE VIANA",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-05-30",PAED:"No",TransporteEscolar:"No"},{Sequencia:"6",CodigoAluno:"2659835",Nome:"FABTIELLI VITRIA GONGALVES COTTEVIQUES",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2010-09-11",PAED:"No",TransporteEscolar:"No"},{Sequencia:"7",CodigoAluno:"1977590",Nome:"FELIPE PEREIRA VIEIRA",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-04-02",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"8",CodigoAluno:"2364199",Nome:"FERNANDA LOPES PEREIRA",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-12-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"9",CodigoAluno:"2136816",Nome:"IZABELI SOARES CARON",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-04-10",PAED:"No",TransporteEscolar:"No"},{Sequencia:"10",CodigoAluno:"2151648",Nome:"KAMILI DA SILVA SOUZA",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-12-29",PAED:"No",TransporteEscolar:"No"},{Sequencia:"11",CodigoAluno:"2136664",Nome:"KARLLOS MIGUEL PONCIO GOMES",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-02-25",PAED:"No",TransporteEscolar:"No"},{Sequencia:"12",CodigoAluno:"2538192",Nome:"KETTLYN VITRIA TEIXEIRA RODRIGUES",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-05-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"13",CodigoAluno:"2526597",Nome:"LAURA BEATRYZ JUNQUEIRA PASCOAL",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-01-25",PAED:"No",TransporteEscolar:"No"},{Sequencia:"14",CodigoAluno:"2137183",Nome:"LETYCIA MARIA PAGOS DA SILVA",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-01-20",PAED:"No",TransporteEscolar:"No"},{Sequencia:"15",CodigoAluno:"2651767",Nome:"LUAN BARBOSA MOREIRA",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-02-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"16",CodigoAluno:"2137589",Nome:"LUCAS ALEXSSANDRO PEREIRA DE ASSIS",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-09-11",PAED:"No",TransporteEscolar:"No"},{Sequencia:"17",CodigoAluno:"2137425",Nome:"LUIZ ANTONIO PINTO DE FREITAS",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-04-03",PAED:"No",TransporteEscolar:"No"},{Sequencia:"18",CodigoAluno:"2623273",Nome:"LUIZA EMANUELY MARQUES ALMEIDA",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-01-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"19",CodigoAluno:"2632831",Nome:"MAIKEL COUTLEM DO NASCIMENTO MENDES",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-02-19",PAED:"No",TransporteEscolar:"No"},{Sequencia:"20",CodigoAluno:"2545654",Nome:"MARIANA LEAL",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-04-10",PAED:"No",TransporteEscolar:"No"},{Sequencia:"21",CodigoAluno:"2137484",Nome:"MATEUS CAMARGO RODRIGUES",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-11-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"22",CodigoAluno:"2137142",Nome:"NATHALIA NASCIMENTO MARANHO",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-12-13",PAED:"No",TransporteEscolar:"No"},{Sequencia:"23",CodigoAluno:"2031995",Nome:"PABLO DA SILVA OLIVEIRA",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-04-18",PAED:"No",TransporteEscolar:"No"},{Sequencia:"24",CodigoAluno:"2163564",Nome:"PATRICK RYAN FERREIRA DOS SANTOS",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-08-11",PAED:"No",TransporteEscolar:"No"},{Sequencia:"25",CodigoAluno:"2522483",Nome:"PAULO VITHOR DE SOUZA LIMA",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-07-11",PAED:"No",TransporteEscolar:"No"},{Sequencia:"26",CodigoAluno:"2534878",Nome:"PEDRO MYGUELL SILVA BRITO",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-09-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"27",CodigoAluno:"2136648",Nome:"THALLYS NEVES DE OLIVEIRA",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-03-21",PAED:"No",TransporteEscolar:"No"},{Sequencia:"28",CodigoAluno:"2523836",Nome:"VINICIUS COSER DE JESUS",Turma:"8 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-05-01",PAED:"No",TransporteEscolar:"No"},{Sequencia:"1",CodigoAluno:"2515838",Nome:"ALLANA MONIKY ARAUJO DE ALMEIDA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-08-01",PAED:"No",TransporteEscolar:"No"},{Sequencia:"2",CodigoAluno:"2517940",Nome:"ANA CLARA MATEUS VIEIRA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-02-02",DataNascimento:"2012-09-09",PAED:"No",TransporteEscolar:"No"},{Sequencia:"3",CodigoAluno:"2517885",Nome:"ANA ISABELY DE SOUSA SANTOS",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-11-16",PAED:"No",TransporteEscolar:"No"},{Sequencia:"4",CodigoAluno:"2139704",Nome:"ANNA BEATRIZ ALVES DA SILVA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-03-27",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"5",CodigoAluno:"2048417",Nome:"CARLOS HENRRIQUE LUNA DE SOUZA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-01-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"6",CodigoAluno:"2422873",Nome:"DANILO GALVO FERREIRA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-12-12",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"7",CodigoAluno:"2137232",Nome:"ELOYZA VITRIA SILVA NUNES",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-11-25",PAED:"No",TransporteEscolar:"No"},{Sequencia:"8",CodigoAluno:"2517888",Nome:"EMANUELY DOS SANTOS DA SILVA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-03-17",PAED:"No",TransporteEscolar:"No"},{Sequencia:"9",CodigoAluno:"2517931",Nome:"EMANUELY ODY FRANA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-10-17",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"10",CodigoAluno:"2517919",Nome:"ENZO GABRIEL CONCEIGO DA SILVA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-11-16",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"11",CodigoAluno:"2552429",Nome:"ESTER VITORIA FELIZARDO DE SOUZA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-06-05",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"12",CodigoAluno:"2153149",Nome:"GABRIEL DE ALMEIDA GOMES DE OLIVEIRA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-11-19",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"13",CodigoAluno:"2426271",Nome:"GABRIEL KALLEBY SOUZA DA COSTA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-05-10",PAED:"No",TransporteEscolar:"No"},{Sequencia:"14",CodigoAluno:"2522608",Nome:"GUSTAVO HENRIQUE GANGUGU DOS SANTOS",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-06-14",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"15",CodigoAluno:"2439134",Nome:"HENRIK GABRIEL PEREIRA DAPPER",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-11-13",PAED:"No",TransporteEscolar:"No"},{Sequencia:"16",CodigoAluno:"2137172",Nome:"JOO PHEDRO SALVALAGIO",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-10-26",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"17",CodigoAluno:"2167924",Nome:"JOS RICARDO SOBRINHO LEMOS",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-12-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"18",CodigoAluno:"2168508",Nome:"KELLY SAMARA LEME DE OLIVEIRA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-12-08",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"19",CodigoAluno:"2137743",Nome:"KEMILLY BEATRYZ CARDOSO DA COSTA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-07-31",PAED:"No",TransporteEscolar:"No"},{Sequencia:"20",CodigoAluno:"2330432",Nome:"KEMILLY VITORIA DORINI JACINTO",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-02-02",PAED:"No",TransporteEscolar:"No"},{Sequencia:"21",CodigoAluno:"2560541",Nome:"KK-E METUKTIRE",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-08-30",PAED:"No",TransporteEscolar:"No"},{Sequencia:"22",CodigoAluno:"2131934",Nome:"LUCAS ISMAEL CHAVES MENDONGA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-09-07",PAED:"No",TransporteEscolar:"No"},{Sequencia:"23",CodigoAluno:"2137196",Nome:"LUIZ FELIPE GONSALVES DE LIMA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-01-29",PAED:"No",TransporteEscolar:"No"},{Sequencia:"24",CodigoAluno:"2532702",Nome:"LUIZ FERNANDO ALVES DE GODOI",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-09-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"25",CodigoAluno:"2524647",Nome:"MARIANY DOS SANTOS SANTANA",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-12-01",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"26",CodigoAluno:"2157475",Nome:"NATALIA RIBEIRO DOS SANTOS",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-12-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"27",CodigoAluno:"2166695",Nome:"NGOTIRE METUKTIRE",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-05-31",PAED:"No",TransporteEscolar:"No"},{Sequencia:"28",CodigoAluno:"2160248",Nome:"RAFAELLI DE SOUZA CAVALCANTE",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-02-02",DataNascimento:"2013-03-25",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"29",CodigoAluno:"2290273",Nome:"TOTXAN METUKTIRE",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-08-29",PAED:"No",TransporteEscolar:"No"},{Sequencia:"30",CodigoAluno:"2422343",Nome:"YSTEFANE BEATRIZ RODRIGUES CLEMENTINO",Turma:"6 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-09-02",PAED:"No",TransporteEscolar:"No"},{Sequencia:"1",CodigoAluno:"2139797",Nome:"ANA BEATRIZ SOARES DE OLIVEIRA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-01-04",PAED:"No",TransporteEscolar:"No"},{Sequencia:"2",CodigoAluno:"2542199",Nome:"ANA CLARA MATEUS VIEIRA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-01-26",PAED:"No",TransporteEscolar:"No"},{Sequencia:"3",CodigoAluno:"2090754",Nome:"BEPOI METUKTIRE",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-01-26",PAED:"No",TransporteEscolar:"No"},{Sequencia:"4",CodigoAluno:"2137816",Nome:"CAIO DA SILVA BEZERRA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-08-07",PAED:"No",TransporteEscolar:"No"},{Sequencia:"5",CodigoAluno:"2523989",Nome:"DAVI MATTOS DE QUEIROZ",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-08-23",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"6",CodigoAluno:"2268719",Nome:"EDUARDO GABRIEL DE FREITAS GUIMARES",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-04-16",PAED:"No",TransporteEscolar:"No"},{Sequencia:"7",CodigoAluno:"2522509",Nome:"FERNANDA EDUARDA SANT ANA DOS SANTOS",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-12-20",PAED:"No",TransporteEscolar:"No"},{Sequencia:"8",CodigoAluno:"2137088",Nome:"GABRIEL ARAUJO PETERLINI",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-09-03",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"9",CodigoAluno:"2550684",Nome:"HYGOR KAUAN RODRIGUES DOS SANTOS DA COSTA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-09-10",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"10",CodigoAluno:"2047417",Nome:"KEDYMA CRISTINA DOS SANTOS CORRA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-11-17",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"11",CodigoAluno:"2147945",Nome:"KELVIN NAUAN NOVACK ALVES",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-05-26",PAED:"No",TransporteEscolar:"No"},{Sequencia:"12",CodigoAluno:"2421261",Nome:"LAURA IZABELLY FERMINO DA SILVA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-09-25",PAED:"No",TransporteEscolar:"No"},{Sequencia:"13",CodigoAluno:"2048521",Nome:"LUIZ GUSTAVO GONGALO DE LIMA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-02-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"14",CodigoAluno:"2193620",Nome:"MAKWYTI TAPAYUNA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-09-12",PAED:"No",TransporteEscolar:"No"},{Sequencia:"15",CodigoAluno:"2555038",Nome:"MANOEL MESSIAS ARAUJO DA SILVA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-06-13",PAED:"No",TransporteEscolar:"No"},{Sequencia:"16",CodigoAluno:"2512787",Nome:"MARIA HELOIZA DE ALMEIDA SALVATO",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-06-14",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"17",CodigoAluno:"2528956",Nome:"MURILO GABRIEL SANTOS DO NASCIMENTO",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-12-29",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"18",CodigoAluno:"2555059",Nome:"PEDRO HENRIQUE ARAUJO DA SILVA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-03-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"19",CodigoAluno:"2565522",Nome:"REINALTY GABRIEL DOS SANTOS NEVES",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-01-29",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"20",CodigoAluno:"2137132",Nome:"WESLEY DE SOUZA AMORIM",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-09-11",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"21",CodigoAluno:"2133636",Nome:"YSABELLY KAUANE BRITO DE SOUSA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-03-18",PAED:"No",TransporteEscolar:"No"},{Sequencia:"22",CodigoAluno:"2084492",Nome:"BEPKRAKARATI METUKTIRE",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-07-25",PAED:"No",TransporteEscolar:"No"},{Sequencia:"23",CodigoAluno:"2169180",Nome:"GLEIDIANE LIMA DA GONGELGO",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-08-01",PAED:"No",TransporteEscolar:"No"},{Sequencia:"24",CodigoAluno:"2167703",Nome:"WELLITOM GARGIA DOS SANTOS",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-02-03",PAED:"No",TransporteEscolar:"No"},{Sequencia:"25",CodigoAluno:"2514154",Nome:"KAUAN VINICIUS SOUZA SILVA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-08-02",PAED:"No",TransporteEscolar:"No"},{Sequencia:"26",CodigoAluno:"2551541",Nome:"RUBYN FERNNANDA VIEIRA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-11-21",PAED:"No",TransporteEscolar:"No"},{Sequencia:"27",CodigoAluno:"2574458",Nome:"JHOYCE KATRYNE BORGES DE FRANGA",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-07-31",PAED:"No",TransporteEscolar:"No"},{Sequencia:"28",CodigoAluno:"2071452",Nome:"SARAH MARTINI SANTOS",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2013-01-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"29",CodigoAluno:"2537496",Nome:"JULIA VITORIA FURLAN LAZARIN",Turma:"6 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-02-05",DataNascimento:"2011-11-24",PAED:"No",TransporteEscolar:"No"},{Sequencia:"1",CodigoAluno:"2057387",Nome:"AMBILE CAETANO DOS SANTOS",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-04-19",PAED:"No",TransporteEscolar:"No"},{Sequencia:"2",CodigoAluno:"2165610",Nome:"ANA JULIA RODRIGUES PEZZUTI",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-11-18",PAED:"No",TransporteEscolar:"No"},{Sequencia:"3",CodigoAluno:"2076441",Nome:"ANA PAULA PAGOS DE OLIVEIRA",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-02-23",PAED:"No",TransporteEscolar:"No"},{Sequencia:"4",CodigoAluno:"2085457",Nome:"ANA VITORIA ALMOND DUARTE",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-09-24",PAED:"No",TransporteEscolar:"No"},{Sequencia:"5",CodigoAluno:"2095644",Nome:"ANDRIELLY CAROLINE DA SILVA PARINTINS",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-10-18",PAED:"No",TransporteEscolar:"No"},{Sequencia:"6",CodigoAluno:"2050208",Nome:"ANNY HELENA OLIVEIRA DOS SANTOS",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-02-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"7",CodigoAluno:"2048482",Nome:"DBORA RAMOS DE OLIVEIRA",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-05-13",PAED:"No",TransporteEscolar:"No"},{Sequencia:"8",CodigoAluno:"2050308",Nome:"DEIVID VIANA LEITE",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-09-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"9",CodigoAluno:"2084982",Nome:"EDUARDO DA SILVA SALES",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-04-07",PAED:"No",TransporteEscolar:"No"},{Sequencia:"10",CodigoAluno:"2074580",Nome:"GUSTAVO ANGELO REBOUGS PASIN",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-12-09",PAED:"No",TransporteEscolar:"No"},{Sequencia:"11",CodigoAluno:"2436262",Nome:"HEDUARDO MORAIS DE SOUZA",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-11-07",PAED:"No",TransporteEscolar:"No"},{Sequencia:"12",CodigoAluno:"2050334",Nome:"JOO VITOR DE OLIVEIRA",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-04-18",PAED:"No",TransporteEscolar:"No"},{Sequencia:"13",CodigoAluno:"2436859",Nome:"JOSE VITOR TRAMARIN COUTINHO",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-02-25",PAED:"No",TransporteEscolar:"No"},{Sequencia:"14",CodigoAluno:"2050351",Nome:"JOSIAS RODRIGUES DOS SANTOS",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-03-03",PAED:"No",TransporteEscolar:"No"},{Sequencia:"15",CodigoAluno:"2429328",Nome:"JULIA LAS BRAIDA",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-07-15",PAED:"No",TransporteEscolar:"No"},{Sequencia:"16",CodigoAluno:"2195692",Nome:"KAU VINCIUS SOARES ROMAN",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-05-03",PAED:"No",TransporteEscolar:"No"},{Sequencia:"17",CodigoAluno:"2050292",Nome:"LUCAS CORREIA RODRIGUES",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-12-09",PAED:"No",TransporteEscolar:"No"},{Sequencia:"18",CodigoAluno:"2435167",Nome:"LUIZ ARTHUR DO NASCIMENTO JCOME",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-07-07",PAED:"No",TransporteEscolar:"No"},{Sequencia:"19",CodigoAluno:"2115842",Nome:"LUIZ GUILHERME SIMES DE OLIVEIRA",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-02-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"20",CodigoAluno:"2429809",Nome:"LUIZ HENRIQUE COSTA FERREIRA DE AZEVEDO",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-12-11",PAED:"No",TransporteEscolar:"No"},{Sequencia:"21",CodigoAluno:"2057371",Nome:"LUIZ HENRIQUE GOULART FERNANDES",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-02-11",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"22",CodigoAluno:"2464919",Nome:"MARIA VITRIA RAMOS DA SILVA",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-12-21",PAED:"No",TransporteEscolar:"No"},{Sequencia:"23",CodigoAluno:"2438336",Nome:"MARIANE GODOY DE AQUINO",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-12-24",PAED:"No",TransporteEscolar:"No"},{Sequencia:"24",CodigoAluno:"2518402",Nome:"MARYANA DOMINGOS",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-05-10",PAED:"No",TransporteEscolar:"No"},{Sequencia:"25",CodigoAluno:"2429254",Nome:"MURILO PEREIRA AMARAL",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-03-23",PAED:"No",TransporteEscolar:"No"},{Sequencia:"26",CodigoAluno:"2487206",Nome:"PEDRO HENRIQUE CHAGAS DA ROSA",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-08-07",PAED:"No",TransporteEscolar:"No"},{Sequencia:"27",CodigoAluno:"2068810",Nome:"RAFAEL DOS SANTOS LEMOS",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-01-26",PAED:"No",TransporteEscolar:"No"},{Sequencia:"28",CodigoAluno:"1997429",Nome:"STEFANY PEREIRA DA SILVA SIMPLICIO",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2010-05-25",PAED:"No",TransporteEscolar:"No"},{Sequencia:"29",CodigoAluno:"2436458",Nome:"VICTOR GABRIEL DIAS CARON",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-08-15",PAED:"No",TransporteEscolar:"No"},{Sequencia:"30",CodigoAluno:"2423591",Nome:"YURI FAUSTINO MENDES",Turma:"9 ANO A",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-05-02",PAED:"No",TransporteEscolar:"No"},{Sequencia:"1",CodigoAluno:"2429796",Nome:"ANNA JULYA DA SILVA MARTINS",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-03-30",PAED:"No",TransporteEscolar:"No"},{Sequencia:"2",CodigoAluno:"2366300",Nome:"ANNE BEATRIZ TELES DE ANACLETO",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-08-29",PAED:"No",TransporteEscolar:"No"},{Sequencia:"3",CodigoAluno:"2048612",Nome:"ANTONY DAVI DA COSTA FREITAS",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-01-20",PAED:"No",TransporteEscolar:"No"},{Sequencia:"4",CodigoAluno:"2117028",Nome:"ANTONY HENRIQUE ARQUINO DE CAMPOS",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-07-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"5",CodigoAluno:"2068947",Nome:"BRUNO DA SILVA",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-06-11",PAED:"No",TransporteEscolar:"No"},{Sequencia:"6",CodigoAluno:"2048587",Nome:"EDUARDO GABRIEL DE SOUZA PAGHIGU",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-08-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"7",CodigoAluno:"2537652",Nome:"GUILHERME HENRIQUE NOBREGA NEGRETE GARGIA",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-02-07",PAED:"No",TransporteEscolar:"No"},{Sequencia:"8",CodigoAluno:"2264395",Nome:"HEITOR CASSIANO BRAGA RODRIGUES",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-07-04",PAED:"No",TransporteEscolar:"No"},{Sequencia:"9",CodigoAluno:"2464809",Nome:"HENRIQUE CESAR PEREIRA DA SILVA",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-02-06",PAED:"No",TransporteEscolar:"No"},{Sequencia:"10",CodigoAluno:"2247164",Nome:"IGOR DE JESUS DE SOUZA",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-07-11",PAED:"No",TransporteEscolar:"No"},{Sequencia:"11",CodigoAluno:"2542824",Nome:"INGRID GABRIELY SOUZA MATOS",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-09-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"12",CodigoAluno:"2429322",Nome:"JHOYCE DOS SANTOS",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-10-07",PAED:"No",TransporteEscolar:"No"},{Sequencia:"13",CodigoAluno:"2439166",Nome:"JOAO VICTOR TEODORO DAPPER BALIERO",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-04-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"14",CodigoAluno:"2436226",Nome:"KAMILLY VITORIA SILVA DIAS",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-10-21",PAED:"No",TransporteEscolar:"No"},{Sequencia:"15",CodigoAluno:"2048505",Nome:"KENEDY ALVES DOS SANTOS PEREIRA",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-12-17",PAED:"No",TransporteEscolar:"No"},{Sequencia:"16",CodigoAluno:"2436109",Nome:"LARISSA LEITE BISPO DOS SANTOS",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-08-09",PAED:"No",TransporteEscolar:"No"},{Sequencia:"17",CodigoAluno:"2048909",Nome:"LUDYMILA LIMA BRITO",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-06-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"18",CodigoAluno:"2554939",Nome:"MAIKELLY RODRIGUES DE OLIVEIRA",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2010-08-19",PAED:"No",TransporteEscolar:"No"},{Sequencia:"19",CodigoAluno:"2646982",Nome:"PAULO CSAR SALVADOR SOUSA",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-03-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"20",CodigoAluno:"2429816",Nome:"RENATO DOS SANTOS SILVA",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-08-31",PAED:"No",TransporteEscolar:"No"},{Sequencia:"21",CodigoAluno:"2374146",Nome:"SILVANO JUNIOR FERREIRA DE AZEVEDO",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-06-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"22",CodigoAluno:"2490594",Nome:"STHEPHANIE CIBELE MARTINS DOS SANTOS",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-12-19",PAED:"No",TransporteEscolar:"No"},{Sequencia:"23",CodigoAluno:"1977407",Nome:"TIAGO SABOIA RAMOS",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2010-06-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"24",CodigoAluno:"2457076",Nome:"YASMIN VITRIA DE OLIIVEIRA ARAJO",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-07-12",PAED:"No",TransporteEscolar:"No"},{Sequencia:"25",CodigoAluno:"2050911",Nome:"EDUARDA DOS ANJOS MATEUS",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-08-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"26",CodigoAluno:"2566965",Nome:"NICOLE AHITANA PENLOZA ACEVEDO",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2010-03-25",PAED:"No",TransporteEscolar:"No"},{Sequencia:"27",CodigoAluno:"2044100",Nome:"JOO PEDRO INACIO DE OLIVEIRA",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-01-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"28",CodigoAluno:"2203148",Nome:"YASMIN RAFAELA AMNCIO DE LIMA",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2010-09-03",PAED:"No",TransporteEscolar:"No"},{Sequencia:"29",CodigoAluno:"2048392",Nome:"ANA BEATRIZ DA SILVA GONGALVES PESSOA",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-02-02",DataNascimento:"2012-02-20",PAED:"No",TransporteEscolar:"No"},{Sequencia:"30",CodigoAluno:"2472665",Nome:"IZABELY CRISTINI DA SILVA MARINHO",Turma:"9 ANO B",Turno:"MATUTINO",DataMatricula:"2026-02-02",DataNascimento:"2010-04-13",PAED:"No",TransporteEscolar:"No"},{Sequencia:"1",CodigoAluno:"2416807",Nome:"ANA BEATRIZ SILVEIRA HESPER AZEVEDO",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-08-30",PAED:"No",TransporteEscolar:"No"},{Sequencia:"2",CodigoAluno:"2429791",Nome:"ANA LUIZA BARBOSA SILVA",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-08-29",PAED:"No",TransporteEscolar:"No"},{Sequencia:"3",CodigoAluno:"2429741",Nome:"ANA LUIZA SILVERIO SANTOS",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-09-21",PAED:"No",TransporteEscolar:"No"},{Sequencia:"4",CodigoAluno:"2429307",Nome:"ANA ROSA MARISCAL CARBO",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-07-13",PAED:"No",TransporteEscolar:"No"},{Sequencia:"5",CodigoAluno:"2051268",Nome:"ANDR DE OLIVEIRA SOUZA",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-02-17",PAED:"No",TransporteEscolar:"No"},{Sequencia:"6",CodigoAluno:"2012675",Nome:"ANTONIO PEDRO CAZARI DA SILVA",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-08-12",PAED:"No",TransporteEscolar:"No"},{Sequencia:"7",CodigoAluno:"2200705",Nome:"EDUARDA RODRIGUES COSTA",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-04-01",PAED:"No",TransporteEscolar:"No"},{Sequencia:"8",CodigoAluno:"2053450",Nome:"EMANUELLY VITORIA MATOS SILVA",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-10-11",PAED:"No",TransporteEscolar:"No"},{Sequencia:"9",CodigoAluno:"2343081",Nome:"GUSTAVO SANTOS DA SILVA",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-09-01",PAED:"No",TransporteEscolar:"No"},{Sequencia:"10",CodigoAluno:"2429871",Nome:"HELOISA KARINE SOUZA DOS SANTOS",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-10-26",PAED:"No",TransporteEscolar:"No"},{Sequencia:"11",CodigoAluno:"2050836",Nome:"JOO VITOR MENDES SANTOS",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-07-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"12",CodigoAluno:"2429329",Nome:"JULIO SEZAR BATISTA DA SILVA",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-08-10",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"13",CodigoAluno:"2647514",Nome:"KAU DE ALMEIDA SOARES",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-07-30",PAED:"No",TransporteEscolar:"No"},{Sequencia:"14",CodigoAluno:"2429802",Nome:"KEMILLY FERREIRA DOS SANTOS",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-06-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"15",CodigoAluno:"2429335",Nome:"LARISSA APARECIDA FERMIANO DE SOUZA",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-06-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"16",CodigoAluno:"2297927",Nome:"LEANDRO DANTAS COSTA",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-04-18",PAED:"No",TransporteEscolar:"No"},{Sequencia:"17",CodigoAluno:"2195809",Nome:"LEONAN MATEUS AGUIAR ARAUJO",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-12-31",PAED:"No",TransporteEscolar:"No"},{Sequencia:"18",CodigoAluno:"2429249",Nome:"LUAN CHAGAS DA SILVA",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-09-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"19",CodigoAluno:"2436376",Nome:"MARIA EDUARDA RODRIGUES OLIVEIRA",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-11-24",PAED:"No",TransporteEscolar:"No"},{Sequencia:"20",CodigoAluno:"2436423",Nome:"MILENA AGUIAR RAMOS",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-07-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"21",CodigoAluno:"2429808",Nome:"NATHAN VINICIOS FERNANDES DA SILVA",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-07-18",PAED:"No",TransporteEscolar:"No"},{Sequencia:"22",CodigoAluno:"2591301",Nome:"PEDRO HENRIQUE NOVAES BORGES",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-01-23",PAED:"No",TransporteEscolar:"No"},{Sequencia:"23",CodigoAluno:"2050318",Nome:"SOPHIA DA SILVA MARIANO",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-02-03",PAED:"No",TransporteEscolar:"No"},{Sequencia:"24",CodigoAluno:"2429277",Nome:"STHEFANY DE SOUZA NICOLETI",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-10-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"25",CodigoAluno:"2430538",Nome:"THALES GAU DO NASGIMENTO SARDELI",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-02-12",PAED:"No",TransporteEscolar:"No"},{Sequencia:"26",CodigoAluno:"2429285",Nome:"VINICIUS CORDEIRO MARTINS",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-10-28",PAED:"No",TransporteEscolar:"No"},{Sequencia:"27",CodigoAluno:"2050177",Nome:"BIANGA DUARTE DA SILVA",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-04-12",PAED:"No",TransporteEscolar:"No"},{Sequencia:"28",CodigoAluno:"2007491",Nome:"BEKWYIPA PANAR METUKTIRE",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2009-05-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"29",CodigoAluno:"2429316",Nome:"GUSTAVO NICOLAS LIMA DAPPER",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-01-17",PAED:"No",TransporteEscolar:"No"},{Sequencia:"30",CodigoAluno:"2343748",Nome:"LARA VITORIA BARBOSA DA SILVA",Turma:"9 ANO C",Turno:"MATUTINO",DataMatricula:"2026-02-02",DataNascimento:"2012-01-28",PAED:"No",TransporteEscolar:"No"},{Sequencia:"1",CodigoAluno:"2436145",Nome:"ALAN REBUSSI DOMINGUES",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-03-15",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"2",CodigoAluno:"2235064",Nome:"ANDERSON RIBEIRO DA SILVA",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-07-07",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"3",CodigoAluno:"2057496",Nome:"ANDRESSA OLIVEIRA DOMINGOS",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-03-11",PAED:"No",TransporteEscolar:"No"},{Sequencia:"4",CodigoAluno:"2328374",Nome:"DANIEL RIBEIRO DE SOUZA",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-11-04",PAED:"No",TransporteEscolar:"No"},{Sequencia:"5",CodigoAluno:"2482022",Nome:"DOUGLAS DE SOUZA BACHIEGA",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-01-18",PAED:"No",TransporteEscolar:"No"},{Sequencia:"6",CodigoAluno:"2105151",Nome:"EDUARDO GONSALVES FERREIRA",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2010-08-21",PAED:"No",TransporteEscolar:"No"},{Sequencia:"7",CodigoAluno:"2452901",Nome:"EMANUELLY VITORIA ALONSO FELIX",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-08-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"8",CodigoAluno:"2396159",Nome:"ENZO GABRIEL MOREIRA DA SILVA",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-08-01",PAED:"No",TransporteEscolar:"No"},{Sequencia:"9",CodigoAluno:"2499840",Nome:"FERNANDO GABRIEL MACHADO LEITE",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-08-04",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"10",CodigoAluno:"1977496",Nome:"GUSTAVO HENRIQUE DA SILVA ALVES",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-03-17",PAED:"No",TransporteEscolar:"No"},{Sequencia:"11",CodigoAluno:"1684109",Nome:"IRENGRATI PI-YKRE METUKTIRE",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-12-19",PAED:"No",TransporteEscolar:"No"},{Sequencia:"12",CodigoAluno:"2048893",Nome:"ISABELLY ZANOVELLO DA SILVA",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-02-01",PAED:"No",TransporteEscolar:"No"},{Sequencia:"13",CodigoAluno:"2436046",Nome:"ITHALO APARECIDO GRANZIERI DE SOUZA",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-03-30",PAED:"No",TransporteEscolar:"No"},{Sequencia:"14",CodigoAluno:"2436081",Nome:"JOO PEDRO BARROS NAVA",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-04-04",PAED:"No",TransporteEscolar:"No"},{Sequencia:"15",CodigoAluno:"2113039",Nome:"JOO VICTOR DE SOUZA CAVALCANTE",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-03-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"16",CodigoAluno:"2298572",Nome:"JULIO CESAR PERTELI BATISTA",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-05-09",PAED:"No",TransporteEscolar:"No"},{Sequencia:"17",CodigoAluno:"2048598",Nome:"LUAN BARBOSA GONGALVES",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-02-01",PAED:"No",TransporteEscolar:"No"},{Sequencia:"18",CodigoAluno:"2050704",Nome:"LUANA GABRIELA DE SOUZA DIAS",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-11-19",PAED:"No",TransporteEscolar:"No"},{Sequencia:"19",CodigoAluno:"2097232",Nome:"MARIA VITRIA GONGAGA",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-09-20",PAED:"No",TransporteEscolar:"No"},{Sequencia:"20",CodigoAluno:"2057543",Nome:"MILENA GABRIELLY DE SANTANA NOGUEIRA",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-03-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"21",CodigoAluno:"2429260",Nome:"PAULA FERNANDA VIEIRA DA SILVA",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-05-19",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"22",CodigoAluno:"2413160",Nome:"PEDRO MAY DA SILVA",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-10-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"23",CodigoAluno:"2044686",Nome:"PEDRO MIGUEL DOS SANTOS DA SILVA",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-06-28",PAED:"No",TransporteEscolar:"No"},{Sequencia:"24",CodigoAluno:"2051314",Nome:"RENATO DOS SANTOS MOTA",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-12-26",PAED:"No",TransporteEscolar:"No"},{Sequencia:"25",CodigoAluno:"2343116",Nome:"RUAN GABRIEL RODRIGUES",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2010-09-30",PAED:"No",TransporteEscolar:"No"},{Sequencia:"26",CodigoAluno:"2087068",Nome:"THAINARA LAIS BATISTA",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-03-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"27",CodigoAluno:"2437184",Nome:"WADYSTON NUNES DE ALMEIDA",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-03-09",PAED:"No",TransporteEscolar:"No"},{Sequencia:"28",CodigoAluno:"2085176",Nome:"WEYDYKATXI TAPAIUNA METUKTIRE",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-01-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"29",CodigoAluno:"2343688",Nome:"CAIQUE CARDOSO DOS SANTOS",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2010-01-29",PAED:"No",TransporteEscolar:"No"},{Sequencia:"30",CodigoAluno:"2169362",Nome:"GUSTAVO GABRIEL DOS SANTOS SILVA",Turma:"9 ANO D",Turno:"VESPERTINO",DataMatricula:"2026-04-02",DataNascimento:"2011-07-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"1",CodigoAluno:"2050692",Nome:"ADRYAN GABRIEL BEZERRA FERRANTE",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-01-05",PAED:"No",TransporteEscolar:"No"},{Sequencia:"2",CodigoAluno:"2050276",Nome:"AMANDA GABRIELLY CARDOSO DA SILVA",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-05-02",PAED:"No",TransporteEscolar:"No"},{Sequencia:"3",CodigoAluno:"2437739",Nome:"ANA BEATRIZ DOS SANTOS SILVA",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-11-22",PAED:"No",TransporteEscolar:"No"},{Sequencia:"4",CodigoAluno:"2436677",Nome:"ANA CLARA FIERI MANSANO",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-03-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"5",CodigoAluno:"2436628",Nome:"ANA MARIA PEREIRA DE OLIVEIRA",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-03-13",PAED:"No",TransporteEscolar:"No"},{Sequencia:"6",CodigoAluno:"2429308",Nome:"ARTHUR SERGIO DORINI PEREIRA",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-01-02",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"7",CodigoAluno:"2048669",Nome:"CLARA CASSIMIRO LEITE DOS SANTOS",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-09-29",PAED:"No",TransporteEscolar:"No"},{Sequencia:"8",CodigoAluno:"2489993",Nome:"DAVI SANTOS SOARES",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-07-01",PAED:"No",TransporteEscolar:"No"},{Sequencia:"9",CodigoAluno:"1983765",Nome:"DIEGO JUNIO MARTINS DE ARAJO",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2010-08-19",PAED:"Sim",TransporteEscolar:"No"},{Sequencia:"10",CodigoAluno:"2035427",Nome:"ELIANA CRISTINA PEREIRA GIZONI",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-06-30",PAED:"No",TransporteEscolar:"No"},{Sequencia:"11",CodigoAluno:"2429314",Nome:"EMANUELY TONON MOREIRA DA SILVA",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-09-12",PAED:"No",TransporteEscolar:"No"},{Sequencia:"12",CodigoAluno:"2050211",Nome:"EMILLY CAUANI ALVES BISPO",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-12-08",PAED:"No",TransporteEscolar:"No"},{Sequencia:"13",CodigoAluno:"2429327",Nome:"JOO VICTOR DOS SANTOS BORGES",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-08-01",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"14",CodigoAluno:"1991638",Nome:"KAMIHA METUKTIRE",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-01-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"15",CodigoAluno:"2342762",Nome:"KAUANY SANITA CANGU",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-03-21",PAED:"No",TransporteEscolar:"No"},{Sequencia:"16",CodigoAluno:"2043254",Nome:"KETHELLEN NORAINY PEREIRA NETO",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-05-31",PAED:"No",TransporteEscolar:"No"},{Sequencia:"17",CodigoAluno:"2140647",Nome:"LARA BEATRIZ SALGADO RIBEIRO",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-11-09",PAED:"No",TransporteEscolar:"No"},{Sequencia:"18",CodigoAluno:"2417924",Nome:"LORENA AUGUSTO GOMES",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-03-27",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"19",CodigoAluno:"2053612",Nome:"LUCAS PERES SERDEIRA",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-08-26",PAED:"No",TransporteEscolar:"No"},{Sequencia:"20",CodigoAluno:"1999168",Nome:"LUIZ ANTONIO DA SILVA DE SOUZA",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-12-27",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"21",CodigoAluno:"2048425",Nome:"NADHELLY VITORIA MORAES DA COSTA FERREIRA",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-02-17",PAED:"No",TransporteEscolar:"No"},{Sequencia:"22",CodigoAluno:"2429250",Nome:"PEDRO HENRIQUE DE SANTANA GUIMARES",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-07-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"23",CodigoAluno:"2051329",Nome:"PEDRO HENRIQUE SOARES GOMES",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-01-27",PAED:"No",TransporteEscolar:"No"},{Sequencia:"24",CodigoAluno:"2045918",Nome:"THAIS LARISSA BATISTA",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2012-03-14",PAED:"No",TransporteEscolar:"No"},{Sequencia:"25",CodigoAluno:"2429282",Nome:"VICTOR GABRIEL SANTOS CAVALCANTE",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-07-28",PAED:"No",TransporteEscolar:"No"},{Sequencia:"26",CodigoAluno:"2439390",Nome:"VITRIA CAZELATO VALERIANO",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-07-25",PAED:"No",TransporteEscolar:"No"},{Sequencia:"27",CodigoAluno:"2436792",Nome:"YASMIM VITORIA FREITAS WEIDLICH",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-01-19",DataNascimento:"2011-08-15",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"28",CodigoAluno:"2429340",Nome:"MARIA EDUARDA BACHIEGA DA COSTA",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-02-02",DataNascimento:"2011-09-23",PAED:"No",TransporteEscolar:"Sim"},{Sequencia:"29",CodigoAluno:"2429251",Nome:"MARYA ISABEL DA SILVA PRADO",Turma:"9 ANO E",Turno:"VESPERTINO",DataMatricula:"2026-02-02",DataNascimento:"2012-03-26",PAED:"No",TransporteEscolar:"Sim"}],B3=()=>{const[t,e]=R.useState(0);R.useEffect(()=>{const l=localStorage.getItem("secretariat_detailed_students_v1"),d=l?JSON.parse(l):$i;e(d.length)},[]);const r=R.useMemo(()=>{const l=localStorage.getItem("merenda_contracts");let d=l?JSON.parse(l):[];return Tb.map(h=>{const p=d.find(v=>v.number===h.number);if(!p)return h;const x=h.items.map(v=>{const b=p.items.find(w=>w.description===v.description);return b?{...v,acquiredQuantity:b.acquiredQuantity}:v});return{...h,items:[...x]}})},[]),n=R.useMemo(()=>{const l=localStorage.getItem("seduc_inventory_v3");return l?JSON.parse(l).filter(u=>u.previousBalance+u.entries-u.outputs<u.min):[]},[]),s=R.useMemo(()=>{let l=0,d=0,u=[];return r.forEach(h=>{h.items.forEach(p=>{const x=p.contractedQuantity*p.unitPrice,v=p.acquiredQuantity*p.unitPrice;l+=x,d+=v;const b=p.acquiredQuantity/p.contractedQuantity*100;b>70&&u.push({label:p.description,consumed:b,remaining:`${(p.contractedQuantity-p.acquiredQuantity).toFixed(1)} ${p.unit}`})})}),{globalValue:l,totalSpent:d,remaining:l-d,criticalContractItems:u.sort((h,p)=>p.consumed-h.consumed).slice(0,5)}},[r]),i=[{name:"Gasto Realizado",valor:s.totalSpent},{name:"Saldo Disponvel",valor:s.remaining}],o=["#10b981","#3b82f6"];return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 uppercase tracking-tight",children:"Painel de Controle Estratgico"}),a.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-black bg-emerald-100 text-emerald-600 px-2 py-1 rounded-lg uppercase",children:[a.jsx(ft,{size:12})," Monitoramento Ativo"]})]}),a.jsxs("p",{className:"text-gray-500 font-medium",children:["Sincronizado com ",t," alunos beneficirios da Secretaria"]})]}),a.jsxs("div",{className:"hidden md:block text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"ltima Atualizao"}),a.jsx("p",{className:"text-xs font-bold text-gray-900",children:new Date().toLocaleString("pt-BR")})]})]}),n.length>0&&a.jsx("div",{className:"grid grid-cols-1 gap-4 animate-in slide-in-from-top-4 duration-500",children:a.jsxs("div",{className:"bg-red-50 border border-red-100 p-6 rounded-[2rem] shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-red-600 text-white rounded-2xl animate-pulse",children:a.jsx(Xt,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black text-red-900 uppercase tracking-tight",children:"Alertas de Reposio Imediata"}),a.jsx("p",{className:"text-red-700 text-xs font-medium uppercase tracking-tighter",children:"Estoque fsico abaixo do mnimo de segurana"})]})]}),a.jsxs("span",{className:"bg-red-200 text-red-800 text-[10px] font-black px-3 py-1 rounded-full uppercase",children:[n.length," Itens em Risco"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(l=>{const d=l.previousBalance+l.entries-l.outputs,u=l.min-d;return a.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-red-200 shadow-sm flex items-center justify-between group hover:border-red-400 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-50 text-red-500 rounded-lg",children:a.jsx(Us,{size:18})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] font-black text-gray-900 uppercase leading-tight",children:l.name}),a.jsxs("p",{className:"text-[9px] text-red-500 font-bold uppercase mt-0.5",children:["Faltam: ",u.toLocaleString("pt-BR")," ",l.unit]})]})]}),a.jsx("button",{className:"p-2 text-gray-300 group-hover:text-red-600 transition-colors",children:a.jsx(rc,{size:16})})]},l.id)})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-2 bg-emerald-100 text-emerald-600 rounded-lg",children:a.jsx(FA,{size:24})}),a.jsx("span",{className:"text-[10px] font-black text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full uppercase",children:"Global"})]}),a.jsx("h3",{className:"text-gray-500 text-xs font-bold uppercase tracking-widest",children:"Oramento Rede"}),a.jsxs("p",{className:"text-2xl font-black mt-1 text-gray-900",children:["R$ ",s.globalValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:a.jsx(on,{size:24})}),a.jsx("span",{className:"text-[10px] font-black text-blue-600 bg-blue-50 px-2 py-1 rounded-full uppercase",children:"Sincronizado"})]}),a.jsx("h3",{className:"text-gray-500 text-xs font-bold uppercase tracking-widest",children:"Beneficirios"}),a.jsxs("p",{className:"text-2xl font-black mt-1 text-blue-700",children:[t," Alunos"]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded-lg",children:a.jsx(Ta,{size:24})}),a.jsx("span",{className:"text-[10px] font-black text-amber-600 bg-amber-50 px-2 py-1 rounded-full uppercase",children:"Alerta"})]}),a.jsx("h3",{className:"text-gray-500 text-xs font-bold uppercase tracking-widest",children:"Contratos Prx. Fim"}),a.jsx("p",{className:"text-2xl font-black mt-1 text-gray-900",children:"3 Unidades"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg",children:a.jsx(Nt,{size:24})}),a.jsx("span",{className:"text-[10px] font-black text-purple-600 bg-purple-50 px-2 py-1 rounded-full uppercase",children:"Sade FSICA"})]}),a.jsx("h3",{className:"text-gray-500 text-xs font-bold uppercase tracking-widest",children:"Abastecimento"}),a.jsx("p",{className:`text-2xl font-black mt-1 ${n.length>0?"text-red-600":"text-emerald-600"}`,children:n.length>0?"Ateno":"Excelente"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-gray-100 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 uppercase tracking-tight",children:"Execuo Financeira Global"}),a.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Prego + Agricultura Familiar"})]}),a.jsx("div",{className:"h-80",children:a.jsx(ou,{width:"100%",height:"100%",children:a.jsxs(jb,{data:i,children:[a.jsx(Fu,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),a.jsx(so,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:10,fontWeight:700}}),a.jsx(io,{axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:10,fontWeight:700}}),a.jsx(Qa,{cursor:{fill:"#f9fafb"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),a.jsx(ui,{dataKey:"valor",radius:[12,12,0,0],barSize:80,children:i.map((l,d)=>a.jsx(Qo,{fill:o[d%o.length]},`cell-${d}`))})]})})})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-gray-100 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 uppercase tracking-tight",children:"Riscos de Desabastecimento"}),a.jsx("span",{className:"p-2 bg-amber-50 text-amber-600 rounded-xl",children:a.jsx(Ta,{size:20})})]}),a.jsx("div",{className:"space-y-6",children:s.criticalContractItems.length>0?s.criticalContractItems.map((l,d)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-end mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-gray-900 uppercase leading-tight",children:l.label}),a.jsxs("p",{className:"text-[9px] text-gray-400 font-bold uppercase mt-0.5",children:["Saldo Contrato: ",l.remaining]})]}),a.jsxs("span",{className:`text-[10px] font-black ${l.consumed>=90?"text-red-500":"text-emerald-600"}`,children:[l.consumed.toFixed(0),"% Utilizado"]})]}),a.jsx("div",{className:"w-full bg-gray-50 h-3 rounded-full overflow-hidden border border-gray-100",children:a.jsx("div",{className:`h-full transition-all duration-700 rounded-full ${l.consumed>=90?"bg-red-500":l.consumed>=70?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${l.consumed}%`}})})]},d)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-flex p-4 bg-emerald-50 text-emerald-600 rounded-full mb-4",children:a.jsx(Nt,{size:32})}),a.jsx("p",{className:"text-gray-900 font-black uppercase text-xs tracking-widest",children:"Execuo sob controle"}),a.jsx("p",{className:"text-gray-400 text-[10px] font-bold mt-1",children:"Nenhum contrato atingiu o limite crtico de 70%."})]})})]})]})]})};function Sb(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Bde(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(p){o(p)}}function d(h){try{u(n.throw(h))}catch(p){o(p)}}function u(h){h.done?i(h.value):s(h.value).then(l,d)}u((n=n.apply(t,e||[])).next())})}const zde=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class eS extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class qde extends eS{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class z3 extends eS{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class q3 extends eS{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var aj;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(aj||(aj={}));class Vde{constructor(e,{headers:r={},customFetch:n,region:s=aj.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=zde(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Bde(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:d,body:u,signal:h,timeout:p}=n;let x={},{region:v}=n;v||(v=this.region);const b=new URL(`${this.url}/${r}`);v&&v!=="any"&&(x["x-region"]=v,b.searchParams.set("forceFunctionRegion",v));let w;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(x["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(x["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let g=h;p&&(o=new AbortController,i=setTimeout(()=>o.abort(),p),h?(g=o.signal,h.addEventListener("abort",()=>o.abort())):g=o.signal);const S=yield this.fetch(b.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),l),body:w,signal:g}).catch(T=>{throw new qde(T)}),k=S.headers.get("x-relay-error");if(k&&k==="true")throw new z3(S);if(!S.ok)throw new q3(S);let y=((s=S.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return y==="application/json"?j=yield S.json():y==="application/octet-stream"||y==="application/pdf"?j=yield S.blob():y==="text/event-stream"?j=S:y==="multipart/form-data"?j=yield S.formData():j=yield S.text(),{data:j,error:null,response:S}}catch(l){return{data:null,error:l,response:l instanceof q3||l instanceof z3?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var $de=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Gde=class{constructor(t){var e,r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=t.urlLengthLimit)!==null&&n!==void 0?n:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,d=null,u=i.status,h=i.statusText;if(i.ok){var p,x;if(r.method!=="HEAD"){var v;const S=await i.text();S===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?l=S:l=JSON.parse(S))}const w=(p=r.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),g=(x=i.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");w&&g&&g.length>1&&(d=parseInt(g[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,d=null,u=406,h="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var b;const w=await i.text();try{o=JSON.parse(w),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,h="OK")}catch{i.status===404&&w===""?(u=204,h="No Content"):o={message:w}}if(o&&r.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,u=200,h="OK"),o&&r.shouldThrowOnError)throw new $de(o)}return{error:o,data:l,count:d,status:u,statusText:h}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="",d="",u="";const h=i==null?void 0:i.cause;if(h){var p,x,v,b;const S=(p=h==null?void 0:h.message)!==null&&p!==void 0?p:"",k=(x=h==null?void 0:h.code)!==null&&x!==void 0?x:"";l=`${(v=i==null?void 0:i.name)!==null&&v!==void 0?v:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(b=h==null?void 0:h.name)!==null&&b!==void 0?b:"Error"}: ${S}`,k&&(l+=` (${k})`),h!=null&&h.stack&&(l+=`
${h.stack}`)}else{var w;l=(w=i==null?void 0:i.stack)!==null&&w!==void 0?w:""}const g=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",d="Request was aborted (timeout or manual cancellation)",g>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${g} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((h==null?void 0:h.name)==="HeadersOverflowError"||(h==null?void 0:h.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",d="HTTP headers exceeded server limits (typically 16KB)",g>this.urlLengthLimit&&(d+=`. Your request URL is ${g} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:d,code:u},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},Hde=class extends Gde{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const l=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${d}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const V3=new RegExp("[,()]");var kd=class extends Hde{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&V3.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&V3.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},Kde=class{constructor(t,{headers:e={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:d}=this.cloneRequestState();return l.searchParams.set("select",o),n&&d.append("Prefer",`count=${n}`),new kd({method:s,url:l,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),r||o.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(l.length>0){const d=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",d.join(","))}}return new kd({method:s,url:i,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST",{url:l,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&l.searchParams.set("on_conflict",e),n&&d.append("Prefer",`count=${n}`),s||d.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(u.length>0){const h=[...new Set(u)].map(p=>`"${p}"`);l.searchParams.set("columns",h.join(","))}}return new kd({method:o,url:l,headers:d,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new kd({method:n,url:s,headers:i,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new kd({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function Yde(t,e){if(bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wde(t){var e=Yde(t,"string");return bh(e)=="symbol"?e:e+""}function Xde(t,e,r){return(e=Wde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Mm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$3(Object(r),!0).forEach(function(n){Xde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Jde=class FF{constructor(e,{headers:r={},schema:n,fetch:s,timeout:i,urlLengthLimit:o=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=o;const l=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(d,u)=>{const h=new AbortController,p=setTimeout(()=>h.abort(),i),x=u==null?void 0:u.signal;if(x){if(x.aborted)return clearTimeout(p),l(d,u);const v=()=>{clearTimeout(p),h.abort()};return x.addEventListener("abort",v,{once:!0}),l(d,Mm(Mm({},u),{},{signal:h.signal})).finally(()=>{clearTimeout(p),x.removeEventListener("abort",v)})}return l(d,Mm(Mm({},u),{},{signal:h.signal})).finally(()=>clearTimeout(p))}:this.fetch=l}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Kde(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new FF(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const d=new URL(`${this.url}/rpc/${e}`);let u;const h=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(h)),p=n&&Object.values(r).some(h);p?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{d.searchParams.append(v,b)})):(l="POST",u=r);const x=new Headers(this.headers);return p?x.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&x.set("Prefer",`count=${i}`),new kd({method:l,url:d,headers:x,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class Qde{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Zde="2.95.3",eue=`realtime-js/${Zde}`,tue="1.0.0",BF="2.0.0",G3=BF,nj=1e4,rue=1e3,aue=100;var Uo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Uo||(Uo={}));var ua;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ua||(ua={}));var Is;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Is||(Is={}));var sj;(function(t){t.websocket="websocket"})(sj||(sj={}));var ql;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ql||(ql={}));class nue{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,l=(s=e.ref)!==null&&s!==void 0?s:"",d=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,h=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+l.length+o.length+u.length+p.length,v=new ArrayBuffer(this.HEADER_LENGTH+x);let b=new DataView(v),w=0;b.setUint8(w++,this.KINDS.userBroadcastPush),b.setUint8(w++,d.length),b.setUint8(w++,l.length),b.setUint8(w++,o.length),b.setUint8(w++,u.length),b.setUint8(w++,p.length),b.setUint8(w++,r),Array.from(d,S=>b.setUint8(w++,S.charCodeAt(0))),Array.from(l,S=>b.setUint8(w++,S.charCodeAt(0))),Array.from(o,S=>b.setUint8(w++,S.charCodeAt(0))),Array.from(u,S=>b.setUint8(w++,S.charCodeAt(0))),Array.from(p,S=>b.setUint8(w++,S.charCodeAt(0)));var g=new Uint8Array(v.byteLength+n.byteLength);return g.set(new Uint8Array(v),0),g.set(new Uint8Array(n),v.byteLength),g.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,l,d]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let d=this.HEADER_LENGTH+4;const u=n.decode(e.slice(d,d+s));d=d+s;const h=n.decode(e.slice(d,d+i));d=d+i;const p=n.decode(e.slice(d,d+o));d=d+o;const x=e.slice(d,e.byteLength),v=l===this.JSON_ENCODING?JSON.parse(n.decode(x)):x,b={type:this.BROADCAST_EVENT,event:h,payload:v};return o>0&&(b.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class zF{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Er;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Er||(Er={}));const H3=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=sue(o,t,e,s),i),{}):{}},sue=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?qF(i,o):ij(o)},qF=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return cue(e,r)}switch(t){case Er.bool:return iue(e);case Er.float4:case Er.float8:case Er.int2:case Er.int4:case Er.int8:case Er.numeric:case Er.oid:return oue(e);case Er.json:case Er.jsonb:return lue(e);case Er.timestamp:return due(e);case Er.abstime:case Er.date:case Er.daterange:case Er.int4range:case Er.int8range:case Er.money:case Er.reltime:case Er.text:case Er.time:case Er.timestamptz:case Er.timetz:case Er.tsrange:case Er.tstzrange:return ij(e);default:return ij(e)}},ij=t=>t,iue=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},oue=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},lue=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},cue=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>qF(e,l))}return t},due=t=>typeof t=="string"?t.replace(" ","T"):t,VF=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class cA{constructor(e,r,n={},s=nj){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var K3;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(K3||(K3={}));class yf{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yf.syncState(this.state,s,i,o),this.pendingDiffs.forEach(d=>{this.state=yf.syncDiff(this.state,d,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=yf.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},d={};return this.map(i,(u,h)=>{o[u]||(d[u]=h)}),this.map(o,(u,h)=>{const p=i[u];if(p){const x=h.map(g=>g.presence_ref),v=p.map(g=>g.presence_ref),b=h.filter(g=>v.indexOf(g.presence_ref)<0),w=p.filter(g=>x.indexOf(g.presence_ref)<0);b.length>0&&(l[u]=b),w.length>0&&(d[u]=w)}else l[u]=h}),this.syncDiff(i,{joins:l,leaves:d},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,d)=>{var u;const h=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(d),h.length>0){const p=e[l].map(v=>v.presence_ref),x=h.filter(v=>p.indexOf(v.presence_ref)<0);e[l].unshift(...x)}n(l,h,d)}),this.map(o,(l,d)=>{let u=e[l];if(!u)return;const h=d.map(p=>p.presence_ref);u=u.filter(p=>h.indexOf(p.presence_ref)<0),e[l]=u,s(l,u,d),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Y3;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Y3||(Y3={}));var Nf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Nf||(Nf={}));var Ri;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ri||(Ri={}));class Ud{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ua.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new cA(this,Is.join,this.params,this.timeout),this.rejoinTimer=new zF(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ua.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ua.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ua.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ua.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ua.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Is.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new yf(this),this.broadcastEndpointURL=VF(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ua.closed){const{config:{broadcast:o,presence:l,private:d}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Nf.PRESENCE]&&this.bindings[Nf.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},x={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(Ri.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Ri.CLOSED)),this.updateJoinPayload(Object.assign({config:x},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e==null||e(Ri.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,g=(b=w==null?void 0:w.length)!==null&&b!==void 0?b:0,S=[];for(let k=0;k<g;k++){const y=w[k],{filter:{event:j,schema:T,table:_,filter:O}}=y,M=v&&v[k];if(M&&M.event===j&&Ud.isFilterValueEqual(M.schema,T)&&Ud.isFilterValueEqual(M.table,_)&&Ud.isFilterValueEqual(M.filter,O))S.push(Object.assign(Object.assign({},y),{id:M.id}));else{this.unsubscribe(),this.state=ua.errored,e==null||e(Ri.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Ri.SUBSCRIBED);return}}).receive("error",v=>{this.state=ua.errored,e==null||e(Ri.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ri.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ua.joined&&e===Nf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let d=l.statusText;try{const u=await l.json();d=u.error||u.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,d;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ua.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Is.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new cA(this,Is.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ua.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new cA(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>aue){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:d,leave:u,join:h}=Is;if(n&&[l,d,u,h].indexOf(o)>=0&&n!==this._joinRef())return;let x=this._onMessage(o,r,n);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var b,w,g;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((g=(w=v.filter)===null||w===void 0?void 0:w.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(v=>v.callback(x,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var b,w,g,S,k,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const j=v.id,T=(b=v.filter)===null||b===void 0?void 0:b.event;return j&&((w=r.ids)===null||w===void 0?void 0:w.includes(j))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const j=(k=(S=v==null?void 0:v.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return j==="*"||j===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof x=="object"&&"ids"in x){const b=x.data,{schema:w,table:g,commit_timestamp:S,type:k,errors:y}=b;x=Object.assign(Object.assign({},{schema:w,table:g,commit_timestamp:S,eventType:k,new:{},old:{},errors:y}),this._getPayloadRecords(b))}v.callback(x,n)})}_isClosed(){return this.state===ua.closed}_isJoined(){return this.state===ua.joined}_isJoining(){return this.state===ua.joining}_isLeaving(){return this.state===ua.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ud.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Is.close,{},e)}_onError(e){this._on(Is.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ua.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=H3(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=H3(e.columns,e.old_record)),r}}const dA=()=>{},Pm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},uue=[1e3,2e3,5e3,1e4],fue=1e4,hue=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pue{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nj,this.transport=null,this.heartbeatIntervalMs=Pm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dA,this.ref=0,this.reconnectTimer=null,this.vsn=G3,this.logger=dA,this.conn=null,this.sendBuffer=[],this.serializer=new nue,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${sj.websocket}`,this.httpEndpoint=VF(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Qde.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return r==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Uo.connecting:return ql.Connecting;case Uo.open:return ql.Open;case Uo.closing:return ql.Closing;default:return ql.Closed}}isConnected(){return this.connectionState()===ql.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Ud(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var d;(d=this.conn)===null||d===void 0||d.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(rue,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Pm.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",d=i.status||"";this.log("receive",`${d} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Uo.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Uo.open||this.conn.readyState===Uo.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Is.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([hue],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:eue};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Is.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new zF(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,l,d,u,h,p,x,v;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:nj,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Pm.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:dA,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:G3,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:(b=>uue[b-1]||fue),this.vsn){case tue:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:((b,w)=>w(JSON.stringify(b))),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:((b,w)=>w(JSON.parse(b)));break;case BF:this.encode=(x=e==null?void 0:e.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var vh=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function mue(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function xue(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function gue(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const l=mue(t.baseUrl,n,s),d=await xue(t.auth),u=await e(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...d,...o},body:i?JSON.stringify(i):void 0}),h=await u.text(),p=(u.headers.get("content-type")||"").includes("application/json"),x=p&&h?JSON.parse(h):h;if(!u.ok){const v=p?x:void 0,b=v==null?void 0:v.error;throw new vh((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:v})}return{status:u.status,headers:u.headers,data:x}}}}function Lm(t){return t.join("")}var bue=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Lm(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Lm(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lm(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Lm(t.namespace)}`}),!0}catch(e){if(e instanceof vh&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof vh&&r.status===409)return;throw r}}};function vd(t){return t.join("")}var vue=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vd(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vd(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vd(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vd(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vd(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vd(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof vh&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof vh&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},yue=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=gue({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new bue(this.client,e),this.tableOps=new vue(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},kb=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function _b(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Um=class extends kb{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$F=class extends kb{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const Nue=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),wue=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},oj=t=>{if(Array.isArray(t))return t.map(r=>oj(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=oj(n)}),e},Aue=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function Eue(t,e){if(yh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jue(t){var e=Eue(t,"string");return yh(e)=="symbol"?e:e+""}function Tue(t,e,r){return(e=jue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(r),!0).forEach(function(n){Tue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const X3=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Sue=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new Um(X3(o),i,l,n))}).catch(()=>{if(n==="vectors"){const o=i+"";e(new Um(s.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";e(new Um(s.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";e(new Um(s.statusText||`HTTP ${i} error`,i,o,n))}}else e(new $F(X3(t),t,n))},kue=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?yt(yt({},s),r):(wue(n)?(s.headers=yt({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),yt(yt({},s),r))};async function Y0(t,e,r,n,s,i,o){return new Promise((l,d)=>{t(r,kue(e,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const h=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!h||!h.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>Sue(u,d,n,o))})}function GF(t="storage"){return{get:async(e,r,n,s)=>Y0(e,"GET",r,n,s,void 0,t),post:async(e,r,n,s,i)=>Y0(e,"POST",r,s,i,n,t),put:async(e,r,n,s,i)=>Y0(e,"PUT",r,s,i,n,t),head:async(e,r,n,s)=>Y0(e,"HEAD",r,yt(yt({},n),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,r,n,s,i)=>Y0(e,"DELETE",r,s,i,n,t)}}const _ue=GF("storage"),{get:Nh,post:Cs,put:lj,head:Cue,remove:tS}=_ue,Bn=GF("vectors");var Bu=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=Nue(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(_b(r))return{data:null,error:r};throw r}}},Oue=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(_b(e))return{data:null,error:e};throw e}}};let HF;HF=Symbol.toStringTag;var Due=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[HF]="BlobDownloadBuilder",this.promise=null}asStream(){return new Oue(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(_b(e))return{data:null,error:e};throw e}}};const Iue={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},J3={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Rue=class extends Bu{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var s=this;return s.handleOperation(async()=>{let i;const o=yt(yt({},J3),n);let l=yt(yt({},s.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",s.encodeMetadata(d)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),d&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(d))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,d&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(d))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=yt(yt({},l),n.headers));const u=s._removeEmptyFolders(e),h=s._getFinalPath(u),p=await(t=="PUT"?lj:Cs)(s.fetch,`${s.url}/object/${h}`,i,yt({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:p.Id,fullPath:p.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",e),s.handleOperation(async()=>{let d;const u=yt({upsert:J3.upsert},n),h=yt(yt({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",u.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",u.cacheControl)):(d=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType),{path:i,fullPath:(await lj(s.fetch,l.toString(),d,{headers:h})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const s=yt({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await Cs(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new kb("No token returned by API");return{signedUrl:o.toString(),path:t,token:l}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await Cs(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await Cs(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(t),i=await Cs(n.fetch,`${n.url}/object/sign/${s}`,yt({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const s=await Cs(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>yt(yt({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(t,e,r){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=s?`?${s}`:"",o=this._getFinalPath(t),l=()=>Nh(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0},r);return new Due(l,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>oj(await Nh(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await Cue(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(_b(n)&&n instanceof $F){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await tS(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const s=yt(yt(yt({},Iue),e),{},{prefix:t||""});return await Cs(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=yt({},t);return await Cs(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Mue="2.95.3",Xh={"X-Client-Info":`storage-js/${Mue}`};var Pue=class extends Bu{constructor(t,e={},r,n){const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=yt(yt({},Xh),e);super(i,o,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await Nh(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Nh(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await Cs(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await lj(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Cs(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await tS(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Lue=class extends Bu{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=yt(yt({},Xh),e);super(n,s,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Cs(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await Nh(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await tS(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!Aue(t))throw new kb("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new yue({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}},Uue=class extends Bu{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=yt(yt({},Xh),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await Bn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await Bn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},Fue=class extends Bu{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=yt(yt({},Xh),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},Bue=class extends Bu{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=yt(yt({},Xh),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},zue=class extends Bue{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new que(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},que=class extends Uue{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,yt(yt({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,yt(yt({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new Vue(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Vue=class extends Fue{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,yt(yt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,yt(yt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,yt(yt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,yt(yt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,yt(yt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},$ue=class extends Pue{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new Rue(this.url,this.headers,t,this.fetch)}get vectors(){return new zue(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Lue(this.url+"/iceberg",this.headers,this.fetch)}};const KF="2.95.3",_d=30*1e3,cj=3,uA=cj*_d,Gue="http://localhost:9999",Hue="supabase.auth.token",Kue={"X-Client-Info":`gotrue-js/${KF}`},dj="X-Supabase-Api-Version",YF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yue=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Wue=600*1e3;class wh extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function dt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Xue extends wh{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Jue(t){return dt(t)&&t.name==="AuthApiError"}class Vl extends wh{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class oo extends wh{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Rn extends oo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fA(t){return dt(t)&&t.name==="AuthSessionMissingError"}class yd extends oo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fm extends oo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Bm extends oo{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Que(t){return dt(t)&&t.name==="AuthImplicitGrantRedirectError"}class Q3 extends oo{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zue extends oo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class uj extends oo{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function hA(t){return dt(t)&&t.name==="AuthRetryableFetchError"}class Z3 extends oo{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class fj extends oo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const fg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),eM=` 	
\r=`.split(""),e0e=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<eM.length;e+=1)t[eM[e].charCodeAt(0)]=-2;for(let e=0;e<fg.length;e+=1)t[fg[e].charCodeAt(0)]=e;return t})();function tM(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(fg[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(fg[n]),e.queuedBits-=6}}function WF(t,e,r){const n=e0e[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function rM(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{a0e(o,n,r)};for(let o=0;o<t.length;o+=1)WF(t.charCodeAt(o),s,i);return e.join("")}function t0e(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function r0e(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}t0e(n,e)}}function a0e(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Gd(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)WF(t.charCodeAt(s),r,n);return new Uint8Array(e)}function n0e(t){const e=[];return r0e(t,r=>e.push(r)),new Uint8Array(e)}function Wl(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>tM(s,r,n)),tM(null,r,n),e.join("")}function s0e(t){return Math.round(Date.now()/1e3)+t}function i0e(){return Symbol("auth-callback")}const Ra=()=>typeof window<"u"&&typeof document<"u",Ml={tested:!1,writable:!1},XF=()=>{if(!Ra())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ml.tested)return Ml.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ml.tested=!0,Ml.writable=!0}catch{Ml.tested=!0,Ml.writable=!1}return Ml.writable};function o0e(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const JF=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),l0e=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Cd=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Pl=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ia=async(t,e)=>{await t.removeItem(e)};class Cb{constructor(){this.promise=new Cb.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Cb.promiseConstructor=Promise;function zm(t){const e=t.split(".");if(e.length!==3)throw new fj("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Yue.test(e[n]))throw new fj("JWT not in base64url format");return{header:JSON.parse(rM(e[0])),payload:JSON.parse(rM(e[1])),signature:Gd(e[2]),raw:{header:e[0],payload:e[1]}}}async function c0e(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function d0e(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function u0e(t){return("0"+t.toString(16)).substr(-2)}function f0e(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,u0e).join("")}async function h0e(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function p0e(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await h0e(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nd(t,e,r=!1){const n=f0e();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Cd(t,`${e}-code-verifier`,s);const i=await p0e(n);return[i,n===i?"plain":"s256"]}const m0e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function x0e(t){const e=t.headers.get(dj);if(!e||!e.match(m0e))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function g0e(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function b0e(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const v0e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wd(t){if(!v0e.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pA(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function y0e(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function aM(t){return JSON.parse(JSON.stringify(t))}const Bl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),N0e=[502,503,504];async function nM(t){var e;if(!l0e(t))throw new uj(Bl(t),0);if(N0e.includes(t.status))throw new uj(Bl(t),t.status);let r;try{r=await t.json()}catch(i){throw new Vl(Bl(i),i)}let n;const s=x0e(t);if(s&&s.getTime()>=YF["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Z3(Bl(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Rn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Z3(Bl(r),t.status,r.weak_password.reasons);throw new Xue(Bl(r),t.status||500,n)}const w0e=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function bt(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[dj]||(i[dj]=YF["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await A0e(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function A0e(t,e,r,n,s,i){const o=w0e(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(d){throw console.error(d),new uj(Bl(d),0)}if(l.ok||await nM(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(d){await nM(d)}}function _s(t){var e;let r=null;T0e(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=s0e(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function sM(t){const e=_s(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function zo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function E0e(t){return{data:t,error:null}}function j0e(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=Sb(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},d=Object.assign({},o);return{data:{properties:l,user:d},error:null}}function iM(t){return t}function T0e(t){return t.access_token&&t.refresh_token&&t.expires_in}const mA=["global","local","others"];class S0e{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=JF(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=mA[0]){if(mA.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mA.join(", ")}`);try{return await bt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zo})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Sb(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:j0e,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(dt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await bt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zo})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,d;try{const u={nextPage:null,lastPage:0,total:0},h=await bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:iM});if(h.error)throw h.error;const p=await h.json(),x=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(d=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(b.split(";")[1].split("=")[1]);u[`${g}Page`]=w}),u.total=parseInt(x)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(dt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){wd(e);try{return await bt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zo})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){wd(e);try{return await bt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:zo})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){wd(e);try{return await bt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:zo})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){wd(e.userId);try{const{data:r,error:n}=await bt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){wd(e.userId),wd(e.id);try{return{data:await bt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,l,d;try{const u={nextPage:null,lastPage:0,total:0},h=await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:iM});if(h.error)throw h.error;const p=await h.json(),x=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(d=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(b.split(";")[1].split("=")[1]);u[`${g}Page`]=w}),u.total=parseInt(x)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(dt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await bt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await bt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}}function oM(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Ad={debug:!!(globalThis&&XF()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class QF extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class k0e extends QF{}async function _0e(t,e,r){Ad.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Ad.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ad.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Ad.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ad.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new k0e(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ad.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function C0e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ZF(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function O0e(t){return parseInt(t,16)}function D0e(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function I0e(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:d,resources:u,scheme:h,uri:p,version:x}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=ZF(t.address),b=h?`${h}://${n}`:n,w=t.statement?`${t.statement}
`:"",g=`${b} wants you to sign in with your Ethereum account:
${v}

${w}`;let S=`URI: ${p}
Version: ${x}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(S+=`
Expiration Time: ${s.toISOString()}`),l&&(S+=`
Not Before: ${l.toISOString()}`),d&&(S+=`
Request ID: ${d}`),u){let k=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);k+=`
- ${y}`}S+=k}return`${g}
${S}`}class na extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class hg extends na{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function R0e({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new na({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new na({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new na({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new na({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new na({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new na({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new na({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new na({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(e7(o)){if(i.rp.id!==o)return new na({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new na({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new na({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new na({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new na({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function M0e({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new na({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new na({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(e7(n)){if(r.rpId!==n)return new na({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new na({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new na({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new na({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class P0e{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const L0e=new P0e;function U0e(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Sb(t,["challenge","user","excludeCredentials"]),i=Gd(e).buffer,o=Object.assign(Object.assign({},r),{id:Gd(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const u=n[d];l.excludeCredentials[d]=Object.assign(Object.assign({},u),{id:Gd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function F0e(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Sb(t,["challenge","allowCredentials"]),s=Gd(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Gd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function B0e(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Wl(new Uint8Array(t.response.attestationObject)),clientDataJSON:Wl(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function z0e(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Wl(new Uint8Array(s.authenticatorData)),clientDataJSON:Wl(new Uint8Array(s.clientDataJSON)),signature:Wl(new Uint8Array(s.signature)),userHandle:s.userHandle?Wl(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function e7(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function lM(){var t,e;return!!(Ra()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function q0e(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hg("Browser returned unexpected credential type",e)}:{data:null,error:new hg("Empty credential response",e)}}catch(e){return{data:null,error:R0e({error:e,options:t})}}}async function V0e(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hg("Browser returned unexpected credential type",e)}:{data:null,error:new hg("Empty credential response",e)}}catch(e){return{data:null,error:M0e({error:e,options:t})}}}const $0e={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},G0e={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function pg(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const l=n[i];e(l)?n[i]=pg(l,o):n[i]=pg(o)}else n[i]=o}return n}function H0e(t,e){return pg($0e,t,e||{})}function K0e(t,e){return pg(G0e,t,e||{})}class Y0e{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){var o;try{const{data:l,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!l)return{data:null,error:d};const u=s??L0e.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;if(!h.name){const p=n;if(p)h.name=`${h.id}:${p}`;else{const v=(await this.client.getUser()).data.user,b=((o=v==null?void 0:v.user_metadata)===null||o===void 0?void 0:o.name)||(v==null?void 0:v.email)||(v==null?void 0:v.id)||"User";h.name=`${h.id}:${b}`}}h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=H0e(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:p,error:x}=await q0e({publicKey:h,signal:u});return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:x}}case"request":{const h=K0e(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:p,error:x}=await V0e(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:u}));return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:x}}}}catch(l){return dt(l)?{data:null,error:l}:{data:null,error:new Vl("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new wh("rpId is required for WebAuthn authentication")};try{if(!lM())return{data:null,error:new Vl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:d}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new Vl("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new wh("rpId is required for WebAuthn registration")};try{if(!lM())return{data:null,error:new Vl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:d,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:u}}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new Vl("Unexpected error in register",o)}}}}C0e();const W0e={url:Gue,storageKey:Hue,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Kue,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function cM(t,e,r){return await r()}const Ed={};class Ah{get jwks(){var e,r;return(r=(e=Ed[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ed[this.storageKey]=Object.assign(Object.assign({},Ed[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ed[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ed[this.storageKey]=Object.assign(Object.assign({},Ed[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},W0e),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Ah.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ah.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ra()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new S0e({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=JF(i.fetch),this.lock=i.lock||cM,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Ra()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=_0e:this.lock=cM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Y0e(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:XF()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=oM(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=oM(this.memoryStorage)),Ra()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${KF}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Ra()&&(r=o0e(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ra()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Que(i)){const d=(e=i.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return dt(r)?this._returnResult({error:r}):this._returnResult({error:new Vl("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:_s}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const d=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:u,session:d},error:null})}catch(i){if(dt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:h,password:p,options:x}=e;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await Nd(this.storage,this.storageKey)),i=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:h,password:p,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:v,code_challenge_method:b},xform:_s})}else if("phone"in e){const{phone:h,password:p,options:x}=e;i=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},channel:(s=x==null?void 0:x.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:_s})}else throw new Fm("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Ia(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const d=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:u,session:d},error:null})}catch(i){if(await Ia(this.storage,`${this.storageKey}-code-verifier`),dt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sM})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sM})}else throw new Fm("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new yd;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,l,d,u,h,p,x;let v,b;if("message"in e)v=e.message,b=e.signature;else{const{chain:w,wallet:g,statement:S,options:k}=e;let y;if(Ra())if(typeof g=="object")y=g;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")y=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=g}const j=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href),T=await y.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=ZF(T[0]);let O=(n=k==null?void 0:k.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!O){const D=await y.request({method:"eth_chainId"});O=O0e(D)}const M={domain:j.host,address:_,statement:S,uri:j.href,version:"1",chainId:O,nonce:(s=k==null?void 0:k.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=k==null?void 0:k.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=k==null?void 0:k.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(d=k==null?void 0:k.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(u=k==null?void 0:k.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=k==null?void 0:k.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=I0e(M),b=await y.request({method:"personal_sign",params:[D0e(v),_]})}try{const{data:w,error:g}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:b},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:_s});if(g)throw g;if(!w||!w.session||!w.user){const S=new yd;return this._returnResult({data:{user:null,session:null},error:S})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:g})}catch(w){if(dt(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,s,i,o,l,d,u,h,p,x,v;let b,w;if("message"in e)b=e.message,w=e.signature;else{const{chain:g,wallet:S,statement:k,options:y}=e;let j;if(Ra())if(typeof S=="object")j=S;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=S}const T=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),k?{statement:k}:null));let O;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")O=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)O=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)b=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),w=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${T.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((d=y==null?void 0:y.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((p=(h=y==null?void 0:y.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...y.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(b),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=_}}try{const{data:g,error:S}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Wl(w)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:_s});if(S)throw S;if(!g||!g.session||!g.user){const k=new yd;return this._returnResult({data:{user:null,session:null},error:k})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:S})}catch(g){if(dt(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(e){const r=await Pl(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Zue;const{data:i,error:o}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:_s});if(await Ia(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new yd;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Ia(this.storage,`${this.storageKey}-code-verifier`),dt(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_s}),{data:d,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!d||!d.session||!d.user){const h=new yd;return this._returnResult({data:{user:null,session:null},error:h})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:u})}catch(r){if(dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:d}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Nd(this.storage,this.storageKey));const{error:p}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:l,options:d}=e,{data:u,error:h}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new Fm("You must provide either an email or phone number.")}catch(l){if(await Ia(this.storage,`${this.storageKey}-code-verifier`),dt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:_s});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,u=o.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:u,session:d},error:null})}catch(s){if(dt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let l=null,d=null;this.flowType==="pkce"&&([l,d]=await Nd(this.storage,this.storageKey));const u=await bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:d}),headers:this.headers,xform:E0e});return!((i=u.data)===null||i===void 0)&&i.url&&Ra()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Ia(this.storage,`${this.storageKey}-code-verifier`),dt(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Rn;const{error:s}=await bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(dt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await bt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await bt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Fm("You must provide either an email or phone number and a type")}catch(r){if(dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Pl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<uA:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Pl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=pA()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=y0e(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zo}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rn}:await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:zo})})}catch(r){if(dt(r))return fA(r)&&(await this._removeSession(),await Ia(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Rn;const o=s.session;let l=null,d=null;this.flowType==="pkce"&&e.email!=null&&([l,d]=await Nd(this.storage,this.storageKey));const{data:u,error:h}=await bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:d}),jwt:o.access_token,xform:zo});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Ia(this.storage,`${this.storageKey}-code-verifier`),dt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Rn;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=zm(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:d}=await this._getUser(e.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(dt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Rn;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ra())throw new Bm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Bm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Q3("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bm("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Q3("No code detected.");const{data:k,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:d,token_type:u}=e;if(!i||!l||!o||!u)throw new Bm("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(l);let x=h+p;d&&(x=parseInt(d));const v=x-h;v*1e3<=_d&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const b=x-p;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,x,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,x,h);const{data:w,error:g}=await this._getUser(i);if(g)throw g;const S={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:x,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:e.type},error:null})}catch(n){if(dt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Pl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!fA(i))return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Jue(l)&&(l.status===404||l.status===401||l.status===403)||fA(l)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Ia(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=i0e(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Nd(this.storage,this.storageKey,!0));try{return await bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Ia(this.storage,`${this.storageKey}-code-verifier`),dt(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,d,u,h;const{data:p,error:x}=i;if(x)throw x;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await bt(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return Ra()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(dt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:d,access_token:u,nonce:h}=e,p=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:d,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_s}),{data:x,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new yd}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:v}))}catch(s){if(await Ia(this.storage,`${this.storageKey}-code-verifier`),dt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await bt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await d0e(async s=>(s>0&&await c0e(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_s})),(s,i)=>{const o=200*Math.pow(2,s);return i&&hA(i)&&Date.now()+o-n<_d})}catch(n){if(this._debug(r,"error",n),dt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ra()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Pl(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Pl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Cd(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:pA()}else if(s&&!s.user&&!s.user){const o=await Pl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ia(this.storage,this.storageKey+"-user"),await Cd(this.storage,this.storageKey,s)):s.user=pA()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<uA;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${uA}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),hA(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Rn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Cb;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Rn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),dt(i)){const o={data:null,error:i};return hA(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(d){i.push(d)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ia(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Cd(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=aM(s);await Cd(this.storage,this.storageKey,i)}else{const s=aM(r);await Cd(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ia(this.storage,this.storageKey),await Ia(this.storage,this.storageKey+"-code-verifier"),await Ia(this.storage,this.storageKey+"-user"),this.userStorage&&await Ia(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ra()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_d);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/_d);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${_d}ms, refresh threshold is ${cj} ticks`),s<=cj&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof QF)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ra()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Nd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await bt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:u}=await bt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&d.type==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?B0e(e.webauthn.credential_response):z0e(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:d}=await bt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:d}))})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await bt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:U0e(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:F0e(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,s,i;if(e)try{const{payload:v}=zm(e);let b=null;v.aal&&(b=v.aal);let w=b;const{data:{user:g},error:S}=await this.getUser(e);if(S)return this._returnResult({data:null,error:S});((n=(r=g==null?void 0:g.factors)===null||r===void 0?void 0:r.filter(j=>j.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(w="aal2");const y=v.amr||[];return{data:{currentLevel:b,nextLevel:w,currentAuthenticationMethods:y},error:null}}catch(v){if(dt(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=zm(o.access_token);let u=null;d.aal&&(u=d.aal);let h=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const x=d.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await bt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Rn})})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Rn});const o=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ra()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Rn});const o=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ra()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await bt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Rn})})}catch(e){if(dt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await bt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Rn})})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Wue>s)return n;const{data:i,error:o}=await bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:b}=await this.getSession();if(b||!v.session)return this._returnResult({data:null,error:b});n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:d}}=zm(n);r!=null&&r.allowExpired||g0e(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const h=b0e(s.alg),p=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,n0e(`${l}.${d}`)))throw new fj("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}}Ah.nextInstanceID={};const X0e=Ah,J0e="2.95.3";let tf="";typeof Deno<"u"?tf="deno":typeof document<"u"?tf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tf="react-native":tf="node";const Q0e={"X-Client-Info":`supabase-js-${tf}/${J0e}`},Z0e={headers:Q0e},efe={schema:"public"},tfe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rfe={};function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function afe(t,e){if(Eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nfe(t){var e=afe(t,"string");return Eh(e)=="symbol"?e:e+""}function sfe(t,e,r){return(e=nfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(r),!0).forEach(function(n){sfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const ife=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ofe=()=>Headers,lfe=(t,e,r)=>{const n=ife(r),s=ofe();return async(i,o)=>{var l;const d=(l=await e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${d}`),n(i,Gr(Gr({},o),{},{headers:u}))}};function cfe(t){return t.endsWith("/")?t:t+"/"}function dfe(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:d,auth:u,realtime:h,global:p}=e,x={db:Gr(Gr({},d),s),auth:Gr(Gr({},u),i),realtime:Gr(Gr({},h),o),storage:{},global:Gr(Gr(Gr({},p),l),{},{headers:Gr(Gr({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function ufe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(cfe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ffe=class extends X0e{constructor(t){super(t)}},hfe=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=ufe(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:efe,realtime:rfe,auth:Gr(Gr({},tfe),{},{storageKey:o}),global:Z0e},d=dfe(r??{},l);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=d.auth)!==null&&u!==void 0?u:{},this.headers,d.global.fetch)}this.fetch=lfe(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Gr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Jde(new URL("rest/v1",i).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new $ue(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Vde(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:l,debug:d,throwOnError:u},h,p){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ffe({url:this.authUrl.href,headers:Gr(Gr({},x),h),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:d,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new pue(this.realtimeUrl.href,Gr(Gr({},t),{},{params:Gr(Gr({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const pfe=(t,e,r)=>new hfe(t,e,r);function mfe(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}mfe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xfe="https://wwrjskjhemaapnwtumlt.supabase.co",gfe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind3cmpza2poZW1hYXBud3R1bWx0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA4NDU4MTAsImV4cCI6MjA4NjQyMTgxMH0.-xwDvTg9U35AMlnI9HCbGOJlj6lsq4UnOA2-4dzkVYI",ae=pfe(xfe,gfe);var sr;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(sr||(sr={}));var uM;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(uM||(uM={}));const st=sr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Fo=t=>{switch(typeof t){case"undefined":return st.undefined;case"string":return st.string;case"number":return Number.isNaN(t)?st.nan:st.number;case"boolean":return st.boolean;case"function":return st.function;case"bigint":return st.bigint;case"symbol":return st.symbol;case"object":return Array.isArray(t)?st.array:t===null?st.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?st.promise:typeof Map<"u"&&t instanceof Map?st.map:typeof Set<"u"&&t instanceof Set?st.set:typeof Date<"u"&&t instanceof Date?st.date:st.object;default:return st.unknown}},We=sr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Zi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,d=0;for(;d<o.path.length;){const u=o.path[d];d===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],d++}}};return s(this),n}static assert(e){if(!(e instanceof Zi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,sr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Zi.create=t=>new Zi(t);const hj=(t,e)=>{let r;switch(t.code){case We.invalid_type:t.received===st.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case We.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,sr.jsonStringifyReplacer)}`;break;case We.unrecognized_keys:r=`Unrecognized key(s) in object: ${sr.joinValues(t.keys,", ")}`;break;case We.invalid_union:r="Invalid input";break;case We.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${sr.joinValues(t.options)}`;break;case We.invalid_enum_value:r=`Invalid enum value. Expected ${sr.joinValues(t.options)}, received '${t.received}'`;break;case We.invalid_arguments:r="Invalid function arguments";break;case We.invalid_return_type:r="Invalid function return type";break;case We.invalid_date:r="Invalid date";break;case We.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:sr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case We.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case We.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case We.custom:r="Invalid input";break;case We.invalid_intersection_types:r="Intersection results could not be merged";break;case We.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case We.not_finite:r="Number must be finite";break;default:r=e.defaultError,sr.assertNever(t)}return{message:r}};let bfe=hj;function vfe(){return bfe}const yfe=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const d=n.filter(u=>!!u).slice().reverse();for(const u of d)l=u(o,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function tt(t,e){const r=vfe(),n=yfe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===hj?void 0:hj].filter(s=>!!s)});t.common.issues.push(n)}class cn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return kt;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return cn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return kt;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const kt=Object.freeze({status:"aborted"}),rf=t=>({status:"dirty",value:t}),ys=t=>({status:"valid",value:t}),fM=t=>t.status==="aborted",hM=t=>t.status==="dirty",wu=t=>t.status==="valid",mg=t=>typeof Promise<"u"&&t instanceof Promise;var ct;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ct||(ct={}));class oi{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const pM=(t,e)=>{if(wu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Zi(t.common.issues);return this._error=r,this._error}}};function Ft(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:d??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:d??r??l.defaultError}},description:s}}class Jt{get description(){return this._def.description}_getType(e){return Fo(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Fo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new cn,ctx:{common:e.parent.common,data:e.data,parsedType:Fo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(mg(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fo(e)},s=this._parseSync({data:e,path:n.path,parent:n});return pM(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fo(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return wu(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>wu(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fo(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(mg(s)?s:Promise.resolve(s));return pM(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=e(s),l=()=>i.addIssue({code:We.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new ju({schema:this,typeName:Tt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Yo.create(this,this._def)}nullable(){return Tu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ai.create(this)}promise(){return yg.create(this,this._def)}or(e){return gg.create([this,e],this._def)}and(e){return bg.create(this,e,this._def)}transform(e){return new ju({...Ft(this._def),schema:this,typeName:Tt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new gj({...Ft(this._def),innerType:this,defaultValue:r,typeName:Tt.ZodDefault})}brand(){return new Vfe({typeName:Tt.ZodBranded,type:this,...Ft(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new bj({...Ft(this._def),innerType:this,catchValue:r,typeName:Tt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return rS.create(this,e)}readonly(){return vj.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Nfe=/^c[^\s-]{8,}$/i,wfe=/^[0-9a-z]+$/,Afe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Efe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,jfe=/^[a-z0-9_-]{21}$/i,Tfe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Sfe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kfe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_fe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let xA;const Cfe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ofe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Dfe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ife=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Rfe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Mfe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,t7="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Pfe=new RegExp(`^${t7}$`);function r7(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Lfe(t){return new RegExp(`^${r7(t)}$`)}function Ufe(t){let e=`${t7}T${r7(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Ffe(t,e){return!!((e==="v4"||!e)&&Cfe.test(t)||(e==="v6"||!e)&&Dfe.test(t))}function Bfe(t,e){if(!Tfe.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function zfe(t,e){return!!((e==="v4"||!e)&&Ofe.test(t)||(e==="v6"||!e)&&Ife.test(t))}class ei extends Jt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==st.string){const i=this._getOrReturnCtx(e);return tt(i,{code:We.invalid_type,expected:st.string,received:i.parsedType}),kt}const n=new cn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),tt(s,{code:We.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),tt(s,{code:We.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?tt(s,{code:We.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&tt(s,{code:We.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")kfe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"email",code:We.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")xA||(xA=new RegExp(_fe,"u")),xA.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"emoji",code:We.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Efe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"uuid",code:We.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")jfe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"nanoid",code:We.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Nfe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"cuid",code:We.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")wfe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"cuid2",code:We.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Afe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"ulid",code:We.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),tt(s,{validation:"url",code:We.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"regex",code:We.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),tt(s,{code:We.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),tt(s,{code:We.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),tt(s,{code:We.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Ufe(i).test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{code:We.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Pfe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{code:We.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Lfe(i).test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{code:We.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Sfe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"duration",code:We.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Ffe(e.data,i.version)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"ip",code:We.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Bfe(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"jwt",code:We.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?zfe(e.data,i.version)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"cidr",code:We.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Rfe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"base64",code:We.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Mfe.test(e.data)||(s=this._getOrReturnCtx(e,s),tt(s,{validation:"base64url",code:We.invalid_string,message:i.message}),n.dirty()):sr.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:We.invalid_string,...ct.errToObj(n)})}_addCheck(e){return new ei({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ct.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ct.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ct.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ct.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ct.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ct.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ct.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ct.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ct.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ct.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ct.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ct.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ct.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ct.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ct.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ct.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ct.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ct.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ct.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ct.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ct.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ct.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ct.errToObj(r)})}nonempty(e){return this.min(1,ct.errToObj(e))}trim(){return new ei({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ei({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ei({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ei.create=t=>new ei({checks:[],typeName:Tt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ft(t)});function qfe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class mc extends Jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==st.number){const i=this._getOrReturnCtx(e);return tt(i,{code:We.invalid_type,expected:st.number,received:i.parsedType}),kt}let n;const s=new cn;for(const i of this._def.checks)i.kind==="int"?sr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),tt(n,{code:We.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:We.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:We.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?qfe(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),tt(n,{code:We.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),tt(n,{code:We.not_finite,message:i.message}),s.dirty()):sr.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ct.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ct.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ct.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ct.toString(r))}setLimit(e,r,n,s){return new mc({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ct.toString(s)}]})}_addCheck(e){return new mc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ct.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ct.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ct.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ct.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ct.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ct.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ct.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ct.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ct.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&sr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}mc.create=t=>new mc({checks:[],typeName:Tt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ft(t)});class xc extends Jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==st.bigint)return this._getInvalidInput(e);let n;const s=new cn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:We.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:We.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),tt(n,{code:We.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):sr.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return tt(r,{code:We.invalid_type,expected:st.bigint,received:r.parsedType}),kt}gte(e,r){return this.setLimit("min",e,!0,ct.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ct.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ct.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ct.toString(r))}setLimit(e,r,n,s){return new xc({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ct.toString(s)}]})}_addCheck(e){return new xc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ct.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ct.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ct.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ct.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ct.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}xc.create=t=>new xc({checks:[],typeName:Tt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ft(t)});class xg extends Jt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==st.boolean){const n=this._getOrReturnCtx(e);return tt(n,{code:We.invalid_type,expected:st.boolean,received:n.parsedType}),kt}return ys(e.data)}}xg.create=t=>new xg({typeName:Tt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ft(t)});class Au extends Jt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==st.date){const i=this._getOrReturnCtx(e);return tt(i,{code:We.invalid_type,expected:st.date,received:i.parsedType}),kt}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return tt(i,{code:We.invalid_date}),kt}const n=new cn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),tt(s,{code:We.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),tt(s,{code:We.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):sr.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Au({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ct.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ct.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Au.create=t=>new Au({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Tt.ZodDate,...Ft(t)});class mM extends Jt{_parse(e){if(this._getType(e)!==st.symbol){const n=this._getOrReturnCtx(e);return tt(n,{code:We.invalid_type,expected:st.symbol,received:n.parsedType}),kt}return ys(e.data)}}mM.create=t=>new mM({typeName:Tt.ZodSymbol,...Ft(t)});class xM extends Jt{_parse(e){if(this._getType(e)!==st.undefined){const n=this._getOrReturnCtx(e);return tt(n,{code:We.invalid_type,expected:st.undefined,received:n.parsedType}),kt}return ys(e.data)}}xM.create=t=>new xM({typeName:Tt.ZodUndefined,...Ft(t)});class gM extends Jt{_parse(e){if(this._getType(e)!==st.null){const n=this._getOrReturnCtx(e);return tt(n,{code:We.invalid_type,expected:st.null,received:n.parsedType}),kt}return ys(e.data)}}gM.create=t=>new gM({typeName:Tt.ZodNull,...Ft(t)});class bM extends Jt{constructor(){super(...arguments),this._any=!0}_parse(e){return ys(e.data)}}bM.create=t=>new bM({typeName:Tt.ZodAny,...Ft(t)});class pj extends Jt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ys(e.data)}}pj.create=t=>new pj({typeName:Tt.ZodUnknown,...Ft(t)});class Zo extends Jt{_parse(e){const r=this._getOrReturnCtx(e);return tt(r,{code:We.invalid_type,expected:st.never,received:r.parsedType}),kt}}Zo.create=t=>new Zo({typeName:Tt.ZodNever,...Ft(t)});class vM extends Jt{_parse(e){if(this._getType(e)!==st.undefined){const n=this._getOrReturnCtx(e);return tt(n,{code:We.invalid_type,expected:st.void,received:n.parsedType}),kt}return ys(e.data)}}vM.create=t=>new vM({typeName:Tt.ZodVoid,...Ft(t)});class ai extends Jt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==st.array)return tt(r,{code:We.invalid_type,expected:st.array,received:r.parsedType}),kt;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(tt(r,{code:o?We.too_big:We.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(tt(r,{code:We.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(tt(r,{code:We.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new oi(r,o,r.path,l)))).then(o=>cn.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new oi(r,o,r.path,l)));return cn.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new ai({...this._def,minLength:{value:e,message:ct.toString(r)}})}max(e,r){return new ai({...this._def,maxLength:{value:e,message:ct.toString(r)}})}length(e,r){return new ai({...this._def,exactLength:{value:e,message:ct.toString(r)}})}nonempty(e){return this.min(1,e)}}ai.create=(t,e)=>new ai({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Tt.ZodArray,...Ft(e)});function Od(t){if(t instanceof sa){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Yo.create(Od(n))}return new sa({...t._def,shape:()=>e})}else return t instanceof ai?new ai({...t._def,type:Od(t.element)}):t instanceof Yo?Yo.create(Od(t.unwrap())):t instanceof Tu?Tu.create(Od(t.unwrap())):t instanceof gc?gc.create(t.items.map(e=>Od(e))):t}class sa extends Jt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=sr.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==st.object){const u=this._getOrReturnCtx(e);return tt(u,{code:We.invalid_type,expected:st.object,received:u.parsedType}),kt}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Zo&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const d=[];for(const u of o){const h=i[u],p=s.data[u];d.push({key:{status:"valid",value:u},value:h._parse(new oi(s,p,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Zo){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of l)d.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(u==="strict")l.length>0&&(tt(s,{code:We.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of l){const p=s.data[h];d.push({key:{status:"valid",value:h},value:u._parse(new oi(s,p,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of d){const p=await h.key,x=await h.value;u.push({key:p,value:x,alwaysSet:h.alwaysSet})}return u}).then(u=>cn.mergeObjectSync(n,u)):cn.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(e){return ct.errToObj,new sa({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ct.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new sa({...this._def,unknownKeys:"strip"})}passthrough(){return new sa({...this._def,unknownKeys:"passthrough"})}extend(e){return new sa({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new sa({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Tt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new sa({...this._def,catchall:e})}pick(e){const r={};for(const n of sr.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new sa({...this._def,shape:()=>r})}omit(e){const r={};for(const n of sr.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new sa({...this._def,shape:()=>r})}deepPartial(){return Od(this)}partial(e){const r={};for(const n of sr.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new sa({...this._def,shape:()=>r})}required(e){const r={};for(const n of sr.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Yo;)i=i._def.innerType;r[n]=i}return new sa({...this._def,shape:()=>r})}keyof(){return a7(sr.objectKeys(this.shape))}}sa.create=(t,e)=>new sa({shape:()=>t,unknownKeys:"strip",catchall:Zo.create(),typeName:Tt.ZodObject,...Ft(e)});sa.strictCreate=(t,e)=>new sa({shape:()=>t,unknownKeys:"strict",catchall:Zo.create(),typeName:Tt.ZodObject,...Ft(e)});sa.lazycreate=(t,e)=>new sa({shape:t,unknownKeys:"strip",catchall:Zo.create(),typeName:Tt.ZodObject,...Ft(e)});class gg extends Jt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Zi(l.ctx.common.issues));return tt(r,{code:We.invalid_union,unionErrors:o}),kt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const d of n){const u={...r,common:{...r.common,issues:[]},parent:null},h=d._parseSync({data:r.data,path:r.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(d=>new Zi(d));return tt(r,{code:We.invalid_union,unionErrors:l}),kt}}get options(){return this._def.options}}gg.create=(t,e)=>new gg({options:t,typeName:Tt.ZodUnion,...Ft(e)});function mj(t,e){const r=Fo(t),n=Fo(e);if(t===e)return{valid:!0,data:t};if(r===st.object&&n===st.object){const s=sr.objectKeys(e),i=sr.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of i){const d=mj(t[l],e[l]);if(!d.valid)return{valid:!1};o[l]=d.data}return{valid:!0,data:o}}else if(r===st.array&&n===st.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],d=mj(o,l);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return r===st.date&&n===st.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class bg extends Jt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(fM(i)||fM(o))return kt;const l=mj(i.value,o.value);return l.valid?((hM(i)||hM(o))&&r.dirty(),{status:r.value,value:l.data}):(tt(n,{code:We.invalid_intersection_types}),kt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}bg.create=(t,e,r)=>new bg({left:t,right:e,typeName:Tt.ZodIntersection,...Ft(r)});class gc extends Jt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==st.array)return tt(n,{code:We.invalid_type,expected:st.array,received:n.parsedType}),kt;if(n.data.length<this._def.items.length)return tt(n,{code:We.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),kt;!this._def.rest&&n.data.length>this._def.items.length&&(tt(n,{code:We.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const d=this._def.items[l]||this._def.rest;return d?d._parse(new oi(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>cn.mergeArray(r,o)):cn.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new gc({...this._def,rest:e})}}gc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new gc({items:t,typeName:Tt.ZodTuple,rest:null,...Ft(e)})};class vg extends Jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==st.object)return tt(n,{code:We.invalid_type,expected:st.object,received:n.parsedType}),kt;const s=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)s.push({key:i._parse(new oi(n,l,n.path,l)),value:o._parse(new oi(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?cn.mergeObjectAsync(r,s):cn.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Jt?new vg({keyType:e,valueType:r,typeName:Tt.ZodRecord,...Ft(n)}):new vg({keyType:ei.create(),valueType:e,typeName:Tt.ZodRecord,...Ft(r)})}}class yM extends Jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==st.map)return tt(n,{code:We.invalid_type,expected:st.map,received:n.parsedType}),kt;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,d],u)=>({key:s._parse(new oi(n,l,n.path,[u,"key"])),value:i._parse(new oi(n,d,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const d of o){const u=await d.key,h=await d.value;if(u.status==="aborted"||h.status==="aborted")return kt;(u.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(u.value,h.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const d of o){const u=d.key,h=d.value;if(u.status==="aborted"||h.status==="aborted")return kt;(u.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(u.value,h.value)}return{status:r.value,value:l}}}}yM.create=(t,e,r)=>new yM({valueType:e,keyType:t,typeName:Tt.ZodMap,...Ft(r)});class jh extends Jt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==st.set)return tt(n,{code:We.invalid_type,expected:st.set,received:n.parsedType}),kt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(tt(n,{code:We.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(tt(n,{code:We.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(d){const u=new Set;for(const h of d){if(h.status==="aborted")return kt;h.status==="dirty"&&r.dirty(),u.add(h.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((d,u)=>i._parse(new oi(n,d,n.path,u)));return n.common.async?Promise.all(l).then(d=>o(d)):o(l)}min(e,r){return new jh({...this._def,minSize:{value:e,message:ct.toString(r)}})}max(e,r){return new jh({...this._def,maxSize:{value:e,message:ct.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}jh.create=(t,e)=>new jh({valueType:t,minSize:null,maxSize:null,typeName:Tt.ZodSet,...Ft(e)});class xj extends Jt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}xj.create=(t,e)=>new xj({getter:t,typeName:Tt.ZodLazy,...Ft(e)});class NM extends Jt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return tt(r,{received:r.data,code:We.invalid_literal,expected:this._def.value}),kt}return{status:"valid",value:e.data}}get value(){return this._def.value}}NM.create=(t,e)=>new NM({value:t,typeName:Tt.ZodLiteral,...Ft(e)});function a7(t,e){return new Eu({values:t,typeName:Tt.ZodEnum,...Ft(e)})}class Eu extends Jt{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return tt(r,{expected:sr.joinValues(n),received:r.parsedType,code:We.invalid_type}),kt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return tt(r,{received:r.data,code:We.invalid_enum_value,options:n}),kt}return ys(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Eu.create(e,{...this._def,...r})}exclude(e,r=this._def){return Eu.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Eu.create=a7;class wM extends Jt{_parse(e){const r=sr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==st.string&&n.parsedType!==st.number){const s=sr.objectValues(r);return tt(n,{expected:sr.joinValues(s),received:n.parsedType,code:We.invalid_type}),kt}if(this._cache||(this._cache=new Set(sr.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=sr.objectValues(r);return tt(n,{received:n.data,code:We.invalid_enum_value,options:s}),kt}return ys(e.data)}get enum(){return this._def.values}}wM.create=(t,e)=>new wM({values:t,typeName:Tt.ZodNativeEnum,...Ft(e)});class yg extends Jt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==st.promise&&r.common.async===!1)return tt(r,{code:We.invalid_type,expected:st.promise,received:r.parsedType}),kt;const n=r.parsedType===st.promise?r.data:Promise.resolve(r.data);return ys(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}yg.create=(t,e)=>new yg({type:t,typeName:Tt.ZodPromise,...Ft(e)});class ju extends Jt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{tt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return kt;const d=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return d.status==="aborted"?kt:d.status==="dirty"||r.value==="dirty"?rf(d.value):d});{if(r.value==="aborted")return kt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?kt:l.status==="dirty"||r.value==="dirty"?rf(l.value):l}}if(s.type==="refinement"){const o=l=>{const d=s.refinement(l,i);if(n.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?kt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?kt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!wu(o))return kt;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>wu(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):kt);sr.assertNever(s)}}ju.create=(t,e,r)=>new ju({schema:t,typeName:Tt.ZodEffects,effect:e,...Ft(r)});ju.createWithPreprocess=(t,e,r)=>new ju({schema:e,effect:{type:"preprocess",transform:t},typeName:Tt.ZodEffects,...Ft(r)});class Yo extends Jt{_parse(e){return this._getType(e)===st.undefined?ys(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Yo.create=(t,e)=>new Yo({innerType:t,typeName:Tt.ZodOptional,...Ft(e)});class Tu extends Jt{_parse(e){return this._getType(e)===st.null?ys(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Tu.create=(t,e)=>new Tu({innerType:t,typeName:Tt.ZodNullable,...Ft(e)});class gj extends Jt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===st.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}gj.create=(t,e)=>new gj({innerType:t,typeName:Tt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ft(e)});class bj extends Jt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return mg(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Zi(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Zi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}bj.create=(t,e)=>new bj({innerType:t,typeName:Tt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ft(e)});class AM extends Jt{_parse(e){if(this._getType(e)!==st.nan){const n=this._getOrReturnCtx(e);return tt(n,{code:We.invalid_type,expected:st.nan,received:n.parsedType}),kt}return{status:"valid",value:e.data}}}AM.create=t=>new AM({typeName:Tt.ZodNaN,...Ft(t)});class Vfe extends Jt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class rS extends Jt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?kt:i.status==="dirty"?(r.dirty(),rf(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?kt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new rS({in:e,out:r,typeName:Tt.ZodPipeline})}}class vj extends Jt{_parse(e){const r=this._def.innerType._parse(e),n=s=>(wu(s)&&(s.value=Object.freeze(s.value)),s);return mg(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}vj.create=(t,e)=>new vj({innerType:t,typeName:Tt.ZodReadonly,...Ft(e)});var Tt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Tt||(Tt={}));const Ll=ei.create,EM=mc.create;xc.create;const $fe=xg.create;Au.create;const jM=pj.create;Zo.create;const af=ai.create,Gfe=sa.create,Hfe=gg.create;bg.create;gc.create;const Kfe=vg.create,Yfe=xj.create,Wfe=Eu.create;yg.create;Yo.create;Tu.create;const jd={string:(t=>ei.create({...t,coerce:!0})),number:(t=>mc.create({...t,coerce:!0})),boolean:(t=>xg.create({...t,coerce:!0})),bigint:(t=>xc.create({...t,coerce:!0})),date:(t=>Au.create({...t,coerce:!0}))};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Xfe,Jfe;function Qfe(){return{geminiUrl:Xfe,vertexUrl:Jfe}}function Zfe(t,e,r){var n,s,i;if(!(!((n=t.httpOptions)===null||n===void 0)&&n.baseUrl)){const o=Qfe();return t.vertexai?(s=o.vertexUrl)!==null&&s!==void 0?s:e:(i=o.geminiUrl)!==null&&i!==void 0?i:r}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zu{}function At(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(n,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const i=e[s];return i!=null?String(i):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function E(t,e,r){for(let i=0;i<e.length-1;i++){const o=e[i];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(r))t[l]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const d=t[l];if(Array.isArray(r))for(let u=0;u<d.length;u++){const h=d[u];E(h,e.slice(i+1),r[u])}else for(const u of d)E(u,e.slice(i+1),r)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const d=t[l];E(d[0],e.slice(i+1),r);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const n=e[e.length-1],s=t[n];if(s!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===s)return;if(typeof s=="object"&&typeof r=="object"&&s!==null&&r!==null)Object.assign(s,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else t[n]=r}function A(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return;const n=e[r];if(n.endsWith("[]")){const s=n.slice(0,-2);if(s in t){const i=t[s];return Array.isArray(i)?i.map(o=>A(o,e.slice(r+1))):void 0}else return}else t=t[n]}return t}catch(r){if(r instanceof TypeError)return;throw r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var TM;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(TM||(TM={}));var SM;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(SM||(SM={}));var $e;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})($e||($e={}));var kM;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(kM||(kM={}));var _M;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(_M||(_M={}));var CM;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(CM||(CM={}));var OM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(OM||(OM={}));var DM;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(DM||(DM={}));var IM;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(IM||(IM={}));var RM;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(RM||(RM={}));var MM;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(MM||(MM={}));var PM;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(PM||(PM={}));var LM;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(LM||(LM={}));var Ng;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ng||(Ng={}));var UM;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(UM||(UM={}));var yj;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(yj||(yj={}));var FM;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(FM||(FM={}));var BM;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(BM||(BM={}));var zM;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(zM||(zM={}));var qM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qM||(qM={}));var VM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(VM||(VM={}));var $M;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})($M||($M={}));var GM;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(GM||(GM={}));var HM;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(HM||(HM={}));var KM;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(KM||(KM={}));var YM;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(YM||(YM={}));var WM;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(WM||(WM={}));var XM;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(XM||(XM={}));var JM;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(JM||(JM={}));var QM;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(QM||(QM={}));var ZM;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(ZM||(ZM={}));var eP;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(eP||(eP={}));var tP;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(tP||(tP={}));var rP;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(rP||(rP={}));var aP;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(aP||(aP={}));var nP;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(nP||(nP={}));var sP;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(sP||(sP={}));var iP;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(iP||(iP={}));var Fd;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Fd||(Fd={}));class W0{get text(){var e,r,n,s,i,o,l,d;if(((s=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",h=!1;const p=[];for(const x of(d=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&d!==void 0?d:[]){for(const[v,b]of Object.entries(x))v!=="text"&&v!=="thought"&&(b!==null||b!==void 0)&&p.push(v);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;h=!0,u+=x.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?u:void 0}get data(){var e,r,n,s,i,o,l,d;if(((s=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const h=[];for(const p of(d=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&d!==void 0?d:[]){for(const[x,v]of Object.entries(p))x!=="inlineData"&&(v!==null||v!==void 0)&&h.push(x);p.inlineData&&typeof p.inlineData.data=="string"&&(u+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,r,n,s,i,o,l,d;if(((s=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(d=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||d===void 0?void 0:d.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,r,n,s,i,o,l,d,u;if(((s=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(d=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||d===void 0?void 0:d.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(u=h==null?void 0:h[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,r,n,s,i,o,l,d,u;if(((s=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(d=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||d===void 0?void 0:d.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(u=h==null?void 0:h[0])===null||u===void 0?void 0:u.output}}class oP{}class lP{}class ehe{}class the{}class cP{}class dP{}class uP{}class rhe{}class fP{}class hP{}class pP{}class ahe{}class Nj{constructor(e){const r={};for(const n of e.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class nhe{}class she{}class ihe{get text(){var e,r,n;let s="",i=!1;const o=[];for(const l of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[d,u]of Object.entries(l))d!=="text"&&d!=="thought"&&u!==null&&o.push(d);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;i=!0,s+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?s:void 0}get data(){var e,r,n;let s="";const i=[];for(const o of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[l,d]of Object.entries(o))l!=="inlineData"&&d!==null&&i.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(s+=atob(o.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class ohe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _r(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function n7(t,e){const r=_r(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function s7(t,e){return Array.isArray(e)?e.map(r=>wg(t,r)):[wg(t,e)]}function wg(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function lhe(t,e){const r=wg(t,e);if(r.mimeType&&r.mimeType.startsWith("image/"))return r;throw new Error(`Unsupported mime type: ${r.mimeType}`)}function che(t,e){const r=wg(t,e);if(r.mimeType&&r.mimeType.startsWith("audio/"))return r;throw new Error(`Unsupported mime type: ${r.mimeType}`)}function mP(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function i7(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(r=>mP(t,r)):[mP(t,e)]}function wj(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function xP(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function gP(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function an(t,e){if(e==null)throw new Error("ContentUnion is required");return wj(e)?e:{role:"user",parts:i7(t,e)}}function o7(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const n=an(t,r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(t.isVertexAI()){const r=an(t,e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>an(t,r)):[an(t,e)]}function Bs(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(xP(e)||gP(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[an(t,e)]}const r=[],n=[],s=wj(e[0]);for(const i of e){const o=wj(i);if(o!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)r.push(i);else{if(xP(i)||gP(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return s||r.push({role:"user",parts:i7(t,n)}),r}const dhe=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),bP=Wfe(["string","number","integer","object","array","boolean","null"]),uhe=Hfe([bP,af(bP)]);function fhe(t=!0){const e=Yfe(()=>{const r=Gfe({type:uhe.optional(),format:Ll().optional(),title:Ll().optional(),description:Ll().optional(),default:jM().optional(),items:e.optional(),minItems:jd.string().optional(),maxItems:jd.string().optional(),enum:af(jM()).optional(),properties:Kfe(Ll(),e).optional(),required:af(Ll()).optional(),minProperties:jd.string().optional(),maxProperties:jd.string().optional(),propertyOrdering:af(Ll()).optional(),minimum:EM().optional(),maximum:EM().optional(),minLength:jd.string().optional(),maxLength:jd.string().optional(),pattern:Ll().optional(),anyOf:af(e).optional(),additionalProperties:$fe().optional()});return t?r.strict():r});return e}function hhe(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(n=>n!=="null");if(r.length===1)e.type=Object.keys($e).includes(r[0].toUpperCase())?$e[r[0].toUpperCase()]:$e.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of r)e.anyOf.push({type:Object.keys($e).includes(n.toUpperCase())?$e[n.toUpperCase()]:$e.TYPE_UNSPECIFIED})}}function Hd(t){const e={},r=["items"],n=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&hhe(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.keys($e).includes(l.toUpperCase())?l.toUpperCase():$e.TYPE_UNSPECIFIED}else if(r.includes(o))e[o]=Hd(l);else if(n.includes(o)){const d=[];for(const u of l){if(u.type=="null"){e.nullable=!0;continue}d.push(Hd(u))}e[o]=d}else if(s.includes(o)){const d={};for(const[u,h]of Object.entries(l))d[u]=Hd(h);e[o]=d}else{if(o==="additionalProperties")continue;e[o]=l}return e}function Ag(t,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const r=fhe().parse(e);return Hd(r)}else return Hd(e)}function l7(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function aS(t,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Jh(t,e){if(e.functionDeclarations)for(const r of e.functionDeclarations)r.parameters&&(r.parameters=Ag(t,r.parameters)),r.response&&(r.response=Ag(t,r.response));return e}function Qh(t,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const r=[];for(const n of e)r.push(n);return r}function phe(t,e,r,n=1){const s=!e.startsWith(`${r}/`)&&e.split("/").length===n;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:s?`${r}/${e}`:e}function dl(t,e){if(typeof e!="string")throw new Error("name must be a string");return phe(t,e,"cachedContents")}function c7(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ul(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function mhe(t){return t!=null&&typeof t=="object"&&"name"in t}function xhe(t){return t!=null&&typeof t=="object"&&"video"in t}function ghe(t){return t!=null&&typeof t=="object"&&"uri"in t}function d7(t,e){var r;let n;if(mhe(e)&&(n=e.name),!(ghe(e)&&(n=e.uri,n===void 0))&&!(xhe(e)&&(n=(r=e.video)===null||r===void 0?void 0:r.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function u7(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function f7(t,e){for(const r of["models","tunedModels","publisherModels"])if(bhe(e,r))return e[r];return[]}function bhe(t,e){return t!==null&&typeof t=="object"&&e in t}function vhe(t,e={}){const r=t,n={name:r.name,description:r.description,parameters:Hd(Ob(r.inputSchema))};return e.behavior&&(n.behavior=e.behavior),{functionDeclarations:[n]}}function yhe(t,e={}){const r=[],n=new Set;for(const s of t){const i=s.name;if(n.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);n.add(i);const o=vhe(s,e);o.functionDeclarations&&r.push(...o.functionDeclarations)}return{functionDeclarations:r}}function Nhe(t){const e=[];for(const r of t)e.push(Ob(r));return e}function whe(t){const e={};for(const[r,n]of Object.entries(t)){const s=n;e[r]=Ob(s)}return e}function Ob(t){const e=new Set(["items"]),r=new Set(["anyOf"]),n=new Set(["properties"]),s={};for(const[i,o]of Object.entries(t))if(e.has(i))s[i]=Ob(o);else if(r.has(i))s[i]=Nhe(o);else if(n.has(i))s[i]=whe(o);else if(i==="type"){const l=o.toUpperCase();s[i]=Object.keys($e).includes(l)?l:$e.TYPE_UNSPECIFIED}else dhe.has(i)&&(s[i]=o);return s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ahe(t,e){const r={},n=A(e,["fps"]);n!=null&&E(r,["fps"],n);const s=A(e,["endOffset"]);s!=null&&E(r,["endOffset"],s);const i=A(e,["startOffset"]);return i!=null&&E(r,["startOffset"],i),r}function Ehe(t,e){const r={};if(A(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=A(e,["data"]);n!=null&&E(r,["data"],n);const s=A(e,["mimeType"]);return s!=null&&E(r,["mimeType"],s),r}function jhe(t,e){const r={};if(A(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=A(e,["fileUri"]);n!=null&&E(r,["fileUri"],n);const s=A(e,["mimeType"]);return s!=null&&E(r,["mimeType"],s),r}function The(t,e){const r={},n=A(e,["videoMetadata"]);n!=null&&E(r,["videoMetadata"],Ahe(t,n));const s=A(e,["thought"]);s!=null&&E(r,["thought"],s);const i=A(e,["inlineData"]);i!=null&&E(r,["inlineData"],Ehe(t,i));const o=A(e,["fileData"]);o!=null&&E(r,["fileData"],jhe(t,o));const l=A(e,["thoughtSignature"]);l!=null&&E(r,["thoughtSignature"],l);const d=A(e,["codeExecutionResult"]);d!=null&&E(r,["codeExecutionResult"],d);const u=A(e,["executableCode"]);u!=null&&E(r,["executableCode"],u);const h=A(e,["functionCall"]);h!=null&&E(r,["functionCall"],h);const p=A(e,["functionResponse"]);p!=null&&E(r,["functionResponse"],p);const x=A(e,["text"]);return x!=null&&E(r,["text"],x),r}function vP(t,e){const r={},n=A(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>The(t,o))),E(r,["parts"],i)}const s=A(e,["role"]);return s!=null&&E(r,["role"],s),r}function She(t,e){const r={},n=A(e,["behavior"]);n!=null&&E(r,["behavior"],n);const s=A(e,["description"]);s!=null&&E(r,["description"],s);const i=A(e,["name"]);i!=null&&E(r,["name"],i);const o=A(e,["parameters"]);o!=null&&E(r,["parameters"],o);const l=A(e,["response"]);return l!=null&&E(r,["response"],l),r}function khe(t,e){const r={},n=A(e,["startTime"]);n!=null&&E(r,["startTime"],n);const s=A(e,["endTime"]);return s!=null&&E(r,["endTime"],s),r}function _he(t,e){const r={},n=A(e,["timeRangeFilter"]);return n!=null&&E(r,["timeRangeFilter"],khe(t,n)),r}function Che(t,e){const r={},n=A(e,["mode"]);n!=null&&E(r,["mode"],n);const s=A(e,["dynamicThreshold"]);return s!=null&&E(r,["dynamicThreshold"],s),r}function Ohe(t,e){const r={},n=A(e,["dynamicRetrievalConfig"]);return n!=null&&E(r,["dynamicRetrievalConfig"],Che(t,n)),r}function Dhe(){return{}}function Ihe(t,e){const r={},n=A(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(u=>She(t,u))),E(r,["functionDeclarations"],d)}if(A(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=A(e,["googleSearch"]);s!=null&&E(r,["googleSearch"],_he(t,s));const i=A(e,["googleSearchRetrieval"]);if(i!=null&&E(r,["googleSearchRetrieval"],Ohe(t,i)),A(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(A(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");A(e,["urlContext"])!=null&&E(r,["urlContext"],Dhe());const l=A(e,["codeExecution"]);return l!=null&&E(r,["codeExecution"],l),r}function Rhe(t,e){const r={},n=A(e,["mode"]);n!=null&&E(r,["mode"],n);const s=A(e,["allowedFunctionNames"]);return s!=null&&E(r,["allowedFunctionNames"],s),r}function Mhe(t,e){const r={},n=A(e,["latitude"]);n!=null&&E(r,["latitude"],n);const s=A(e,["longitude"]);return s!=null&&E(r,["longitude"],s),r}function Phe(t,e){const r={},n=A(e,["latLng"]);n!=null&&E(r,["latLng"],Mhe(t,n));const s=A(e,["languageCode"]);return s!=null&&E(r,["languageCode"],s),r}function Lhe(t,e){const r={},n=A(e,["functionCallingConfig"]);n!=null&&E(r,["functionCallingConfig"],Rhe(t,n));const s=A(e,["retrievalConfig"]);return s!=null&&E(r,["retrievalConfig"],Phe(t,s)),r}function Uhe(t,e,r){const n={},s=A(e,["ttl"]);r!==void 0&&s!=null&&E(r,["ttl"],s);const i=A(e,["expireTime"]);r!==void 0&&i!=null&&E(r,["expireTime"],i);const o=A(e,["displayName"]);r!==void 0&&o!=null&&E(r,["displayName"],o);const l=A(e,["contents"]);if(r!==void 0&&l!=null){let p=Bs(t,l);Array.isArray(p)&&(p=p.map(x=>vP(t,x))),E(r,["contents"],p)}const d=A(e,["systemInstruction"]);r!==void 0&&d!=null&&E(r,["systemInstruction"],vP(t,an(t,d)));const u=A(e,["tools"]);if(r!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(x=>Ihe(t,x))),E(r,["tools"],p)}const h=A(e,["toolConfig"]);if(r!==void 0&&h!=null&&E(r,["toolConfig"],Lhe(t,h)),A(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Fhe(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["model"],n7(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],Uhe(t,s,r)),r}function Bhe(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["_url","name"],dl(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],s),r}function zhe(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["_url","name"],dl(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],s),r}function qhe(t,e,r){const n={},s=A(e,["ttl"]);r!==void 0&&s!=null&&E(r,["ttl"],s);const i=A(e,["expireTime"]);return r!==void 0&&i!=null&&E(r,["expireTime"],i),n}function Vhe(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["_url","name"],dl(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],qhe(t,s,r)),r}function $he(t,e,r){const n={},s=A(e,["pageSize"]);r!==void 0&&s!=null&&E(r,["_query","pageSize"],s);const i=A(e,["pageToken"]);return r!==void 0&&i!=null&&E(r,["_query","pageToken"],i),n}function Ghe(t,e){const r={},n=A(e,["config"]);return n!=null&&E(r,["config"],$he(t,n,r)),r}function Hhe(t,e){const r={},n=A(e,["fps"]);n!=null&&E(r,["fps"],n);const s=A(e,["endOffset"]);s!=null&&E(r,["endOffset"],s);const i=A(e,["startOffset"]);return i!=null&&E(r,["startOffset"],i),r}function Khe(t,e){const r={},n=A(e,["displayName"]);n!=null&&E(r,["displayName"],n);const s=A(e,["data"]);s!=null&&E(r,["data"],s);const i=A(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function Yhe(t,e){const r={},n=A(e,["displayName"]);n!=null&&E(r,["displayName"],n);const s=A(e,["fileUri"]);s!=null&&E(r,["fileUri"],s);const i=A(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function Whe(t,e){const r={},n=A(e,["videoMetadata"]);n!=null&&E(r,["videoMetadata"],Hhe(t,n));const s=A(e,["thought"]);s!=null&&E(r,["thought"],s);const i=A(e,["inlineData"]);i!=null&&E(r,["inlineData"],Khe(t,i));const o=A(e,["fileData"]);o!=null&&E(r,["fileData"],Yhe(t,o));const l=A(e,["thoughtSignature"]);l!=null&&E(r,["thoughtSignature"],l);const d=A(e,["codeExecutionResult"]);d!=null&&E(r,["codeExecutionResult"],d);const u=A(e,["executableCode"]);u!=null&&E(r,["executableCode"],u);const h=A(e,["functionCall"]);h!=null&&E(r,["functionCall"],h);const p=A(e,["functionResponse"]);p!=null&&E(r,["functionResponse"],p);const x=A(e,["text"]);return x!=null&&E(r,["text"],x),r}function yP(t,e){const r={},n=A(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Whe(t,o))),E(r,["parts"],i)}const s=A(e,["role"]);return s!=null&&E(r,["role"],s),r}function Xhe(t,e){const r={};if(A(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=A(e,["description"]);n!=null&&E(r,["description"],n);const s=A(e,["name"]);s!=null&&E(r,["name"],s);const i=A(e,["parameters"]);i!=null&&E(r,["parameters"],i);const o=A(e,["response"]);return o!=null&&E(r,["response"],o),r}function Jhe(t,e){const r={},n=A(e,["startTime"]);n!=null&&E(r,["startTime"],n);const s=A(e,["endTime"]);return s!=null&&E(r,["endTime"],s),r}function Qhe(t,e){const r={},n=A(e,["timeRangeFilter"]);return n!=null&&E(r,["timeRangeFilter"],Jhe(t,n)),r}function Zhe(t,e){const r={},n=A(e,["mode"]);n!=null&&E(r,["mode"],n);const s=A(e,["dynamicThreshold"]);return s!=null&&E(r,["dynamicThreshold"],s),r}function epe(t,e){const r={},n=A(e,["dynamicRetrievalConfig"]);return n!=null&&E(r,["dynamicRetrievalConfig"],Zhe(t,n)),r}function tpe(){return{}}function rpe(t,e){const r={},n=A(e,["apiKeyString"]);return n!=null&&E(r,["apiKeyString"],n),r}function ape(t,e){const r={},n=A(e,["apiKeyConfig"]);n!=null&&E(r,["apiKeyConfig"],rpe(t,n));const s=A(e,["authType"]);s!=null&&E(r,["authType"],s);const i=A(e,["googleServiceAccountConfig"]);i!=null&&E(r,["googleServiceAccountConfig"],i);const o=A(e,["httpBasicAuthConfig"]);o!=null&&E(r,["httpBasicAuthConfig"],o);const l=A(e,["oauthConfig"]);l!=null&&E(r,["oauthConfig"],l);const d=A(e,["oidcConfig"]);return d!=null&&E(r,["oidcConfig"],d),r}function npe(t,e){const r={},n=A(e,["authConfig"]);return n!=null&&E(r,["authConfig"],ape(t,n)),r}function spe(t,e){const r={},n=A(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>Xhe(t,p))),E(r,["functionDeclarations"],h)}const s=A(e,["retrieval"]);s!=null&&E(r,["retrieval"],s);const i=A(e,["googleSearch"]);i!=null&&E(r,["googleSearch"],Qhe(t,i));const o=A(e,["googleSearchRetrieval"]);o!=null&&E(r,["googleSearchRetrieval"],epe(t,o)),A(e,["enterpriseWebSearch"])!=null&&E(r,["enterpriseWebSearch"],tpe());const d=A(e,["googleMaps"]);if(d!=null&&E(r,["googleMaps"],npe(t,d)),A(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const u=A(e,["codeExecution"]);return u!=null&&E(r,["codeExecution"],u),r}function ipe(t,e){const r={},n=A(e,["mode"]);n!=null&&E(r,["mode"],n);const s=A(e,["allowedFunctionNames"]);return s!=null&&E(r,["allowedFunctionNames"],s),r}function ope(t,e){const r={},n=A(e,["latitude"]);n!=null&&E(r,["latitude"],n);const s=A(e,["longitude"]);return s!=null&&E(r,["longitude"],s),r}function lpe(t,e){const r={},n=A(e,["latLng"]);n!=null&&E(r,["latLng"],ope(t,n));const s=A(e,["languageCode"]);return s!=null&&E(r,["languageCode"],s),r}function cpe(t,e){const r={},n=A(e,["functionCallingConfig"]);n!=null&&E(r,["functionCallingConfig"],ipe(t,n));const s=A(e,["retrievalConfig"]);return s!=null&&E(r,["retrievalConfig"],lpe(t,s)),r}function dpe(t,e,r){const n={},s=A(e,["ttl"]);r!==void 0&&s!=null&&E(r,["ttl"],s);const i=A(e,["expireTime"]);r!==void 0&&i!=null&&E(r,["expireTime"],i);const o=A(e,["displayName"]);r!==void 0&&o!=null&&E(r,["displayName"],o);const l=A(e,["contents"]);if(r!==void 0&&l!=null){let x=Bs(t,l);Array.isArray(x)&&(x=x.map(v=>yP(t,v))),E(r,["contents"],x)}const d=A(e,["systemInstruction"]);r!==void 0&&d!=null&&E(r,["systemInstruction"],yP(t,an(t,d)));const u=A(e,["tools"]);if(r!==void 0&&u!=null){let x=u;Array.isArray(x)&&(x=x.map(v=>spe(t,v))),E(r,["tools"],x)}const h=A(e,["toolConfig"]);r!==void 0&&h!=null&&E(r,["toolConfig"],cpe(t,h));const p=A(e,["kmsKeyName"]);return r!==void 0&&p!=null&&E(r,["encryption_spec","kmsKeyName"],p),n}function upe(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["model"],n7(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],dpe(t,s,r)),r}function fpe(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["_url","name"],dl(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],s),r}function hpe(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["_url","name"],dl(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],s),r}function ppe(t,e,r){const n={},s=A(e,["ttl"]);r!==void 0&&s!=null&&E(r,["ttl"],s);const i=A(e,["expireTime"]);return r!==void 0&&i!=null&&E(r,["expireTime"],i),n}function mpe(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["_url","name"],dl(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],ppe(t,s,r)),r}function xpe(t,e,r){const n={},s=A(e,["pageSize"]);r!==void 0&&s!=null&&E(r,["_query","pageSize"],s);const i=A(e,["pageToken"]);return r!==void 0&&i!=null&&E(r,["_query","pageToken"],i),n}function gpe(t,e){const r={},n=A(e,["config"]);return n!=null&&E(r,["config"],xpe(t,n,r)),r}function ix(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["name"],n);const s=A(e,["displayName"]);s!=null&&E(r,["displayName"],s);const i=A(e,["model"]);i!=null&&E(r,["model"],i);const o=A(e,["createTime"]);o!=null&&E(r,["createTime"],o);const l=A(e,["updateTime"]);l!=null&&E(r,["updateTime"],l);const d=A(e,["expireTime"]);d!=null&&E(r,["expireTime"],d);const u=A(e,["usageMetadata"]);return u!=null&&E(r,["usageMetadata"],u),r}function bpe(){return{}}function vpe(t,e){const r={},n=A(e,["nextPageToken"]);n!=null&&E(r,["nextPageToken"],n);const s=A(e,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>ix(t,o))),E(r,["cachedContents"],i)}return r}function ox(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["name"],n);const s=A(e,["displayName"]);s!=null&&E(r,["displayName"],s);const i=A(e,["model"]);i!=null&&E(r,["model"],i);const o=A(e,["createTime"]);o!=null&&E(r,["createTime"],o);const l=A(e,["updateTime"]);l!=null&&E(r,["updateTime"],l);const d=A(e,["expireTime"]);d!=null&&E(r,["expireTime"],d);const u=A(e,["usageMetadata"]);return u!=null&&E(r,["usageMetadata"],u),r}function ype(){return{}}function Npe(t,e){const r={},n=A(e,["nextPageToken"]);n!=null&&E(r,["nextPageToken"],n);const s=A(e,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>ox(t,o))),E(r,["cachedContents"],i)}return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Su;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Su||(Su={}));class Db{constructor(e,r,n,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,n,s)}init(e,r,n){var s,i;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.idxInternal=0;let o={config:{}};n?typeof n=="object"?o=Object.assign({},n):o=n:o={config:{}},o.config&&(o.config.pageToken=r.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(i=(s=o.config)===null||s===void 0?void 0:s.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wpe extends zu{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Db(Su.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(e){var r,n,s,i;let o,l="",d={};if(this.apiClient.isVertexAI()){const u=upe(this.apiClient,e);return l=At("cachedContents",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),o.then(h=>ox(this.apiClient,h))}else{const u=Fhe(this.apiClient,e);return l=At("cachedContents",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>ix(this.apiClient,h))}}async get(e){var r,n,s,i;let o,l="",d={};if(this.apiClient.isVertexAI()){const u=fpe(this.apiClient,e);return l=At("{name}",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),o.then(h=>ox(this.apiClient,h))}else{const u=Bhe(this.apiClient,e);return l=At("{name}",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>ix(this.apiClient,h))}}async delete(e){var r,n,s,i;let o,l="",d={};if(this.apiClient.isVertexAI()){const u=hpe(this.apiClient,e);return l=At("{name}",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),o.then(()=>{const h=ype(),p=new hP;return Object.assign(p,h),p})}else{const u=zhe(this.apiClient,e);return l=At("{name}",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(()=>{const h=bpe(),p=new hP;return Object.assign(p,h),p})}}async update(e){var r,n,s,i;let o,l="",d={};if(this.apiClient.isVertexAI()){const u=mpe(this.apiClient,e);return l=At("{name}",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),o.then(h=>ox(this.apiClient,h))}else{const u=Vhe(this.apiClient,e);return l=At("{name}",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>ix(this.apiClient,h))}}async listInternal(e){var r,n,s,i;let o,l="",d={};if(this.apiClient.isVertexAI()){const u=gpe(this.apiClient,e);return l=At("cachedContents",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),o.then(h=>{const p=Npe(this.apiClient,h),x=new pP;return Object.assign(x,p),x})}else{const u=Ghe(this.apiClient,e);return l=At("cachedContents",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const p=vpe(this.apiClient,h),x=new pP;return Object.assign(x,p),x})}}}function NP(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ir(t){return this instanceof Ir?(this.v=t,this):new Ir(t)}function Kd(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(v){return function(b){return Promise.resolve(b).then(v,p)}}function l(v,b){n[v]&&(s[v]=function(w){return new Promise(function(g,S){i.push([v,w,g,S])>1||d(v,w)})},b&&(s[v]=b(s[v])))}function d(v,b){try{u(n[v](b))}catch(w){x(i[0][3],w)}}function u(v){v.value instanceof Ir?Promise.resolve(v.value.v).then(h,p):x(i[0][2],v)}function h(v){d("next",v)}function p(v){d("throw",v)}function x(v,b){v(b),i.shift(),i.length&&d(i[0][0],i[0][1])}}function wf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof NP=="function"?NP(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(l,d){o=t[i](o),s(l,d,o.done,o.value)})}}function s(i,o,l,d){Promise.resolve(d).then(function(u){i({value:u,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ape(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:h7(r)}function h7(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function Epe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function wP(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let n=0;for(;n<r;)if(t[n].role==="user")e.push(t[n]),n++;else{const s=[];let i=!0;for(;n<r&&t[n].role==="model";)s.push(t[n]),i&&!h7(t[n])&&(i=!1),n++;i?e.push(...s):e.pop()}return e}class jpe{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new Tpe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Tpe{constructor(e,r,n,s={},i=[]){this.apiClient=e,this.modelsModule=r,this.model=n,this.config=s,this.history=i,this.sendPromise=Promise.resolve(),Epe(i)}async sendMessage(e){var r;await this.sendPromise;const n=an(this.apiClient,e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var i,o,l;const d=await s,u=(o=(i=d.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content,h=d.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let x=[];h!=null&&(x=(l=h.slice(p))!==null&&l!==void 0?l:[]);const v=u?[u]:[];this.recordHistory(n,v,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var r;await this.sendPromise;const n=an(this.apiClient,e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const i=await s;return this.processStreamResponse(i,n)}getHistory(e=!1){const r=e?wP(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){var n,s;return Kd(this,arguments,function*(){var o,l,d,u;const h=[];try{for(var p=!0,x=wf(e),v;v=yield Ir(x.next()),o=v.done,!o;p=!0){u=v.value,p=!1;const b=u;if(Ape(b)){const w=(s=(n=b.candidates)===null||n===void 0?void 0:n[0])===null||s===void 0?void 0:s.content;w!==void 0&&h.push(w)}yield yield Ir(b)}}catch(b){l={error:b}}finally{try{!p&&!o&&(d=x.return)&&(yield Ir(d.call(x)))}finally{if(l)throw l.error}}this.recordHistory(r,h)})}recordHistory(e,r,n){let s=[];r.length>0&&r.every(i=>i.role!==void 0)?s=r:s.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...wP(n)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Spe(t,e,r){const n={},s=A(e,["pageSize"]);r!==void 0&&s!=null&&E(r,["_query","pageSize"],s);const i=A(e,["pageToken"]);return r!==void 0&&i!=null&&E(r,["_query","pageToken"],i),n}function kpe(t,e){const r={},n=A(e,["config"]);return n!=null&&E(r,["config"],Spe(t,n,r)),r}function _pe(t,e){const r={},n=A(e,["details"]);n!=null&&E(r,["details"],n);const s=A(e,["message"]);s!=null&&E(r,["message"],s);const i=A(e,["code"]);return i!=null&&E(r,["code"],i),r}function Cpe(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["name"],n);const s=A(e,["displayName"]);s!=null&&E(r,["displayName"],s);const i=A(e,["mimeType"]);i!=null&&E(r,["mimeType"],i);const o=A(e,["sizeBytes"]);o!=null&&E(r,["sizeBytes"],o);const l=A(e,["createTime"]);l!=null&&E(r,["createTime"],l);const d=A(e,["expirationTime"]);d!=null&&E(r,["expirationTime"],d);const u=A(e,["updateTime"]);u!=null&&E(r,["updateTime"],u);const h=A(e,["sha256Hash"]);h!=null&&E(r,["sha256Hash"],h);const p=A(e,["uri"]);p!=null&&E(r,["uri"],p);const x=A(e,["downloadUri"]);x!=null&&E(r,["downloadUri"],x);const v=A(e,["state"]);v!=null&&E(r,["state"],v);const b=A(e,["source"]);b!=null&&E(r,["source"],b);const w=A(e,["videoMetadata"]);w!=null&&E(r,["videoMetadata"],w);const g=A(e,["error"]);return g!=null&&E(r,["error"],_pe(t,g)),r}function Ope(t,e){const r={},n=A(e,["file"]);n!=null&&E(r,["file"],Cpe(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],s),r}function Dpe(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["_url","file"],d7(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],s),r}function Ipe(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["_url","file"],d7(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],s),r}function Rpe(t,e){const r={},n=A(e,["details"]);n!=null&&E(r,["details"],n);const s=A(e,["message"]);s!=null&&E(r,["message"],s);const i=A(e,["code"]);return i!=null&&E(r,["code"],i),r}function Aj(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["name"],n);const s=A(e,["displayName"]);s!=null&&E(r,["displayName"],s);const i=A(e,["mimeType"]);i!=null&&E(r,["mimeType"],i);const o=A(e,["sizeBytes"]);o!=null&&E(r,["sizeBytes"],o);const l=A(e,["createTime"]);l!=null&&E(r,["createTime"],l);const d=A(e,["expirationTime"]);d!=null&&E(r,["expirationTime"],d);const u=A(e,["updateTime"]);u!=null&&E(r,["updateTime"],u);const h=A(e,["sha256Hash"]);h!=null&&E(r,["sha256Hash"],h);const p=A(e,["uri"]);p!=null&&E(r,["uri"],p);const x=A(e,["downloadUri"]);x!=null&&E(r,["downloadUri"],x);const v=A(e,["state"]);v!=null&&E(r,["state"],v);const b=A(e,["source"]);b!=null&&E(r,["source"],b);const w=A(e,["videoMetadata"]);w!=null&&E(r,["videoMetadata"],w);const g=A(e,["error"]);return g!=null&&E(r,["error"],Rpe(t,g)),r}function Mpe(t,e){const r={},n=A(e,["nextPageToken"]);n!=null&&E(r,["nextPageToken"],n);const s=A(e,["files"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>Aj(t,o))),E(r,["files"],i)}return r}function Ppe(){return{}}function Lpe(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Upe extends zu{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Db(Su.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>Aj(this.apiClient,r))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,n;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=kpe(this.apiClient,e);return i=At("files",l._url),o=l._query,delete l.config,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>{const u=Mpe(this.apiClient,d),h=new ahe;return Object.assign(h,u),h})}}async createInternal(e){var r,n;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ope(this.apiClient,e);return i=At("upload/v1beta/files",l._url),o=l._query,delete l.config,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(()=>{const d=Ppe(),u=new nhe;return Object.assign(u,d),u})}}async get(e){var r,n;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Dpe(this.apiClient,e);return i=At("files/{file}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>Aj(this.apiClient,d))}}async delete(e){var r,n;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ipe(this.apiClient,e);return i=At("files/{file}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(()=>{const d=Lpe(),u=new she;return Object.assign(u,d),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fpe(t,e){const r={},n=A(e,["voiceName"]);return n!=null&&E(r,["voiceName"],n),r}function Bpe(t,e){const r={},n=A(e,["voiceName"]);return n!=null&&E(r,["voiceName"],n),r}function p7(t,e){const r={},n=A(e,["prebuiltVoiceConfig"]);return n!=null&&E(r,["prebuiltVoiceConfig"],Fpe(t,n)),r}function zpe(t,e){const r={},n=A(e,["prebuiltVoiceConfig"]);return n!=null&&E(r,["prebuiltVoiceConfig"],Bpe(t,n)),r}function qpe(t,e){const r={},n=A(e,["speaker"]);n!=null&&E(r,["speaker"],n);const s=A(e,["voiceConfig"]);return s!=null&&E(r,["voiceConfig"],p7(t,s)),r}function Vpe(t,e){const r={},n=A(e,["speakerVoiceConfigs"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>qpe(t,i))),E(r,["speakerVoiceConfigs"],s)}return r}function $pe(t,e){const r={},n=A(e,["voiceConfig"]);n!=null&&E(r,["voiceConfig"],p7(t,n));const s=A(e,["multiSpeakerVoiceConfig"]);s!=null&&E(r,["multiSpeakerVoiceConfig"],Vpe(t,s));const i=A(e,["languageCode"]);return i!=null&&E(r,["languageCode"],i),r}function Gpe(t,e){const r={},n=A(e,["voiceConfig"]);if(n!=null&&E(r,["voiceConfig"],zpe(t,n)),A(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=A(e,["languageCode"]);return s!=null&&E(r,["languageCode"],s),r}function Hpe(t,e){const r={},n=A(e,["fps"]);n!=null&&E(r,["fps"],n);const s=A(e,["endOffset"]);s!=null&&E(r,["endOffset"],s);const i=A(e,["startOffset"]);return i!=null&&E(r,["startOffset"],i),r}function Kpe(t,e){const r={},n=A(e,["fps"]);n!=null&&E(r,["fps"],n);const s=A(e,["endOffset"]);s!=null&&E(r,["endOffset"],s);const i=A(e,["startOffset"]);return i!=null&&E(r,["startOffset"],i),r}function Ype(t,e){const r={};if(A(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=A(e,["data"]);n!=null&&E(r,["data"],n);const s=A(e,["mimeType"]);return s!=null&&E(r,["mimeType"],s),r}function Wpe(t,e){const r={},n=A(e,["displayName"]);n!=null&&E(r,["displayName"],n);const s=A(e,["data"]);s!=null&&E(r,["data"],s);const i=A(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function Xpe(t,e){const r={};if(A(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=A(e,["fileUri"]);n!=null&&E(r,["fileUri"],n);const s=A(e,["mimeType"]);return s!=null&&E(r,["mimeType"],s),r}function Jpe(t,e){const r={},n=A(e,["displayName"]);n!=null&&E(r,["displayName"],n);const s=A(e,["fileUri"]);s!=null&&E(r,["fileUri"],s);const i=A(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function Qpe(t,e){const r={},n=A(e,["videoMetadata"]);n!=null&&E(r,["videoMetadata"],Hpe(t,n));const s=A(e,["thought"]);s!=null&&E(r,["thought"],s);const i=A(e,["inlineData"]);i!=null&&E(r,["inlineData"],Ype(t,i));const o=A(e,["fileData"]);o!=null&&E(r,["fileData"],Xpe(t,o));const l=A(e,["thoughtSignature"]);l!=null&&E(r,["thoughtSignature"],l);const d=A(e,["codeExecutionResult"]);d!=null&&E(r,["codeExecutionResult"],d);const u=A(e,["executableCode"]);u!=null&&E(r,["executableCode"],u);const h=A(e,["functionCall"]);h!=null&&E(r,["functionCall"],h);const p=A(e,["functionResponse"]);p!=null&&E(r,["functionResponse"],p);const x=A(e,["text"]);return x!=null&&E(r,["text"],x),r}function Zpe(t,e){const r={},n=A(e,["videoMetadata"]);n!=null&&E(r,["videoMetadata"],Kpe(t,n));const s=A(e,["thought"]);s!=null&&E(r,["thought"],s);const i=A(e,["inlineData"]);i!=null&&E(r,["inlineData"],Wpe(t,i));const o=A(e,["fileData"]);o!=null&&E(r,["fileData"],Jpe(t,o));const l=A(e,["thoughtSignature"]);l!=null&&E(r,["thoughtSignature"],l);const d=A(e,["codeExecutionResult"]);d!=null&&E(r,["codeExecutionResult"],d);const u=A(e,["executableCode"]);u!=null&&E(r,["executableCode"],u);const h=A(e,["functionCall"]);h!=null&&E(r,["functionCall"],h);const p=A(e,["functionResponse"]);p!=null&&E(r,["functionResponse"],p);const x=A(e,["text"]);return x!=null&&E(r,["text"],x),r}function eme(t,e){const r={},n=A(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Qpe(t,o))),E(r,["parts"],i)}const s=A(e,["role"]);return s!=null&&E(r,["role"],s),r}function tme(t,e){const r={},n=A(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Zpe(t,o))),E(r,["parts"],i)}const s=A(e,["role"]);return s!=null&&E(r,["role"],s),r}function rme(t,e){const r={},n=A(e,["behavior"]);n!=null&&E(r,["behavior"],n);const s=A(e,["description"]);s!=null&&E(r,["description"],s);const i=A(e,["name"]);i!=null&&E(r,["name"],i);const o=A(e,["parameters"]);o!=null&&E(r,["parameters"],o);const l=A(e,["response"]);return l!=null&&E(r,["response"],l),r}function ame(t,e){const r={};if(A(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=A(e,["description"]);n!=null&&E(r,["description"],n);const s=A(e,["name"]);s!=null&&E(r,["name"],s);const i=A(e,["parameters"]);i!=null&&E(r,["parameters"],i);const o=A(e,["response"]);return o!=null&&E(r,["response"],o),r}function nme(t,e){const r={},n=A(e,["startTime"]);n!=null&&E(r,["startTime"],n);const s=A(e,["endTime"]);return s!=null&&E(r,["endTime"],s),r}function sme(t,e){const r={},n=A(e,["startTime"]);n!=null&&E(r,["startTime"],n);const s=A(e,["endTime"]);return s!=null&&E(r,["endTime"],s),r}function ime(t,e){const r={},n=A(e,["timeRangeFilter"]);return n!=null&&E(r,["timeRangeFilter"],nme(t,n)),r}function ome(t,e){const r={},n=A(e,["timeRangeFilter"]);return n!=null&&E(r,["timeRangeFilter"],sme(t,n)),r}function lme(t,e){const r={},n=A(e,["mode"]);n!=null&&E(r,["mode"],n);const s=A(e,["dynamicThreshold"]);return s!=null&&E(r,["dynamicThreshold"],s),r}function cme(t,e){const r={},n=A(e,["mode"]);n!=null&&E(r,["mode"],n);const s=A(e,["dynamicThreshold"]);return s!=null&&E(r,["dynamicThreshold"],s),r}function dme(t,e){const r={},n=A(e,["dynamicRetrievalConfig"]);return n!=null&&E(r,["dynamicRetrievalConfig"],lme(t,n)),r}function ume(t,e){const r={},n=A(e,["dynamicRetrievalConfig"]);return n!=null&&E(r,["dynamicRetrievalConfig"],cme(t,n)),r}function fme(){return{}}function hme(t,e){const r={},n=A(e,["apiKeyString"]);return n!=null&&E(r,["apiKeyString"],n),r}function pme(t,e){const r={},n=A(e,["apiKeyConfig"]);n!=null&&E(r,["apiKeyConfig"],hme(t,n));const s=A(e,["authType"]);s!=null&&E(r,["authType"],s);const i=A(e,["googleServiceAccountConfig"]);i!=null&&E(r,["googleServiceAccountConfig"],i);const o=A(e,["httpBasicAuthConfig"]);o!=null&&E(r,["httpBasicAuthConfig"],o);const l=A(e,["oauthConfig"]);l!=null&&E(r,["oauthConfig"],l);const d=A(e,["oidcConfig"]);return d!=null&&E(r,["oidcConfig"],d),r}function mme(t,e){const r={},n=A(e,["authConfig"]);return n!=null&&E(r,["authConfig"],pme(t,n)),r}function xme(){return{}}function gme(t,e){const r={},n=A(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(u=>rme(t,u))),E(r,["functionDeclarations"],d)}if(A(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=A(e,["googleSearch"]);s!=null&&E(r,["googleSearch"],ime(t,s));const i=A(e,["googleSearchRetrieval"]);if(i!=null&&E(r,["googleSearchRetrieval"],dme(t,i)),A(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(A(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");A(e,["urlContext"])!=null&&E(r,["urlContext"],xme());const l=A(e,["codeExecution"]);return l!=null&&E(r,["codeExecution"],l),r}function bme(t,e){const r={},n=A(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>ame(t,p))),E(r,["functionDeclarations"],h)}const s=A(e,["retrieval"]);s!=null&&E(r,["retrieval"],s);const i=A(e,["googleSearch"]);i!=null&&E(r,["googleSearch"],ome(t,i));const o=A(e,["googleSearchRetrieval"]);o!=null&&E(r,["googleSearchRetrieval"],ume(t,o)),A(e,["enterpriseWebSearch"])!=null&&E(r,["enterpriseWebSearch"],fme());const d=A(e,["googleMaps"]);if(d!=null&&E(r,["googleMaps"],mme(t,d)),A(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const u=A(e,["codeExecution"]);return u!=null&&E(r,["codeExecution"],u),r}function vme(t,e){const r={},n=A(e,["handle"]);if(n!=null&&E(r,["handle"],n),A(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return r}function yme(t,e){const r={},n=A(e,["handle"]);n!=null&&E(r,["handle"],n);const s=A(e,["transparent"]);return s!=null&&E(r,["transparent"],s),r}function AP(){return{}}function EP(){return{}}function Nme(t,e){const r={},n=A(e,["disabled"]);n!=null&&E(r,["disabled"],n);const s=A(e,["startOfSpeechSensitivity"]);s!=null&&E(r,["startOfSpeechSensitivity"],s);const i=A(e,["endOfSpeechSensitivity"]);i!=null&&E(r,["endOfSpeechSensitivity"],i);const o=A(e,["prefixPaddingMs"]);o!=null&&E(r,["prefixPaddingMs"],o);const l=A(e,["silenceDurationMs"]);return l!=null&&E(r,["silenceDurationMs"],l),r}function wme(t,e){const r={},n=A(e,["disabled"]);n!=null&&E(r,["disabled"],n);const s=A(e,["startOfSpeechSensitivity"]);s!=null&&E(r,["startOfSpeechSensitivity"],s);const i=A(e,["endOfSpeechSensitivity"]);i!=null&&E(r,["endOfSpeechSensitivity"],i);const o=A(e,["prefixPaddingMs"]);o!=null&&E(r,["prefixPaddingMs"],o);const l=A(e,["silenceDurationMs"]);return l!=null&&E(r,["silenceDurationMs"],l),r}function Ame(t,e){const r={},n=A(e,["automaticActivityDetection"]);n!=null&&E(r,["automaticActivityDetection"],Nme(t,n));const s=A(e,["activityHandling"]);s!=null&&E(r,["activityHandling"],s);const i=A(e,["turnCoverage"]);return i!=null&&E(r,["turnCoverage"],i),r}function Eme(t,e){const r={},n=A(e,["automaticActivityDetection"]);n!=null&&E(r,["automaticActivityDetection"],wme(t,n));const s=A(e,["activityHandling"]);s!=null&&E(r,["activityHandling"],s);const i=A(e,["turnCoverage"]);return i!=null&&E(r,["turnCoverage"],i),r}function jme(t,e){const r={},n=A(e,["targetTokens"]);return n!=null&&E(r,["targetTokens"],n),r}function Tme(t,e){const r={},n=A(e,["targetTokens"]);return n!=null&&E(r,["targetTokens"],n),r}function Sme(t,e){const r={},n=A(e,["triggerTokens"]);n!=null&&E(r,["triggerTokens"],n);const s=A(e,["slidingWindow"]);return s!=null&&E(r,["slidingWindow"],jme(t,s)),r}function kme(t,e){const r={},n=A(e,["triggerTokens"]);n!=null&&E(r,["triggerTokens"],n);const s=A(e,["slidingWindow"]);return s!=null&&E(r,["slidingWindow"],Tme(t,s)),r}function _me(t,e){const r={},n=A(e,["proactiveAudio"]);return n!=null&&E(r,["proactiveAudio"],n),r}function Cme(t,e){const r={},n=A(e,["proactiveAudio"]);return n!=null&&E(r,["proactiveAudio"],n),r}function Ome(t,e,r){const n={},s=A(e,["generationConfig"]);r!==void 0&&s!=null&&E(r,["setup","generationConfig"],s);const i=A(e,["responseModalities"]);r!==void 0&&i!=null&&E(r,["setup","generationConfig","responseModalities"],i);const o=A(e,["temperature"]);r!==void 0&&o!=null&&E(r,["setup","generationConfig","temperature"],o);const l=A(e,["topP"]);r!==void 0&&l!=null&&E(r,["setup","generationConfig","topP"],l);const d=A(e,["topK"]);r!==void 0&&d!=null&&E(r,["setup","generationConfig","topK"],d);const u=A(e,["maxOutputTokens"]);r!==void 0&&u!=null&&E(r,["setup","generationConfig","maxOutputTokens"],u);const h=A(e,["mediaResolution"]);r!==void 0&&h!=null&&E(r,["setup","generationConfig","mediaResolution"],h);const p=A(e,["seed"]);r!==void 0&&p!=null&&E(r,["setup","generationConfig","seed"],p);const x=A(e,["speechConfig"]);r!==void 0&&x!=null&&E(r,["setup","generationConfig","speechConfig"],$pe(t,aS(t,x)));const v=A(e,["enableAffectiveDialog"]);r!==void 0&&v!=null&&E(r,["setup","generationConfig","enableAffectiveDialog"],v);const b=A(e,["systemInstruction"]);r!==void 0&&b!=null&&E(r,["setup","systemInstruction"],eme(t,an(t,b)));const w=A(e,["tools"]);if(r!==void 0&&w!=null){let _=Qh(t,w);Array.isArray(_)&&(_=_.map(O=>gme(t,Jh(t,O)))),E(r,["setup","tools"],_)}const g=A(e,["sessionResumption"]);r!==void 0&&g!=null&&E(r,["setup","sessionResumption"],vme(t,g));const S=A(e,["inputAudioTranscription"]);r!==void 0&&S!=null&&E(r,["setup","inputAudioTranscription"],AP());const k=A(e,["outputAudioTranscription"]);r!==void 0&&k!=null&&E(r,["setup","outputAudioTranscription"],AP());const y=A(e,["realtimeInputConfig"]);r!==void 0&&y!=null&&E(r,["setup","realtimeInputConfig"],Ame(t,y));const j=A(e,["contextWindowCompression"]);r!==void 0&&j!=null&&E(r,["setup","contextWindowCompression"],Sme(t,j));const T=A(e,["proactivity"]);return r!==void 0&&T!=null&&E(r,["setup","proactivity"],_me(t,T)),n}function Dme(t,e,r){const n={},s=A(e,["generationConfig"]);r!==void 0&&s!=null&&E(r,["setup","generationConfig"],s);const i=A(e,["responseModalities"]);r!==void 0&&i!=null&&E(r,["setup","generationConfig","responseModalities"],i);const o=A(e,["temperature"]);r!==void 0&&o!=null&&E(r,["setup","generationConfig","temperature"],o);const l=A(e,["topP"]);r!==void 0&&l!=null&&E(r,["setup","generationConfig","topP"],l);const d=A(e,["topK"]);r!==void 0&&d!=null&&E(r,["setup","generationConfig","topK"],d);const u=A(e,["maxOutputTokens"]);r!==void 0&&u!=null&&E(r,["setup","generationConfig","maxOutputTokens"],u);const h=A(e,["mediaResolution"]);r!==void 0&&h!=null&&E(r,["setup","generationConfig","mediaResolution"],h);const p=A(e,["seed"]);r!==void 0&&p!=null&&E(r,["setup","generationConfig","seed"],p);const x=A(e,["speechConfig"]);r!==void 0&&x!=null&&E(r,["setup","generationConfig","speechConfig"],Gpe(t,aS(t,x)));const v=A(e,["enableAffectiveDialog"]);r!==void 0&&v!=null&&E(r,["setup","generationConfig","enableAffectiveDialog"],v);const b=A(e,["systemInstruction"]);r!==void 0&&b!=null&&E(r,["setup","systemInstruction"],tme(t,an(t,b)));const w=A(e,["tools"]);if(r!==void 0&&w!=null){let _=Qh(t,w);Array.isArray(_)&&(_=_.map(O=>bme(t,Jh(t,O)))),E(r,["setup","tools"],_)}const g=A(e,["sessionResumption"]);r!==void 0&&g!=null&&E(r,["setup","sessionResumption"],yme(t,g));const S=A(e,["inputAudioTranscription"]);r!==void 0&&S!=null&&E(r,["setup","inputAudioTranscription"],EP());const k=A(e,["outputAudioTranscription"]);r!==void 0&&k!=null&&E(r,["setup","outputAudioTranscription"],EP());const y=A(e,["realtimeInputConfig"]);r!==void 0&&y!=null&&E(r,["setup","realtimeInputConfig"],Eme(t,y));const j=A(e,["contextWindowCompression"]);r!==void 0&&j!=null&&E(r,["setup","contextWindowCompression"],kme(t,j));const T=A(e,["proactivity"]);return r!==void 0&&T!=null&&E(r,["setup","proactivity"],Cme(t,T)),n}function Ime(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["setup","model"],_r(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],Ome(t,s,r)),r}function Rme(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["setup","model"],_r(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],Dme(t,s,r)),r}function Mme(){return{}}function Pme(){return{}}function Lme(){return{}}function Ume(){return{}}function Fme(t,e){const r={},n=A(e,["media"]);n!=null&&E(r,["mediaChunks"],s7(t,n));const s=A(e,["audio"]);s!=null&&E(r,["audio"],che(t,s));const i=A(e,["audioStreamEnd"]);i!=null&&E(r,["audioStreamEnd"],i);const o=A(e,["video"]);o!=null&&E(r,["video"],lhe(t,o));const l=A(e,["text"]);return l!=null&&E(r,["text"],l),A(e,["activityStart"])!=null&&E(r,["activityStart"],Mme()),A(e,["activityEnd"])!=null&&E(r,["activityEnd"],Lme()),r}function Bme(t,e){const r={},n=A(e,["media"]);if(n!=null&&E(r,["mediaChunks"],s7(t,n)),A(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const s=A(e,["audioStreamEnd"]);if(s!=null&&E(r,["audioStreamEnd"],s),A(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(A(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return A(e,["activityStart"])!=null&&E(r,["activityStart"],Pme()),A(e,["activityEnd"])!=null&&E(r,["activityEnd"],Ume()),r}function m7(t,e){const r={},n=A(e,["text"]);n!=null&&E(r,["text"],n);const s=A(e,["weight"]);return s!=null&&E(r,["weight"],s),r}function zme(t,e){const r={},n=A(e,["weightedPrompts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>m7(t,i))),E(r,["weightedPrompts"],s)}return r}function x7(t,e){const r={},n=A(e,["temperature"]);n!=null&&E(r,["temperature"],n);const s=A(e,["topK"]);s!=null&&E(r,["topK"],s);const i=A(e,["seed"]);i!=null&&E(r,["seed"],i);const o=A(e,["guidance"]);o!=null&&E(r,["guidance"],o);const l=A(e,["bpm"]);l!=null&&E(r,["bpm"],l);const d=A(e,["density"]);d!=null&&E(r,["density"],d);const u=A(e,["brightness"]);u!=null&&E(r,["brightness"],u);const h=A(e,["scale"]);h!=null&&E(r,["scale"],h);const p=A(e,["muteBass"]);p!=null&&E(r,["muteBass"],p);const x=A(e,["muteDrums"]);x!=null&&E(r,["muteDrums"],x);const v=A(e,["onlyBassAndDrums"]);return v!=null&&E(r,["onlyBassAndDrums"],v),r}function qme(t,e){const r={},n=A(e,["musicGenerationConfig"]);return n!=null&&E(r,["musicGenerationConfig"],x7(t,n)),r}function g7(t,e){const r={},n=A(e,["model"]);return n!=null&&E(r,["model"],n),r}function b7(t,e){const r={},n=A(e,["weightedPrompts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>m7(t,i))),E(r,["weightedPrompts"],s)}return r}function Ej(t,e){const r={},n=A(e,["setup"]);n!=null&&E(r,["setup"],g7(t,n));const s=A(e,["clientContent"]);s!=null&&E(r,["clientContent"],b7(t,s));const i=A(e,["musicGenerationConfig"]);i!=null&&E(r,["musicGenerationConfig"],x7(t,i));const o=A(e,["playbackControl"]);return o!=null&&E(r,["playbackControl"],o),r}function Vme(){return{}}function $me(){return{}}function Gme(t,e){const r={},n=A(e,["fps"]);n!=null&&E(r,["fps"],n);const s=A(e,["endOffset"]);s!=null&&E(r,["endOffset"],s);const i=A(e,["startOffset"]);return i!=null&&E(r,["startOffset"],i),r}function Hme(t,e){const r={},n=A(e,["fps"]);n!=null&&E(r,["fps"],n);const s=A(e,["endOffset"]);s!=null&&E(r,["endOffset"],s);const i=A(e,["startOffset"]);return i!=null&&E(r,["startOffset"],i),r}function Kme(t,e){const r={},n=A(e,["data"]);n!=null&&E(r,["data"],n);const s=A(e,["mimeType"]);return s!=null&&E(r,["mimeType"],s),r}function Yme(t,e){const r={},n=A(e,["displayName"]);n!=null&&E(r,["displayName"],n);const s=A(e,["data"]);s!=null&&E(r,["data"],s);const i=A(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function Wme(t,e){const r={},n=A(e,["fileUri"]);n!=null&&E(r,["fileUri"],n);const s=A(e,["mimeType"]);return s!=null&&E(r,["mimeType"],s),r}function Xme(t,e){const r={},n=A(e,["displayName"]);n!=null&&E(r,["displayName"],n);const s=A(e,["fileUri"]);s!=null&&E(r,["fileUri"],s);const i=A(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function Jme(t,e){const r={},n=A(e,["videoMetadata"]);n!=null&&E(r,["videoMetadata"],Gme(t,n));const s=A(e,["thought"]);s!=null&&E(r,["thought"],s);const i=A(e,["inlineData"]);i!=null&&E(r,["inlineData"],Kme(t,i));const o=A(e,["fileData"]);o!=null&&E(r,["fileData"],Wme(t,o));const l=A(e,["thoughtSignature"]);l!=null&&E(r,["thoughtSignature"],l);const d=A(e,["codeExecutionResult"]);d!=null&&E(r,["codeExecutionResult"],d);const u=A(e,["executableCode"]);u!=null&&E(r,["executableCode"],u);const h=A(e,["functionCall"]);h!=null&&E(r,["functionCall"],h);const p=A(e,["functionResponse"]);p!=null&&E(r,["functionResponse"],p);const x=A(e,["text"]);return x!=null&&E(r,["text"],x),r}function Qme(t,e){const r={},n=A(e,["videoMetadata"]);n!=null&&E(r,["videoMetadata"],Hme(t,n));const s=A(e,["thought"]);s!=null&&E(r,["thought"],s);const i=A(e,["inlineData"]);i!=null&&E(r,["inlineData"],Yme(t,i));const o=A(e,["fileData"]);o!=null&&E(r,["fileData"],Xme(t,o));const l=A(e,["thoughtSignature"]);l!=null&&E(r,["thoughtSignature"],l);const d=A(e,["codeExecutionResult"]);d!=null&&E(r,["codeExecutionResult"],d);const u=A(e,["executableCode"]);u!=null&&E(r,["executableCode"],u);const h=A(e,["functionCall"]);h!=null&&E(r,["functionCall"],h);const p=A(e,["functionResponse"]);p!=null&&E(r,["functionResponse"],p);const x=A(e,["text"]);return x!=null&&E(r,["text"],x),r}function Zme(t,e){const r={},n=A(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Jme(t,o))),E(r,["parts"],i)}const s=A(e,["role"]);return s!=null&&E(r,["role"],s),r}function exe(t,e){const r={},n=A(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Qme(t,o))),E(r,["parts"],i)}const s=A(e,["role"]);return s!=null&&E(r,["role"],s),r}function jP(t,e){const r={},n=A(e,["text"]);n!=null&&E(r,["text"],n);const s=A(e,["finished"]);return s!=null&&E(r,["finished"],s),r}function TP(t,e){const r={},n=A(e,["text"]);n!=null&&E(r,["text"],n);const s=A(e,["finished"]);return s!=null&&E(r,["finished"],s),r}function txe(t,e){const r={},n=A(e,["retrievedUrl"]);n!=null&&E(r,["retrievedUrl"],n);const s=A(e,["urlRetrievalStatus"]);return s!=null&&E(r,["urlRetrievalStatus"],s),r}function rxe(t,e){const r={},n=A(e,["urlMetadata"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>txe(t,i))),E(r,["urlMetadata"],s)}return r}function axe(t,e){const r={},n=A(e,["modelTurn"]);n!=null&&E(r,["modelTurn"],Zme(t,n));const s=A(e,["turnComplete"]);s!=null&&E(r,["turnComplete"],s);const i=A(e,["interrupted"]);i!=null&&E(r,["interrupted"],i);const o=A(e,["groundingMetadata"]);o!=null&&E(r,["groundingMetadata"],o);const l=A(e,["generationComplete"]);l!=null&&E(r,["generationComplete"],l);const d=A(e,["inputTranscription"]);d!=null&&E(r,["inputTranscription"],jP(t,d));const u=A(e,["outputTranscription"]);u!=null&&E(r,["outputTranscription"],jP(t,u));const h=A(e,["urlContextMetadata"]);return h!=null&&E(r,["urlContextMetadata"],rxe(t,h)),r}function nxe(t,e){const r={},n=A(e,["modelTurn"]);n!=null&&E(r,["modelTurn"],exe(t,n));const s=A(e,["turnComplete"]);s!=null&&E(r,["turnComplete"],s);const i=A(e,["interrupted"]);i!=null&&E(r,["interrupted"],i);const o=A(e,["groundingMetadata"]);o!=null&&E(r,["groundingMetadata"],o);const l=A(e,["generationComplete"]);l!=null&&E(r,["generationComplete"],l);const d=A(e,["inputTranscription"]);d!=null&&E(r,["inputTranscription"],TP(t,d));const u=A(e,["outputTranscription"]);return u!=null&&E(r,["outputTranscription"],TP(t,u)),r}function sxe(t,e){const r={},n=A(e,["id"]);n!=null&&E(r,["id"],n);const s=A(e,["args"]);s!=null&&E(r,["args"],s);const i=A(e,["name"]);return i!=null&&E(r,["name"],i),r}function ixe(t,e){const r={},n=A(e,["args"]);n!=null&&E(r,["args"],n);const s=A(e,["name"]);return s!=null&&E(r,["name"],s),r}function oxe(t,e){const r={},n=A(e,["functionCalls"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>sxe(t,i))),E(r,["functionCalls"],s)}return r}function lxe(t,e){const r={},n=A(e,["functionCalls"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>ixe(t,i))),E(r,["functionCalls"],s)}return r}function cxe(t,e){const r={},n=A(e,["ids"]);return n!=null&&E(r,["ids"],n),r}function dxe(t,e){const r={},n=A(e,["ids"]);return n!=null&&E(r,["ids"],n),r}function qm(t,e){const r={},n=A(e,["modality"]);n!=null&&E(r,["modality"],n);const s=A(e,["tokenCount"]);return s!=null&&E(r,["tokenCount"],s),r}function Vm(t,e){const r={},n=A(e,["modality"]);n!=null&&E(r,["modality"],n);const s=A(e,["tokenCount"]);return s!=null&&E(r,["tokenCount"],s),r}function uxe(t,e){const r={},n=A(e,["promptTokenCount"]);n!=null&&E(r,["promptTokenCount"],n);const s=A(e,["cachedContentTokenCount"]);s!=null&&E(r,["cachedContentTokenCount"],s);const i=A(e,["responseTokenCount"]);i!=null&&E(r,["responseTokenCount"],i);const o=A(e,["toolUsePromptTokenCount"]);o!=null&&E(r,["toolUsePromptTokenCount"],o);const l=A(e,["thoughtsTokenCount"]);l!=null&&E(r,["thoughtsTokenCount"],l);const d=A(e,["totalTokenCount"]);d!=null&&E(r,["totalTokenCount"],d);const u=A(e,["promptTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(b=>qm(t,b))),E(r,["promptTokensDetails"],v)}const h=A(e,["cacheTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(b=>qm(t,b))),E(r,["cacheTokensDetails"],v)}const p=A(e,["responseTokensDetails"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(b=>qm(t,b))),E(r,["responseTokensDetails"],v)}const x=A(e,["toolUsePromptTokensDetails"]);if(x!=null){let v=x;Array.isArray(v)&&(v=v.map(b=>qm(t,b))),E(r,["toolUsePromptTokensDetails"],v)}return r}function fxe(t,e){const r={},n=A(e,["promptTokenCount"]);n!=null&&E(r,["promptTokenCount"],n);const s=A(e,["cachedContentTokenCount"]);s!=null&&E(r,["cachedContentTokenCount"],s);const i=A(e,["candidatesTokenCount"]);i!=null&&E(r,["responseTokenCount"],i);const o=A(e,["toolUsePromptTokenCount"]);o!=null&&E(r,["toolUsePromptTokenCount"],o);const l=A(e,["thoughtsTokenCount"]);l!=null&&E(r,["thoughtsTokenCount"],l);const d=A(e,["totalTokenCount"]);d!=null&&E(r,["totalTokenCount"],d);const u=A(e,["promptTokensDetails"]);if(u!=null){let b=u;Array.isArray(b)&&(b=b.map(w=>Vm(t,w))),E(r,["promptTokensDetails"],b)}const h=A(e,["cacheTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(w=>Vm(t,w))),E(r,["cacheTokensDetails"],b)}const p=A(e,["candidatesTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(w=>Vm(t,w))),E(r,["responseTokensDetails"],b)}const x=A(e,["toolUsePromptTokensDetails"]);if(x!=null){let b=x;Array.isArray(b)&&(b=b.map(w=>Vm(t,w))),E(r,["toolUsePromptTokensDetails"],b)}const v=A(e,["trafficType"]);return v!=null&&E(r,["trafficType"],v),r}function hxe(t,e){const r={},n=A(e,["timeLeft"]);return n!=null&&E(r,["timeLeft"],n),r}function pxe(t,e){const r={},n=A(e,["timeLeft"]);return n!=null&&E(r,["timeLeft"],n),r}function mxe(t,e){const r={},n=A(e,["newHandle"]);n!=null&&E(r,["newHandle"],n);const s=A(e,["resumable"]);s!=null&&E(r,["resumable"],s);const i=A(e,["lastConsumedClientMessageIndex"]);return i!=null&&E(r,["lastConsumedClientMessageIndex"],i),r}function xxe(t,e){const r={},n=A(e,["newHandle"]);n!=null&&E(r,["newHandle"],n);const s=A(e,["resumable"]);s!=null&&E(r,["resumable"],s);const i=A(e,["lastConsumedClientMessageIndex"]);return i!=null&&E(r,["lastConsumedClientMessageIndex"],i),r}function gxe(t,e){const r={};A(e,["setupComplete"])!=null&&E(r,["setupComplete"],Vme());const s=A(e,["serverContent"]);s!=null&&E(r,["serverContent"],axe(t,s));const i=A(e,["toolCall"]);i!=null&&E(r,["toolCall"],oxe(t,i));const o=A(e,["toolCallCancellation"]);o!=null&&E(r,["toolCallCancellation"],cxe(t,o));const l=A(e,["usageMetadata"]);l!=null&&E(r,["usageMetadata"],uxe(t,l));const d=A(e,["goAway"]);d!=null&&E(r,["goAway"],hxe(t,d));const u=A(e,["sessionResumptionUpdate"]);return u!=null&&E(r,["sessionResumptionUpdate"],mxe(t,u)),r}function bxe(t,e){const r={};A(e,["setupComplete"])!=null&&E(r,["setupComplete"],$me());const s=A(e,["serverContent"]);s!=null&&E(r,["serverContent"],nxe(t,s));const i=A(e,["toolCall"]);i!=null&&E(r,["toolCall"],lxe(t,i));const o=A(e,["toolCallCancellation"]);o!=null&&E(r,["toolCallCancellation"],dxe(t,o));const l=A(e,["usageMetadata"]);l!=null&&E(r,["usageMetadata"],fxe(t,l));const d=A(e,["goAway"]);d!=null&&E(r,["goAway"],pxe(t,d));const u=A(e,["sessionResumptionUpdate"]);return u!=null&&E(r,["sessionResumptionUpdate"],xxe(t,u)),r}function vxe(){return{}}function yxe(t,e){const r={},n=A(e,["text"]);n!=null&&E(r,["text"],n);const s=A(e,["weight"]);return s!=null&&E(r,["weight"],s),r}function Nxe(t,e){const r={},n=A(e,["weightedPrompts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>yxe(t,i))),E(r,["weightedPrompts"],s)}return r}function wxe(t,e){const r={},n=A(e,["temperature"]);n!=null&&E(r,["temperature"],n);const s=A(e,["topK"]);s!=null&&E(r,["topK"],s);const i=A(e,["seed"]);i!=null&&E(r,["seed"],i);const o=A(e,["guidance"]);o!=null&&E(r,["guidance"],o);const l=A(e,["bpm"]);l!=null&&E(r,["bpm"],l);const d=A(e,["density"]);d!=null&&E(r,["density"],d);const u=A(e,["brightness"]);u!=null&&E(r,["brightness"],u);const h=A(e,["scale"]);h!=null&&E(r,["scale"],h);const p=A(e,["muteBass"]);p!=null&&E(r,["muteBass"],p);const x=A(e,["muteDrums"]);x!=null&&E(r,["muteDrums"],x);const v=A(e,["onlyBassAndDrums"]);return v!=null&&E(r,["onlyBassAndDrums"],v),r}function Axe(t,e){const r={},n=A(e,["clientContent"]);n!=null&&E(r,["clientContent"],Nxe(t,n));const s=A(e,["musicGenerationConfig"]);return s!=null&&E(r,["musicGenerationConfig"],wxe(t,s)),r}function Exe(t,e){const r={},n=A(e,["data"]);n!=null&&E(r,["data"],n);const s=A(e,["mimeType"]);s!=null&&E(r,["mimeType"],s);const i=A(e,["sourceMetadata"]);return i!=null&&E(r,["sourceMetadata"],Axe(t,i)),r}function jxe(t,e){const r={},n=A(e,["audioChunks"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>Exe(t,i))),E(r,["audioChunks"],s)}return r}function Txe(t,e){const r={},n=A(e,["text"]);n!=null&&E(r,["text"],n);const s=A(e,["filteredReason"]);return s!=null&&E(r,["filteredReason"],s),r}function Sxe(t,e){const r={};A(e,["setupComplete"])!=null&&E(r,["setupComplete"],vxe());const s=A(e,["serverContent"]);s!=null&&E(r,["serverContent"],jxe(t,s));const i=A(e,["filteredPrompt"]);return i!=null&&E(r,["filteredPrompt"],Txe(t,i)),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kxe(t,e){const r={},n=A(e,["fps"]);n!=null&&E(r,["fps"],n);const s=A(e,["endOffset"]);s!=null&&E(r,["endOffset"],s);const i=A(e,["startOffset"]);return i!=null&&E(r,["startOffset"],i),r}function _xe(t,e){const r={};if(A(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=A(e,["data"]);n!=null&&E(r,["data"],n);const s=A(e,["mimeType"]);return s!=null&&E(r,["mimeType"],s),r}function Cxe(t,e){const r={};if(A(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=A(e,["fileUri"]);n!=null&&E(r,["fileUri"],n);const s=A(e,["mimeType"]);return s!=null&&E(r,["mimeType"],s),r}function Oxe(t,e){const r={},n=A(e,["videoMetadata"]);n!=null&&E(r,["videoMetadata"],kxe(t,n));const s=A(e,["thought"]);s!=null&&E(r,["thought"],s);const i=A(e,["inlineData"]);i!=null&&E(r,["inlineData"],_xe(t,i));const o=A(e,["fileData"]);o!=null&&E(r,["fileData"],Cxe(t,o));const l=A(e,["thoughtSignature"]);l!=null&&E(r,["thoughtSignature"],l);const d=A(e,["codeExecutionResult"]);d!=null&&E(r,["codeExecutionResult"],d);const u=A(e,["executableCode"]);u!=null&&E(r,["executableCode"],u);const h=A(e,["functionCall"]);h!=null&&E(r,["functionCall"],h);const p=A(e,["functionResponse"]);p!=null&&E(r,["functionResponse"],p);const x=A(e,["text"]);return x!=null&&E(r,["text"],x),r}function Ib(t,e){const r={},n=A(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Oxe(t,o))),E(r,["parts"],i)}const s=A(e,["role"]);return s!=null&&E(r,["role"],s),r}function Dxe(t,e){const r={},n=A(e,["anyOf"]);n!=null&&E(r,["anyOf"],n);const s=A(e,["default"]);s!=null&&E(r,["default"],s);const i=A(e,["description"]);i!=null&&E(r,["description"],i);const o=A(e,["enum"]);o!=null&&E(r,["enum"],o);const l=A(e,["example"]);l!=null&&E(r,["example"],l);const d=A(e,["format"]);d!=null&&E(r,["format"],d);const u=A(e,["items"]);u!=null&&E(r,["items"],u);const h=A(e,["maxItems"]);h!=null&&E(r,["maxItems"],h);const p=A(e,["maxLength"]);p!=null&&E(r,["maxLength"],p);const x=A(e,["maxProperties"]);x!=null&&E(r,["maxProperties"],x);const v=A(e,["maximum"]);v!=null&&E(r,["maximum"],v);const b=A(e,["minItems"]);b!=null&&E(r,["minItems"],b);const w=A(e,["minLength"]);w!=null&&E(r,["minLength"],w);const g=A(e,["minProperties"]);g!=null&&E(r,["minProperties"],g);const S=A(e,["minimum"]);S!=null&&E(r,["minimum"],S);const k=A(e,["nullable"]);k!=null&&E(r,["nullable"],k);const y=A(e,["pattern"]);y!=null&&E(r,["pattern"],y);const j=A(e,["properties"]);j!=null&&E(r,["properties"],j);const T=A(e,["propertyOrdering"]);T!=null&&E(r,["propertyOrdering"],T);const _=A(e,["required"]);_!=null&&E(r,["required"],_);const O=A(e,["title"]);O!=null&&E(r,["title"],O);const M=A(e,["type"]);return M!=null&&E(r,["type"],M),r}function Ixe(t,e){const r={};if(A(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=A(e,["category"]);n!=null&&E(r,["category"],n);const s=A(e,["threshold"]);return s!=null&&E(r,["threshold"],s),r}function Rxe(t,e){const r={},n=A(e,["behavior"]);n!=null&&E(r,["behavior"],n);const s=A(e,["description"]);s!=null&&E(r,["description"],s);const i=A(e,["name"]);i!=null&&E(r,["name"],i);const o=A(e,["parameters"]);o!=null&&E(r,["parameters"],o);const l=A(e,["response"]);return l!=null&&E(r,["response"],l),r}function Mxe(t,e){const r={},n=A(e,["startTime"]);n!=null&&E(r,["startTime"],n);const s=A(e,["endTime"]);return s!=null&&E(r,["endTime"],s),r}function Pxe(t,e){const r={},n=A(e,["timeRangeFilter"]);return n!=null&&E(r,["timeRangeFilter"],Mxe(t,n)),r}function Lxe(t,e){const r={},n=A(e,["mode"]);n!=null&&E(r,["mode"],n);const s=A(e,["dynamicThreshold"]);return s!=null&&E(r,["dynamicThreshold"],s),r}function Uxe(t,e){const r={},n=A(e,["dynamicRetrievalConfig"]);return n!=null&&E(r,["dynamicRetrievalConfig"],Lxe(t,n)),r}function Fxe(){return{}}function Bxe(t,e){const r={},n=A(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(u=>Rxe(t,u))),E(r,["functionDeclarations"],d)}if(A(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=A(e,["googleSearch"]);s!=null&&E(r,["googleSearch"],Pxe(t,s));const i=A(e,["googleSearchRetrieval"]);if(i!=null&&E(r,["googleSearchRetrieval"],Uxe(t,i)),A(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(A(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");A(e,["urlContext"])!=null&&E(r,["urlContext"],Fxe());const l=A(e,["codeExecution"]);return l!=null&&E(r,["codeExecution"],l),r}function zxe(t,e){const r={},n=A(e,["mode"]);n!=null&&E(r,["mode"],n);const s=A(e,["allowedFunctionNames"]);return s!=null&&E(r,["allowedFunctionNames"],s),r}function qxe(t,e){const r={},n=A(e,["latitude"]);n!=null&&E(r,["latitude"],n);const s=A(e,["longitude"]);return s!=null&&E(r,["longitude"],s),r}function Vxe(t,e){const r={},n=A(e,["latLng"]);n!=null&&E(r,["latLng"],qxe(t,n));const s=A(e,["languageCode"]);return s!=null&&E(r,["languageCode"],s),r}function $xe(t,e){const r={},n=A(e,["functionCallingConfig"]);n!=null&&E(r,["functionCallingConfig"],zxe(t,n));const s=A(e,["retrievalConfig"]);return s!=null&&E(r,["retrievalConfig"],Vxe(t,s)),r}function Gxe(t,e){const r={},n=A(e,["voiceName"]);return n!=null&&E(r,["voiceName"],n),r}function v7(t,e){const r={},n=A(e,["prebuiltVoiceConfig"]);return n!=null&&E(r,["prebuiltVoiceConfig"],Gxe(t,n)),r}function Hxe(t,e){const r={},n=A(e,["speaker"]);n!=null&&E(r,["speaker"],n);const s=A(e,["voiceConfig"]);return s!=null&&E(r,["voiceConfig"],v7(t,s)),r}function Kxe(t,e){const r={},n=A(e,["speakerVoiceConfigs"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>Hxe(t,i))),E(r,["speakerVoiceConfigs"],s)}return r}function Yxe(t,e){const r={},n=A(e,["voiceConfig"]);n!=null&&E(r,["voiceConfig"],v7(t,n));const s=A(e,["multiSpeakerVoiceConfig"]);s!=null&&E(r,["multiSpeakerVoiceConfig"],Kxe(t,s));const i=A(e,["languageCode"]);return i!=null&&E(r,["languageCode"],i),r}function Wxe(t,e){const r={},n=A(e,["includeThoughts"]);n!=null&&E(r,["includeThoughts"],n);const s=A(e,["thinkingBudget"]);return s!=null&&E(r,["thinkingBudget"],s),r}function Xxe(t,e,r){const n={},s=A(e,["systemInstruction"]);r!==void 0&&s!=null&&E(r,["systemInstruction"],Ib(t,an(t,s)));const i=A(e,["temperature"]);i!=null&&E(n,["temperature"],i);const o=A(e,["topP"]);o!=null&&E(n,["topP"],o);const l=A(e,["topK"]);l!=null&&E(n,["topK"],l);const d=A(e,["candidateCount"]);d!=null&&E(n,["candidateCount"],d);const u=A(e,["maxOutputTokens"]);u!=null&&E(n,["maxOutputTokens"],u);const h=A(e,["stopSequences"]);h!=null&&E(n,["stopSequences"],h);const p=A(e,["responseLogprobs"]);p!=null&&E(n,["responseLogprobs"],p);const x=A(e,["logprobs"]);x!=null&&E(n,["logprobs"],x);const v=A(e,["presencePenalty"]);v!=null&&E(n,["presencePenalty"],v);const b=A(e,["frequencyPenalty"]);b!=null&&E(n,["frequencyPenalty"],b);const w=A(e,["seed"]);w!=null&&E(n,["seed"],w);const g=A(e,["responseMimeType"]);g!=null&&E(n,["responseMimeType"],g);const S=A(e,["responseSchema"]);if(S!=null&&E(n,["responseSchema"],Dxe(t,Ag(t,S))),A(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(A(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=A(e,["safetySettings"]);if(r!==void 0&&k!=null){let F=k;Array.isArray(F)&&(F=F.map(q=>Ixe(t,q))),E(r,["safetySettings"],F)}const y=A(e,["tools"]);if(r!==void 0&&y!=null){let F=Qh(t,y);Array.isArray(F)&&(F=F.map(q=>Bxe(t,Jh(t,q)))),E(r,["tools"],F)}const j=A(e,["toolConfig"]);if(r!==void 0&&j!=null&&E(r,["toolConfig"],$xe(t,j)),A(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=A(e,["cachedContent"]);r!==void 0&&T!=null&&E(r,["cachedContent"],dl(t,T));const _=A(e,["responseModalities"]);_!=null&&E(n,["responseModalities"],_);const O=A(e,["mediaResolution"]);O!=null&&E(n,["mediaResolution"],O);const M=A(e,["speechConfig"]);if(M!=null&&E(n,["speechConfig"],Yxe(t,l7(t,M))),A(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=A(e,["thinkingConfig"]);return D!=null&&E(n,["thinkingConfig"],Wxe(t,D)),n}function SP(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","model"],_r(t,n));const s=A(e,["contents"]);if(s!=null){let o=Bs(t,s);Array.isArray(o)&&(o=o.map(l=>Ib(t,l))),E(r,["contents"],o)}const i=A(e,["config"]);return i!=null&&E(r,["generationConfig"],Xxe(t,i,r)),r}function Jxe(t,e,r){const n={},s=A(e,["taskType"]);r!==void 0&&s!=null&&E(r,["requests[]","taskType"],s);const i=A(e,["title"]);r!==void 0&&i!=null&&E(r,["requests[]","title"],i);const o=A(e,["outputDimensionality"]);if(r!==void 0&&o!=null&&E(r,["requests[]","outputDimensionality"],o),A(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(A(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Qxe(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","model"],_r(t,n));const s=A(e,["contents"]);s!=null&&E(r,["requests[]","content"],o7(t,s));const i=A(e,["config"]);i!=null&&E(r,["config"],Jxe(t,i,r));const o=A(e,["model"]);return o!==void 0&&E(r,["requests[]","model"],_r(t,o)),r}function Zxe(t,e,r){const n={};if(A(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(A(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=A(e,["numberOfImages"]);r!==void 0&&s!=null&&E(r,["parameters","sampleCount"],s);const i=A(e,["aspectRatio"]);r!==void 0&&i!=null&&E(r,["parameters","aspectRatio"],i);const o=A(e,["guidanceScale"]);if(r!==void 0&&o!=null&&E(r,["parameters","guidanceScale"],o),A(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=A(e,["safetyFilterLevel"]);r!==void 0&&l!=null&&E(r,["parameters","safetySetting"],l);const d=A(e,["personGeneration"]);r!==void 0&&d!=null&&E(r,["parameters","personGeneration"],d);const u=A(e,["includeSafetyAttributes"]);r!==void 0&&u!=null&&E(r,["parameters","includeSafetyAttributes"],u);const h=A(e,["includeRaiReason"]);r!==void 0&&h!=null&&E(r,["parameters","includeRaiReason"],h);const p=A(e,["language"]);r!==void 0&&p!=null&&E(r,["parameters","language"],p);const x=A(e,["outputMimeType"]);r!==void 0&&x!=null&&E(r,["parameters","outputOptions","mimeType"],x);const v=A(e,["outputCompressionQuality"]);if(r!==void 0&&v!=null&&E(r,["parameters","outputOptions","compressionQuality"],v),A(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(A(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function ege(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","model"],_r(t,n));const s=A(e,["prompt"]);s!=null&&E(r,["instances[0]","prompt"],s);const i=A(e,["config"]);return i!=null&&E(r,["config"],Zxe(t,i,r)),r}function tge(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","name"],_r(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],s),r}function rge(t,e,r){const n={},s=A(e,["pageSize"]);r!==void 0&&s!=null&&E(r,["_query","pageSize"],s);const i=A(e,["pageToken"]);r!==void 0&&i!=null&&E(r,["_query","pageToken"],i);const o=A(e,["filter"]);r!==void 0&&o!=null&&E(r,["_query","filter"],o);const l=A(e,["queryBase"]);return r!==void 0&&l!=null&&E(r,["_url","models_url"],u7(t,l)),n}function age(t,e){const r={},n=A(e,["config"]);return n!=null&&E(r,["config"],rge(t,n,r)),r}function nge(t,e,r){const n={},s=A(e,["displayName"]);r!==void 0&&s!=null&&E(r,["displayName"],s);const i=A(e,["description"]);r!==void 0&&i!=null&&E(r,["description"],i);const o=A(e,["defaultCheckpointId"]);return r!==void 0&&o!=null&&E(r,["defaultCheckpointId"],o),n}function sge(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","name"],_r(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],nge(t,s,r)),r}function ige(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","name"],_r(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],s),r}function oge(t,e){const r={};if(A(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(A(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(A(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return r}function lge(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","model"],_r(t,n));const s=A(e,["contents"]);if(s!=null){let o=Bs(t,s);Array.isArray(o)&&(o=o.map(l=>Ib(t,l))),E(r,["contents"],o)}const i=A(e,["config"]);return i!=null&&E(r,["config"],oge(t,i)),r}function cge(t,e){const r={};if(A(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=A(e,["imageBytes"]);n!=null&&E(r,["bytesBase64Encoded"],ul(t,n));const s=A(e,["mimeType"]);return s!=null&&E(r,["mimeType"],s),r}function dge(t,e,r){const n={},s=A(e,["numberOfVideos"]);if(r!==void 0&&s!=null&&E(r,["parameters","sampleCount"],s),A(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(A(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=A(e,["durationSeconds"]);if(r!==void 0&&i!=null&&E(r,["parameters","durationSeconds"],i),A(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=A(e,["aspectRatio"]);if(r!==void 0&&o!=null&&E(r,["parameters","aspectRatio"],o),A(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const l=A(e,["personGeneration"]);if(r!==void 0&&l!=null&&E(r,["parameters","personGeneration"],l),A(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=A(e,["negativePrompt"]);if(r!==void 0&&d!=null&&E(r,["parameters","negativePrompt"],d),A(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");if(A(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return n}function uge(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","model"],_r(t,n));const s=A(e,["prompt"]);s!=null&&E(r,["instances[0]","prompt"],s);const i=A(e,["image"]);i!=null&&E(r,["instances[0]","image"],cge(t,i));const o=A(e,["config"]);return o!=null&&E(r,["config"],dge(t,o,r)),r}function fge(t,e){const r={},n=A(e,["fps"]);n!=null&&E(r,["fps"],n);const s=A(e,["endOffset"]);s!=null&&E(r,["endOffset"],s);const i=A(e,["startOffset"]);return i!=null&&E(r,["startOffset"],i),r}function hge(t,e){const r={},n=A(e,["displayName"]);n!=null&&E(r,["displayName"],n);const s=A(e,["data"]);s!=null&&E(r,["data"],s);const i=A(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function pge(t,e){const r={},n=A(e,["displayName"]);n!=null&&E(r,["displayName"],n);const s=A(e,["fileUri"]);s!=null&&E(r,["fileUri"],s);const i=A(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function mge(t,e){const r={},n=A(e,["videoMetadata"]);n!=null&&E(r,["videoMetadata"],fge(t,n));const s=A(e,["thought"]);s!=null&&E(r,["thought"],s);const i=A(e,["inlineData"]);i!=null&&E(r,["inlineData"],hge(t,i));const o=A(e,["fileData"]);o!=null&&E(r,["fileData"],pge(t,o));const l=A(e,["thoughtSignature"]);l!=null&&E(r,["thoughtSignature"],l);const d=A(e,["codeExecutionResult"]);d!=null&&E(r,["codeExecutionResult"],d);const u=A(e,["executableCode"]);u!=null&&E(r,["executableCode"],u);const h=A(e,["functionCall"]);h!=null&&E(r,["functionCall"],h);const p=A(e,["functionResponse"]);p!=null&&E(r,["functionResponse"],p);const x=A(e,["text"]);return x!=null&&E(r,["text"],x),r}function qu(t,e){const r={},n=A(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>mge(t,o))),E(r,["parts"],i)}const s=A(e,["role"]);return s!=null&&E(r,["role"],s),r}function xge(t,e){const r={},n=A(e,["anyOf"]);n!=null&&E(r,["anyOf"],n);const s=A(e,["default"]);s!=null&&E(r,["default"],s);const i=A(e,["description"]);i!=null&&E(r,["description"],i);const o=A(e,["enum"]);o!=null&&E(r,["enum"],o);const l=A(e,["example"]);l!=null&&E(r,["example"],l);const d=A(e,["format"]);d!=null&&E(r,["format"],d);const u=A(e,["items"]);u!=null&&E(r,["items"],u);const h=A(e,["maxItems"]);h!=null&&E(r,["maxItems"],h);const p=A(e,["maxLength"]);p!=null&&E(r,["maxLength"],p);const x=A(e,["maxProperties"]);x!=null&&E(r,["maxProperties"],x);const v=A(e,["maximum"]);v!=null&&E(r,["maximum"],v);const b=A(e,["minItems"]);b!=null&&E(r,["minItems"],b);const w=A(e,["minLength"]);w!=null&&E(r,["minLength"],w);const g=A(e,["minProperties"]);g!=null&&E(r,["minProperties"],g);const S=A(e,["minimum"]);S!=null&&E(r,["minimum"],S);const k=A(e,["nullable"]);k!=null&&E(r,["nullable"],k);const y=A(e,["pattern"]);y!=null&&E(r,["pattern"],y);const j=A(e,["properties"]);j!=null&&E(r,["properties"],j);const T=A(e,["propertyOrdering"]);T!=null&&E(r,["propertyOrdering"],T);const _=A(e,["required"]);_!=null&&E(r,["required"],_);const O=A(e,["title"]);O!=null&&E(r,["title"],O);const M=A(e,["type"]);return M!=null&&E(r,["type"],M),r}function gge(t,e){const r={},n=A(e,["featureSelectionPreference"]);return n!=null&&E(r,["featureSelectionPreference"],n),r}function bge(t,e){const r={},n=A(e,["method"]);n!=null&&E(r,["method"],n);const s=A(e,["category"]);s!=null&&E(r,["category"],s);const i=A(e,["threshold"]);return i!=null&&E(r,["threshold"],i),r}function vge(t,e){const r={};if(A(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=A(e,["description"]);n!=null&&E(r,["description"],n);const s=A(e,["name"]);s!=null&&E(r,["name"],s);const i=A(e,["parameters"]);i!=null&&E(r,["parameters"],i);const o=A(e,["response"]);return o!=null&&E(r,["response"],o),r}function yge(t,e){const r={},n=A(e,["startTime"]);n!=null&&E(r,["startTime"],n);const s=A(e,["endTime"]);return s!=null&&E(r,["endTime"],s),r}function Nge(t,e){const r={},n=A(e,["timeRangeFilter"]);return n!=null&&E(r,["timeRangeFilter"],yge(t,n)),r}function wge(t,e){const r={},n=A(e,["mode"]);n!=null&&E(r,["mode"],n);const s=A(e,["dynamicThreshold"]);return s!=null&&E(r,["dynamicThreshold"],s),r}function Age(t,e){const r={},n=A(e,["dynamicRetrievalConfig"]);return n!=null&&E(r,["dynamicRetrievalConfig"],wge(t,n)),r}function Ege(){return{}}function jge(t,e){const r={},n=A(e,["apiKeyString"]);return n!=null&&E(r,["apiKeyString"],n),r}function Tge(t,e){const r={},n=A(e,["apiKeyConfig"]);n!=null&&E(r,["apiKeyConfig"],jge(t,n));const s=A(e,["authType"]);s!=null&&E(r,["authType"],s);const i=A(e,["googleServiceAccountConfig"]);i!=null&&E(r,["googleServiceAccountConfig"],i);const o=A(e,["httpBasicAuthConfig"]);o!=null&&E(r,["httpBasicAuthConfig"],o);const l=A(e,["oauthConfig"]);l!=null&&E(r,["oauthConfig"],l);const d=A(e,["oidcConfig"]);return d!=null&&E(r,["oidcConfig"],d),r}function Sge(t,e){const r={},n=A(e,["authConfig"]);return n!=null&&E(r,["authConfig"],Tge(t,n)),r}function y7(t,e){const r={},n=A(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>vge(t,p))),E(r,["functionDeclarations"],h)}const s=A(e,["retrieval"]);s!=null&&E(r,["retrieval"],s);const i=A(e,["googleSearch"]);i!=null&&E(r,["googleSearch"],Nge(t,i));const o=A(e,["googleSearchRetrieval"]);o!=null&&E(r,["googleSearchRetrieval"],Age(t,o)),A(e,["enterpriseWebSearch"])!=null&&E(r,["enterpriseWebSearch"],Ege());const d=A(e,["googleMaps"]);if(d!=null&&E(r,["googleMaps"],Sge(t,d)),A(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const u=A(e,["codeExecution"]);return u!=null&&E(r,["codeExecution"],u),r}function kge(t,e){const r={},n=A(e,["mode"]);n!=null&&E(r,["mode"],n);const s=A(e,["allowedFunctionNames"]);return s!=null&&E(r,["allowedFunctionNames"],s),r}function _ge(t,e){const r={},n=A(e,["latitude"]);n!=null&&E(r,["latitude"],n);const s=A(e,["longitude"]);return s!=null&&E(r,["longitude"],s),r}function Cge(t,e){const r={},n=A(e,["latLng"]);n!=null&&E(r,["latLng"],_ge(t,n));const s=A(e,["languageCode"]);return s!=null&&E(r,["languageCode"],s),r}function Oge(t,e){const r={},n=A(e,["functionCallingConfig"]);n!=null&&E(r,["functionCallingConfig"],kge(t,n));const s=A(e,["retrievalConfig"]);return s!=null&&E(r,["retrievalConfig"],Cge(t,s)),r}function Dge(t,e){const r={},n=A(e,["voiceName"]);return n!=null&&E(r,["voiceName"],n),r}function Ige(t,e){const r={},n=A(e,["prebuiltVoiceConfig"]);return n!=null&&E(r,["prebuiltVoiceConfig"],Dge(t,n)),r}function Rge(t,e){const r={},n=A(e,["voiceConfig"]);if(n!=null&&E(r,["voiceConfig"],Ige(t,n)),A(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=A(e,["languageCode"]);return s!=null&&E(r,["languageCode"],s),r}function Mge(t,e){const r={},n=A(e,["includeThoughts"]);n!=null&&E(r,["includeThoughts"],n);const s=A(e,["thinkingBudget"]);return s!=null&&E(r,["thinkingBudget"],s),r}function Pge(t,e,r){const n={},s=A(e,["systemInstruction"]);r!==void 0&&s!=null&&E(r,["systemInstruction"],qu(t,an(t,s)));const i=A(e,["temperature"]);i!=null&&E(n,["temperature"],i);const o=A(e,["topP"]);o!=null&&E(n,["topP"],o);const l=A(e,["topK"]);l!=null&&E(n,["topK"],l);const d=A(e,["candidateCount"]);d!=null&&E(n,["candidateCount"],d);const u=A(e,["maxOutputTokens"]);u!=null&&E(n,["maxOutputTokens"],u);const h=A(e,["stopSequences"]);h!=null&&E(n,["stopSequences"],h);const p=A(e,["responseLogprobs"]);p!=null&&E(n,["responseLogprobs"],p);const x=A(e,["logprobs"]);x!=null&&E(n,["logprobs"],x);const v=A(e,["presencePenalty"]);v!=null&&E(n,["presencePenalty"],v);const b=A(e,["frequencyPenalty"]);b!=null&&E(n,["frequencyPenalty"],b);const w=A(e,["seed"]);w!=null&&E(n,["seed"],w);const g=A(e,["responseMimeType"]);g!=null&&E(n,["responseMimeType"],g);const S=A(e,["responseSchema"]);S!=null&&E(n,["responseSchema"],xge(t,Ag(t,S)));const k=A(e,["routingConfig"]);k!=null&&E(n,["routingConfig"],k);const y=A(e,["modelSelectionConfig"]);y!=null&&E(n,["modelConfig"],gge(t,y));const j=A(e,["safetySettings"]);if(r!==void 0&&j!=null){let X=j;Array.isArray(X)&&(X=X.map(P=>bge(t,P))),E(r,["safetySettings"],X)}const T=A(e,["tools"]);if(r!==void 0&&T!=null){let X=Qh(t,T);Array.isArray(X)&&(X=X.map(P=>y7(t,Jh(t,P)))),E(r,["tools"],X)}const _=A(e,["toolConfig"]);r!==void 0&&_!=null&&E(r,["toolConfig"],Oge(t,_));const O=A(e,["labels"]);r!==void 0&&O!=null&&E(r,["labels"],O);const M=A(e,["cachedContent"]);r!==void 0&&M!=null&&E(r,["cachedContent"],dl(t,M));const D=A(e,["responseModalities"]);D!=null&&E(n,["responseModalities"],D);const F=A(e,["mediaResolution"]);F!=null&&E(n,["mediaResolution"],F);const q=A(e,["speechConfig"]);q!=null&&E(n,["speechConfig"],Rge(t,l7(t,q)));const L=A(e,["audioTimestamp"]);L!=null&&E(n,["audioTimestamp"],L);const B=A(e,["thinkingConfig"]);return B!=null&&E(n,["thinkingConfig"],Mge(t,B)),n}function kP(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","model"],_r(t,n));const s=A(e,["contents"]);if(s!=null){let o=Bs(t,s);Array.isArray(o)&&(o=o.map(l=>qu(t,l))),E(r,["contents"],o)}const i=A(e,["config"]);return i!=null&&E(r,["generationConfig"],Pge(t,i,r)),r}function Lge(t,e,r){const n={},s=A(e,["taskType"]);r!==void 0&&s!=null&&E(r,["instances[]","task_type"],s);const i=A(e,["title"]);r!==void 0&&i!=null&&E(r,["instances[]","title"],i);const o=A(e,["outputDimensionality"]);r!==void 0&&o!=null&&E(r,["parameters","outputDimensionality"],o);const l=A(e,["mimeType"]);r!==void 0&&l!=null&&E(r,["instances[]","mimeType"],l);const d=A(e,["autoTruncate"]);return r!==void 0&&d!=null&&E(r,["parameters","autoTruncate"],d),n}function Uge(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","model"],_r(t,n));const s=A(e,["contents"]);s!=null&&E(r,["instances[]","content"],o7(t,s));const i=A(e,["config"]);return i!=null&&E(r,["config"],Lge(t,i,r)),r}function Fge(t,e,r){const n={},s=A(e,["outputGcsUri"]);r!==void 0&&s!=null&&E(r,["parameters","storageUri"],s);const i=A(e,["negativePrompt"]);r!==void 0&&i!=null&&E(r,["parameters","negativePrompt"],i);const o=A(e,["numberOfImages"]);r!==void 0&&o!=null&&E(r,["parameters","sampleCount"],o);const l=A(e,["aspectRatio"]);r!==void 0&&l!=null&&E(r,["parameters","aspectRatio"],l);const d=A(e,["guidanceScale"]);r!==void 0&&d!=null&&E(r,["parameters","guidanceScale"],d);const u=A(e,["seed"]);r!==void 0&&u!=null&&E(r,["parameters","seed"],u);const h=A(e,["safetyFilterLevel"]);r!==void 0&&h!=null&&E(r,["parameters","safetySetting"],h);const p=A(e,["personGeneration"]);r!==void 0&&p!=null&&E(r,["parameters","personGeneration"],p);const x=A(e,["includeSafetyAttributes"]);r!==void 0&&x!=null&&E(r,["parameters","includeSafetyAttributes"],x);const v=A(e,["includeRaiReason"]);r!==void 0&&v!=null&&E(r,["parameters","includeRaiReason"],v);const b=A(e,["language"]);r!==void 0&&b!=null&&E(r,["parameters","language"],b);const w=A(e,["outputMimeType"]);r!==void 0&&w!=null&&E(r,["parameters","outputOptions","mimeType"],w);const g=A(e,["outputCompressionQuality"]);r!==void 0&&g!=null&&E(r,["parameters","outputOptions","compressionQuality"],g);const S=A(e,["addWatermark"]);r!==void 0&&S!=null&&E(r,["parameters","addWatermark"],S);const k=A(e,["enhancePrompt"]);return r!==void 0&&k!=null&&E(r,["parameters","enhancePrompt"],k),n}function Bge(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","model"],_r(t,n));const s=A(e,["prompt"]);s!=null&&E(r,["instances[0]","prompt"],s);const i=A(e,["config"]);return i!=null&&E(r,["config"],Fge(t,i,r)),r}function nS(t,e){const r={},n=A(e,["gcsUri"]);n!=null&&E(r,["gcsUri"],n);const s=A(e,["imageBytes"]);s!=null&&E(r,["bytesBase64Encoded"],ul(t,s));const i=A(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function zge(t,e){const r={},n=A(e,["maskMode"]);n!=null&&E(r,["maskMode"],n);const s=A(e,["segmentationClasses"]);s!=null&&E(r,["maskClasses"],s);const i=A(e,["maskDilation"]);return i!=null&&E(r,["dilation"],i),r}function qge(t,e){const r={},n=A(e,["controlType"]);n!=null&&E(r,["controlType"],n);const s=A(e,["enableControlImageComputation"]);return s!=null&&E(r,["computeControl"],s),r}function Vge(t,e){const r={},n=A(e,["styleDescription"]);return n!=null&&E(r,["styleDescription"],n),r}function $ge(t,e){const r={},n=A(e,["subjectType"]);n!=null&&E(r,["subjectType"],n);const s=A(e,["subjectDescription"]);return s!=null&&E(r,["subjectDescription"],s),r}function Gge(t,e){const r={},n=A(e,["referenceImage"]);n!=null&&E(r,["referenceImage"],nS(t,n));const s=A(e,["referenceId"]);s!=null&&E(r,["referenceId"],s);const i=A(e,["referenceType"]);i!=null&&E(r,["referenceType"],i);const o=A(e,["maskImageConfig"]);o!=null&&E(r,["maskImageConfig"],zge(t,o));const l=A(e,["controlImageConfig"]);l!=null&&E(r,["controlImageConfig"],qge(t,l));const d=A(e,["styleImageConfig"]);d!=null&&E(r,["styleImageConfig"],Vge(t,d));const u=A(e,["subjectImageConfig"]);return u!=null&&E(r,["subjectImageConfig"],$ge(t,u)),r}function Hge(t,e,r){const n={},s=A(e,["outputGcsUri"]);r!==void 0&&s!=null&&E(r,["parameters","storageUri"],s);const i=A(e,["negativePrompt"]);r!==void 0&&i!=null&&E(r,["parameters","negativePrompt"],i);const o=A(e,["numberOfImages"]);r!==void 0&&o!=null&&E(r,["parameters","sampleCount"],o);const l=A(e,["aspectRatio"]);r!==void 0&&l!=null&&E(r,["parameters","aspectRatio"],l);const d=A(e,["guidanceScale"]);r!==void 0&&d!=null&&E(r,["parameters","guidanceScale"],d);const u=A(e,["seed"]);r!==void 0&&u!=null&&E(r,["parameters","seed"],u);const h=A(e,["safetyFilterLevel"]);r!==void 0&&h!=null&&E(r,["parameters","safetySetting"],h);const p=A(e,["personGeneration"]);r!==void 0&&p!=null&&E(r,["parameters","personGeneration"],p);const x=A(e,["includeSafetyAttributes"]);r!==void 0&&x!=null&&E(r,["parameters","includeSafetyAttributes"],x);const v=A(e,["includeRaiReason"]);r!==void 0&&v!=null&&E(r,["parameters","includeRaiReason"],v);const b=A(e,["language"]);r!==void 0&&b!=null&&E(r,["parameters","language"],b);const w=A(e,["outputMimeType"]);r!==void 0&&w!=null&&E(r,["parameters","outputOptions","mimeType"],w);const g=A(e,["outputCompressionQuality"]);r!==void 0&&g!=null&&E(r,["parameters","outputOptions","compressionQuality"],g);const S=A(e,["editMode"]);r!==void 0&&S!=null&&E(r,["parameters","editMode"],S);const k=A(e,["baseSteps"]);return r!==void 0&&k!=null&&E(r,["parameters","editConfig","baseSteps"],k),n}function Kge(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","model"],_r(t,n));const s=A(e,["prompt"]);s!=null&&E(r,["instances[0]","prompt"],s);const i=A(e,["referenceImages"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(d=>Gge(t,d))),E(r,["instances[0]","referenceImages"],l)}const o=A(e,["config"]);return o!=null&&E(r,["config"],Hge(t,o,r)),r}function Yge(t,e,r){const n={},s=A(e,["includeRaiReason"]);r!==void 0&&s!=null&&E(r,["parameters","includeRaiReason"],s);const i=A(e,["outputMimeType"]);r!==void 0&&i!=null&&E(r,["parameters","outputOptions","mimeType"],i);const o=A(e,["outputCompressionQuality"]);r!==void 0&&o!=null&&E(r,["parameters","outputOptions","compressionQuality"],o);const l=A(e,["numberOfImages"]);r!==void 0&&l!=null&&E(r,["parameters","sampleCount"],l);const d=A(e,["mode"]);return r!==void 0&&d!=null&&E(r,["parameters","mode"],d),n}function Wge(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","model"],_r(t,n));const s=A(e,["image"]);s!=null&&E(r,["instances[0]","image"],nS(t,s));const i=A(e,["upscaleFactor"]);i!=null&&E(r,["parameters","upscaleConfig","upscaleFactor"],i);const o=A(e,["config"]);return o!=null&&E(r,["config"],Yge(t,o,r)),r}function Xge(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","name"],_r(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],s),r}function Jge(t,e,r){const n={},s=A(e,["pageSize"]);r!==void 0&&s!=null&&E(r,["_query","pageSize"],s);const i=A(e,["pageToken"]);r!==void 0&&i!=null&&E(r,["_query","pageToken"],i);const o=A(e,["filter"]);r!==void 0&&o!=null&&E(r,["_query","filter"],o);const l=A(e,["queryBase"]);return r!==void 0&&l!=null&&E(r,["_url","models_url"],u7(t,l)),n}function Qge(t,e){const r={},n=A(e,["config"]);return n!=null&&E(r,["config"],Jge(t,n,r)),r}function Zge(t,e,r){const n={},s=A(e,["displayName"]);r!==void 0&&s!=null&&E(r,["displayName"],s);const i=A(e,["description"]);r!==void 0&&i!=null&&E(r,["description"],i);const o=A(e,["defaultCheckpointId"]);return r!==void 0&&o!=null&&E(r,["defaultCheckpointId"],o),n}function ebe(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","model"],_r(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],Zge(t,s,r)),r}function tbe(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","name"],_r(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],s),r}function rbe(t,e,r){const n={},s=A(e,["systemInstruction"]);r!==void 0&&s!=null&&E(r,["systemInstruction"],qu(t,an(t,s)));const i=A(e,["tools"]);if(r!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(d=>y7(t,d))),E(r,["tools"],l)}const o=A(e,["generationConfig"]);return r!==void 0&&o!=null&&E(r,["generationConfig"],o),n}function abe(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","model"],_r(t,n));const s=A(e,["contents"]);if(s!=null){let o=Bs(t,s);Array.isArray(o)&&(o=o.map(l=>qu(t,l))),E(r,["contents"],o)}const i=A(e,["config"]);return i!=null&&E(r,["config"],rbe(t,i,r)),r}function nbe(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","model"],_r(t,n));const s=A(e,["contents"]);if(s!=null){let o=Bs(t,s);Array.isArray(o)&&(o=o.map(l=>qu(t,l))),E(r,["contents"],o)}const i=A(e,["config"]);return i!=null&&E(r,["config"],i),r}function sbe(t,e,r){const n={},s=A(e,["numberOfVideos"]);r!==void 0&&s!=null&&E(r,["parameters","sampleCount"],s);const i=A(e,["outputGcsUri"]);r!==void 0&&i!=null&&E(r,["parameters","storageUri"],i);const o=A(e,["fps"]);r!==void 0&&o!=null&&E(r,["parameters","fps"],o);const l=A(e,["durationSeconds"]);r!==void 0&&l!=null&&E(r,["parameters","durationSeconds"],l);const d=A(e,["seed"]);r!==void 0&&d!=null&&E(r,["parameters","seed"],d);const u=A(e,["aspectRatio"]);r!==void 0&&u!=null&&E(r,["parameters","aspectRatio"],u);const h=A(e,["resolution"]);r!==void 0&&h!=null&&E(r,["parameters","resolution"],h);const p=A(e,["personGeneration"]);r!==void 0&&p!=null&&E(r,["parameters","personGeneration"],p);const x=A(e,["pubsubTopic"]);r!==void 0&&x!=null&&E(r,["parameters","pubsubTopic"],x);const v=A(e,["negativePrompt"]);r!==void 0&&v!=null&&E(r,["parameters","negativePrompt"],v);const b=A(e,["enhancePrompt"]);r!==void 0&&b!=null&&E(r,["parameters","enhancePrompt"],b);const w=A(e,["generateAudio"]);return r!==void 0&&w!=null&&E(r,["parameters","generateAudio"],w),n}function ibe(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["_url","model"],_r(t,n));const s=A(e,["prompt"]);s!=null&&E(r,["instances[0]","prompt"],s);const i=A(e,["image"]);i!=null&&E(r,["instances[0]","image"],nS(t,i));const o=A(e,["config"]);return o!=null&&E(r,["config"],sbe(t,o,r)),r}function obe(t,e){const r={},n=A(e,["fps"]);n!=null&&E(r,["fps"],n);const s=A(e,["endOffset"]);s!=null&&E(r,["endOffset"],s);const i=A(e,["startOffset"]);return i!=null&&E(r,["startOffset"],i),r}function lbe(t,e){const r={},n=A(e,["data"]);n!=null&&E(r,["data"],n);const s=A(e,["mimeType"]);return s!=null&&E(r,["mimeType"],s),r}function cbe(t,e){const r={},n=A(e,["fileUri"]);n!=null&&E(r,["fileUri"],n);const s=A(e,["mimeType"]);return s!=null&&E(r,["mimeType"],s),r}function dbe(t,e){const r={},n=A(e,["videoMetadata"]);n!=null&&E(r,["videoMetadata"],obe(t,n));const s=A(e,["thought"]);s!=null&&E(r,["thought"],s);const i=A(e,["inlineData"]);i!=null&&E(r,["inlineData"],lbe(t,i));const o=A(e,["fileData"]);o!=null&&E(r,["fileData"],cbe(t,o));const l=A(e,["thoughtSignature"]);l!=null&&E(r,["thoughtSignature"],l);const d=A(e,["codeExecutionResult"]);d!=null&&E(r,["codeExecutionResult"],d);const u=A(e,["executableCode"]);u!=null&&E(r,["executableCode"],u);const h=A(e,["functionCall"]);h!=null&&E(r,["functionCall"],h);const p=A(e,["functionResponse"]);p!=null&&E(r,["functionResponse"],p);const x=A(e,["text"]);return x!=null&&E(r,["text"],x),r}function ube(t,e){const r={},n=A(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>dbe(t,o))),E(r,["parts"],i)}const s=A(e,["role"]);return s!=null&&E(r,["role"],s),r}function fbe(t,e){const r={},n=A(e,["citationSources"]);return n!=null&&E(r,["citations"],n),r}function hbe(t,e){const r={},n=A(e,["retrievedUrl"]);n!=null&&E(r,["retrievedUrl"],n);const s=A(e,["urlRetrievalStatus"]);return s!=null&&E(r,["urlRetrievalStatus"],s),r}function pbe(t,e){const r={},n=A(e,["urlMetadata"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>hbe(t,i))),E(r,["urlMetadata"],s)}return r}function mbe(t,e){const r={},n=A(e,["content"]);n!=null&&E(r,["content"],ube(t,n));const s=A(e,["citationMetadata"]);s!=null&&E(r,["citationMetadata"],fbe(t,s));const i=A(e,["tokenCount"]);i!=null&&E(r,["tokenCount"],i);const o=A(e,["finishReason"]);o!=null&&E(r,["finishReason"],o);const l=A(e,["urlContextMetadata"]);l!=null&&E(r,["urlContextMetadata"],pbe(t,l));const d=A(e,["avgLogprobs"]);d!=null&&E(r,["avgLogprobs"],d);const u=A(e,["groundingMetadata"]);u!=null&&E(r,["groundingMetadata"],u);const h=A(e,["index"]);h!=null&&E(r,["index"],h);const p=A(e,["logprobsResult"]);p!=null&&E(r,["logprobsResult"],p);const x=A(e,["safetyRatings"]);return x!=null&&E(r,["safetyRatings"],x),r}function _P(t,e){const r={},n=A(e,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(d=>mbe(t,d))),E(r,["candidates"],l)}const s=A(e,["modelVersion"]);s!=null&&E(r,["modelVersion"],s);const i=A(e,["promptFeedback"]);i!=null&&E(r,["promptFeedback"],i);const o=A(e,["usageMetadata"]);return o!=null&&E(r,["usageMetadata"],o),r}function xbe(t,e){const r={},n=A(e,["values"]);return n!=null&&E(r,["values"],n),r}function gbe(){return{}}function bbe(t,e){const r={},n=A(e,["embeddings"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>xbe(t,o))),E(r,["embeddings"],i)}return A(e,["metadata"])!=null&&E(r,["metadata"],gbe()),r}function vbe(t,e){const r={},n=A(e,["bytesBase64Encoded"]);n!=null&&E(r,["imageBytes"],ul(t,n));const s=A(e,["mimeType"]);return s!=null&&E(r,["mimeType"],s),r}function N7(t,e){const r={},n=A(e,["safetyAttributes","categories"]);n!=null&&E(r,["categories"],n);const s=A(e,["safetyAttributes","scores"]);s!=null&&E(r,["scores"],s);const i=A(e,["contentType"]);return i!=null&&E(r,["contentType"],i),r}function ybe(t,e){const r={},n=A(e,["_self"]);n!=null&&E(r,["image"],vbe(t,n));const s=A(e,["raiFilteredReason"]);s!=null&&E(r,["raiFilteredReason"],s);const i=A(e,["_self"]);return i!=null&&E(r,["safetyAttributes"],N7(t,i)),r}function Nbe(t,e){const r={},n=A(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ybe(t,o))),E(r,["generatedImages"],i)}const s=A(e,["positivePromptSafetyAttributes"]);return s!=null&&E(r,["positivePromptSafetyAttributes"],N7(t,s)),r}function wbe(t,e){const r={},n=A(e,["baseModel"]);n!=null&&E(r,["baseModel"],n);const s=A(e,["createTime"]);s!=null&&E(r,["createTime"],s);const i=A(e,["updateTime"]);return i!=null&&E(r,["updateTime"],i),r}function jj(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["name"],n);const s=A(e,["displayName"]);s!=null&&E(r,["displayName"],s);const i=A(e,["description"]);i!=null&&E(r,["description"],i);const o=A(e,["version"]);o!=null&&E(r,["version"],o);const l=A(e,["_self"]);l!=null&&E(r,["tunedModelInfo"],wbe(t,l));const d=A(e,["inputTokenLimit"]);d!=null&&E(r,["inputTokenLimit"],d);const u=A(e,["outputTokenLimit"]);u!=null&&E(r,["outputTokenLimit"],u);const h=A(e,["supportedGenerationMethods"]);return h!=null&&E(r,["supportedActions"],h),r}function Abe(t,e){const r={},n=A(e,["nextPageToken"]);n!=null&&E(r,["nextPageToken"],n);const s=A(e,["_self"]);if(s!=null){let i=f7(t,s);Array.isArray(i)&&(i=i.map(o=>jj(t,o))),E(r,["models"],i)}return r}function Ebe(){return{}}function jbe(t,e){const r={},n=A(e,["totalTokens"]);n!=null&&E(r,["totalTokens"],n);const s=A(e,["cachedContentTokenCount"]);return s!=null&&E(r,["cachedContentTokenCount"],s),r}function Tbe(t,e){const r={},n=A(e,["video","uri"]);n!=null&&E(r,["uri"],n);const s=A(e,["video","encodedVideo"]);s!=null&&E(r,["videoBytes"],ul(t,s));const i=A(e,["encoding"]);return i!=null&&E(r,["mimeType"],i),r}function Sbe(t,e){const r={},n=A(e,["_self"]);return n!=null&&E(r,["video"],Tbe(t,n)),r}function kbe(t,e){const r={},n=A(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Sbe(t,l))),E(r,["generatedVideos"],o)}const s=A(e,["raiMediaFilteredCount"]);s!=null&&E(r,["raiMediaFilteredCount"],s);const i=A(e,["raiMediaFilteredReasons"]);return i!=null&&E(r,["raiMediaFilteredReasons"],i),r}function _be(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["name"],n);const s=A(e,["metadata"]);s!=null&&E(r,["metadata"],s);const i=A(e,["done"]);i!=null&&E(r,["done"],i);const o=A(e,["error"]);o!=null&&E(r,["error"],o);const l=A(e,["response","generateVideoResponse"]);return l!=null&&E(r,["response"],kbe(t,l)),r}function Cbe(t,e){const r={},n=A(e,["fps"]);n!=null&&E(r,["fps"],n);const s=A(e,["endOffset"]);s!=null&&E(r,["endOffset"],s);const i=A(e,["startOffset"]);return i!=null&&E(r,["startOffset"],i),r}function Obe(t,e){const r={},n=A(e,["displayName"]);n!=null&&E(r,["displayName"],n);const s=A(e,["data"]);s!=null&&E(r,["data"],s);const i=A(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function Dbe(t,e){const r={},n=A(e,["displayName"]);n!=null&&E(r,["displayName"],n);const s=A(e,["fileUri"]);s!=null&&E(r,["fileUri"],s);const i=A(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function Ibe(t,e){const r={},n=A(e,["videoMetadata"]);n!=null&&E(r,["videoMetadata"],Cbe(t,n));const s=A(e,["thought"]);s!=null&&E(r,["thought"],s);const i=A(e,["inlineData"]);i!=null&&E(r,["inlineData"],Obe(t,i));const o=A(e,["fileData"]);o!=null&&E(r,["fileData"],Dbe(t,o));const l=A(e,["thoughtSignature"]);l!=null&&E(r,["thoughtSignature"],l);const d=A(e,["codeExecutionResult"]);d!=null&&E(r,["codeExecutionResult"],d);const u=A(e,["executableCode"]);u!=null&&E(r,["executableCode"],u);const h=A(e,["functionCall"]);h!=null&&E(r,["functionCall"],h);const p=A(e,["functionResponse"]);p!=null&&E(r,["functionResponse"],p);const x=A(e,["text"]);return x!=null&&E(r,["text"],x),r}function Rbe(t,e){const r={},n=A(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ibe(t,o))),E(r,["parts"],i)}const s=A(e,["role"]);return s!=null&&E(r,["role"],s),r}function Mbe(t,e){const r={},n=A(e,["citations"]);return n!=null&&E(r,["citations"],n),r}function Pbe(t,e){const r={},n=A(e,["content"]);n!=null&&E(r,["content"],Rbe(t,n));const s=A(e,["citationMetadata"]);s!=null&&E(r,["citationMetadata"],Mbe(t,s));const i=A(e,["finishMessage"]);i!=null&&E(r,["finishMessage"],i);const o=A(e,["finishReason"]);o!=null&&E(r,["finishReason"],o);const l=A(e,["avgLogprobs"]);l!=null&&E(r,["avgLogprobs"],l);const d=A(e,["groundingMetadata"]);d!=null&&E(r,["groundingMetadata"],d);const u=A(e,["index"]);u!=null&&E(r,["index"],u);const h=A(e,["logprobsResult"]);h!=null&&E(r,["logprobsResult"],h);const p=A(e,["safetyRatings"]);return p!=null&&E(r,["safetyRatings"],p),r}function CP(t,e){const r={},n=A(e,["candidates"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(h=>Pbe(t,h))),E(r,["candidates"],u)}const s=A(e,["createTime"]);s!=null&&E(r,["createTime"],s);const i=A(e,["responseId"]);i!=null&&E(r,["responseId"],i);const o=A(e,["modelVersion"]);o!=null&&E(r,["modelVersion"],o);const l=A(e,["promptFeedback"]);l!=null&&E(r,["promptFeedback"],l);const d=A(e,["usageMetadata"]);return d!=null&&E(r,["usageMetadata"],d),r}function Lbe(t,e){const r={},n=A(e,["truncated"]);n!=null&&E(r,["truncated"],n);const s=A(e,["token_count"]);return s!=null&&E(r,["tokenCount"],s),r}function Ube(t,e){const r={},n=A(e,["values"]);n!=null&&E(r,["values"],n);const s=A(e,["statistics"]);return s!=null&&E(r,["statistics"],Lbe(t,s)),r}function Fbe(t,e){const r={},n=A(e,["billableCharacterCount"]);return n!=null&&E(r,["billableCharacterCount"],n),r}function Bbe(t,e){const r={},n=A(e,["predictions[]","embeddings"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ube(t,o))),E(r,["embeddings"],i)}const s=A(e,["metadata"]);return s!=null&&E(r,["metadata"],Fbe(t,s)),r}function zbe(t,e){const r={},n=A(e,["gcsUri"]);n!=null&&E(r,["gcsUri"],n);const s=A(e,["bytesBase64Encoded"]);s!=null&&E(r,["imageBytes"],ul(t,s));const i=A(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function w7(t,e){const r={},n=A(e,["safetyAttributes","categories"]);n!=null&&E(r,["categories"],n);const s=A(e,["safetyAttributes","scores"]);s!=null&&E(r,["scores"],s);const i=A(e,["contentType"]);return i!=null&&E(r,["contentType"],i),r}function sS(t,e){const r={},n=A(e,["_self"]);n!=null&&E(r,["image"],zbe(t,n));const s=A(e,["raiFilteredReason"]);s!=null&&E(r,["raiFilteredReason"],s);const i=A(e,["_self"]);i!=null&&E(r,["safetyAttributes"],w7(t,i));const o=A(e,["prompt"]);return o!=null&&E(r,["enhancedPrompt"],o),r}function qbe(t,e){const r={},n=A(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>sS(t,o))),E(r,["generatedImages"],i)}const s=A(e,["positivePromptSafetyAttributes"]);return s!=null&&E(r,["positivePromptSafetyAttributes"],w7(t,s)),r}function Vbe(t,e){const r={},n=A(e,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>sS(t,i))),E(r,["generatedImages"],s)}return r}function $be(t,e){const r={},n=A(e,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>sS(t,i))),E(r,["generatedImages"],s)}return r}function Gbe(t,e){const r={},n=A(e,["endpoint"]);n!=null&&E(r,["name"],n);const s=A(e,["deployedModelId"]);return s!=null&&E(r,["deployedModelId"],s),r}function Hbe(t,e){const r={},n=A(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&E(r,["baseModel"],n);const s=A(e,["createTime"]);s!=null&&E(r,["createTime"],s);const i=A(e,["updateTime"]);return i!=null&&E(r,["updateTime"],i),r}function Kbe(t,e){const r={},n=A(e,["checkpointId"]);n!=null&&E(r,["checkpointId"],n);const s=A(e,["epoch"]);s!=null&&E(r,["epoch"],s);const i=A(e,["step"]);return i!=null&&E(r,["step"],i),r}function Tj(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["name"],n);const s=A(e,["displayName"]);s!=null&&E(r,["displayName"],s);const i=A(e,["description"]);i!=null&&E(r,["description"],i);const o=A(e,["versionId"]);o!=null&&E(r,["version"],o);const l=A(e,["deployedModels"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(v=>Gbe(t,v))),E(r,["endpoints"],x)}const d=A(e,["labels"]);d!=null&&E(r,["labels"],d);const u=A(e,["_self"]);u!=null&&E(r,["tunedModelInfo"],Hbe(t,u));const h=A(e,["defaultCheckpointId"]);h!=null&&E(r,["defaultCheckpointId"],h);const p=A(e,["checkpoints"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(v=>Kbe(t,v))),E(r,["checkpoints"],x)}return r}function Ybe(t,e){const r={},n=A(e,["nextPageToken"]);n!=null&&E(r,["nextPageToken"],n);const s=A(e,["_self"]);if(s!=null){let i=f7(t,s);Array.isArray(i)&&(i=i.map(o=>Tj(t,o))),E(r,["models"],i)}return r}function Wbe(){return{}}function Xbe(t,e){const r={},n=A(e,["totalTokens"]);return n!=null&&E(r,["totalTokens"],n),r}function Jbe(t,e){const r={},n=A(e,["tokensInfo"]);return n!=null&&E(r,["tokensInfo"],n),r}function Qbe(t,e){const r={},n=A(e,["gcsUri"]);n!=null&&E(r,["uri"],n);const s=A(e,["bytesBase64Encoded"]);s!=null&&E(r,["videoBytes"],ul(t,s));const i=A(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function Zbe(t,e){const r={},n=A(e,["_self"]);return n!=null&&E(r,["video"],Qbe(t,n)),r}function eve(t,e){const r={},n=A(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Zbe(t,l))),E(r,["generatedVideos"],o)}const s=A(e,["raiMediaFilteredCount"]);s!=null&&E(r,["raiMediaFilteredCount"],s);const i=A(e,["raiMediaFilteredReasons"]);return i!=null&&E(r,["raiMediaFilteredReasons"],i),r}function tve(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["name"],n);const s=A(e,["metadata"]);s!=null&&E(r,["metadata"],s);const i=A(e,["done"]);i!=null&&E(r,["done"],i);const o=A(e,["error"]);o!=null&&E(r,["error"],o);const l=A(e,["response"]);return l!=null&&E(r,["response"],eve(t,l)),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rve="Content-Type",ave="X-Server-Timeout",nve="User-Agent",Sj="x-goog-api-client",sve="1.3.0",ive=`google-genai-sdk/${sve}`,ove="v1beta1",lve="v1beta",OP=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class A7 extends Error{constructor(e,r){r?super(e,{cause:r}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class kj extends Error{constructor(e,r){r?super(e,{cause:r}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class cve{constructor(e){var r,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:ove,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:lve,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,n){const s=[this.getRequestUrlInternal(r)];return n&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,r,n);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))s.searchParams.append(o,String(l));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,r,e.abortSignal),this.unaryApiCall(s,i,e.httpMethod)}patchHttpOptions(e,r){const n=JSON.parse(JSON.stringify(e));for(const[s,i]of Object.entries(r))typeof i=="object"?n[s]=Object.assign(Object.assign({},n[s]),i):i!==void 0&&(n[s]=i);return n}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,r,n);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,r,e.abortSignal),this.streamApiCall(s,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,n){if(r&&r.timeout||n){const s=new AbortController,i=s.signal;r.timeout&&(r==null?void 0:r.timeout)>0&&setTimeout(()=>s.abort(),r.timeout),n&&n.addEventListener("abort",()=>{s.abort()}),e.signal=i}return e.headers=await this.getHeadersInternal(r),e}async unaryApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async s=>(await DP(s),new Nj(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async s=>(await DP(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var r;return Kd(this,arguments,function*(){const s=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),i=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let o="";for(;;){const{done:l,value:d}=yield Ir(s.read());if(l){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=i.decode(d);try{const p=JSON.parse(u);if("error"in p){const x=JSON.parse(JSON.stringify(p.error)),v=x.status,b=x.code,w=`got status: ${v}. ${JSON.stringify(p)}`;if(b>=400&&b<500)throw new A7(w);if(b>=500&&b<600)throw new kj(w)}}catch(p){const x=p;if(x.name==="ClientError"||x.name==="ServerError")throw p}o+=u;let h=o.match(OP);for(;h;){const p=h[1];try{const x=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ir(new Nj(x)),o=o.slice(h[0].length),h=o.match(OP)}catch(x){throw new Error(`exception parsing stream chunk ${p}. ${x}`)}}}}finally{s.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const e={},r=ive+" "+this.clientOptions.userAgentExtra;return e[nve]=r,e[Sj]=r,e[rve]="application/json",e}async getHeadersInternal(e){const r=new Headers;if(e&&e.headers){for(const[n,s]of Object.entries(e.headers))r.append(n,s);e.timeout&&e.timeout>0&&r.append(ave,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r),r}async uploadFile(e,r){var n;const s={};r!=null&&(s.mimeType=r.mimeType,s.name=r.name,s.displayName=r.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const i=this.clientOptions.uploader,o=await i.stat(e);s.sizeBytes=String(o.size);const l=(n=r==null?void 0:r.mimeType)!==null&&n!==void 0?n:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=l;const d=await this.fetchUploadUrl(s,r);return i.upload(e,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r){var n;let s={};r!=null&&r.httpOptions?s=r.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const i={file:e},o=await this.request({path:At("upload/v1beta/files",i._url),body:JSON.stringify(i),httpMethod:"POST",httpOptions:s});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=(n=o==null?void 0:o.headers)===null||n===void 0?void 0:n["x-goog-upload-url"];if(l===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function DP(t){var e;if(t===void 0)throw new kj("response is undefined");if(!t.ok){const r=t.status,n=t.statusText;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=`got status: ${r} ${n}. ${JSON.stringify(s)}`;throw r>=400&&r<500?new A7(i):r>=500&&r<600?new kj(i):new Error(i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dve="mcp_used/unknown";function E7(t){for(const e of t)if(iS(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function j7(t){var e;const r=(e=t[Sj])!==null&&e!==void 0?e:"";t[Sj]=(r+` ${dve}`).trimStart()}function uve(t){var e,r,n;return(n=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(s=>iS(s)))!==null&&n!==void 0?n:!1}function fve(t){var e,r,n;return(n=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(s=>!iS(s)))!==null&&n!==void 0?n:!1}function iS(t){return t!==null&&typeof t=="object"&&t instanceof oS}function hve(t,e=100){return Kd(this,arguments,function*(){let n,s=0;for(;s<e;){const i=yield Ir(t.listTools({cursor:n}));for(const o of i.tools)yield yield Ir(o),s++;if(!i.nextCursor)break;n=i.nextCursor}})}class oS{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new oS(e,r)}async initialize(){var e,r,n,s;if(this.mcpTools.length>0)return;const i={},o=[];for(const h of this.mcpClients)try{for(var l=!0,d=(r=void 0,wf(hve(h))),u;u=await d.next(),e=u.done,!e;l=!0){s=u.value,l=!1;const p=s;o.push(p);const x=p.name;if(i[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);i[x]=h}}catch(p){r={error:p}}finally{try{!l&&!e&&(n=d.return)&&await n.call(d)}finally{if(r)throw r.error}}this.mcpTools=o,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),yhe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const i=await this.functionNameToMcpClient[n.name].callTool({name:n.name,arguments:n.args});r.push({functionResponse:{name:n.name,response:i.isError?{error:i}:i}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function pve(t,e,r){const n=new ohe;let s;r.data instanceof Blob?s=JSON.parse(await r.data.text()):s=JSON.parse(r.data);const i=Sxe(t,s);Object.assign(n,i),e(n)}class mve{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n}async connect(e){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),o=bve(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),d=`${s}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${l}`;let u=()=>{};const h=new Promise(y=>{u=y}),p=e.callbacks,x=function(){u({})},v=this.apiClient,b={onopen:x,onmessage:y=>{pve(v,p.onmessage,y)},onerror:(r=p==null?void 0:p.onerror)!==null&&r!==void 0?r:function(y){},onclose:(n=p==null?void 0:p.onclose)!==null&&n!==void 0?n:function(y){}},w=this.webSocketFactory.create(d,gve(o),b);w.connect(),await h;const g=_r(this.apiClient,e.model),S=g7(this.apiClient,{model:g}),k=Ej(this.apiClient,{setup:S});return w.send(JSON.stringify(k)),new xve(w,this.apiClient)}}class xve{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=zme(this.apiClient,e),n=b7(this.apiClient,r);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=qme(this.apiClient,e),n=Ej(this.apiClient,r);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const r=Ej(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Fd.PLAY)}pause(){this.sendPlaybackControl(Fd.PAUSE)}stop(){this.sendPlaybackControl(Fd.STOP)}resetContext(){this.sendPlaybackControl(Fd.RESET_CONTEXT)}close(){this.conn.close()}}function gve(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function bve(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vve="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function yve(t,e,r){const n=new ihe;let s;if(r.data instanceof Blob?s=JSON.parse(await r.data.text()):s=JSON.parse(r.data),t.isVertexAI()){const i=bxe(t,s);Object.assign(n,i)}else{const i=gxe(t,s);Object.assign(n,i)}e(n)}class Nve{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n,this.music=new mve(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,n,s,i,o,l;const d=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let h;const p=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&E7(e.config.tools)&&j7(p);const x=jve(p);if(this.apiClient.isVertexAI())h=`${d}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x);else{const D=this.apiClient.getApiKey();let F="BidiGenerateContent",q="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),F="BidiGenerateContentConstrained",q="access_token"),h=`${d}/ws/google.ai.generativelanguage.${u}.GenerativeService.${F}?${q}=${D}`}let v=()=>{};const b=new Promise(D=>{v=D}),w=e.callbacks,g=function(){var D;(D=w==null?void 0:w.onopen)===null||D===void 0||D.call(w),v({})},S=this.apiClient,k={onopen:g,onmessage:D=>{yve(S,w.onmessage,D)},onerror:(r=w==null?void 0:w.onerror)!==null&&r!==void 0?r:function(D){},onclose:(n=w==null?void 0:w.onclose)!==null&&n!==void 0?n:function(D){}},y=this.webSocketFactory.create(h,Eve(x),k);y.connect(),await b;let j=_r(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&j.startsWith("publishers/")){const D=this.apiClient.getProject(),F=this.apiClient.getLocation();j=`projects/${D}/locations/${F}/`+j}let T={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ng.AUDIO]}:e.config.responseModalities=[Ng.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const _=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],O=[];for(const D of _)if(this.isCallableTool(D)){const F=D;O.push(await F.tool())}else O.push(D);O.length>0&&(e.config.tools=O);const M={model:j,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?T=Rme(this.apiClient,M):T=Ime(this.apiClient,M),delete T.config,y.send(JSON.stringify(T)),new Ave(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const wve={turnComplete:!0};class Ave{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=Bs(e,r.turns),e.isVertexAI()?n=n.map(s=>qu(e,s)):n=n.map(s=>Ib(e,s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const i of n){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(vve)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},wve),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:Bme(this.apiClient,e)}:r={realtimeInput:Fme(this.apiClient,e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function Eve(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function jve(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IP=10;function RP(t){var e,r,n;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const o of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(lx(o)){s=!0;break}if(!s)return!0;const i=(n=t==null?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function lx(t){return"callTool"in t&&typeof t.callTool=="function"}function MP(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tve extends zu{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var n,s,i,o,l;const d=await this.processParamsForMcpUsage(r);if(!uve(r)||RP(r.config))return await this.generateContentInternal(d);if(fve(r))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let u,h;const p=Bs(this.apiClient,d.contents),x=(i=(s=(n=d.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&i!==void 0?i:IP;let v=0;for(;v<x&&(u=await this.generateContentInternal(d),!(!u.functionCalls||u.functionCalls.length===0));){const b=u.candidates[0].content,w=[];for(const g of(l=(o=r.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(lx(g)){const k=await g.callTool(u.functionCalls);w.push(...k)}v++,h={role:"user",parts:w},d.contents=Bs(this.apiClient,d.contents),d.contents.push(b),d.contents.push(h),MP(d.config)&&(p.push(b),p.push(h))}return MP(d.config)&&(u.automaticFunctionCallingHistory=p),u},this.generateContentStream=async r=>{if(RP(r.config)){const n=await this.processParamsForMcpUsage(r);return await this.generateContentStreamInternal(n)}else return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var s;let i;const o=[];if(n!=null&&n.generatedImages)for(const d of n.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((s=d==null?void 0:d.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?i=d==null?void 0:d.safetyAttributes:o.push(d);let l;return i?l={generatedImages:o,positivePromptSafetyAttributes:i}:l={generatedImages:o},l}),this.list=async r=>{var n;const o={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((n=o.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Db(Su.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const s={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(s)}}async processParamsForMcpUsage(e){var r,n,s;const i=(r=e.config)===null||r===void 0?void 0:r.tools;if(!i)return e;const o=await Promise.all(i.map(async d=>lx(d)?await d.tool():d)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&E7(e.config.tools)){const d=(s=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&s!==void 0?s:{};let u=Object.assign({},d);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),j7(u),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return l}async initAfcToolsMap(e){var r,n,s;const i=new Map;for(const o of(n=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(lx(o)){const l=o,d=await l.tool();for(const u of(s=d.functionDeclarations)!==null&&s!==void 0?s:[]){if(!u.name)throw new Error("Function declaration name is required.");if(i.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);i.set(u.name,l)}}return i}async processAfcStream(e){var r,n,s;const i=(s=(n=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&s!==void 0?s:IP;let o=!1,l=0;const d=await this.initAfcToolsMap(e);return(function(u,h,p){var x,v;return Kd(this,arguments,function*(){for(var b,w,g,S;l<i;){o&&(l++,o=!1);const T=yield Ir(u.processParamsForMcpUsage(p)),_=yield Ir(u.generateContentStreamInternal(T)),O=[],M=[];try{for(var k=!0,y=(w=void 0,wf(_)),j;j=yield Ir(y.next()),b=j.done,!b;k=!0){S=j.value,k=!1;const D=S;if(yield yield Ir(D),D.candidates&&(!((x=D.candidates[0])===null||x===void 0)&&x.content)){M.push(D.candidates[0].content);for(const F of(v=D.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(l<i&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(F.functionCall.name)){const q=yield Ir(h.get(F.functionCall.name).callTool([F.functionCall]));O.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(D){w={error:D}}finally{try{!k&&!b&&(g=y.return)&&(yield Ir(g.call(y)))}finally{if(w)throw w.error}}if(O.length>0){o=!0;const D=new W0;D.candidates=[{content:{role:"user",parts:O}}],yield yield Ir(D);const F=[];F.push(...M),F.push({role:"user",parts:O});const q=Bs(u.apiClient,p.contents).concat(F);p.contents=q}else break}})})(this,d,e)}async generateContentInternal(e){var r,n,s,i;let o,l="",d={};if(this.apiClient.isVertexAI()){const u=kP(this.apiClient,e);return l=At("{model}:generateContent",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),o.then(h=>{const p=CP(this.apiClient,h),x=new W0;return Object.assign(x,p),x})}else{const u=SP(this.apiClient,e);return l=At("{model}:generateContent",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const p=_P(this.apiClient,h),x=new W0;return Object.assign(x,p),x})}}async generateContentStreamInternal(e){var r,n,s,i;let o,l="",d={};if(this.apiClient.isVertexAI()){const u=kP(this.apiClient,e);l=At("{model}:streamGenerateContent?alt=sse",u._url),d=u._query,delete u.config,delete u._url,delete u._query;const h=this.apiClient;return o=h.requestStream({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),o.then(function(p){return Kd(this,arguments,function*(){var x,v,b,w;try{for(var g=!0,S=wf(p),k;k=yield Ir(S.next()),x=k.done,!x;g=!0){w=k.value,g=!1;const j=CP(h,yield Ir(w.json())),T=new W0;Object.assign(T,j),yield yield Ir(T)}}catch(y){v={error:y}}finally{try{!g&&!x&&(b=S.return)&&(yield Ir(b.call(S)))}finally{if(v)throw v.error}}})})}else{const u=SP(this.apiClient,e);l=At("{model}:streamGenerateContent?alt=sse",u._url),d=u._query,delete u.config,delete u._url,delete u._query;const h=this.apiClient;return o=h.requestStream({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(p){return Kd(this,arguments,function*(){var x,v,b,w;try{for(var g=!0,S=wf(p),k;k=yield Ir(S.next()),x=k.done,!x;g=!0){w=k.value,g=!1;const j=_P(h,yield Ir(w.json())),T=new W0;Object.assign(T,j),yield yield Ir(T)}}catch(y){v={error:y}}finally{try{!g&&!x&&(b=S.return)&&(yield Ir(b.call(S)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var r,n,s,i;let o,l="",d={};if(this.apiClient.isVertexAI()){const u=Uge(this.apiClient,e);return l=At("{model}:predict",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),o.then(h=>{const p=Bbe(this.apiClient,h),x=new oP;return Object.assign(x,p),x})}else{const u=Qxe(this.apiClient,e);return l=At("{model}:batchEmbedContents",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const p=bbe(this.apiClient,h),x=new oP;return Object.assign(x,p),x})}}async generateImagesInternal(e){var r,n,s,i;let o,l="",d={};if(this.apiClient.isVertexAI()){const u=Bge(this.apiClient,e);return l=At("{model}:predict",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),o.then(h=>{const p=qbe(this.apiClient,h),x=new lP;return Object.assign(x,p),x})}else{const u=ege(this.apiClient,e);return l=At("{model}:predict",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const p=Nbe(this.apiClient,h),x=new lP;return Object.assign(x,p),x})}}async editImageInternal(e){var r,n;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=Kge(this.apiClient,e);return i=At("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>{const u=Vbe(this.apiClient,d),h=new ehe;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,n;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=Wge(this.apiClient,e);return i=At("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>{const u=$be(this.apiClient,d),h=new the;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,n,s,i;let o,l="",d={};if(this.apiClient.isVertexAI()){const u=Xge(this.apiClient,e);return l=At("{name}",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),o.then(h=>Tj(this.apiClient,h))}else{const u=tge(this.apiClient,e);return l=At("{name}",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>jj(this.apiClient,h))}}async listInternal(e){var r,n,s,i;let o,l="",d={};if(this.apiClient.isVertexAI()){const u=Qge(this.apiClient,e);return l=At("{models_url}",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),o.then(h=>{const p=Ybe(this.apiClient,h),x=new cP;return Object.assign(x,p),x})}else{const u=age(this.apiClient,e);return l=At("{models_url}",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const p=Abe(this.apiClient,h),x=new cP;return Object.assign(x,p),x})}}async update(e){var r,n,s,i;let o,l="",d={};if(this.apiClient.isVertexAI()){const u=ebe(this.apiClient,e);return l=At("{model}",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),o.then(h=>Tj(this.apiClient,h))}else{const u=sge(this.apiClient,e);return l=At("{name}",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>jj(this.apiClient,h))}}async delete(e){var r,n,s,i;let o,l="",d={};if(this.apiClient.isVertexAI()){const u=tbe(this.apiClient,e);return l=At("{name}",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),o.then(()=>{const h=Wbe(),p=new dP;return Object.assign(p,h),p})}else{const u=ige(this.apiClient,e);return l=At("{name}",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(()=>{const h=Ebe(),p=new dP;return Object.assign(p,h),p})}}async countTokens(e){var r,n,s,i;let o,l="",d={};if(this.apiClient.isVertexAI()){const u=abe(this.apiClient,e);return l=At("{model}:countTokens",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),o.then(h=>{const p=Xbe(this.apiClient,h),x=new uP;return Object.assign(x,p),x})}else{const u=lge(this.apiClient,e);return l=At("{model}:countTokens",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const p=jbe(this.apiClient,h),x=new uP;return Object.assign(x,p),x})}}async computeTokens(e){var r,n;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=nbe(this.apiClient,e);return i=At("{model}:computeTokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>{const u=Jbe(this.apiClient,d),h=new rhe;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var r,n,s,i;let o,l="",d={};if(this.apiClient.isVertexAI()){const u=ibe(this.apiClient,e);return l=At("{model}:predictLongRunning",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),o.then(h=>tve(this.apiClient,h))}else{const u=uge(this.apiClient,e);return l=At("{model}:predictLongRunning",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>_be(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sve(t,e){const r={},n=A(e,["operationName"]);n!=null&&E(r,["_url","operationName"],n);const s=A(e,["config"]);return s!=null&&E(r,["config"],s),r}function kve(t,e){const r={},n=A(e,["operationName"]);n!=null&&E(r,["_url","operationName"],n);const s=A(e,["config"]);return s!=null&&E(r,["config"],s),r}function _ve(t,e){const r={},n=A(e,["operationName"]);n!=null&&E(r,["operationName"],n);const s=A(e,["resourceName"]);s!=null&&E(r,["_url","resourceName"],s);const i=A(e,["config"]);return i!=null&&E(r,["config"],i),r}function Cve(t,e){const r={},n=A(e,["video","uri"]);n!=null&&E(r,["uri"],n);const s=A(e,["video","encodedVideo"]);s!=null&&E(r,["videoBytes"],ul(t,s));const i=A(e,["encoding"]);return i!=null&&E(r,["mimeType"],i),r}function Ove(t,e){const r={},n=A(e,["_self"]);return n!=null&&E(r,["video"],Cve(t,n)),r}function Dve(t,e){const r={},n=A(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Ove(t,l))),E(r,["generatedVideos"],o)}const s=A(e,["raiMediaFilteredCount"]);s!=null&&E(r,["raiMediaFilteredCount"],s);const i=A(e,["raiMediaFilteredReasons"]);return i!=null&&E(r,["raiMediaFilteredReasons"],i),r}function Ive(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["name"],n);const s=A(e,["metadata"]);s!=null&&E(r,["metadata"],s);const i=A(e,["done"]);i!=null&&E(r,["done"],i);const o=A(e,["error"]);o!=null&&E(r,["error"],o);const l=A(e,["response","generateVideoResponse"]);return l!=null&&E(r,["response"],Dve(t,l)),r}function Rve(t,e){const r={},n=A(e,["gcsUri"]);n!=null&&E(r,["uri"],n);const s=A(e,["bytesBase64Encoded"]);s!=null&&E(r,["videoBytes"],ul(t,s));const i=A(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function Mve(t,e){const r={},n=A(e,["_self"]);return n!=null&&E(r,["video"],Rve(t,n)),r}function Pve(t,e){const r={},n=A(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Mve(t,l))),E(r,["generatedVideos"],o)}const s=A(e,["raiMediaFilteredCount"]);s!=null&&E(r,["raiMediaFilteredCount"],s);const i=A(e,["raiMediaFilteredReasons"]);return i!=null&&E(r,["raiMediaFilteredReasons"],i),r}function PP(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["name"],n);const s=A(e,["metadata"]);s!=null&&E(r,["metadata"],s);const i=A(e,["done"]);i!=null&&E(r,["done"],i);const o=A(e,["error"]);o!=null&&E(r,["error"],o);const l=A(e,["response"]);return l!=null&&E(r,["response"],Pve(t,l)),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lve extends zu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=r.name.split("/operations/")[0];let i;return n&&"httpOptions"in n&&(i=n.httpOptions),this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:s,config:{httpOptions:i}})}else return this.getVideosOperationInternal({operationName:r.name,config:n})}async getVideosOperationInternal(e){var r,n,s,i;let o,l="",d={};if(this.apiClient.isVertexAI()){const u=kve(this.apiClient,e);return l=At("{operationName}",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),o.then(h=>PP(this.apiClient,h))}else{const u=Sve(this.apiClient,e);return l=At("{operationName}",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>Ive(this.apiClient,h))}}async fetchPredictVideosOperationInternal(e){var r,n;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=_ve(this.apiClient,e);return i=At("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l.config,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>PP(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uve(t,e){const r={},n=A(e,["voiceName"]);return n!=null&&E(r,["voiceName"],n),r}function T7(t,e){const r={},n=A(e,["prebuiltVoiceConfig"]);return n!=null&&E(r,["prebuiltVoiceConfig"],Uve(t,n)),r}function Fve(t,e){const r={},n=A(e,["speaker"]);n!=null&&E(r,["speaker"],n);const s=A(e,["voiceConfig"]);return s!=null&&E(r,["voiceConfig"],T7(t,s)),r}function Bve(t,e){const r={},n=A(e,["speakerVoiceConfigs"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>Fve(t,i))),E(r,["speakerVoiceConfigs"],s)}return r}function zve(t,e){const r={},n=A(e,["voiceConfig"]);n!=null&&E(r,["voiceConfig"],T7(t,n));const s=A(e,["multiSpeakerVoiceConfig"]);s!=null&&E(r,["multiSpeakerVoiceConfig"],Bve(t,s));const i=A(e,["languageCode"]);return i!=null&&E(r,["languageCode"],i),r}function qve(t,e){const r={},n=A(e,["fps"]);n!=null&&E(r,["fps"],n);const s=A(e,["endOffset"]);s!=null&&E(r,["endOffset"],s);const i=A(e,["startOffset"]);return i!=null&&E(r,["startOffset"],i),r}function Vve(t,e){const r={};if(A(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=A(e,["data"]);n!=null&&E(r,["data"],n);const s=A(e,["mimeType"]);return s!=null&&E(r,["mimeType"],s),r}function $ve(t,e){const r={};if(A(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=A(e,["fileUri"]);n!=null&&E(r,["fileUri"],n);const s=A(e,["mimeType"]);return s!=null&&E(r,["mimeType"],s),r}function Gve(t,e){const r={},n=A(e,["videoMetadata"]);n!=null&&E(r,["videoMetadata"],qve(t,n));const s=A(e,["thought"]);s!=null&&E(r,["thought"],s);const i=A(e,["inlineData"]);i!=null&&E(r,["inlineData"],Vve(t,i));const o=A(e,["fileData"]);o!=null&&E(r,["fileData"],$ve(t,o));const l=A(e,["thoughtSignature"]);l!=null&&E(r,["thoughtSignature"],l);const d=A(e,["codeExecutionResult"]);d!=null&&E(r,["codeExecutionResult"],d);const u=A(e,["executableCode"]);u!=null&&E(r,["executableCode"],u);const h=A(e,["functionCall"]);h!=null&&E(r,["functionCall"],h);const p=A(e,["functionResponse"]);p!=null&&E(r,["functionResponse"],p);const x=A(e,["text"]);return x!=null&&E(r,["text"],x),r}function Hve(t,e){const r={},n=A(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Gve(t,o))),E(r,["parts"],i)}const s=A(e,["role"]);return s!=null&&E(r,["role"],s),r}function Kve(t,e){const r={},n=A(e,["behavior"]);n!=null&&E(r,["behavior"],n);const s=A(e,["description"]);s!=null&&E(r,["description"],s);const i=A(e,["name"]);i!=null&&E(r,["name"],i);const o=A(e,["parameters"]);o!=null&&E(r,["parameters"],o);const l=A(e,["response"]);return l!=null&&E(r,["response"],l),r}function Yve(t,e){const r={},n=A(e,["startTime"]);n!=null&&E(r,["startTime"],n);const s=A(e,["endTime"]);return s!=null&&E(r,["endTime"],s),r}function Wve(t,e){const r={},n=A(e,["timeRangeFilter"]);return n!=null&&E(r,["timeRangeFilter"],Yve(t,n)),r}function Xve(t,e){const r={},n=A(e,["mode"]);n!=null&&E(r,["mode"],n);const s=A(e,["dynamicThreshold"]);return s!=null&&E(r,["dynamicThreshold"],s),r}function Jve(t,e){const r={},n=A(e,["dynamicRetrievalConfig"]);return n!=null&&E(r,["dynamicRetrievalConfig"],Xve(t,n)),r}function Qve(){return{}}function Zve(t,e){const r={},n=A(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(u=>Kve(t,u))),E(r,["functionDeclarations"],d)}if(A(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=A(e,["googleSearch"]);s!=null&&E(r,["googleSearch"],Wve(t,s));const i=A(e,["googleSearchRetrieval"]);if(i!=null&&E(r,["googleSearchRetrieval"],Jve(t,i)),A(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(A(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");A(e,["urlContext"])!=null&&E(r,["urlContext"],Qve());const l=A(e,["codeExecution"]);return l!=null&&E(r,["codeExecution"],l),r}function eye(t,e){const r={},n=A(e,["handle"]);if(n!=null&&E(r,["handle"],n),A(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return r}function LP(){return{}}function tye(t,e){const r={},n=A(e,["disabled"]);n!=null&&E(r,["disabled"],n);const s=A(e,["startOfSpeechSensitivity"]);s!=null&&E(r,["startOfSpeechSensitivity"],s);const i=A(e,["endOfSpeechSensitivity"]);i!=null&&E(r,["endOfSpeechSensitivity"],i);const o=A(e,["prefixPaddingMs"]);o!=null&&E(r,["prefixPaddingMs"],o);const l=A(e,["silenceDurationMs"]);return l!=null&&E(r,["silenceDurationMs"],l),r}function rye(t,e){const r={},n=A(e,["automaticActivityDetection"]);n!=null&&E(r,["automaticActivityDetection"],tye(t,n));const s=A(e,["activityHandling"]);s!=null&&E(r,["activityHandling"],s);const i=A(e,["turnCoverage"]);return i!=null&&E(r,["turnCoverage"],i),r}function aye(t,e){const r={},n=A(e,["targetTokens"]);return n!=null&&E(r,["targetTokens"],n),r}function nye(t,e){const r={},n=A(e,["triggerTokens"]);n!=null&&E(r,["triggerTokens"],n);const s=A(e,["slidingWindow"]);return s!=null&&E(r,["slidingWindow"],aye(t,s)),r}function sye(t,e){const r={},n=A(e,["proactiveAudio"]);return n!=null&&E(r,["proactiveAudio"],n),r}function iye(t,e,r){const n={},s=A(e,["generationConfig"]);r!==void 0&&s!=null&&E(r,["setup","generationConfig"],s);const i=A(e,["responseModalities"]);r!==void 0&&i!=null&&E(r,["setup","generationConfig","responseModalities"],i);const o=A(e,["temperature"]);r!==void 0&&o!=null&&E(r,["setup","generationConfig","temperature"],o);const l=A(e,["topP"]);r!==void 0&&l!=null&&E(r,["setup","generationConfig","topP"],l);const d=A(e,["topK"]);r!==void 0&&d!=null&&E(r,["setup","generationConfig","topK"],d);const u=A(e,["maxOutputTokens"]);r!==void 0&&u!=null&&E(r,["setup","generationConfig","maxOutputTokens"],u);const h=A(e,["mediaResolution"]);r!==void 0&&h!=null&&E(r,["setup","generationConfig","mediaResolution"],h);const p=A(e,["seed"]);r!==void 0&&p!=null&&E(r,["setup","generationConfig","seed"],p);const x=A(e,["speechConfig"]);r!==void 0&&x!=null&&E(r,["setup","generationConfig","speechConfig"],zve(t,aS(t,x)));const v=A(e,["enableAffectiveDialog"]);r!==void 0&&v!=null&&E(r,["setup","generationConfig","enableAffectiveDialog"],v);const b=A(e,["systemInstruction"]);r!==void 0&&b!=null&&E(r,["setup","systemInstruction"],Hve(t,an(t,b)));const w=A(e,["tools"]);if(r!==void 0&&w!=null){let _=Qh(t,w);Array.isArray(_)&&(_=_.map(O=>Zve(t,Jh(t,O)))),E(r,["setup","tools"],_)}const g=A(e,["sessionResumption"]);r!==void 0&&g!=null&&E(r,["setup","sessionResumption"],eye(t,g));const S=A(e,["inputAudioTranscription"]);r!==void 0&&S!=null&&E(r,["setup","inputAudioTranscription"],LP());const k=A(e,["outputAudioTranscription"]);r!==void 0&&k!=null&&E(r,["setup","outputAudioTranscription"],LP());const y=A(e,["realtimeInputConfig"]);r!==void 0&&y!=null&&E(r,["setup","realtimeInputConfig"],rye(t,y));const j=A(e,["contextWindowCompression"]);r!==void 0&&j!=null&&E(r,["setup","contextWindowCompression"],nye(t,j));const T=A(e,["proactivity"]);return r!==void 0&&T!=null&&E(r,["setup","proactivity"],sye(t,T)),n}function oye(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["setup","model"],_r(t,n));const s=A(e,["config"]);return s!=null&&E(r,["config"],iye(t,s,r)),r}function lye(t,e,r){const n={},s=A(e,["expireTime"]);r!==void 0&&s!=null&&E(r,["expireTime"],s);const i=A(e,["newSessionExpireTime"]);r!==void 0&&i!=null&&E(r,["newSessionExpireTime"],i);const o=A(e,["uses"]);r!==void 0&&o!=null&&E(r,["uses"],o);const l=A(e,["liveConnectConstraints"]);r!==void 0&&l!=null&&E(r,["bidiGenerateContentSetup"],oye(t,l));const d=A(e,["lockAdditionalFields"]);return r!==void 0&&d!=null&&E(r,["fieldMask"],d),n}function cye(t,e){const r={},n=A(e,["config"]);return n!=null&&E(r,["config"],lye(t,n,r)),r}function dye(t,e){const r={},n=A(e,["name"]);return n!=null&&E(r,["name"],n),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uye(t){const e=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const n=t[r];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const s=Object.keys(n).map(i=>`${r}.${i}`);e.push(...s)}else e.push(r)}return e.join(",")}function fye(t,e){let r=null;const n=t.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const i=n.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,r=i):delete t.bidiGenerateContentSetup}else n!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(r){const i=uye(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];s.length>0&&(l=s.map(u=>o.includes(u)?`generationConfig.${u}`:u));const d=[];i&&d.push(i),l.length>0&&d.push(...l),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class hye extends zu{constructor(e){super(),this.apiClient=e}async create(e){var r,n;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=cye(this.apiClient,e);i=At("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const d=fye(l,e.config);return s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>dye(this.apiClient,u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pye(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["_url","name"],n);const s=A(e,["config"]);return s!=null&&E(r,["config"],s),r}function mye(t,e,r){const n={},s=A(e,["pageSize"]);r!==void 0&&s!=null&&E(r,["_query","pageSize"],s);const i=A(e,["pageToken"]);r!==void 0&&i!=null&&E(r,["_query","pageToken"],i);const o=A(e,["filter"]);return r!==void 0&&o!=null&&E(r,["_query","filter"],o),n}function xye(t,e){const r={},n=A(e,["config"]);return n!=null&&E(r,["config"],mye(t,n,r)),r}function gye(t,e){const r={},n=A(e,["textInput"]);n!=null&&E(r,["textInput"],n);const s=A(e,["output"]);return s!=null&&E(r,["output"],s),r}function bye(t,e){const r={};if(A(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=A(e,["examples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>gye(t,i))),E(r,["examples","examples"],s)}return r}function vye(t,e,r){const n={};if(A(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=A(e,["tunedModelDisplayName"]);if(r!==void 0&&s!=null&&E(r,["displayName"],s),A(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=A(e,["epochCount"]);r!==void 0&&i!=null&&E(r,["tuningTask","hyperparameters","epochCount"],i);const o=A(e,["learningRateMultiplier"]);if(o!=null&&E(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),A(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(A(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=A(e,["batchSize"]);r!==void 0&&l!=null&&E(r,["tuningTask","hyperparameters","batchSize"],l);const d=A(e,["learningRate"]);return r!==void 0&&d!=null&&E(r,["tuningTask","hyperparameters","learningRate"],d),n}function yye(t,e){const r={},n=A(e,["baseModel"]);n!=null&&E(r,["baseModel"],n);const s=A(e,["trainingDataset"]);s!=null&&E(r,["tuningTask","trainingData"],bye(t,s));const i=A(e,["config"]);return i!=null&&E(r,["config"],vye(t,i,r)),r}function Nye(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["_url","name"],n);const s=A(e,["config"]);return s!=null&&E(r,["config"],s),r}function wye(t,e,r){const n={},s=A(e,["pageSize"]);r!==void 0&&s!=null&&E(r,["_query","pageSize"],s);const i=A(e,["pageToken"]);r!==void 0&&i!=null&&E(r,["_query","pageToken"],i);const o=A(e,["filter"]);return r!==void 0&&o!=null&&E(r,["_query","filter"],o),n}function Aye(t,e){const r={},n=A(e,["config"]);return n!=null&&E(r,["config"],wye(t,n,r)),r}function Eye(t,e,r){const n={},s=A(e,["gcsUri"]);if(r!==void 0&&s!=null&&E(r,["supervisedTuningSpec","trainingDatasetUri"],s),A(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function jye(t,e){const r={},n=A(e,["gcsUri"]);return n!=null&&E(r,["validationDatasetUri"],n),r}function Tye(t,e,r){const n={},s=A(e,["validationDataset"]);r!==void 0&&s!=null&&E(r,["supervisedTuningSpec"],jye(t,s));const i=A(e,["tunedModelDisplayName"]);r!==void 0&&i!=null&&E(r,["tunedModelDisplayName"],i);const o=A(e,["description"]);r!==void 0&&o!=null&&E(r,["description"],o);const l=A(e,["epochCount"]);r!==void 0&&l!=null&&E(r,["supervisedTuningSpec","hyperParameters","epochCount"],l);const d=A(e,["learningRateMultiplier"]);r!==void 0&&d!=null&&E(r,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const u=A(e,["exportLastCheckpointOnly"]);r!==void 0&&u!=null&&E(r,["supervisedTuningSpec","exportLastCheckpointOnly"],u);const h=A(e,["adapterSize"]);if(r!==void 0&&h!=null&&E(r,["supervisedTuningSpec","hyperParameters","adapterSize"],h),A(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(A(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function Sye(t,e){const r={},n=A(e,["baseModel"]);n!=null&&E(r,["baseModel"],n);const s=A(e,["trainingDataset"]);s!=null&&E(r,["supervisedTuningSpec","trainingDatasetUri"],Eye(t,s,r));const i=A(e,["config"]);return i!=null&&E(r,["config"],Tye(t,i,r)),r}function kye(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["model"],n);const s=A(e,["name"]);return s!=null&&E(r,["endpoint"],s),r}function S7(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["name"],n);const s=A(e,["state"]);s!=null&&E(r,["state"],c7(t,s));const i=A(e,["createTime"]);i!=null&&E(r,["createTime"],i);const o=A(e,["tuningTask","startTime"]);o!=null&&E(r,["startTime"],o);const l=A(e,["tuningTask","completeTime"]);l!=null&&E(r,["endTime"],l);const d=A(e,["updateTime"]);d!=null&&E(r,["updateTime"],d);const u=A(e,["description"]);u!=null&&E(r,["description"],u);const h=A(e,["baseModel"]);h!=null&&E(r,["baseModel"],h);const p=A(e,["_self"]);p!=null&&E(r,["tunedModel"],kye(t,p));const x=A(e,["distillationSpec"]);x!=null&&E(r,["distillationSpec"],x);const v=A(e,["experiment"]);v!=null&&E(r,["experiment"],v);const b=A(e,["labels"]);b!=null&&E(r,["labels"],b);const w=A(e,["pipelineJob"]);w!=null&&E(r,["pipelineJob"],w);const g=A(e,["serviceAccount"]);g!=null&&E(r,["serviceAccount"],g);const S=A(e,["tunedModelDisplayName"]);return S!=null&&E(r,["tunedModelDisplayName"],S),r}function _ye(t,e){const r={},n=A(e,["nextPageToken"]);n!=null&&E(r,["nextPageToken"],n);const s=A(e,["tunedModels"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>S7(t,o))),E(r,["tuningJobs"],i)}return r}function Cye(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["name"],n);const s=A(e,["metadata"]);s!=null&&E(r,["metadata"],s);const i=A(e,["done"]);i!=null&&E(r,["done"],i);const o=A(e,["error"]);return o!=null&&E(r,["error"],o),r}function Oye(t,e){const r={},n=A(e,["checkpointId"]);n!=null&&E(r,["checkpointId"],n);const s=A(e,["epoch"]);s!=null&&E(r,["epoch"],s);const i=A(e,["step"]);i!=null&&E(r,["step"],i);const o=A(e,["endpoint"]);return o!=null&&E(r,["endpoint"],o),r}function Dye(t,e){const r={},n=A(e,["model"]);n!=null&&E(r,["model"],n);const s=A(e,["endpoint"]);s!=null&&E(r,["endpoint"],s);const i=A(e,["checkpoints"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Oye(t,l))),E(r,["checkpoints"],o)}return r}function _j(t,e){const r={},n=A(e,["name"]);n!=null&&E(r,["name"],n);const s=A(e,["state"]);s!=null&&E(r,["state"],c7(t,s));const i=A(e,["createTime"]);i!=null&&E(r,["createTime"],i);const o=A(e,["startTime"]);o!=null&&E(r,["startTime"],o);const l=A(e,["endTime"]);l!=null&&E(r,["endTime"],l);const d=A(e,["updateTime"]);d!=null&&E(r,["updateTime"],d);const u=A(e,["error"]);u!=null&&E(r,["error"],u);const h=A(e,["description"]);h!=null&&E(r,["description"],h);const p=A(e,["baseModel"]);p!=null&&E(r,["baseModel"],p);const x=A(e,["tunedModel"]);x!=null&&E(r,["tunedModel"],Dye(t,x));const v=A(e,["supervisedTuningSpec"]);v!=null&&E(r,["supervisedTuningSpec"],v);const b=A(e,["tuningDataStats"]);b!=null&&E(r,["tuningDataStats"],b);const w=A(e,["encryptionSpec"]);w!=null&&E(r,["encryptionSpec"],w);const g=A(e,["partnerModelTuningSpec"]);g!=null&&E(r,["partnerModelTuningSpec"],g);const S=A(e,["distillationSpec"]);S!=null&&E(r,["distillationSpec"],S);const k=A(e,["experiment"]);k!=null&&E(r,["experiment"],k);const y=A(e,["labels"]);y!=null&&E(r,["labels"],y);const j=A(e,["pipelineJob"]);j!=null&&E(r,["pipelineJob"],j);const T=A(e,["serviceAccount"]);T!=null&&E(r,["serviceAccount"],T);const _=A(e,["tunedModelDisplayName"]);return _!=null&&E(r,["tunedModelDisplayName"],_),r}function Iye(t,e){const r={},n=A(e,["nextPageToken"]);n!=null&&E(r,["nextPageToken"],n);const s=A(e,["tuningJobs"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>_j(t,o))),E(r,["tuningJobs"],i)}return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rye extends zu{constructor(e){super(),this.apiClient=e,this.get=async r=>await this.getInternal(r),this.list=async(r={})=>new Db(Su.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.tune=async r=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(r);{const n=await this.tuneMldevInternal(r);let s="";return n.metadata!==void 0&&n.metadata.tunedModel!==void 0?s=n.metadata.tunedModel:n.name!==void 0&&n.name.includes("/operations/")&&(s=n.name.split("/operations/")[0]),{name:s,state:yj.JOB_STATE_QUEUED}}}}async getInternal(e){var r,n,s,i;let o,l="",d={};if(this.apiClient.isVertexAI()){const u=Nye(this.apiClient,e);return l=At("{name}",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),o.then(h=>_j(this.apiClient,h))}else{const u=pye(this.apiClient,e);return l=At("{name}",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>S7(this.apiClient,h))}}async listInternal(e){var r,n,s,i;let o,l="",d={};if(this.apiClient.isVertexAI()){const u=Aye(this.apiClient,e);return l=At("tuningJobs",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),o.then(h=>{const p=Iye(this.apiClient,h),x=new fP;return Object.assign(x,p),x})}else{const u=xye(this.apiClient,e);return l=At("tunedModels",u._url),d=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const p=_ye(this.apiClient,h),x=new fP;return Object.assign(x,p),x})}}async tuneInternal(e){var r,n;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=Sye(this.apiClient,e);return i=At("tuningJobs",l._url),o=l._query,delete l.config,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>_j(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,n;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=yye(this.apiClient,e);return i=At("tunedModels",l._url),o=l._query,delete l.config,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>Cye(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mye{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Pye=1024*1024*8,Lye=3,Uye=1e3,Fye=2,gA="x-goog-upload-status";async function Bye(t,e,r){var n,s,i;let o=0,l=0,d=new Nj(new Response),u="upload";for(o=t.size;l<o;){const p=Math.min(Pye,o-l),x=t.slice(l,l+p);l+p>=o&&(u+=", finalize");let v=0,b=Uye;for(;v<Lye&&(d=await r.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(l),"Content-Length":String(p)}}}),!(!((n=d==null?void 0:d.headers)===null||n===void 0)&&n[gA]));)v++,await qye(b),b=b*Fye;if(l+=p,((s=d==null?void 0:d.headers)===null||s===void 0?void 0:s[gA])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(d==null?void 0:d.json());if(((i=d==null?void 0:d.headers)===null||i===void 0?void 0:i[gA])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function zye(t){return{size:t.size,type:t.type}}function qye(t){return new Promise(e=>setTimeout(e,t))}class Vye{async upload(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Bye(e,r,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await zye(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $ye{create(e,r,n){return new Gye(e,r,n)}}class Gye{constructor(e,r,n){this.url=e,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UP="x-goog-api-key";class Hye{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(UP)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(UP,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kye="gl-node/";class Yye{constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const n=Zfe(e,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const s=new Hye(this.apiKey);this.apiClient=new cve({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Kye+"web",uploader:new Vye,downloader:new Mye}),this.models=new Tve(this.apiClient),this.live=new Nve(this.apiClient,s,new $ye),this.chats=new jpe(this.models,this.apiClient),this.caches=new wpe(this.apiClient),this.files=new Upe(this.apiClient),this.operations=new Lve(this.apiClient),this.authTokens=new hye(this.apiClient),this.tunings=new Rye(this.apiClient)}}const Wye={VITE_GEMINI_API_KEY:"AIzaSyDiHTloQ2WAcsTsueys3zb0RmOnPGiEmwc"};var Xye={};const Yn=()=>{const t=typeof process<"u"?Xye:{},r=(Wye||{}).VITE_GEMINI_API_KEY||t.NEXT_PUBLIC_GEMINI_API_KEY||t.API_KEY||"";return r||console.warn("Gemini API Key not found! Features utilizing AI will fail."),new Yye({apiKey:r,apiVersion:"v1beta"})},En=async(t,e=3,r=2e3)=>{try{return await t()}catch(n){const s=n.code===429||n.status===429||n.message&&n.message.includes("429")||n.message&&n.message.includes("Resource exhausted");if(e>0&&s)return console.warn(`[AI] Quota exceeded (429). Retrying in ${r/1e3}s... (${e} attempts left)`),await new Promise(i=>setTimeout(i,r)),En(t,e-1,r*2);throw n}},Jye=async(t,e)=>{const r=Yn();try{const n=await En(()=>r.models.generateContent({model:"gemini-2.0-flash",contents:{parts:[{inlineData:{data:t,mimeType:e}},{text:`Voc  um secretrio escolar especialista em extrao de dados. 
          Analise o documento anexado (Relao de Alunos por Situao ou com Idade) e extraia TODOS os alunos encontrados.
          
          INSTRUES DE PRECISO DE DATA:
          1. Identifique a coluna "Data Nasc." ou "Nascimento".
          2. Extraia o dia, ms e ano EXATOS conforme escritos no papel. No faa clculos e no aplique fusos horrios.
          3. Exemplo: Se estiver escrito 03/03/2015, voc DEVE retornar "2015-03-03".
          
          OUTRAS INSTRUES:
          1. Identifique a "Turma" e o "Turno" no cabealho (ex: "6 ANO" e "Turma: B" torna-se "6 ANO B").
          2. Converta a "Dta. Matrcula" e "Data Nasc." para o formato ISO AAAA-MM-DD.
          3. Identifique PAED e Transporte Escolar ("Sim" ou "No").
          
          Retorne estritamente um JSON seguindo o esquema.`}]},config:{responseMimeType:"application/json",responseSchema:{type:$e.OBJECT,properties:{Modulo:{type:$e.STRING},Aba:{type:$e.STRING},Alunos:{type:$e.ARRAY,items:{type:$e.OBJECT,properties:{Nome:{type:$e.STRING},Turma:{type:$e.STRING},Turno:{type:$e.STRING},Sequencia:{type:$e.STRING},CodigoAluno:{type:$e.STRING},DataMatricula:{type:$e.STRING,description:"Data no formato AAAA-MM-DD"},DataNascimento:{type:$e.STRING,description:"Data no formato AAAA-MM-DD"},PAED:{type:$e.STRING,description:"Sim ou No"},TransporteEscolar:{type:$e.STRING,description:"Sim ou No"}},required:["Nome","Turma","Turno","Sequencia","CodigoAluno","DataMatricula","DataNascimento","PAED","TransporteEscolar"]}}},required:["Modulo","Aba","Alunos"]},temperature:.1}}));return JSON.parse(n.text||'{"Alunos": []}')}catch(n){return console.error("Erro ao parsear lista de alunos via IA",n),{Alunos:[]}}},Qye=async t=>{const e=Yn(),r=[];t.forEach((n,s)=>{r.push({text:`Arquivo ${s+1} (${n.name}):`}),r.push({inlineData:{data:n.base64,mimeType:n.mimeType}})}),r.push({text:`Voc  um secretrio escolar especialista em organizao de dados.
    
    TAREFA:
    Analise os ${t.length} arquivos fornecidos. Eles contm dados de alunos, mas as informaes podem estar fragmentadas (ex: um arquivo tem nomes e turmas, outro tem datas de nascimento, outro tem dados de transporte).
    
    OBJETIVO:
    Cruze as informaes de TODOS os arquivos para criar um CADASTRO UNIFICADO E COMPLETO para cada aluno.
    
    REGRAS DE CONSOLIDAO:
    1. Use o NOME DO ALUNO como chave principal para unir os dados.
    2. Se houver conflito de dados (ex: datas de nascimento diferentes), prefira a data mais completa ou formatada.
    3. Normalizar Turmas (ex: "6A", "6 A", "TURMA A" -> "6 ANO A").
    4. Normalizar Turnos ("M", "Matutino" -> "MATUTINO").
    5. Se uma informao no estiver em NENHUM arquivo, deixe como string vazia ou "No Informado".

    EXTRAO DE CAMPOS:
    - Nome Completo
    - Turma (Padronizado)
    - Turno (MATUTINO, VESPERTINO, NOTURNO, INTEGRAL)
    - Data de Nascimento (Formato ISO: AAAA-MM-DD) - EXTREMAMENTE IMPORTANTE
    - Cdigo do Aluno (Se houver)
    - Cdigo do Aluno (Se houver)
    - Situao (PAED, Transporte, etc - Se houver indicao)
    - Nome do Responsvel (Me, Pai ou Responsvel Legal)
    - Telefone de Contato/Celular (Essencial - Extraia se encontrar 9 dgitos ou DDD)

    Retorne um JSON com a lista consolidada.`});try{const n=await En(()=>e.models.generateContent({model:"gemini-2.0-flash",contents:{parts:r},config:{responseMimeType:"application/json",responseSchema:{type:$e.OBJECT,properties:{consolidatedStudents:{type:$e.ARRAY,items:{type:$e.OBJECT,properties:{Nome:{type:$e.STRING},Turma:{type:$e.STRING},Turno:{type:$e.STRING},CodigoAluno:{type:$e.STRING},DataNascimento:{type:$e.STRING,description:"AAAA-MM-DD"},PAED:{type:$e.STRING},TransporteEscolar:{type:$e.STRING},NomeResponsavel:{type:$e.STRING},TelefoneContato:{type:$e.STRING}},required:["Nome","Turma","Turno","DataNascimento"]}},summary:{type:$e.STRING,description:"Resumo do que foi feito (quais arquivos foram usados, quantos alunos encontrados)"}},required:["consolidatedStudents","summary"]},temperature:.1}}));return JSON.parse(n.text||'{"consolidatedStudents": [], "summary": "Erro na anlise"}')}catch(n){return console.error("Erro ao consolidar dados",n),{consolidatedStudents:[],summary:"Erro no processamento"}}},Zye=async t=>{const e=Yn();try{const r=await En(()=>e.models.generateContent({model:"gemini-2.0-flash",contents:`Voc  um assistente jurdico e pedaggico de uma secretaria escolar. 
      Com base nos dados da ocorrncia abaixo, gere uma Ata de Ocorrncia Escolar formal, imparcial e padronizada.
      
      Dados da Ocorrncia:
      - Data/Hora: ${t.date} s ${t.time}
      - Local: ${t.location}
      - Envolvidos: ${t.involvedStudents}
      - Categoria: ${t.category}
      - Relato do Servidor: ${t.report}
      - Responsvel pelo Registro: ${t.responsible}
  
      A Ata deve conter:
      1. Texto formal da narrativa dos fatos em linguagem administrativa.
      2. Resumo executivo.
      3. Lista consolidada de envolvidos.
      4. Sugesto de 3 encaminhamentos pedaggicos/disciplinares baseados no regimento escolar padro (ex: advertncia, mediao, contato com responsveis, suspenso se grave, etc).`,config:{responseMimeType:"application/json",responseSchema:{type:$e.OBJECT,properties:{formalText:{type:$e.STRING,description:"O corpo da ata em linguagem formal"},summary:{type:$e.STRING,description:"Resumo da ocorrncia"},involvedParties:{type:$e.STRING,description:"Lista de nomes formatada"},suggestedReferrals:{type:$e.ARRAY,items:{type:$e.STRING},description:"Encaminhamentos sugeridos"}},required:["formalText","summary","involvedParties","suggestedReferrals"]},temperature:.2}}));return JSON.parse(r.text||"{}")}catch(r){return console.error("Erro ao processar Ata via IA",r),null}},e1e=async t=>{const e=Yn();try{return(await En(()=>e.models.generateContent({model:"gemini-2.0-flash",contents:`Voc  um bibliotecrio especialista. Com base nos interesses: "${t}", sugira 3 livros clssicos ou contemporneos adequados para idade escolar. Fornea o ttulo, autor e um pequeno motivo da recomendao. Responda em Portugus do Brasil.`}))).text}catch(r){return console.error("Error suggesting books",r),"Erro ao gerar sugestes."}},t1e=async t=>{const e=Yn();try{return(await En(()=>e.models.generateContent({model:"gemini-2.0-flash",contents:`Com base no estoque atual de merenda escolar: ${JSON.stringify(t)}, sugira um cardpio semanal nutricionalmente equilibrado focando em reduzir desperdcio de itens prximos do vencimento ou em excesso. Responda em Portugus do Brasil.`}))).text}catch(r){return console.error("Error suggesting menu",r),"Erro ao gerar cardpio."}},r1e=async(t,e)=>{const r=Yn();try{const n=await En(()=>r.models.generateContent({model:"gemini-2.0-flash",contents:`Voc  um consultor pedaggico da SEDUC-MT especialista em BNCC e DRC-MT.
      Fornea a LISTA COMPLETA e EXAUSTIVA das habilidades essenciais para o componente "${t}" na turma "${e}".
      Inclua tanto as habilidades da base nacional (BNCC) quanto os acrscimos regionais do Mato Grosso (DRC-MT).
      Retorne tambm sugestes de habilidades para recomposio de aprendizagem (pr-requisitos de anos anteriores) e unidades temticas.`,config:{responseMimeType:"application/json",responseSchema:{type:$e.OBJECT,properties:{skills:{type:$e.ARRAY,items:{type:$e.OBJECT,properties:{code:{type:$e.STRING,description:"Cdigo oficial da habilidade"},description:{type:$e.STRING,description:"Descrio completa da habilidade"}},required:["code","description"]}},recomposition:{type:$e.ARRAY,items:{type:$e.OBJECT,properties:{code:{type:$e.STRING},description:{type:$e.STRING}},required:["code","description"]}},themes:{type:$e.STRING,description:"Lista de unidades temticas do perodo"}},required:["skills","recomposition","themes"]},temperature:.1}}));return JSON.parse(n.text||"{}")}catch(n){return console.error("Erro ao parsear JSON da IA",n),null}},a1e=async(t,e)=>{const r=Yn();try{const n=await En(()=>r.models.generateContent({model:"gemini-2.0-flash",contents:{parts:[{inlineData:{data:t,mimeType:e}},{text:"Extraia os dados desta Nota Fiscal. Retorne apenas o JSON conforme o esquema definido. Se no encontrar um campo, deixe vazio."}]},config:{responseMimeType:"application/json",responseSchema:{type:$e.OBJECT,properties:{invoiceNumber:{type:$e.STRING,description:"Nmero da nota fiscal"},invoiceSeries:{type:$e.STRING,description:"Srie da nota"},invoiceIssuerCnpj:{type:$e.STRING,description:"CNPJ do emitente/fornecedor"},invoiceDate:{type:$e.STRING,description:"Data de emisso no formato YYYY-MM-DD"},totalValue:{type:$e.NUMBER,description:"Valor total da nota"},description:{type:$e.STRING,description:"Um resumo do que foi comprado (ex: Gneros alimentcios, Material de limpeza)"}}}}}));return JSON.parse(n.text||"{}")}catch(n){return console.error("Error extracting invoice",n),{}}},n1e=async(t,e)=>{const r=Yn();try{const n=await En(()=>r.models.generateContent({model:"gemini-2.0-flash",contents:{parts:[{inlineData:{data:t,mimeType:e}},{text:"Voc  um assistente pedaggico. Extraia a lista de alunos e suas respectivas porcentagens de acerto ou notas (0 a 100) deste relatrio de avaliao. Retorne un JSON com a lista de estudantes encontrados."}]},config:{responseMimeType:"application/json",responseSchema:{type:$e.OBJECT,properties:{students:{type:$e.ARRAY,items:{type:$e.OBJECT,properties:{name:{type:$e.STRING,description:"Nome completo do aluno"},score:{type:$e.NUMBER,description:"Porcentagem de proficincia ou nota de 0 a 100"}},required:["name","score"]}}},required:["students"]}}}));return JSON.parse(n.text||'{"students": []}')}catch(n){return console.error("Error extracting assessment",n),{students:[]}}},s1e=async t=>{const e=Yn();try{return(await En(()=>e.models.generateContent({model:"gemini-2.5-pro",contents:`Voc  um consultor pedaggico snior especialista em gesto educacional da rede SEDUC-MT.
      Analise os seguintes dados pedaggicos da unidade escolar e fornea um relatrio estratgico de insights e plano de interveno.
      Dados: ${JSON.stringify(t)}
      O relatrio deve focar em:
      1. Disparidades entre avaliaes internas e externas (CAED/Estruturado).
      2. Alertas de turmas com alta taxa de notas abaixo da mdia.
      3. Recomendaes baseadas nas observaes de aula.
      4. Sugestes de melhoria para os roteiros pedaggicos.
      Responda em Portugus do Brasil de forma executiva e profissional.`}))).text}catch(r){return console.error("Error analyzing performance",r),"Erro na anlise."}},i1e=async(t,e,r)=>{console.log("AI Prompt Teachers:",JSON.stringify(e));const n=Yn(),s=(r==null?void 0:r.filter(o=>!o.includes("Recreio")))||["07:00","07:50","08:40","09:50","10:40"],i=s.join(", ");try{const o=await En(()=>n.models.generateContent({model:"gemini-2.0-flash",contents:`Voc  um coordenador pedaggico especialista em montagem de grades horrias (Cronos).
      
      Tarefa: Criar uma grade horria semanal para a turma ${t.name} (${t.shift}).
      
      Restries:
      1. A grade deve ter 5 aulas por dia (Segunda a Sexta).
      2. Horrios das Aulas: ${i}.
      3. Distribua as disciplinas de forma equilibrada (Portugus e Matemtica todos os dias se possvel).
      4. Use APENAS os professores fornecidos na lista abaixo, respeitando suas disciplinas.
      
      Lista de Professores Disponveis:
      ${JSON.stringify(e)}
      
      Disciplinas Obrigatrias (USE A GRAFIA EXATA): PORTUGUS, MATEMTICA, HISTRIA, GEOGRAFIA, CINCIAS, ARTE, ED. FSICA, INGLS, ENSINO RELIGIOSO, PROJETO DE VIDA.
      
      Retorne um JSON com a lista de aulas sugeridas.`,config:{responseMimeType:"application/json",responseSchema:{type:$e.OBJECT,properties:{schedule:{type:$e.ARRAY,items:{type:$e.OBJECT,properties:{day:{type:$e.INTEGER,description:"1=Segunda, 5=Sexta"},time:{type:$e.STRING,description:`Horrio de incio (Exemplo: ${s[0]})`},subject:{type:$e.STRING},teacherName:{type:$e.STRING}},required:["day","time","subject"]}}},required:["schedule"]}}}));return console.log("AI Raw Response:",o.text),JSON.parse(o.text||'{"schedule": []}')}catch(o){return console.error("Erro ao gerar horrio via IA",o),{schedule:[]}}},o1e=async t=>{const e=Yn();try{const r=await En(()=>e.models.generateContent({model:"gemini-2.0-flash",contents:`Voc  um especialista em educao e anlise de dados pedaggicos (CAED/Sistema Estruturado).
      
      Analise os resultados desta avaliao externa:
      - Disciplina: ${t.subject}
      - Turma: ${t.className}
      - Bimestre: ${t.bimestre}
      - Mdia da Turma: ${t.averageScore}%
      - Alunos com Baixo Desempenho (<60%): ${JSON.stringify(t.lowPerformers)}
      
      Gere um PARECER TCNICO PEDAGGICO curto e direto contendo:
      1. **Diagnstico**: Identifique provveis lacunas de aprendizagem.
      2. **Ao Imediata**: Sugira 2 metodologias ativas para aplicar em sala de aula visando corrigir essas lacunas.
      3. **Descritores/Habilidades**: Cite quais habilidades da BNCC provavelmente precisam ser retomadas.
      
      Responda em formato JSON.`,config:{responseMimeType:"application/json",responseSchema:{type:$e.OBJECT,properties:{diagnosis:{type:$e.STRING,description:"Identificao das lacunas"},actions:{type:$e.ARRAY,items:{type:$e.STRING},description:"Aes metodolgicas sugeridas"},skillsToReinforce:{type:$e.STRING,description:"Habilidades/Descritores BNCC foco"}},required:["diagnosis","actions","skillsToReinforce"]},temperature:.2}}));return JSON.parse(r.text||"{}")}catch(r){return console.error("Erro ao gerar interveno via IA",r),null}},l1e=async(t,e)=>{const r=Yn();try{const n=await En(()=>r.models.generateContent({model:"gemini-2.0-flash",contents:{parts:[{inlineData:{data:t,mimeType:e}},{text:`Voc  um assistente de RH. Extraia os dados de TODOS os servidores encontrados neste documento.
            
            CAMPOS ALVO:
            - Nome Completo
            - CPF
            - Matrcula
            - Data de Nascimento (Formato YYYY-MM-DD)
            - Cargo/Funo (Ex: Professor, Apoio, Tcnico)
            - Escolaridade/Habilitao (Ex: Licenciatura em Pedagogia)
            - Perfil (Efetivo ou Contratado)
            
            Retorne um JSON com uma lista de servidores.`}]},config:{responseMimeType:"application/json",responseSchema:{type:$e.OBJECT,properties:{staffList:{type:$e.ARRAY,items:{type:$e.OBJECT,properties:{name:{type:$e.STRING},cpf:{type:$e.STRING},registration:{type:$e.STRING},birthDate:{type:$e.STRING,description:"YYYY-MM-DD"},role:{type:$e.STRING},qualification:{type:$e.STRING},entryProfile:{type:$e.STRING,description:"EFETIVO ou CONTRATADO"}},required:["name"]}}},required:["staffList"]}}}));return JSON.parse(n.text||'{"staffList": []}')}catch(n){return console.error("Error extracting staff info",n),{staffList:[]}}},c1e=async(t,e)=>{const r=Yn();try{const n=await En(()=>r.models.generateContent({model:"gemini-2.0-flash",contents:{parts:[{inlineData:{data:t,mimeType:e}},{text:"Voc  um especialista em licitaes e contratos pblicos. Extraia os dados deste contrato ou ata de registro de preos. Retorne apenas o JSON. Se no encontrar o CNPJ, tente extrair o nome do fornecedor."}]},config:{responseMimeType:"application/json",responseSchema:{type:$e.OBJECT,properties:{contractNumber:{type:$e.STRING,description:"Nmero do contrato ou processo"},supplierName:{type:$e.STRING,description:"Razo social ou nome fantasia do fornecedor"},supplierCnpj:{type:$e.STRING,description:"CNPJ do fornecedor"},startDate:{type:$e.STRING,description:"Data de incio/assinatura no formato YYYY-MM-DD"},endDate:{type:$e.STRING,description:"Data de trmino no formato YYYY-MM-DD"},type:{type:$e.STRING,description:"Ex: Prego Presencial, Chamada Pblica, Dispensa"},items:{type:$e.ARRAY,items:{type:$e.OBJECT,properties:{description:{type:$e.STRING,description:"Descrio detalhada do item"},quantity:{type:$e.NUMBER,description:"Quantidade contratada"},unit:{type:$e.STRING,description:"Unidade de medida (KG, UN, LT, etc)"},unitPrice:{type:$e.NUMBER,description:"Preo unitrio registrado"},brand:{type:$e.STRING,description:"Marca se disponvel"}},required:["description","quantity","unit","unitPrice"]}}},required:["contractNumber","supplierName","items"]},temperature:.1}}));return JSON.parse(n.text||'{"items": []}')}catch(n){return console.error("Error extracting contract",n),{items:[]}}},d1e=async(t,e)=>{let r="";if(e.includes("6 ANO")?r="EF06":e.includes("7 ANO")?r="EF07":e.includes("8 ANO")?r="EF08":e.includes("9 ANO")&&(r="EF09"),!r)return null;try{const{data:n,error:s}=await ae.from("bncc_skills").select("code, description").eq("subject",t.toUpperCase()).or(`year_range.eq.${r},year_range.eq.EF06EF09`).order("code");if(s)throw s;return n||[]}catch(n){return console.error("Erro ao buscar BNCC do banco:",n),null}},u1e=()=>{var re,ge,Me,J;const[t,e]=R.useState([]),[r,n]=R.useState([]),[s,i]=R.useState(!0),o=async()=>{try{i(!0),console.log("Fetching contracts...");const{data:Ae,error:ne}=await ae.from("contracts").select(`
          *,
          supplier:suppliers (name),
          items:contract_items (*)
        `);if(ne)throw ne;const{data:ve,error:we}=await ae.from("contract_events").select("*");if(we)throw we;const Ee=Ae.map(Ce=>{var Ue;return{id:Ce.id,number:Ce.number,supplierId:Ce.supplier_id,supplierName:((Ue=Ce.supplier)==null?void 0:Ue.name)||"Desconhecido",startDate:Ce.start_date,endDate:Ce.end_date,status:Ce.status,type:Ce.type,items:Ce.items.map(le=>({id:le.id,description:le.description,contractedQuantity:le.contracted_quantity,acquiredQuantity:le.acquired_quantity,unit:le.unit,unitPrice:le.unit_price,brand:le.brand}))}}),fe=ve.map(Ce=>({id:Ce.id,contractId:Ce.contract_id,type:Ce.type,date:Ce.date,description:Ce.description,value:Ce.value,responsible:Ce.responsible}));e(Ee),n(fe),Ee.length===0&&await l()}catch(Ae){console.error("Erro ao buscar dados:",Ae)}finally{i(!1)}},l=async()=>{console.log("Seeding database...");let{data:Ae}=await ae.from("suppliers").select("id, name, cnpj");if(!Ae||Ae.length===0){for(const ve of F3)await ae.from("suppliers").insert({name:ve.name,full_name:ve.full_name,cnpj:ve.cnpj,email:ve.email,phone:ve.phone,category:ve.category,score:ve.score,location:ve.location||"COLDER/MT"});const{data:ne}=await ae.from("suppliers").select("id, name, cnpj");Ae=ne}if(Ae){for(const ne of Tb){const ve=Ae.find(we=>we.name===ne.supplierName);if(ve){const{data:we,error:Ee}=await ae.from("contracts").insert({number:ne.number,supplier_id:ve.id,type:ne.type,start_date:ne.startDate,end_date:ne.endDate,status:ne.status}).select().single();if(we){const fe=ne.items.map(Ce=>({contract_id:we.id,description:Ce.description,contracted_quantity:Ce.contractedQuantity,acquired_quantity:Ce.acquiredQuantity,unit:Ce.unit,unit_price:Ce.unitPrice,brand:Ce.brand}));await ae.from("contract_items").insert(fe)}}}window.location.reload()}};R.useEffect(()=>{o()},[]);const[d,u]=R.useState(null),[h,p]=R.useState(""),[x,v]=R.useState(""),[b,w]=R.useState(null),[g,S]=R.useState(""),[k,y]=R.useState(null),[j,T]=R.useState(""),[_,O]=R.useState(!1),[M,D]=R.useState([]);R.useEffect(()=>{ae.from("suppliers").select("id, name, category").then(({data:Ae})=>{Ae&&D(Ae)})},[]);const[F,q]=R.useState({number:"",supplierId:"",startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],type:"Prego Presencial"}),[L,B]=R.useState(!1),[X,P]=R.useState(!1),[U,z]=R.useState(null),V=async Ae=>{var ve;const ne=(ve=Ae.target.files)==null?void 0:ve[0];if(ne){P(!0);try{const we=new FileReader;we.onload=async()=>{const Ee=we.result.split(",")[1],fe=await c1e(Ee,ne.type);fe&&fe.contractNumber?z(fe):alert("A IA no conseguiu identificar dados vlidos neste arquivo."),P(!1)},we.readAsDataURL(ne)}catch(we){console.error("Erro ao processar PDF:",we),alert("Erro na leitura do arquivo."),P(!1)}}},Y=async()=>{if(U)try{i(!0);let Ae="";const{data:ne}=await ae.from("suppliers").select("id, name").or(`name.ilike.%${U.supplierName}%,cnpj.eq.${U.supplierCnpj||"NONE"}`);if(ne&&ne.length>0)Ae=ne[0].id;else{const{data:Ee,error:fe}=await ae.from("suppliers").insert({name:U.supplierName,cnpj:U.supplierCnpj||"",category:"ALIMENTOS"}).select().single();if(fe)throw fe;Ae=Ee.id}const{data:ve,error:we}=await ae.from("contracts").insert({number:U.contractNumber,supplier_id:Ae,start_date:U.startDate||new Date().toISOString().split("T")[0],end_date:U.endDate||new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],type:U.type||"Prego Presencial",status:"ATIVO"}).select("*, supplier:suppliers(name)").single();if(we)throw we;if(U.items&&U.items.length>0){const Ee=U.items.map(fe=>({contract_id:ve.id,description:fe.description,contracted_quantity:fe.quantity,acquired_quantity:0,unit:fe.unit,unit_price:fe.unitPrice,brand:fe.brand||""}));await ae.from("contract_items").insert(Ee)}await ee(ve.id,"AMENDMENT",`Contrato Importado via IA: ${ve.number}`),z(null),B(!1),await o(),alert("Contrato importado e vinculado com sucesso!")}catch(Ae){console.error(Ae),alert("Erro ao importar: "+Ae.message)}finally{i(!1)}},se=R.useMemo(()=>{let Ae=t;if(h){const ne=h.toLowerCase();Ae=Ae.filter(ve=>ve.number.toLowerCase().includes(ne)||ve.supplierName.toLowerCase().includes(ne)||ve.items.some(we=>we.description.toLowerCase().includes(ne)))}return Ae.sort((ne,ve)=>new Date(ve.startDate).getTime()-new Date(ne.startDate).getTime())},[t,h]),K=R.useMemo(()=>t.find(Ae=>Ae.id===d),[d,t]),G=R.useMemo(()=>r.filter(Ae=>Ae.contractId===d).sort((Ae,ne)=>new Date(ne.date).getTime()-new Date(Ae.date).getTime()),[d,r]),W=R.useMemo(()=>{if(!K)return[];if(!x)return K.items;const Ae=x.toLowerCase();return K.items.filter(ne=>ne.description.toLowerCase().includes(Ae))},[K,x]),Q=Ae=>{const ne=Ae.items.reduce((le,ze)=>le+ze.contractedQuantity*ze.unitPrice,0),ve=Ae.items.reduce((le,ze)=>le+ze.acquiredQuantity*ze.unitPrice,0),we=ne-ve,Ee=new Date,Ce=new Date(Ae.endDate).getTime()-Ee.getTime(),Ue=Math.ceil(Ce/(1e3*60*60*24));return{totalValue:ne,totalSpent:ve,remainingValue:we,daysRemaining:Ue}},ee=async(Ae,ne,ve,we)=>{try{const{data:Ee,error:fe}=await ae.from("contract_events").insert({contract_id:Ae,type:ne,description:ve,value:we,responsible:"Gestor da Merenda",date:new Date().toISOString()}).select().single();if(fe)throw fe;n(Ce=>[...Ce,{id:Ee.id,contractId:Ee.contract_id,type:Ee.type,date:Ee.date,description:Ee.description,value:Ee.value,responsible:Ee.responsible}])}catch(Ee){console.error("Erro ao registrar evento:",Ee)}},he=async Ae=>{var ne;if(Ae.preventDefault(),!F.supplierId)return alert("Selecione um fornecedor.");try{const{data:ve,error:we}=await ae.from("contracts").insert({number:F.number.toUpperCase(),supplier_id:F.supplierId,start_date:F.startDate,end_date:F.endDate,type:F.type,status:"ATIVO"}).select("*, supplier:suppliers(name)").single();if(we)throw we;const Ee={id:ve.id,number:ve.number,supplierId:ve.supplier_id,supplierName:((ne=ve.supplier)==null?void 0:ne.name)||"Desconhecido",startDate:ve.start_date,endDate:ve.end_date,status:ve.status,type:ve.type,items:[]};e([Ee,...t]),await ee(ve.id,"AMENDMENT",`Lanamento de Contrato: ${ve.number}`),O(!1),u(ve.id)}catch(ve){alert("Erro ao criar contrato: "+ve.message)}},je=async Ae=>{if(Ae.preventDefault(),!(!k||j===""||Number(j)<=0))try{const ne=t.find(Ce=>Ce.id===k.contractId),ve=ne==null?void 0:ne.items.find(Ce=>Ce.id===k.itemId);if(!ne||!ve)return;const we=ve.contractedQuantity+Number(j),Ee=Number(j)*ve.unitPrice,{error:fe}=await ae.from("contract_items").update({contracted_quantity:we}).eq("id",ve.id);if(fe)throw fe;e(Ce=>Ce.map(Ue=>Ue.id!==k.contractId?Ue:{...Ue,items:Ue.items.map(le=>le.id!==k.itemId?le:{...le,contractedQuantity:we})})),await ee(k.contractId,"ADITIVO",`Aditivo: +${j} ${k.description}`,Ee),y(null),T(""),alert("Termo aditivo registrado com sucesso!")}catch(ne){alert("Erro ao registrar aditivo: "+ne.message)}},me=async Ae=>{if(Ae.preventDefault(),!(!b||g===""||Number(g)<=0))try{const ne=t.find(Ce=>Ce.id===b.contractId),ve=ne==null?void 0:ne.items.find(Ce=>Ce.id===b.itemId);if(!ne||!ve)return;const we=ve.acquiredQuantity+Number(g);if(we>ve.contractedQuantity){alert("Quantidade excede o saldo do contrato!");return}const Ee=Number(g)*ve.unitPrice,{error:fe}=await ae.from("contract_items").update({acquired_quantity:we}).eq("id",ve.id);if(fe)throw fe;e(Ce=>Ce.map(Ue=>Ue.id!==b.contractId?Ue:{...Ue,items:Ue.items.map(le=>le.id!==b.itemId?le:{...le,acquiredQuantity:we})})),await ee(b.contractId,"DELIVERY",`Recebimento: ${g} un de ${b.description}`,Ee),w(null),S("")}catch(ne){alert("Erro ao registrar entrega: "+ne.message)}};if(K){const{totalValue:Ae,totalSpent:ne,remainingValue:ve,daysRemaining:we}=Q(K),Ee=Math.min(100,Math.max(0,(365-we)/3.65));return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsxs("button",{onClick:()=>{u(null),v("")},className:"flex items-center gap-2 text-emerald-700 font-black uppercase text-xs tracking-widest hover:text-emerald-800 transition-colors group",children:[a.jsx(cr,{size:18,className:"group-hover:-translate-x-1 transition-transform"})," Voltar para lista"]}),k&&a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 animate-in fade-in duration-200",children:[a.jsx("div",{className:"absolute inset-0 bg-gray-900/60 backdrop-blur-sm",onClick:()=>y(null)}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-md p-8 relative z-10 shadow-2xl border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-2xl bg-blue-100 text-blue-600",children:a.jsx(Nm,{size:24})}),a.jsx("h3",{className:"text-lg font-black text-gray-900 uppercase",children:"Termo Aditivo"})]}),a.jsx("button",{onClick:()=>y(null),children:a.jsx(Ze,{size:24,className:"text-gray-300"})})]}),a.jsxs("p",{className:"text-xs text-gray-500 mb-6",children:["Aumentar a quantidade contratada para ",a.jsx("b",{children:k.description}),"."]}),a.jsxs("form",{onSubmit:je,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Quantidade Adicional"}),a.jsx("input",{autoFocus:!0,type:"number",step:"0.01",required:!0,value:j,onChange:fe=>T(fe.target.value===""?"":Number(fe.target.value)),className:"w-full p-4 bg-gray-50 border border-gray-200 rounded-2xl font-black text-center text-xl",placeholder:"0.00"})]}),a.jsx("button",{type:"submit",className:"w-full py-4 bg-blue-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-lg",children:"Confirmar Aditivo"})]})]})]}),b&&a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 animate-in fade-in duration-200",children:[a.jsx("div",{className:"absolute inset-0 bg-gray-900/60 backdrop-blur-sm",onClick:()=>w(null)}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-md p-8 relative z-10 shadow-2xl border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-2xl bg-emerald-100 text-emerald-600",children:a.jsx(uf,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black text-gray-900 uppercase tracking-tight",children:"Registrar Entrega"}),a.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:"Atualizar Saldo do Contrato"})]})]}),a.jsx("button",{onClick:()=>w(null),className:"text-gray-300 hover:text-gray-600 transition-colors",children:a.jsx(Ze,{size:24})})]}),a.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-2xl border border-gray-100",children:[a.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Produto"}),a.jsx("p",{className:"font-black text-gray-900 text-sm uppercase",children:b.description})]}),a.jsxs("form",{onSubmit:me,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Quantidade Recebida"}),a.jsx("input",{autoFocus:!0,required:!0,type:"number",step:"0.01",value:g,onChange:fe=>S(fe.target.value===""?"":Number(fe.target.value)),className:"w-full p-4 bg-gray-50 border border-gray-200 rounded-2xl outline-none font-black text-lg focus:border-emerald-500 transition-all text-center"})]}),a.jsx("button",{type:"submit",className:"w-full py-4 bg-emerald-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-emerald-700 transition-all",children:"Confirmar Recebimento"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-[3rem] border border-gray-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-3xl font-black text-gray-900 leading-tight",children:["Contrato ",K.number]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase ${K.type.includes("Agric")?"bg-emerald-100 text-emerald-700":"bg-blue-100 text-blue-700"}`,children:K.type})]}),a.jsx("p",{className:"text-sm text-gray-500 font-bold uppercase tracking-widest",children:K.supplierName})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`text-xl font-black ${we<30?"text-red-600":"text-gray-900"}`,children:[we," Dias"]}),a.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase",children:"Vigncia Restante"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 p-5 rounded-2xl border border-gray-100",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Valor Global"}),a.jsxs("p",{className:"text-xl font-black text-gray-900 leading-none",children:["R$ ",Ae.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),a.jsxs("div",{className:"bg-emerald-50 p-5 rounded-2xl border border-emerald-100",children:[a.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest mb-1",children:"Total Executado"}),a.jsxs("p",{className:"text-xl font-black text-emerald-700 leading-none",children:["R$ ",ne.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),a.jsxs("div",{className:"bg-blue-50 p-5 rounded-2xl border border-blue-100",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Saldo Disponvel"}),a.jsxs("p",{className:"text-xl font-black text-blue-700 leading-none",children:["R$ ",ve.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-gray-100 shadow-sm flex flex-col justify-between",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(rr,{size:14})," Cronologia Financeira"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase",children:[a.jsx("span",{children:"Tempo Decorrido"}),a.jsxs("span",{children:[Ee.toFixed(0),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-1000",style:{width:`${Ee}%`}})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase",children:[a.jsx("span",{children:"Gasto Financeiro"}),a.jsxs("span",{children:[(ne/Ae*100).toFixed(0),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-emerald-600 transition-all duration-1000",style:{width:`${ne/Ae*100}%`}})})]})]}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{onClick:()=>window.print(),className:"w-full py-3 bg-gray-900 text-white rounded-xl text-[10px] font-black uppercase flex items-center justify-center gap-2 hover:bg-black transition-all",children:[a.jsx(Sa,{size:14})," Imprimir Ficha de Fiscalizao"]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"xl:col-span-2 bg-white p-8 rounded-[3rem] border border-gray-100 shadow-sm",children:[a.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 mb-8",children:a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("h3",{className:"text-lg font-black text-gray-900 uppercase flex items-center gap-2 whitespace-nowrap",children:[a.jsx(PA,{size:20,className:"text-emerald-600"})," Planilha de Itens"]}),a.jsxs("div",{className:"relative w-64 md:w-80 no-print",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-300",size:16}),a.jsx("input",{type:"text",placeholder:"Pesquisar produto...",value:x,onChange:fe=>v(fe.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-100 rounded-xl text-xs font-bold outline-none focus:ring-4 focus:ring-emerald-500/5 focus:bg-white transition-all"})]})]})}),a.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-100",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-[10px] font-black text-gray-400 uppercase border-b border-gray-100",children:[a.jsx("th",{className:"px-6 py-4",children:"Descrio do Produto"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Contratado / Saldo"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Saldo Valor"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:W.map(fe=>{const Ce=fe.contractedQuantity-fe.acquiredQuantity,Ue=fe.acquiredQuantity/fe.contractedQuantity*100;return a.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-6 py-5",children:[a.jsx("p",{className:"font-black text-gray-900 text-xs uppercase leading-tight",children:fe.description}),a.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[a.jsx("span",{className:"text-[7px] font-black bg-gray-100 text-gray-500 px-1.5 py-0.5 rounded uppercase",children:fe.unit}),Ue>=90&&a.jsx("span",{className:"text-[7px] font-black text-red-600 bg-red-50 px-1.5 py-0.5 rounded uppercase animate-pulse",children:"Esgotando"})]})]}),a.jsxs("td",{className:"px-6 py-5 text-center",children:[a.jsxs("p",{className:"text-xs font-black text-gray-900",children:[fe.contractedQuantity.toLocaleString()," / ",a.jsx("span",{className:"text-blue-600",children:Ce.toLocaleString()})]}),a.jsx("div",{className:"w-20 bg-gray-100 h-1 rounded-full mx-auto mt-2 overflow-hidden",children:a.jsx("div",{className:`h-full ${Ue>90?"bg-red-500":"bg-emerald-500"}`,style:{width:`${Ue}%`}})})]}),a.jsxs("td",{className:"px-6 py-5 text-right font-black text-gray-900 text-xs",children:["R$ ",(Ce*fe.unitPrice).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsx("td",{className:"px-6 py-5 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>y({contractId:K.id,itemId:fe.id,description:fe.description}),className:"p-2.5 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-600 hover:text-white transition-all shadow-sm",title:"Aditivo",children:a.jsx(ot,{size:14})}),a.jsxs("button",{onClick:()=>w({contractId:K.id,itemId:fe.id,description:fe.description}),className:"px-4 py-2 bg-emerald-50 text-emerald-700 rounded-xl text-[9px] font-black uppercase hover:bg-emerald-600 hover:text-white transition-all flex items-center gap-2 shadow-sm",children:[a.jsx(uf,{size:12})," Receber"]})]})})]},fe.id)})})]})})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-gray-100 shadow-sm flex flex-col",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("h3",{className:"text-lg font-black text-gray-900 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(_t,{size:20,className:"text-indigo-600"})," Log de Execuo"]})}),a.jsx("div",{className:"flex-1 space-y-6 relative before:absolute before:left-5 before:top-2 before:bottom-2 before:w-px before:bg-gray-100",children:G.length>0?G.map(fe=>a.jsxs("div",{className:"relative pl-12",children:[a.jsx("div",{className:`absolute left-0 top-1 w-10 h-10 rounded-xl flex items-center justify-center border-4 border-white shadow-sm z-10 ${fe.type==="DELIVERY"?"bg-emerald-500 text-white":fe.type==="ADITIVO"?"bg-blue-500 text-white":"bg-gray-900 text-white"}`,children:fe.type==="DELIVERY"?a.jsx(uf,{size:14}):fe.type==="ADITIVO"?a.jsx(Nm,{size:14}):a.jsx(Ho,{size:14})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-900 uppercase leading-none",children:fe.description}),a.jsx("span",{className:"text-[8px] font-bold text-gray-400 uppercase",children:new Date(fe.date).toLocaleDateString("pt-BR")})]}),fe.value!==void 0&&a.jsxs("p",{className:"text-[10px] font-black text-indigo-600 mt-1",children:["Impacto: R$ ",fe.value.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsxs("p",{className:"text-[8px] text-gray-400 font-bold uppercase mt-1",children:["Resp: ",fe.responsible]})]})]},fe.id)):a.jsxs("div",{className:"py-20 text-center opacity-20",children:[a.jsx(Df,{size:48,className:"mx-auto mb-2"}),a.jsx("p",{className:"text-[10px] font-black uppercase",children:"Nenhum evento registrado"})]})})]})]})]})}return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-3xl font-black text-gray-900 tracking-tighter uppercase",children:"Gesto de Contratos"}),a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-emerald-50 text-emerald-600 rounded-full border border-emerald-100",children:[a.jsx(ft,{size:14}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Base Auditada 2026"})]})]}),a.jsx("p",{className:"text-gray-500 font-bold text-xs uppercase tracking-widest mt-1",children:"Controle fiscal, vigncia e saldos por item"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-80 no-print",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:"N Contrato ou Fornecedor...",value:h,onChange:Ae=>p(Ae.target.value),className:"w-full pl-12 pr-6 py-4 bg-white border border-gray-100 rounded-[1.5rem] font-black text-sm uppercase shadow-sm outline-none focus:ring-4 focus:ring-emerald-500/5 transition-all"})]}),a.jsxs("button",{onClick:()=>B(!0),className:"p-4 bg-emerald-100 text-emerald-700 rounded-[1.5rem] hover:bg-emerald-200 transition-all shadow-lg flex items-center gap-3 group border border-emerald-200",children:[a.jsx(Ho,{size:24,className:"group-hover:scale-110 transition-transform fill-emerald-500"}),a.jsx("span",{className:"hidden md:block text-xs font-black uppercase tracking-widest",children:"Importar PDF"})]}),a.jsxs("button",{onClick:()=>O(!0),className:"p-4 bg-gray-900 text-white rounded-[1.5rem] hover:bg-black transition-all shadow-xl flex items-center gap-3 group",children:[a.jsx(Nm,{size:24,className:"group-hover:scale-110 transition-transform"}),a.jsx("span",{className:"hidden md:block text-xs font-black uppercase tracking-widest",children:"Novo Contrato"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:se.map(Ae=>{const{totalValue:ne,totalSpent:ve,daysRemaining:we}=Q(Ae),Ee=ve/ne*100;return a.jsxs("div",{onClick:()=>u(Ae.id),className:"bg-white p-8 rounded-[3rem] border border-gray-100 shadow-sm hover:border-emerald-300 hover:shadow-2xl transition-all cursor-pointer group flex flex-col justify-between h-80",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("div",{className:`p-4 rounded-2xl ${Ae.type.includes("Agric")?"bg-emerald-50 text-emerald-600":"bg-blue-50 text-blue-600"} transition-transform group-hover:scale-110`,children:Ae.type.includes("Agric")?a.jsx(xx,{size:28}):a.jsx(zt,{size:28})}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-1 rounded-lg border ${we<60?"bg-red-50 text-red-600 border-red-100 animate-pulse":"bg-gray-50 text-gray-400 border-gray-100"}`,children:we<0?"Vencido":`${we} Dias`})})]}),a.jsxs("h3",{className:"text-xl font-black text-gray-900 uppercase leading-tight mb-1",children:["Contrato ",Ae.number]}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest truncate",children:Ae.supplierName}),a.jsxs("div",{className:"mt-8 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase",children:[a.jsx("span",{className:"text-gray-400",children:"Execuo Financeira"}),a.jsxs("span",{className:Ee>90?"text-red-600":"text-emerald-600",children:[Ee.toFixed(0),"%"]})]}),a.jsx("div",{className:"w-full h-2 bg-gray-50 rounded-full overflow-hidden border border-gray-100",children:a.jsx("div",{className:`h-full transition-all duration-1000 ${Ee>90?"bg-red-500":"bg-emerald-500"}`,style:{width:`${Ee}%`}})})]})]}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-50 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black text-gray-300 uppercase mb-0.5",children:"Saldo Disponvel"}),a.jsxs("p",{className:"text-sm font-black text-gray-900",children:["R$ ",(ne-ve).toLocaleString("pt-BR",{maximumFractionDigits:0})]})]}),a.jsx("div",{className:"p-2 bg-gray-50 text-gray-400 group-hover:bg-emerald-600 group-hover:text-white rounded-xl transition-all",children:a.jsx(ga,{size:20})})]})]},Ae.id)})}),_&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-gray-950/40 backdrop-blur-md animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"p-8 bg-gray-50 border-b border-gray-100 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-emerald-600 text-white rounded-3xl shadow-lg",children:a.jsx(Nm,{size:24})}),a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase",children:"Novo Contrato Administrativo"})]}),a.jsx("button",{onClick:()=>O(!1),children:a.jsx(Ze,{size:24,className:"text-gray-300"})})]}),a.jsxs("form",{onSubmit:he,className:"p-10 space-y-6 overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Nmero do Contrato / Processo"}),a.jsx("input",{required:!0,value:F.number,onChange:Ae=>q({...F,number:Ae.target.value}),placeholder:"Ex: 015/2026/SEDUC",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Fornecedor Ganhador (Licitante)"}),a.jsxs("select",{required:!0,value:F.supplierId,onChange:Ae=>q({...F,supplierId:Ae.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase",children:[a.jsx("option",{value:"",children:"Selecione..."}),F3.map(Ae=>a.jsxs("option",{value:Ae.id,children:[Ae.name," (",Ae.category,")"]},Ae.id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Incio Vigncia"}),a.jsx("input",{type:"date",value:F.startDate,onChange:Ae=>q({...F,startDate:Ae.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Trmino Vigncia"}),a.jsx("input",{type:"date",value:F.endDate,onChange:Ae=>q({...F,endDate:Ae.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold"})]})]}),a.jsx("button",{type:"submit",className:"w-full py-5 bg-emerald-600 text-white rounded-[1.5rem] font-black uppercase text-sm tracking-widest shadow-xl hover:bg-emerald-700 transition-all",children:"Iniciar Monitoramento Contratual"})]})]})}),L&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-gray-950/40 backdrop-blur-md animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-4xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"p-8 bg-emerald-50 border-b border-emerald-100 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"p-4 bg-emerald-600 text-white rounded-3xl shadow-lg relative overflow-hidden",children:[a.jsx(Ho,{size:24,className:"relative z-10"}),a.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-emerald-900 uppercase tracking-tighter",children:"Importar Contrato via IA"}),a.jsx("p",{className:"text-[10px] text-emerald-600 font-bold uppercase tracking-widest mt-1",children:"Extrao automtica de PDF de Licitao ou Ata"})]})]}),a.jsx("button",{onClick:()=>{B(!1),z(null)},children:a.jsx(Ze,{size:24,className:"text-gray-300 hover:text-red-500 transition-colors"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:U?a.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Contrato Extrado"}),a.jsx("div",{className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm uppercase text-gray-900",children:U.contractNumber})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Fornecedor Identificado"}),a.jsx("div",{className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm uppercase text-emerald-700",children:U.supplierName})]})]}),a.jsxs("div",{className:"bg-emerald-50 p-6 rounded-[2rem] border border-emerald-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm text-emerald-600",children:a.jsx(kr,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-emerald-800 uppercase tracking-widest",children:"Vigncia Encontrada"}),a.jsxs("p",{className:"text-sm font-black text-emerald-600 mt-1 uppercase",children:[new Date(U.startDate).toLocaleDateString()," AT ",new Date(U.endDate).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-emerald-800 uppercase tracking-widest",children:"Total de Itens"}),a.jsx("p",{className:"text-2xl font-black text-emerald-900 leading-none mt-1",children:((re=U.items)==null?void 0:re.length)||0})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(PA,{size:14})," Prvia da Planilha de Itens"]}),a.jsxs("div",{className:"border border-gray-100 rounded-2xl overflow-hidden shadow-sm",children:[a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-gray-50 text-[8px] font-black text-gray-400 uppercase",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3",children:"Item / Marca"}),a.jsx("th",{className:"px-5 py-3 text-center",children:"Quant."}),a.jsx("th",{className:"px-5 py-3 text-right",children:"Preo Un."}),a.jsx("th",{className:"px-5 py-3 text-right",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50",children:(ge=U.items)==null?void 0:ge.slice(0,10).map((Ae,ne)=>a.jsxs("tr",{className:"bg-white",children:[a.jsxs("td",{className:"px-5 py-3",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-900 uppercase leading-tight",children:Ae.description}),a.jsx("p",{className:"text-[8px] font-black text-emerald-500 uppercase",children:Ae.brand||"Marca no ident."})]}),a.jsxs("td",{className:"px-5 py-3 text-center text-xs font-bold text-gray-900",children:[Ae.quantity," ",Ae.unit]}),a.jsxs("td",{className:"px-5 py-3 text-right text-xs font-bold text-gray-900",children:["R$ ",Ae.unitPrice.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsxs("td",{className:"px-5 py-3 text-right text-xs font-black text-emerald-700",children:["R$ ",(Ae.quantity*Ae.unitPrice).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},ne))})]}),((Me=U.items)==null?void 0:Me.length)>10&&a.jsxs("div",{className:"p-3 bg-gray-50 text-center text-[8px] font-black text-gray-400 uppercase tracking-widest border-t border-gray-100",children:["+ ",U.items.length-10," itens ocultos na prvia"]})]})]}),a.jsxs("button",{onClick:Y,className:"w-full py-5 bg-emerald-600 text-white rounded-[2rem] font-black uppercase text-sm tracking-[0.2em] shadow-2xl hover:bg-emerald-700 transition-all flex items-center justify-center gap-3",children:[a.jsx(qr,{size:24})," Confirmar Importao de ",((J=U.items)==null?void 0:J.length)||0," Itens"]}),a.jsx("p",{className:"text-center text-[9px] text-gray-400 font-bold uppercase tracking-widest px-10",children:"Ao confirmar, o sistema ir cadastrar o fornecedor (se necessrio), o contrato e todos os itens vinculados automaticamente."})]}):a.jsx("div",{className:"h-full flex flex-col items-center justify-center py-20 text-center border-4 border-dashed border-emerald-100 rounded-[3rem] bg-emerald-50/30",children:X?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"w-20 h-20 border-8 border-emerald-100 border-t-emerald-600 rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-sm font-black text-emerald-800 uppercase animate-pulse",children:"A Inteligncia Artificial est lendo o documento..."}),a.jsx("p",{className:"text-[10px] text-emerald-600 font-bold uppercase",children:"Aguarde extrao de itens e vigncias"})]}):a.jsxs("div",{className:"space-y-6 max-w-sm",children:[a.jsx("div",{className:"p-8 bg-white rounded-full shadow-lg mx-auto w-32 h-32 flex items-center justify-center",children:a.jsx(Df,{size:48,className:"text-emerald-300"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-black text-emerald-900 uppercase",children:"Selecione o PDF do Contrato"}),a.jsx("p",{className:"text-xs text-emerald-600 font-medium mt-2 leading-relaxed",children:"Nossa IA ir identificar o nmero, fornecedor, datas e todos os itens registrados."})]}),a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"sr-only",children:"Choose file"}),a.jsx("input",{type:"file",accept:"application/pdf",onChange:V,className:"block w-full text-sm text-emerald-500 file:mr-4 file:py-3 file:px-8 file:rounded-2xl file:border-0 file:text-[10px] file:font-black file:uppercase file:bg-emerald-600 file:text-white hover:file:bg-emerald-700 transition-all cursor-pointer"})]})]})})})]})})]})},f1e=()=>{const[t,e]=R.useState([]),[r,n]=R.useState(!0),s=async()=>{try{const{data:p,error:x}=await ae.from("suppliers").select("*");if(x)throw x;e(p||[])}catch(p){console.error("Erro ao buscar fornecedores:",p)}finally{n(!1)}};R.useEffect(()=>{s()},[]);const[i,o]=R.useState(!1),[l,d]=R.useState({name:"",full_name:"",cnpj:"",email:"",phone:"",category:"Gneros Diversos",location:""}),u=async p=>{p.preventDefault();try{const{error:x}=await ae.from("suppliers").insert([{name:l.name,full_name:l.full_name,cnpj:l.cnpj,email:l.email,phone:l.phone,category:l.category,score:5,location:l.location}]);if(x)throw x;s(),o(!1),d({name:"",full_name:"",cnpj:"",email:"",phone:"",category:"Gneros Diversos",location:""}),alert("Fornecedor cadastrado com sucesso!")}catch(x){alert("Erro ao salvar fornecedor: "+x.message)}},h=async p=>{if(window.confirm("Deseja remover este fornecedor do sistema?"))try{const{error:x}=await ae.from("suppliers").delete().eq("id",p);if(x)throw x;e(v=>v.filter(b=>b.id!==p))}catch(x){alert("Erro ao excluir: "+x.message)}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-gray-800 tracking-tight uppercase",children:"Fornecedores Homologados"}),a.jsx("p",{className:"text-gray-500 text-sm font-bold uppercase tracking-widest mt-1",children:"Diretrio de Parceiros da Unidade"})]}),a.jsxs("button",{onClick:()=>o(!0),className:"bg-emerald-600 text-white px-6 py-3 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-emerald-700 transition-all shadow-lg flex items-center gap-2",children:[a.jsx(ot,{size:18})," Novo Fornecedor"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[t.map(p=>a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-gray-100 shadow-sm hover:border-emerald-200 hover:shadow-lg transition-all group relative",children:[a.jsx("button",{onClick:()=>h(p.id),className:"absolute top-4 right-4 p-2 text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all",children:a.jsx(Lt,{size:16})}),a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-xl font-black ${p.category.includes("Agricultura")?"bg-emerald-100 text-emerald-700":"bg-blue-100 text-blue-700"}`,children:p.category.includes("Agricultura")?a.jsx(xx,{size:28}):a.jsx(Xo,{size:28})}),a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-xl text-[11px] font-black uppercase tracking-tighter",children:[a.jsx(EK,{size:12,className:"fill-emerald-600"}),p.score.toFixed(1)]})]}),a.jsx("h3",{className:"text-lg font-black text-gray-900 uppercase leading-tight mb-1",children:p.name}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest line-clamp-1 mb-2",children:p.full_name}),a.jsx("p",{className:"text-[10px] text-gray-500 font-black bg-gray-50 px-2 py-1 rounded-lg w-fit border border-gray-100 uppercase tracking-widest",children:p.cnpj}),a.jsxs("div",{className:"mt-6 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600 font-medium",children:[a.jsx(Yj,{size:14,className:"text-gray-400"}),a.jsx("span",{className:"truncate",children:p.email})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600 font-medium",children:[a.jsx(If,{size:14,className:"text-gray-400"}),p.phone]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600 font-medium",children:[a.jsx(Yi,{size:14,className:"text-gray-400"}),a.jsx("span",{className:"line-clamp-1",children:p.location})]})]}),a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-50 flex items-center justify-between",children:a.jsx("span",{className:`text-[9px] font-black px-2.5 py-1.5 rounded-lg uppercase tracking-widest ${p.category.includes("Agricultura")?"bg-emerald-50 text-emerald-700":"bg-blue-50 text-blue-700"}`,children:p.category})})]},p.id)),t.length===0&&a.jsxs("div",{className:"col-span-full py-24 text-center border-2 border-dashed border-gray-100 rounded-[3rem]",children:[a.jsx(Xo,{size:48,className:"mx-auto mb-4 text-gray-200"}),a.jsx("p",{className:"text-gray-300 font-black uppercase text-xs tracking-widest",children:"Nenhum fornecedor cadastrado. Comece agora."})]})]}),i&&a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-gray-900/40 backdrop-blur-md",children:a.jsxs("div",{className:"bg-white rounded-[3rem] w-full max-w-2xl shadow-2xl overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-8 bg-emerald-50 border-b border-emerald-100 flex justify-between items-center",children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase",children:"Novo Fornecedor"}),a.jsx("button",{onClick:()=>o(!1),children:a.jsx(Ze,{size:24})})]}),a.jsxs("form",{onSubmit:u,className:"p-10 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nome Fantasia"}),a.jsx("input",{required:!0,value:l.name,onChange:p=>d({...l,name:p.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 rounded-2xl border-none font-bold text-sm outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"CNPJ"}),a.jsx("input",{required:!0,value:l.cnpj,onChange:p=>d({...l,cnpj:p.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl border-none font-bold text-sm outline-none"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Razo Social Completa"}),a.jsx("input",{required:!0,value:l.full,onChange:p=>d({...l,full:p.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 rounded-2xl border-none font-bold text-sm outline-none"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"E-mail"}),a.jsx("input",{required:!0,type:"email",value:l.email,onChange:p=>d({...l,email:p.target.value.toLowerCase()}),className:"w-full p-4 bg-gray-50 rounded-2xl border-none font-bold text-sm outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Telefone"}),a.jsx("input",{required:!0,value:l.phone,onChange:p=>d({...l,phone:p.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl border-none font-bold text-sm outline-none"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Categoria"}),a.jsxs("select",{value:l.category,onChange:p=>d({...l,category:p.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl font-black text-xs uppercase",children:[a.jsx("option",{children:"Agricultura Familiar"}),a.jsx("option",{children:"Gneros Secos"}),a.jsx("option",{children:"Perecveis"}),a.jsx("option",{children:"Padaria"}),a.jsx("option",{children:"Gneros Diversos"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Localizao (Cidade/Estado)"}),a.jsx("input",{required:!0,value:l.location,onChange:p=>d({...l,location:p.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 rounded-2xl border-none font-bold text-sm outline-none"})]})]}),a.jsxs("button",{type:"submit",className:"w-full py-5 bg-emerald-600 text-white rounded-3xl font-black uppercase text-sm tracking-[0.2em] shadow-2xl hover:bg-emerald-700 transition-all flex items-center justify-center gap-3",children:[a.jsx(qr,{size:20})," Salvar Homologao"]})]})]})})]})},h1e=()=>{const[t,e]=R.useState("active"),[r,n]=R.useState(()=>{const F=localStorage.getItem("seduc_inventory_v3");return F?JSON.parse(F):[]}),[s,i]=R.useState(()=>{const F=localStorage.getItem("merenda_inventory_history_v1");return F?JSON.parse(F):[]}),[o,l]=R.useState(!1),[d,u]=R.useState({name:"",unit:"Kg",min:0}),[h,p]=R.useState("Matutino"),[x,v]=R.useState("Gestor Andr"),[b,w]=R.useState(new Date().toISOString().split("T")[0]),[g,S]=R.useState(!1),[k,y]=R.useState(!1),j=R.useRef(null);R.useEffect(()=>{localStorage.setItem("seduc_inventory_v3",JSON.stringify(r))},[r]);const T=F=>{F.preventDefault();const q={id:`item-${Date.now()}`,...d,previousBalance:0,entries:0,outputs:0};n([...r,q]),l(!1),u({name:"",unit:"Kg",min:0})},_=F=>{window.confirm("Deseja remover este item do controle de estoque?")&&n(q=>q.filter(L=>L.id!==F))},O=(F,q,L)=>{const B=L===""?0:parseFloat(L);n(X=>X.map(P=>P.id===F?{...P,[q]:B}:P))},M=()=>{if(r.length===0)return alert("Cadastre itens antes de fechar o turno.");if(window.confirm("Deseja fechar este turno? Os saldos sero consolidados no histrico.")){const q=[{id:`inv-${Date.now()}`,date:b,turno:h,responsavel:x,items:[...r],timestamp:Date.now()},...s];i(q),localStorage.setItem("merenda_inventory_history_v1",JSON.stringify(q)),n(L=>L.map(B=>({...B,previousBalance:B.previousBalance+B.entries-B.outputs,entries:0,outputs:0}))),alert("Fechamento de turno realizado!")}},D=async()=>{S(!0);const F=j.current;if(F)try{await window.html2pdf().set({margin:10,filename:`Estoque_Real_${b}.pdf`,jsPDF:{unit:"mm",format:"a4",orientation:"landscape"}}).from(F).save(),y(!0),setTimeout(()=>y(!1),3e3)}catch(q){console.error(q)}finally{S(!1)}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm no-print",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-8 pb-6 border-b border-gray-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-emerald-900 text-white rounded-3xl",children:a.jsx($j,{size:32})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:"Estoque Real da Unidade"}),a.jsx("p",{className:"text-gray-500 font-bold text-xs uppercase tracking-widest leading-none mt-1",children:"Gesto de Alimentao Escolar"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[t==="active"&&a.jsxs("button",{onClick:()=>l(!0),className:"px-5 py-3 bg-indigo-600 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-indigo-700 transition-all flex items-center gap-2",children:[a.jsx(ot,{size:14})," Novo Produto"]}),a.jsx("button",{onClick:()=>e(t==="active"?"history":"active"),className:"px-5 py-3 bg-gray-100 text-gray-600 rounded-2xl font-black uppercase text-[10px] tracking-widest",children:a.jsx(_t,{size:14})}),t==="active"&&a.jsx("button",{onClick:M,className:"px-5 py-3 bg-emerald-100 text-emerald-700 rounded-2xl font-black uppercase text-[10px] tracking-widest",children:"Fechar Turno"}),a.jsx("button",{onClick:D,disabled:g,className:"px-6 py-3 bg-emerald-600 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest",children:g?a.jsx(vt,{size:14,className:"animate-spin"}):a.jsx(ni,{size:14})})]})]}),t==="active"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-in slide-in-from-top-4 duration-300",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Turno"}),a.jsx("select",{value:h,onChange:F=>p(F.target.value),className:"w-full p-4 bg-gray-50 rounded-2xl font-black text-sm uppercase outline-none",children:["Matutino","Vespertino","Noturno","Integral"].map(F=>a.jsx("option",{children:F},F))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Assinatura"}),a.jsx("input",{value:x,onChange:F=>v(F.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm uppercase outline-none"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Data"}),a.jsx("input",{type:"date",value:b,onChange:F=>w(F.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm outline-none"})]})]})]}),a.jsx("div",{ref:j,className:"bg-white p-10 rounded-[3rem] border border-gray-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-900 text-white",children:[a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest w-[35%]",children:"Produto"}),a.jsx("th",{className:"px-6 py-5 text-[10px] font-black uppercase tracking-widest text-center w-[15%]",children:"Saldo Inicial"}),a.jsx("th",{className:"px-6 py-5 text-[10px] font-black uppercase tracking-widest text-center bg-emerald-800/50 w-[15%]",children:"Entradas"}),a.jsx("th",{className:"px-6 py-5 text-[10px] font-black uppercase tracking-widest text-center bg-red-800/50 w-[15%]",children:"Sadas"}),a.jsx("th",{className:"px-6 py-5 text-[10px] font-black uppercase tracking-widest text-center w-[15%]",children:"Saldo Final"}),t==="active"&&a.jsx("th",{className:"px-4 py-5 w-[5%] no-print"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-100",children:[r.map(F=>{const q=F.previousBalance+F.entries-F.outputs,L=q<F.min;return a.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${L?"bg-red-50 text-red-500":"bg-gray-50 text-gray-400"}`,children:a.jsx(Us,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-black text-gray-900 uppercase text-xs",children:F.name}),a.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase mt-0.5",children:["UN: ",F.unit]})]})]})}),a.jsx("td",{className:"px-6 py-6 text-center text-sm font-bold text-gray-400",children:F.previousBalance.toLocaleString("pt-BR")}),a.jsxs("td",{className:"px-4 py-4 text-center bg-emerald-50/10",children:[a.jsx("input",{type:"number",step:"0.01",value:F.entries||"",onChange:B=>O(F.id,"entries",B.target.value),className:"w-full bg-transparent text-center font-black text-emerald-600 outline-none no-print"}),a.jsx("span",{className:"hidden pdf-show",children:F.entries||"0"})]}),a.jsxs("td",{className:"px-4 py-4 text-center bg-red-50/10",children:[a.jsx("input",{type:"number",step:"0.01",value:F.outputs||"",onChange:B=>O(F.id,"outputs",B.target.value),className:"w-full bg-transparent text-center font-black text-red-600 outline-none no-print"}),a.jsx("span",{className:"hidden pdf-show",children:F.outputs||"0"})]}),a.jsx("td",{className:`px-6 py-6 text-center text-sm font-black ${L?"text-red-700 bg-red-50/40":"text-gray-900"}`,children:q.toLocaleString("pt-BR")}),t==="active"&&a.jsx("td",{className:"px-4 py-6 no-print text-right",children:a.jsx("button",{onClick:()=>_(F.id),className:"text-gray-300 hover:text-red-500",children:a.jsx(Lt,{size:16})})})]},F.id)}),r.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-24 text-center text-gray-300 font-black uppercase text-xs tracking-widest",children:"Sem itens cadastrados no inventrio."})})]})]})}),o&&a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-gray-900/40 backdrop-blur-md",children:a.jsxs("div",{className:"bg-white rounded-[3rem] w-full max-w-md shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"p-8 bg-indigo-50 border-b border-indigo-100 flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase",children:"Novo Item de Estoque"}),a.jsx("button",{onClick:()=>l(!1),children:a.jsx(Ze,{size:24})})]}),a.jsxs("form",{onSubmit:T,className:"p-10 space-y-6",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Descrio do Alimento"}),a.jsx("input",{required:!0,value:d.name,onChange:F=>u({...d,name:F.target.value.toUpperCase()}),placeholder:"EX: ARROZ AGULHINHA",className:"w-full p-4 bg-gray-50 rounded-2xl border-none font-bold text-sm outline-none focus:bg-white transition-all"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Unidade"}),a.jsxs("select",{value:d.unit,onChange:F=>u({...d,unit:F.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl font-black text-xs uppercase outline-none",children:[a.jsx("option",{children:"Kg"}),a.jsx("option",{children:"Un"}),a.jsx("option",{children:"Litro"}),a.jsx("option",{children:"Pct"}),a.jsx("option",{children:"Dz"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Estoque Mnimo"}),a.jsx("input",{required:!0,type:"number",step:"0.01",value:d.min,onChange:F=>u({...d,min:parseFloat(F.target.value)||0}),className:"w-full p-4 bg-gray-50 rounded-2xl border-none font-bold text-sm outline-none focus:bg-white transition-all"})]})]}),a.jsxs("button",{type:"submit",className:"w-full py-5 bg-indigo-600 text-white rounded-3xl font-black uppercase text-sm tracking-widest shadow-xl hover:bg-indigo-700 transition-all flex items-center justify-center gap-3",children:[a.jsx(qr,{size:20})," Cadastrar Alimento"]})]})]})})]})},p1e=()=>{const[t,e]=R.useState(!1),[r,n]=R.useState(null),s=async()=>{e(!0);try{const o=await t1e([{name:"Arroz",current:1500,min:2e3,expiry:"2024-08-10"},{name:"Feijo",current:800,min:500,expiry:"2024-12-15"},{name:"Carne Bovina",current:400,min:300,expiry:"2024-06-20"}]);n(o||"No foi possvel gerar a sugesto agora.")}catch(i){console.error(i),n("Erro ao processar consulta com a IA.")}finally{e(!1)}};return a.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 to-teal-700 p-10 rounded-[2rem] text-white relative overflow-hidden shadow-xl",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:a.jsx(Fi,{size:120})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("span",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-sm",children:a.jsx(Mr,{size:24})}),a.jsx("h2",{className:"text-3xl font-bold",children:"Assistente Estratgico IA"})]}),a.jsx("p",{className:"text-emerald-50 max-w-xl text-lg opacity-90",children:"Analise contratos, preveja desabastecimentos e otimize o cardpio escolar com inteligncia artificial generativa."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("button",{onClick:s,disabled:t,className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:border-emerald-200 hover:shadow-md transition-all group text-left",children:[a.jsx("div",{className:"w-12 h-12 bg-amber-50 text-amber-600 rounded-xl flex items-center justify-center mb-4 group-hover:bg-amber-100 transition-colors",children:a.jsx(Hj,{size:24})}),a.jsx("h3",{className:"font-bold text-gray-900",children:"Otimizar Cardpio"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Sugestes baseadas no estoque atual e datas de validade."})]}),a.jsxs("button",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:border-blue-200 hover:shadow-md transition-all group text-left",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center mb-4 group-hover:bg-blue-100 transition-colors",children:a.jsx(Df,{size:24})}),a.jsx("h3",{className:"font-bold text-gray-900",children:"Auditoria de Contrato"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Verifique clusulas, prazos e inconsistncias de preos."})]}),a.jsxs("button",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:border-purple-200 hover:shadow-md transition-all group text-left",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-50 text-purple-600 rounded-xl flex items-center justify-center mb-4 group-hover:bg-purple-100 transition-colors",children:a.jsx(ic,{size:24})}),a.jsx("h3",{className:"font-bold text-gray-900",children:"Previso de Compras"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Analise tendncias de consumo e antecipe pedidos."})]})]}),t&&a.jsxs("div",{className:"bg-white p-12 rounded-3xl border border-gray-100 shadow-sm flex flex-col items-center gap-4 text-center",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-emerald-100 border-t-emerald-600 rounded-full animate-spin"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(Mr,{size:16,className:"text-emerald-600"})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-900",children:"A IA est processando os dados..."}),a.jsx("p",{className:"text-sm text-gray-500",children:"Isso pode levar alguns segundos dependendo da complexidade."})]})]}),r&&!t&&a.jsxs("div",{className:"bg-white rounded-3xl border border-emerald-100 shadow-lg overflow-hidden animate-in fade-in zoom-in-95 duration-500",children:[a.jsxs("div",{className:"bg-emerald-50 px-8 py-4 border-b border-emerald-100 flex items-center justify-between",children:[a.jsxs("span",{className:"text-emerald-700 font-bold flex items-center gap-2",children:[a.jsx(Mr,{size:18})," Resposta da Consultoria"]}),a.jsx("button",{onClick:()=>n(null),className:"text-emerald-400 hover:text-emerald-600 text-sm",children:"Limpar"})]}),a.jsx("div",{className:"p-8 prose prose-emerald max-w-none",children:a.jsx("div",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed",children:r})}),a.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex gap-4",children:[a.jsx("button",{className:"flex-1 bg-emerald-600 text-white py-3 rounded-xl font-bold shadow-md hover:bg-emerald-700 transition-all flex items-center justify-center gap-2",children:"Aplicar Sugestes"}),a.jsx("button",{className:"flex-1 bg-white border border-gray-200 text-gray-700 py-3 rounded-xl font-bold hover:bg-gray-50 transition-all",children:"Salvar como PDF"})]})]}),!r&&!t&&a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"text",placeholder:"Faa uma pergunta livre para a IA (ex: 'Quais itens do contrato 2024-001 esto acima do preo de mercado?')",className:"w-full px-6 py-5 bg-white border border-gray-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/10 rounded-2xl shadow-sm text-lg outline-none transition-all pr-16"}),a.jsx("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 p-3 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors",children:a.jsx(Wi,{size:20})})]})]})},m1e=()=>{var we,Ee;const[t,e]=R.useState("form"),[r,n]=R.useState(null),[s,i]=R.useState(""),[o,l]=R.useState(""),[d,u]=R.useState(new Date().toISOString().split("T")[0]),[h,p]=R.useState(new Date().toISOString().split("T")[0]),[x,v]=R.useState(""),[b,w]=R.useState(""),[g,S]=R.useState(""),[k,y]=R.useState([]),[j,T]=R.useState(!1),[_,O]=R.useState(null),[M,D]=R.useState([]),[F,q]=R.useState([]),[L,B]=R.useState([]),[X,P]=R.useState([]),[U,z]=R.useState(""),[V,Y]=R.useState(null);R.useEffect(()=>{K()},[]);const se=async fe=>{T(!0);try{const Ce=F.find(ze=>ze.number===fe.contractNumber&&ze.supplierName===fe.supplierName)||F.find(ze=>ze.id===fe.contractId);if(!Ce){alert("Contrato vinculado no encontrado. No  possvel gerar o PDF."),T(!1);return}const Ue=X.find(ze=>ze.id===Ce.supplierId)||Ce.supplier,le=fe.items.map(ze=>{const Ye=Ce.items.find(qe=>qe.description===ze.description);return{...ze,unit:(Ye==null?void 0:Ye.unit)||"UN",brand:(Ye==null?void 0:Ye.brand)||"",currentBalance:Ye?Ye.contractedQuantity-Ye.acquiredQuantity:0}});Y({order:fe,contract:{...Ce,supplier:Ue},items:le}),setTimeout(async()=>{const ze=document.getElementById("hidden-printable-area");ze&&(await window.html2pdf().set({margin:[5,5,5,5],filename:`Guia_Pedido_Merenda_${fe.orderNumber}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).from(ze).save(),Y(null)),T(!1)},500)}catch(Ce){console.error("Error generating PDF:",Ce),alert("Erro ao gerar PDF."),T(!1)}},K=async()=>{try{const{data:fe,error:Ce}=await ae.from("contracts").select(`
          *,
          supplier:suppliers (id, name, cnpj, phone),
          items:contract_items (*)
        `);if(Ce)throw Ce;const Ue=fe.map(Ge=>{var gt;return{id:Ge.id,number:Ge.number,supplierId:Ge.supplier_id,supplierName:((gt=Ge.supplier)==null?void 0:gt.name)||"Desconhecido",startDate:Ge.start_date,endDate:Ge.end_date,status:Ge.status,type:Ge.type,items:Ge.items.map(ht=>({id:ht.id,description:ht.description,contractedQuantity:ht.contracted_quantity,acquiredQuantity:ht.acquired_quantity,unit:ht.unit,unitPrice:ht.unit_price,brand:ht.brand}))}});q(Ue);const le=Array.from(new Map(fe.map(Ge=>[Ge.supplier.id,Ge.supplier])).values());P(le);const{data:ze,error:Ye}=await ae.from("orders").select(`
          *,
          supplier:contracts (supplier:suppliers (name)), 
          items:order_items (*)
        `).order("issue_date",{ascending:!1});if(Ye)throw Ye;const qe=ze.map(Ge=>{var gt,ht,nt;return{id:Ge.id,orderNumber:Ge.order_number,contractId:Ge.contract_id,contractNumber:((gt=Ge.contract)==null?void 0:gt.number)||"---",supplierName:((nt=(ht=Ge.supplier)==null?void 0:ht.supplier)==null?void 0:nt.name)||"Desconhecido",issueDate:Ge.issue_date,deliveryDate:Ge.delivery_date,totalValue:Ge.total_value,observations:Ge.observations||"",items:Ge.items.map(Dt=>({id:Dt.id,contractItemId:Dt.contract_item_id,description:Dt.description,quantity:Dt.quantity,unit_price:Dt.unit_price,unit:"UN",brand:""}))}});B(qe)}catch(fe){console.error("Error fetching data:",fe)}},G=fe=>{if(!fe)return"---";const[Ce,Ue,le]=fe.split("-");return`${le}/${Ue}/${Ce}`},W=R.useMemo(()=>{if(!g||g.length<2)return[];const fe=[];return F.forEach(Ce=>{Ce.items.forEach(Ue=>{if(Ue.description.toLowerCase().includes(g.toLowerCase())){const le=Ue.contractedQuantity-Ue.acquiredQuantity;fe.push({...Ue,contractId:Ce.id,contractNumber:Ce.number,supplierName:Ce.supplierName,contractType:Ce.type,remaining:le})}})}),fe.slice(0,8)},[F,g]),Q=R.useMemo(()=>F.find(fe=>fe.id===o),[o,F]),ee=R.useMemo(()=>Q?X.find(fe=>fe.id===Q.supplierId):null,[Q,X]),he=R.useMemo(()=>L.filter(fe=>fe.supplierName.toLowerCase().includes(s.toLowerCase())||fe.orderNumber.includes(s)),[L,s]),je=(fe,Ce)=>{l(fe);const Ue=F.find(le=>le.id===fe);Ue?(y(Ue.items.map(le=>({contractItemId:le.id,description:le.description,unit:le.unit,unitPrice:le.unitPrice,requestedQuantity:0,brand:le.brand||"",selected:le.id===Ce}))),S(""),Ce&&w("")):y([])},me=fe=>{try{O(fe),e("form"),u(fe.issueDate),p(fe.deliveryDate||""),v(fe.observations||"");const Ce=F.find(le=>le.number===fe.contractNumber&&le.supplierName===fe.supplierName),Ue=fe.contractId;if(Ue){l(Ue);const le=F.find(ze=>ze.id===Ue);if(le){const ze=le.items.map(Ye=>{const qe=fe.items.find(gt=>gt.description===Ye.description),Ge=qe?qe.quantity:0;return{contractItemId:Ye.id,description:Ye.description,unit:Ye.unit,unitPrice:Ye.unitPrice,requestedQuantity:Ge,brand:Ye.brand||"",selected:Ge>0}});y(ze),D(fe.items.map(Ye=>({contractItemId:Ye.contract_item_id||Ye.contractItemId,quantity:Ye.quantity})))}}}catch(Ce){console.error("Error editing order:",Ce),alert("Erro ao abrir edio do pedido: "+Ce.message)}},re=(fe,Ce,Ue)=>{y(le=>le.map(ze=>{if(ze.contractItemId===fe){{const Ye=Q==null?void 0:Q.items.find(qe=>qe.id===fe);if(Ye){const qe=M.find(ht=>ht.contractItemId===fe),Ge=qe?qe.quantity:0,gt=Ye.contractedQuantity-Ye.acquiredQuantity+Ge;if(Number(Ue)>gt)return{...ze,[Ce]:gt,selected:!0}}}return{...ze,[Ce]:Ue,selected:Number(Ue)>0}}return ze}))},ge=fe=>{y(Ce=>Ce.map(Ue=>Ue.contractItemId===fe?{...Ue,selected:!Ue.selected}:Ue))},Me=(fe,Ce)=>{Ce.stopPropagation(),y(Ue=>Ue.filter(le=>le.contractItemId!==fe))},J=R.useMemo(()=>k.filter(fe=>fe.description.toLowerCase().includes(b.toLowerCase())),[k,b]),Ae=R.useMemo(()=>k.reduce((fe,Ce)=>Ce.selected?fe+Ce.requestedQuantity*Ce.unitPrice:fe,0),[k]),ne=async()=>{if(!_)return;const fe=k.filter(Ce=>Ce.selected&&Ce.requestedQuantity>0);if(fe.length===0)return alert("Selecione os produtos e informe as quantidades.");T(!0);try{for(const Ue of M){const{data:le}=await ae.from("contract_items").select("acquired_quantity").eq("id",Ue.contractItemId).single();if(le){const ze=Math.max(0,le.acquired_quantity-Ue.quantity);await ae.from("contract_items").update({acquired_quantity:ze}).eq("id",Ue.contractItemId)}}const{error:Ce}=await ae.from("orders").update({issue_date:d,delivery_date:h,total_value:Ae,observations:x.trim()}).eq("id",_.id);if(Ce)throw Ce;await ae.from("order_items").delete().eq("order_id",_.id);for(const Ue of fe){const{error:le}=await ae.from("order_items").insert([{order_id:_.id,contract_item_id:Ue.contractItemId,description:Ue.description,quantity:Ue.requestedQuantity,unit_price:Ue.unitPrice}]);if(le)throw le;const{data:ze}=await ae.from("contract_items").select("acquired_quantity").eq("id",Ue.contractItemId).single();if(ze){const Ye=ze.acquired_quantity+Ue.requestedQuantity;await ae.from("contract_items").update({acquired_quantity:Ye}).eq("id",Ue.contractItemId)}}alert("Pedido atualizado com sucesso!"),await K(),O(null),e("history"),y([]),v(""),D([])}catch(Ce){console.error("Erro ao atualizar pedido:",Ce),alert("Erro ao atualizar: "+Ce.message)}finally{T(!1)}},ve=async()=>{const fe=k.filter(Ue=>Ue.selected&&Ue.requestedQuantity>0);if(fe.length===0)return alert("Selecione os produtos e informe as quantidades.");if(k.filter(Ue=>{if(!Ue.selected)return!1;const le=Q==null?void 0:Q.items.find(ze=>ze.id===Ue.contractItemId);return le&&Ue.requestedQuantity>le.contractedQuantity-le.acquiredQuantity}).length>0)return alert("Erro: Alguns itens selecionados excedem o saldo disponvel no contrato.");T(!0);try{const Ue=`${new Date().getFullYear()}${Math.floor(1e3+Math.random()*9e3)}`,{data:le,error:ze}=await ae.from("orders").insert([{contract_id:o,order_number:Ue,issue_date:d,delivery_date:h,total_value:Ae,observations:x.trim(),status:"EM_PROCESSAMENTO"}]).select().single();if(ze)throw ze;for(const qe of fe){const{error:Ge}=await ae.from("order_items").insert([{order_id:le.id,contract_item_id:qe.contractItemId,description:qe.description,quantity:qe.requestedQuantity,unit_price:qe.unitPrice}]);if(Ge)throw Ge;const gt=Q==null?void 0:Q.items.find(ht=>ht.id===qe.contractItemId);if(gt){const ht=gt.acquiredQuantity+qe.requestedQuantity,{error:nt}=await ae.from("contract_items").update({acquired_quantity:ht}).eq("id",qe.contractItemId);if(nt)throw nt}}await ae.from("contract_events").insert([{contract_id:o,type:"PEDIDO",description:`Emisso da Guia #${Ue}`,value:Ae,date:new Date().toISOString()}]);const Ye=document.getElementById("printable-area");Ye&&await window.html2pdf().set({margin:[5,5,5,5],filename:`Guia_Pedido_Merenda_${Ue}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).from(Ye).save(),alert("Pedido finalizado com sucesso! O saldo do contrato foi atualizado."),await K(),e("history"),y([]),v("")}catch(Ue){console.error(Ue),alert("Erro ao processar o pedido: "+Ue.message)}finally{T(!1)}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsx("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm space-y-6 no-print",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-4 rounded-3xl shadow-lg ${t==="form"?"bg-emerald-600":"bg-gray-900"} text-white transition-colors`,children:t==="form"?a.jsx(Xj,{size:32}):a.jsx(_t,{size:32})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:t==="form"?"Gesto de Pedidos":"Histrico de Guias"}),a.jsx("p",{className:"text-gray-500 font-bold text-xs uppercase tracking-widest",children:t==="form"?"Vnculo direto com saldo de contratos ativos":"Registros Oficiais de Compras"})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("button",{onClick:()=>{e(t==="form"?"history":"form"),n(null)},className:`px-6 py-2.5 rounded-2xl text-[10px] font-black uppercase flex items-center gap-2 transition-all ${t==="history"?"bg-emerald-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[a.jsx(_t,{size:16})," Ver Arquivo de Guias"]}),t==="form"&&a.jsxs("div",{className:"flex gap-2",children:[_&&a.jsxs("button",{onClick:()=>{O(null),e("history"),y([]),alert("Edio cancelada.")},className:"px-6 py-2.5 bg-red-50 text-red-600 rounded-2xl text-[10px] font-black uppercase flex items-center gap-2 hover:bg-red-100 transition-all",children:[a.jsx(Ze,{size:16})," Cancelar"]}),a.jsxs("button",{onClick:_?ne:ve,disabled:j||Ae===0,className:`px-8 py-2.5 rounded-2xl text-[10px] font-black uppercase flex items-center justify-center gap-2 shadow-lg transition-all ${Ae===0?"bg-gray-100 text-gray-400":"bg-emerald-600 text-white hover:bg-emerald-700 active:scale-95"}`,children:[j?a.jsx(vt,{size:16,className:"animate-spin"}):_?a.jsx(qr,{size:16}):a.jsx(Nt,{size:16}),_?"Salvar Alteraes":"Gerar Guia & Baixar Saldo"]})]})]})]})}),t==="form"?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm no-print space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2 relative",children:[a.jsxs("label",{className:"text-[10px] font-black text-emerald-700 uppercase tracking-widest ml-1 flex items-center gap-2",children:[a.jsx(CH,{size:14})," Busca Inteligente em Contratos"]}),_?a.jsx("div",{className:"p-4 bg-gray-100 rounded-2xl text-gray-400 text-xs font-bold uppercase text-center border-2 border-dashed border-gray-200",children:"Busca de produtos bloqueada durante a edio"}):a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:"Busque um alimento no acervo de contratos...",value:g,onChange:fe=>S(fe.target.value),className:"w-full pl-12 pr-6 py-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:ring-4 focus:ring-emerald-500/5 focus:bg-white transition-all"})]}),W.length>0&&!_&&a.jsx("div",{className:"absolute z-[110] left-0 right-0 mt-2 bg-white rounded-3xl shadow-2xl border border-gray-100 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:a.jsx("div",{className:"divide-y divide-gray-50 max-h-[300px] overflow-y-auto",children:W.map(fe=>a.jsxs("button",{onClick:()=>je(fe.contractId,fe.id),className:"w-full text-left p-4 hover:bg-emerald-50 transition-colors flex items-center justify-between group",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase",children:fe.description}),a.jsxs("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-tight",children:[fe.supplierName,"  CT ",fe.contractNumber]}),a.jsxs("p",{className:"text-[9px] text-emerald-600 font-black mt-1",children:["DISPONVEL: ",fe.remaining.toFixed(1)," ",fe.unit]})]}),a.jsx(ga,{size:16,className:"text-gray-300 group-hover:text-emerald-500 group-hover:translate-x-1 transition-all"})]},`${fe.contractId}-${fe.id}`))})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Seleo de Contrato Manual"}),a.jsxs("select",{value:o,onChange:fe=>je(fe.target.value),disabled:!!_,className:`w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm uppercase outline-none focus:ring-4 focus:ring-emerald-500/5 focus:bg-white transition-all h-[54px] ${_?"opacity-60 cursor-not-allowed":""}`,children:[a.jsx("option",{value:"",children:"Selecione o contrato..."}),F.map(fe=>a.jsxs("option",{value:fe.id,children:["CT ",fe.number," - ",fe.supplierName]},fe.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Data de Emisso"}),a.jsx("input",{type:"date",value:d,onChange:fe=>u(fe.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm outline-none h-[54px]"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-emerald-700 uppercase tracking-widest ml-1",children:"Previso de Entrega"}),a.jsx("input",{type:"date",value:h,onChange:fe=>p(fe.target.value),className:"w-full p-4 bg-emerald-50 border border-emerald-100 rounded-2xl font-black text-sm outline-none h-[54px]"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Observaes Gerais"}),a.jsx("input",{type:"text",value:x,onChange:fe=>v(fe.target.value),placeholder:"Ex: Entregar produtos hortifruti s 07:00...",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none h-[54px]"})]})]})]}),a.jsxs("div",{className:"flex justify-between items-center border-b-2 border-black pb-4 mb-6 gap-4",children:[a.jsx("div",{className:"flex items-center justify-start flex-1",children:a.jsx("img",{src:"/logo-escola.png",alt:"Escola Logo",className:"h-24 w-auto object-contain"})}),a.jsx("div",{className:"flex-[2] flex justify-center px-4",children:a.jsx("img",{src:"/dados escola.jpeg",alt:"Dados da Escola",className:"h-28 w-full object-contain"})}),a.jsx("div",{className:"flex items-center justify-end flex-1",children:a.jsx("img",{src:"/SEDUC 2.jpg",alt:"SEDUC MT",className:"h-16 w-auto object-contain"})})]}),a.jsx("div",{className:"bg-black text-white p-3 rounded-lg text-center mb-8",children:a.jsx("h2",{className:"text-sm font-black uppercase tracking-[0.2em]",children:"Guia de Pedido de Gneros Alimentcios"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[a.jsxs("div",{className:"border-2 border-black p-4 rounded-xl space-y-2 relative",children:[a.jsx("div",{className:"absolute -top-3 left-4 bg-white px-2 text-[9px] font-black uppercase tracking-widest",children:"Fornecedor Contratado"}),a.jsx("p",{className:"text-sm font-black uppercase",children:(Q==null?void 0:Q.supplierName)||"---"}),a.jsxs("div",{className:"grid grid-cols-1 gap-1 text-[10px] font-bold uppercase text-gray-600",children:[a.jsxs("p",{children:["CNPJ: ",(ee==null?void 0:ee.cnpj)||"---"]}),a.jsxs("p",{children:["Contato: ",(ee==null?void 0:ee.phone)||"---"]})]})]}),a.jsxs("div",{className:"border-2 border-black p-4 rounded-xl space-y-2 relative bg-gray-50/50",children:[a.jsx("div",{className:"absolute -top-3 left-4 bg-white px-2 text-[9px] font-black uppercase tracking-widest",children:"Dados do Pedido"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-[10px] font-bold uppercase",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 font-black",children:"N Controle:"}),a.jsxs("p",{className:"text-sm font-black",children:["#",new Date().getFullYear(),"0001"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 font-black",children:"N Contrato:"}),a.jsx("p",{className:"text-sm font-black",children:(Q==null?void 0:Q.number)||"---"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 font-black",children:"Emisso:"}),a.jsx("p",{className:"text-sm font-black",children:G(d)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 font-black text-emerald-700",children:"Prev. Entrega:"}),a.jsx("p",{className:"text-sm font-black text-emerald-800 underline decoration-2",children:G(h)})]})]})]})]}),o?a.jsxs("table",{className:"w-full text-left text-[11px] border-collapse mb-8",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100 border-2 border-black text-black",children:[a.jsx("th",{className:"p-3 uppercase no-print w-16 text-center",children:"Sel./Rem."}),a.jsx("th",{className:"p-3 uppercase",children:"Descrio do Gnero / Detalhes"}),a.jsx("th",{className:"p-3 text-center uppercase w-20",children:"Saldo Ativo"}),a.jsx("th",{className:"p-3 text-center uppercase w-28 bg-emerald-50",children:"Qtd. Pedido"}),a.jsx("th",{className:"p-3 text-right uppercase w-32",children:"Total Item"})]})}),a.jsx("tbody",{className:"divide-y-2 divide-black border-2 border-black",children:J.length>0?J.map(fe=>{const Ce=Q==null?void 0:Q.items.find(le=>le.id===fe.contractItemId),Ue=Ce?Ce.contractedQuantity-Ce.acquiredQuantity:0;return a.jsxs("tr",{className:`group transition-colors ${fe.selected?"bg-emerald-50/20":"hover:bg-gray-50"}`,children:[a.jsx("td",{className:"p-3 text-center no-print",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:fe.selected,onChange:()=>ge(fe.contractItemId),className:"w-4 h-4 rounded border-gray-300 text-emerald-600"}),a.jsx("button",{onClick:le=>Me(fe.contractItemId,le),className:"p-1.5 text-gray-300 hover:text-red-500 transition-colors",title:"Remover produto da lista",children:a.jsx(Lt,{size:14})})]})}),a.jsxs("td",{className:"p-3",children:[a.jsx("p",{className:"font-black uppercase text-gray-900",children:fe.description}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsxs("span",{className:"text-[8px] font-black bg-gray-100 px-1.5 py-0.5 rounded text-gray-600 uppercase border border-gray-200",children:["UNID: ",fe.unit]}),fe.brand&&a.jsxs("span",{className:"text-[8px] font-black bg-blue-50 px-1.5 py-0.5 rounded text-blue-600 uppercase border border-blue-100",children:["MARCA: ",fe.brand]})]})]}),a.jsx("td",{className:"p-3 text-center font-black uppercase text-blue-600",children:Ue.toFixed(1)}),a.jsx("td",{className:"p-3 text-center bg-emerald-50/30",children:a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx("input",{type:"number",value:fe.requestedQuantity||"",onChange:le=>re(fe.contractItemId,"requestedQuantity",le.target.value),className:"w-20 border border-gray-300 p-2 text-center font-black rounded-lg no-print outline-none focus:border-emerald-500",placeholder:"0"}),a.jsx("span",{className:"hidden pdf-show font-black text-sm",children:fe.requestedQuantity||"0"})]})}),a.jsxs("td",{className:"p-3 text-right font-black text-gray-900",children:["R$ ",(fe.requestedQuantity*fe.unitPrice).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},fe.contractItemId)}):a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-400 font-bold uppercase text-xs",children:"Aguardando seleo de contrato..."})})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"bg-black text-white border-2 border-black",children:[a.jsx("td",{colSpan:4,className:"p-4 text-right font-black uppercase text-xs tracking-widest",children:"Valor Total do Pedido:"}),a.jsxs("td",{className:"p-4 text-right font-black text-lg",children:["R$ ",Ae.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})})]}):a.jsx("div",{className:"py-24 text-center border-2 border-dashed border-gray-200 rounded-3xl",children:a.jsx("p",{className:"text-gray-400 font-black uppercase text-sm tracking-widest",children:"Inicie a seleo do contrato no painel superior"})}),a.jsxs("div",{className:"border-2 border-black p-4 rounded-xl mb-12 relative bg-gray-50/50",children:[a.jsx("div",{className:"absolute -top-3 left-4 bg-white px-2 text-[9px] font-black uppercase tracking-widest",children:"Notas de Entrega"}),a.jsx("p",{className:"text-[10px] font-bold uppercase leading-relaxed italic",children:x||"Sem observaes declaradas."})]}),a.jsxs("div",{className:"mt-20 grid grid-cols-2 gap-20 text-center",children:[a.jsx("div",{className:"border-t-2 border-black pt-2",children:a.jsx("p",{className:"font-black uppercase text-[10px] leading-tight",children:"Gesto da Merenda / CDCE"})}),a.jsxs("div",{className:"border-t-2 border-black pt-2",children:[a.jsx("p",{className:"font-black uppercase text-[10px] leading-tight",children:"Entregue em ____/____/____"}),a.jsx("p",{className:"text-[8px] font-bold text-gray-500 uppercase mt-1",children:"Visto do Fornecedor"})]})]})]}):a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(_t,{className:"text-emerald-600"})," Guias de Pedido Arquivadas"]}),a.jsxs("div",{className:"relative w-full md:w-80",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:"Filtrar histrico...",value:s,onChange:fe=>i(fe.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border-none rounded-2xl text-sm font-bold outline-none"})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:he.map(fe=>a.jsxs("div",{onClick:()=>n(fe.id),className:"group bg-gray-50 p-6 rounded-3xl border border-transparent hover:border-emerald-200 hover:bg-white hover:shadow-xl transition-all cursor-pointer flex flex-col md:flex-row items-center gap-8",children:[a.jsx("div",{className:"w-16 h-16 bg-white text-gray-300 rounded-2xl flex items-center justify-center group-hover:text-emerald-600 transition-colors shrink-0 shadow-sm",children:a.jsx(zt,{size:28})}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("h4",{className:"font-black text-gray-900 uppercase tracking-tight",children:["Guia #",fe.orderNumber]}),a.jsx("span",{className:"text-[9px] font-black bg-emerald-100 text-emerald-600 px-2 py-0.5 rounded-lg uppercase tracking-widest",children:"Auditado"})]}),a.jsx("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-tight line-clamp-1",children:fe.supplierName})]}),a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[a.jsxs("p",{className:"text-xl font-black text-gray-900",children:["R$ ",fe.totalValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsxs("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:[fe.items.length," itens"]}),a.jsxs("button",{onClick:Ce=>{Ce.stopPropagation(),me(fe)},className:"mt-2 px-4 py-1.5 bg-indigo-50 text-indigo-600 hover:bg-indigo-600 hover:text-white rounded-xl text-[9px] font-black uppercase transition-all flex items-center gap-1",children:[a.jsx(zt,{size:12})," Editar"]}),a.jsxs("button",{onClick:Ce=>{Ce.stopPropagation(),se(fe)},disabled:j,className:"mt-2 px-4 py-1.5 bg-emerald-50 text-emerald-600 hover:bg-emerald-600 hover:text-white rounded-xl text-[9px] font-black uppercase transition-all flex items-center gap-1",children:[j?a.jsx(vt,{size:12,className:"animate-spin"}):a.jsx(Fg,{size:12}),"Imprimir"]})]}),a.jsx(ga,{size:24,className:"text-gray-300 group-hover:text-emerald-500 transition-all"})]},fe.id))})]})}),a.jsx("style",{children:`
        .pdf-show { display: none; }
        @media print, .pdf-mode {
          .no-print { display: none !important; }
          .pdf-show { display: block !important; }
          .printable-guide { border: none !important; box-shadow: none !important; width: 100% !important; margin: 0 !important; padding: 0 !important; }
          body { background: white !important; }
        }
      `}),V&&a.jsx("div",{style:{position:"absolute",top:-9999,left:-9999,width:"1000px"},children:a.jsxs("div",{id:"hidden-printable-area",className:"bg-white p-12 rounded-[2.5rem] border border-gray-200 shadow-2xl max-w-5xl mx-auto printable-guide relative",children:[a.jsxs("div",{className:"flex justify-between items-center border-b-2 border-black pb-4 mb-6 gap-4",children:[a.jsx("div",{className:"flex items-center justify-start flex-1",children:a.jsx("img",{src:"/logo-escola.png",alt:"Escola Logo",className:"h-24 w-auto object-contain"})}),a.jsx("div",{className:"flex-[2] flex justify-center px-4",children:a.jsx("img",{src:"/dados escola.jpeg",alt:"Dados da Escola",className:"h-28 w-full object-contain"})}),a.jsx("div",{className:"flex items-center justify-end flex-1",children:a.jsx("img",{src:"/SEDUC 2.jpg",alt:"SEDUC MT",className:"h-16 w-auto object-contain"})})]}),a.jsx("div",{className:"bg-black text-white p-3 rounded-lg text-center mb-8",children:a.jsx("h2",{className:"text-sm font-black uppercase tracking-[0.2em]",children:"Guia de Pedido de Gneros Alimentcios (2 Via)"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[a.jsxs("div",{className:"border-2 border-black p-4 rounded-xl space-y-2 relative",children:[a.jsx("div",{className:"absolute -top-3 left-4 bg-white px-2 text-[9px] font-black uppercase tracking-widest",children:"Fornecedor Contratado"}),a.jsx("p",{className:"text-sm font-black uppercase",children:V.contract.supplierName||"---"}),a.jsxs("div",{className:"grid grid-cols-1 gap-1 text-[10px] font-bold uppercase text-gray-600",children:[a.jsxs("p",{children:["CNPJ: ",((we=V.contract.supplier)==null?void 0:we.cnpj)||"---"]}),a.jsxs("p",{children:["Contato: ",((Ee=V.contract.supplier)==null?void 0:Ee.phone)||"---"]})]})]}),a.jsxs("div",{className:"border-2 border-black p-4 rounded-xl space-y-2 relative bg-gray-50/50",children:[a.jsx("div",{className:"absolute -top-3 left-4 bg-white px-2 text-[9px] font-black uppercase tracking-widest",children:"Dados do Pedido"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-[10px] font-bold uppercase",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 font-black",children:"N Controle:"}),a.jsxs("p",{className:"text-sm font-black",children:["#",V.order.orderNumber]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 font-black",children:"N Contrato:"}),a.jsx("p",{className:"text-sm font-black",children:V.contract.number||"---"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 font-black",children:"Emisso:"}),a.jsx("p",{className:"text-sm font-black",children:G(V.order.issueDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 font-black text-emerald-700",children:"Prev. Entrega:"}),a.jsx("p",{className:"text-sm font-black text-emerald-800 underline decoration-2",children:G(V.order.deliveryDate||"")})]})]})]})]}),a.jsxs("table",{className:"w-full text-left text-[11px] border-collapse mb-8",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100 border-2 border-black text-black",children:[a.jsx("th",{className:"p-3 uppercase",children:"Descrio do Gnero / Detalhes"}),a.jsx("th",{className:"p-3 text-center uppercase w-20",children:"Saldo Atual"}),a.jsx("th",{className:"p-3 text-center uppercase w-28 bg-emerald-50",children:"Qtd. Pedido"}),a.jsx("th",{className:"p-3 text-right uppercase w-32",children:"Total Item"})]})}),a.jsx("tbody",{className:"divide-y-2 divide-black border-2 border-black",children:V.items.map(fe=>{var Ce;return a.jsxs("tr",{children:[a.jsxs("td",{className:"p-3",children:[a.jsx("p",{className:"font-black uppercase text-gray-900",children:fe.description}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsxs("span",{className:"text-[8px] font-black bg-gray-100 px-1.5 py-0.5 rounded text-gray-600 uppercase border border-gray-200",children:["UNID: ",fe.unit]}),fe.brand&&a.jsxs("span",{className:"text-[8px] font-black bg-blue-50 px-1.5 py-0.5 rounded text-blue-600 uppercase border border-blue-100",children:["MARCA: ",fe.brand]})]})]}),a.jsx("td",{className:"p-3 text-center font-black uppercase text-blue-600",children:((Ce=fe.currentBalance)==null?void 0:Ce.toFixed(1))||"---"}),a.jsx("td",{className:"p-3 text-center bg-emerald-50/30 font-black",children:fe.quantity}),a.jsxs("td",{className:"p-3 text-right font-black text-gray-900",children:["R$ ",(fe.quantity*fe.unit_price).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},fe.id||fe.description)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"bg-black text-white border-2 border-black",children:[a.jsx("td",{colSpan:3,className:"p-4 text-right font-black uppercase text-xs tracking-widest",children:"Valor Total do Pedido:"}),a.jsxs("td",{className:"p-4 text-right font-black text-lg",children:["R$ ",V.order.totalValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})})]}),a.jsxs("div",{className:"border-2 border-black p-4 rounded-xl mb-12 relative bg-gray-50/50",children:[a.jsx("div",{className:"absolute -top-3 left-4 bg-white px-2 text-[9px] font-black uppercase tracking-widest",children:"Notas de Entrega"}),a.jsx("p",{className:"text-[10px] font-bold uppercase leading-relaxed italic",children:V.order.observations||"Sem observaes declaradas."})]}),a.jsxs("div",{className:"mt-20 grid grid-cols-2 gap-20 text-center",children:[a.jsx("div",{className:"border-t-2 border-black pt-2",children:a.jsx("p",{className:"font-black uppercase text-[10px] leading-tight",children:"Gesto da Merenda / CDCE"})}),a.jsxs("div",{className:"border-t-2 border-black pt-2",children:[a.jsx("p",{className:"font-black uppercase text-[10px] leading-tight",children:"Entregue em ____/____/____"}),a.jsx("p",{className:"text-[8px] font-bold text-gray-500 uppercase mt-1",children:"Visto do Fornecedor"})]})]})]})})]})},lS=[{week:1,label:"1 SEMANA",days:[{day:"Segunda",dish:"Salada de Alface com Tomate e Macarro com Carne Moda",ingredients:["ALFACE","ALHO","CARNE MOIDA","CEBOLA","MACARRO","EXTRATO DE TOMATE","TOMATE","ABACAXI"]},{day:"Tera",dish:"Fricass de Frango com Abbora e Arroz",ingredients:["FRANGO","ABBORA","ARROZ","AMIDO DE MILHO","LEITE","QUEIJO MUSSARELA","PO"]},{day:"Quarta",dish:"Salada de Repolho, Arroz com Carne Suna e Feijo",ingredients:["REPOLHO","CARNE SUNA","FEIJO","ARROZ","BANANA","COUVE"]},{day:"Quinta",dish:"Estrogonofe de Carne e Arroz",ingredients:["CARNE EM ISCAS","ARROZ","CREME DE LEITE","EXTRATO DE TOMATE","BOLO DE CHOCOLATE"]},{day:"Sexta",dish:"Frango ao Molho com Batata e Cenoura",ingredients:["FRANGO","BATATA","CENOURA","ARROZ","FEIJO","MELO"]}]},{week:2,label:"2 SEMANA",days:[{day:"Segunda",dish:"Estrogonofe de Frango e Arroz",ingredients:["FRANGO","ARROZ","COUVE","MAMO"]},{day:"Tera",dish:"Carne com Mandioca, Arroz e Feijo",ingredients:["CARNE EM CUBOS","MANDIOCA","ARROZ","FEIJO","CAF","PO","MANTEIGA"]},{day:"Quarta",dish:"Peixe a Parmegiana e Arroz",ingredients:["PEIXE","QUEIJO MUSSARELA","ARROZ","MA","EXTRATO DE TOMATE"]},{day:"Quinta",dish:"Galinhada e Farofa de Banana",ingredients:["FRANGO","ARROZ","BANANA","FEIJO","REQUEIJO"]},{day:"Sexta",dish:"Picadinho de Carne Suna e Arroz",ingredients:["CARNE SUNA","ARROZ","BATATA","CENOURA"]}]},{week:3,label:"3 SEMANA",days:[{day:"Segunda",dish:"Risoto de Carne com Abbora",ingredients:["CARNE MOIDA","ABBORA","ARROZ","FEIJO","MELANCIA"]},{day:"Tera",dish:"Yakissoba de Frango",ingredients:["FRANGO","MACARRO","BRCOLIS","CENOURA","PO","OVOS"]},{day:"Quarta",dish:"Salada de Rcula e Arroz Caipira",ingredients:["RCULA","CARNE EM CUBOS","ARROZ","MILHO","LARANJA"]},{day:"Quinta",dish:"Carne com Batata e Feijo",ingredients:["CARNE EM CUBOS","BATATA","ARROZ","FEIJO","BOLO"]},{day:"Sexta",dish:"Escondidinho de Frango com Batata Doce",ingredients:["FRANGO","BATATA DOCE","ARROZ","FEIJO","ABACAXI"]}]},{week:4,label:"4 SEMANA",days:[{day:"Segunda",dish:"Carne com Mandioca e Arroz",ingredients:["CARNE EM CUBOS","MANDIOCA","ARROZ","MELO"]},{day:"Tera",dish:"Feijoada e Farofa de Couve",ingredients:["FEIJO PRETO","CARNE SUNA","COUVE","ARROZ","CAF","PO"]},{day:"Quarta",dish:"Bob de Frango e Arroz",ingredients:["FRANGO","MANDIOCA","ARROZ","BANANA"]},{day:"Quinta",dish:"Escondidinho de Peixe",ingredients:["PEIXE","BATATA","ARROZ","BOLO DE COCO"]},{day:"Sexta",dish:"Macarro com Carne Moda",ingredients:["CARNE MOIDA","MACARRO","FEIJO","MAMO"]}]},{week:5,label:"5 SEMANA",days:[{day:"Segunda",dish:"Carne com Batata e Cenoura",ingredients:["CARNE EM CUBOS","BATATA","CENOURA","ARROZ","MELANCIA"]},{day:"Tera",dish:"Lasanha de Frango",ingredients:["FRANGO","MASSA PARA LASANHA","QUEIJO MUSSARELA","LEITE","PO DOCE"]},{day:"Quarta",dish:"Arroz com Carne e Feijo",ingredients:["CARNE EM CUBOS","ARROZ","FEIJO","REPOLHO","MA"]},{day:"Quinta",dish:"Estrogonofe de Carne Suna",ingredients:["CARNE SUNA","ARROZ","REQUEIJO"]},{day:"Sexta",dish:"Arroz Cuiabano e Feijo",ingredients:["CARNE EM CUBOS","BANANA","ARROZ","FEIJO","PONC"]}]}],$m={responsible:"",shift:"MATUTINO",dishName:"",mealsServed:"",repeats:"",wasteResto:"",sobraLimpa:"",observations:"",ingredients:[]},FP=["ABACAXI","BANANA","MAMO","MELO","MELANCIA","LARANJA","PONC","MA","PO","BOLO","LEITE","BEBIDA LCTEA","QUEIJO","REQUEIJO","CAF","BOLACHA","BISCOITO","IOGURTE","MANTEIGA","FRUTA","SUCO","MARACUJ","ACEROLA"],x1e=()=>{const[t,e]=R.useState("form"),[r,n]=R.useState(!1),[s,i]=R.useState(()=>{try{const P=localStorage.getItem("merenda_meal_records_v1");return P?JSON.parse(P):[]}catch(P){return console.error("Erro ao carregar histrico dirio",P),[]}}),[o,l]=R.useState(1),[d,u]=R.useState("Segunda"),[h,p]=R.useState(new Date().toISOString().split("T")[0]),[x,v]=R.useState("MATUTINO / VESPERTINO"),[b,w]=R.useState(!1),[g,S]=R.useState(!1),k=R.useRef(null),[y,j]=R.useState({...$m}),[T,_]=R.useState({...$m});R.useEffect(()=>{if(t==="form"&&!r){const P=lS.find(z=>z.week===o),U=P==null?void 0:P.days.find(z=>z.day===d);if(U){const z=U.ingredients,V=z.filter(se=>FP.some(K=>se.toUpperCase().includes(K))),Y=z.filter(se=>!FP.some(K=>se.toUpperCase().includes(K)));j(se=>({...se,shift:x,dishName:V.length>0?"Lanche / Complemento":"",ingredients:V.map(K=>({name:K,quantity:"",checked:!1}))})),_(se=>({...se,shift:x,dishName:U.dish,ingredients:Y.map(K=>({name:K,quantity:"",checked:!1}))}))}}},[o,d,t,x,r]);const O=()=>{const U=[{id:`meal-${Date.now()}`,date:h,shift:x,entrada:{...y,shift:x},principal:{...T,shift:x},timestamp:Date.now()},...s];i(U),localStorage.setItem("merenda_meal_records_v1",JSON.stringify(U))},M=(P,U)=>{if(U.stopPropagation(),window.confirm("ATENO: Deseja excluir permanentemente este registro oficial? Esta ao ser auditada.")){const z=s.filter(V=>V.id!==P);i(z),localStorage.setItem("merenda_meal_records_v1",JSON.stringify(z))}},D=P=>{p(P.date),v(P.shift||"MATUTINO / VESPERTINO"),j(P.entrada),_(P.principal),n(!0),e("form")},F=()=>{n(!1),j({...$m}),_({...$m}),e("form")},q=(P,U,z)=>{r||P(V=>({...V,[U]:z}))},L=(P,U,z)=>{r||P(V=>{const Y=[...V.ingredients];return Y[U].quantity=z,{...V,ingredients:Y}})},B=P=>{r||P(U=>({...U,ingredients:[...U.ingredients,{name:"",quantity:"",checked:!1}]}))},X=async()=>{w(!0);const P=k.current;if(P)try{const U={margin:[5,5,5,5],filename:`Registro_Alimentacao_${h}_${x.replace(/[^a-z0-9]/gi,"_")}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:3,useCORS:!0,letterRendering:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};await window.html2pdf().set(U).from(P).save(),r||O(),S(!0),setTimeout(()=>S(!1),3e3)}catch(U){console.error("Erro ao gerar PDF:",U),alert("Erro ao gerar o PDF.")}finally{w(!1)}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsx("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm space-y-6 no-print",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-emerald-600 text-white rounded-3xl shadow-lg",children:a.jsx($j,{size:32})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:"Registro de Alimentao"}),a.jsx("p",{className:"text-gray-500 font-bold text-xs uppercase tracking-widest",children:"Documento Oficial PNAE | SEDUC-MT"})]})]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:t==="form"?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>e("history"),className:"px-6 py-2 rounded-2xl text-[10px] font-black uppercase flex items-center gap-2 bg-gray-100 text-gray-600 hover:bg-gray-200 transition-all",children:[a.jsx(_t,{size:16})," Histrico"]}),r?a.jsxs("div",{className:"flex items-center gap-2 px-6 py-2 bg-emerald-50 text-emerald-700 rounded-2xl border border-emerald-100",children:[a.jsx(yn,{size:14}),a.jsx("span",{className:"text-[10px] font-black uppercase",children:"Modo de Leitura Blindado"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-gray-50 p-2 rounded-2xl border border-gray-100 flex gap-1",children:[1,2,3,4,5].map(P=>a.jsxs("button",{onClick:()=>l(P),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase transition-all ${o===P?"bg-emerald-600 text-white":"text-gray-400 hover:text-emerald-600"}`,children:["Sem ",P]},P))}),a.jsx("select",{value:d,onChange:P=>u(P.target.value),className:"bg-gray-50 border border-gray-100 rounded-2xl px-4 py-2 text-xs font-black uppercase outline-none focus:border-emerald-500",children:["Segunda","Tera","Quarta","Quinta","Sexta"].map(P=>a.jsx("option",{children:P},P))}),a.jsxs("select",{value:x,onChange:P=>v(P.target.value),className:"bg-gray-50 border border-gray-100 rounded-2xl px-4 py-2 text-xs font-black uppercase outline-none focus:border-emerald-500",children:[a.jsx("option",{value:"MATUTINO / VESPERTINO",children:"Matutino / Vespertino"}),a.jsx("option",{value:"MATUTINO",children:"Apenas Matutino"}),a.jsx("option",{value:"VESPERTINO",children:"Apenas Vespertino"}),a.jsx("option",{value:"NOTURNO",children:"Noturno"}),a.jsx("option",{value:"INTEGRAL",children:"Integral"})]})]}),a.jsx("input",{type:"date",value:h,onChange:P=>p(P.target.value),disabled:r,className:"bg-gray-50 border border-gray-100 rounded-2xl px-4 py-2 text-xs font-black outline-none focus:border-emerald-500 disabled:opacity-50"}),a.jsxs("button",{onClick:X,disabled:b,className:`px-6 py-2 rounded-2xl text-[10px] font-black uppercase flex items-center gap-2 transition-all shadow-lg ${g?"bg-emerald-100 text-emerald-700":"bg-emerald-900 text-white hover:bg-black"}`,children:[b?a.jsx(vt,{size:16,className:"animate-spin"}):g?a.jsx(Nt,{size:16}):a.jsx(Sa,{size:16}),b?"Gerando...":r?"Reimprimir Documento":"Imprimir e Salvar"]}),r&&a.jsx("button",{onClick:F,className:"px-6 py-2 bg-emerald-600 text-white rounded-2xl text-[10px] font-black uppercase hover:bg-emerald-700 transition-all shadow-lg",children:"Novo Registro"})]}):a.jsxs("button",{onClick:()=>e("form"),className:"px-6 py-2 rounded-2xl text-[10px] font-black uppercase flex items-center gap-2 bg-emerald-600 text-white shadow-lg",children:[a.jsx(cr,{size:16})," Voltar ao Registro"]})})]})}),t==="form"?a.jsxs("div",{ref:k,className:"max-w-[210mm] mx-auto bg-white p-6 pdf-document border border-gray-200 relative",children:[a.jsx("div",{className:"hidden pdf-show absolute top-2 right-6 opacity-40",children:a.jsxs("div",{className:"flex flex-col items-center border border-black p-1 rounded",children:[a.jsx(ft,{size:16}),a.jsx("span",{className:"text-[6px] font-bold uppercase",children:"Autenticado SEDUC"})]})}),a.jsxs("div",{className:"border-2 border-black p-4 mb-4 flex justify-between items-center bg-gray-50",children:[a.jsx("div",{className:"flex-1",children:a.jsx("h1",{className:"text-sm font-black uppercase leading-tight text-center",children:"Registro Dirio da Alimentao"})}),a.jsxs("div",{className:"text-right flex-1 border-l-2 border-black pl-4",children:[a.jsx("h3",{className:"text-xs font-black uppercase leading-tight",children:"Registro Dirio da Alimentao"}),a.jsxs("p",{className:"text-[9px] font-bold uppercase mt-1",children:["Data: ",new Date(h).toLocaleDateString("pt-BR")]}),a.jsxs("p",{className:"text-[9px] font-bold uppercase",children:["Turno: ",x]})]})]}),[{title:"1. LANCHE DE ENTRADA / COMPLEMENTAR",state:y,setter:j},{title:"2. REFEIO PRINCIPAL",state:T,setter:_}].map((P,U)=>a.jsxs("div",{className:"mb-4 border-2 border-black overflow-hidden page-break-avoid",children:[a.jsx("div",{className:"bg-black text-white px-3 py-1 font-black text-[10px] uppercase tracking-widest flex justify-between",children:a.jsx("span",{children:P.title})}),a.jsxs("div",{className:"p-3 space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"border-b border-black",children:[a.jsx("p",{className:"text-[8px] font-black uppercase text-gray-500",children:"Merendeira(o) Responsvel"}),a.jsx("input",{type:"text",value:P.state.responsible,onChange:z=>q(P.setter,"responsible",z.target.value),disabled:r,placeholder:"Nome...",className:"w-full bg-transparent text-[11px] font-bold uppercase outline-none py-1 no-print"}),a.jsx("div",{className:"hidden pdf-show text-[11px] font-bold h-6 uppercase",children:P.state.responsible||"________________________"})]}),a.jsxs("div",{className:"border-b border-black",children:[a.jsx("p",{className:"text-[8px] font-black uppercase text-gray-500",children:"Cardpio do Dia"}),a.jsx("input",{type:"text",value:P.state.dishName,onChange:z=>q(P.setter,"dishName",z.target.value),disabled:r,placeholder:"Descrio...",className:"w-full bg-transparent text-[11px] font-bold uppercase outline-none py-1 no-print"}),a.jsx("div",{className:"hidden pdf-show text-[11px] font-bold h-6 uppercase",children:P.state.dishName||"________________________"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between items-center no-print",children:[a.jsx("p",{className:"text-[8px] font-black uppercase text-gray-500",children:"Alimentos Utilizados"}),!r&&a.jsx("button",{onClick:()=>B(P.setter),className:"text-[8px] font-black uppercase text-emerald-600 hover:underline",children:"+ Item"})]}),a.jsx("div",{className:"border border-black",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100 border-b border-black",children:[a.jsx("th",{className:"px-3 py-1 text-[8px] font-black uppercase",children:"Descrio do Alimento"}),a.jsx("th",{className:"px-3 py-1 text-[8px] font-black uppercase w-28 text-right",children:"Qtd Consumida"})]})}),a.jsx("tbody",{className:"divide-y divide-black",children:P.state.ingredients.map((z,V)=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-3 py-0.5 text-[10px] font-bold uppercase",children:[a.jsx("input",{value:z.name,onChange:Y=>{const se=[...P.state.ingredients];se[V].name=Y.target.value.toUpperCase(),q(P.setter,"ingredients",se)},disabled:r,className:"w-full bg-transparent outline-none no-print"}),a.jsx("span",{className:"hidden pdf-show",children:z.name})]}),a.jsxs("td",{className:"px-3 py-0.5 text-right",children:[a.jsx("input",{value:z.quantity,onChange:Y=>L(P.setter,V,Y.target.value),disabled:r,placeholder:"0",className:"w-full bg-transparent text-right outline-none text-[10px] font-black no-print"}),a.jsx("span",{className:"hidden pdf-show font-black text-[10px]",children:z.quantity||"____"})]})]},V))})]})})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-0 border border-black divide-x divide-black bg-gray-50",children:[a.jsxs("div",{className:"p-1.5 text-center",children:[a.jsx("p",{className:"text-[7px] font-black uppercase leading-none mb-1",children:"Refeies Servidas"}),a.jsx("input",{type:"number",value:P.state.mealsServed,onChange:z=>q(P.setter,"mealsServed",z.target.value),disabled:r,className:"w-full bg-transparent text-center font-black text-[11px] outline-none no-print"}),a.jsx("span",{className:"hidden pdf-show font-black text-[11px]",children:P.state.mealsServed||"0"})]}),a.jsxs("div",{className:"p-1.5 text-center",children:[a.jsx("p",{className:"text-[7px] font-black uppercase leading-none mb-1",children:"Repeties"}),a.jsx("input",{type:"number",value:P.state.repeats,onChange:z=>q(P.setter,"repeats",z.target.value),disabled:r,className:"w-full bg-transparent text-center font-black text-[11px] outline-none no-print"}),a.jsx("span",{className:"hidden pdf-show font-black text-[11px]",children:P.state.repeats||"0"})]}),a.jsxs("div",{className:"p-1.5 text-center",children:[a.jsx("p",{className:"text-[7px] font-black uppercase leading-none mb-1",children:"Peso Resto (KG)"}),a.jsx("input",{type:"text",value:P.state.wasteResto,onChange:z=>q(P.setter,"wasteResto",z.target.value),disabled:r,className:"w-full bg-transparent text-center font-black text-[11px] outline-none no-print"}),a.jsx("span",{className:"hidden pdf-show font-black text-[11px]",children:P.state.wasteResto||"0.0"})]}),a.jsxs("div",{className:"p-1.5 text-center",children:[a.jsx("p",{className:"text-[7px] font-black uppercase leading-none mb-1",children:"Sobra Limpa (KG)"}),a.jsx("input",{type:"text",value:P.state.sobraLimpa,onChange:z=>q(P.setter,"sobraLimpa",z.target.value),disabled:r,className:"w-full bg-transparent text-center font-black text-[11px] outline-none no-print"}),a.jsx("span",{className:"hidden pdf-show font-black text-[11px]",children:P.state.sobraLimpa||"0.0"})]})]})]})]},U)),a.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-12 px-6",children:[a.jsx("div",{className:"text-center",children:a.jsx("div",{className:"border-t-2 border-black pt-1",children:a.jsx("p",{className:"text-[9px] font-black uppercase",children:"Responsvel pela Merenda"})})}),a.jsx("div",{className:"text-center",children:a.jsx("div",{className:"border-t-2 border-black pt-1",children:a.jsx("p",{className:"text-[9px] font-black uppercase",children:"Direo / CDCE"})})})]})]}):a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-gray-100 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("h3",{className:"text-lg font-black uppercase tracking-tight flex items-center gap-2",children:[a.jsx(_t,{className:"text-emerald-600"})," Histrico de Registros Auditados"]}),a.jsxs("div",{className:"relative w-64",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-300",size:16}),a.jsx("input",{type:"text",placeholder:"Data ou Turno...",className:"w-full pl-10 pr-4 py-2 bg-gray-50 border-none rounded-xl text-sm outline-none focus:ring-2 focus:ring-emerald-500/20"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.length>0?s.map(P=>a.jsxs("div",{onClick:()=>D(P),className:"bg-gray-50 p-6 rounded-2xl border border-gray-100 hover:border-emerald-300 hover:shadow-lg transition-all cursor-pointer group relative overflow-hidden",children:[a.jsx("div",{className:"absolute -top-1 -right-1 w-12 h-12 bg-emerald-500/10 rotate-45 flex items-end justify-center pb-1",children:a.jsx(yn,{size:12,className:"text-emerald-600 -rotate-45"})}),a.jsx("button",{onClick:U=>M(P.id,U),className:"absolute top-4 right-4 p-2 text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:a.jsx(Lt,{size:16})}),a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2.5 bg-emerald-100 text-emerald-600 rounded-xl",children:a.jsx(kr,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest",children:"Documento Registrado"}),a.jsx("p",{className:"text-sm font-black text-gray-900",children:new Date(P.date).toLocaleDateString("pt-BR")})]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold uppercase",children:[a.jsx("span",{className:"text-gray-400",children:"Turno:"}),a.jsx("span",{className:"text-gray-900 font-black",children:P.shift||"N/A"})]}),a.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold uppercase",children:[a.jsx("span",{className:"text-gray-400",children:"Volume Tot.:"}),a.jsxs("span",{className:"text-gray-700 font-black",children:[Number(P.entrada.mealsServed)+Number(P.principal.mealsServed)||0," Refeies"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-[9px] font-black text-emerald-700 uppercase tracking-widest bg-emerald-50 w-full justify-center py-2.5 rounded-xl border border-emerald-100",children:[a.jsx(ft,{size:14})," Ver Arquivo Original"]})]},P.id)):a.jsxs("div",{className:"col-span-full py-20 text-center flex flex-col items-center gap-4",children:[a.jsx("div",{className:"p-6 bg-gray-50 rounded-full text-gray-200",children:a.jsx(_t,{size:48})}),a.jsx("p",{className:"text-gray-400 font-bold uppercase text-xs",children:"Nenhum registro oficial encontrado no banco de dados."})]})})]})}),a.jsx("style",{children:`
        .pdf-document { font-family: 'Arial', sans-serif !important; }
        .pdf-show { display: none; }
        .page-break-avoid { page-break-inside: avoid; }
        @media print, .pdf-mode {
          .no-print { display: none !important; }
          .pdf-show { display: block !important; }
          .pdf-document { border: none !important; width: 100% !important; margin: 0 !important; padding: 0 !important; }
        }
      `})]})},Gm=[{id:"secretariat",label:"Secretaria"},{id:"merenda",label:"Merenda Escolar"},{id:"finance",label:"Financeiro"},{id:"busca_ativa",label:"Busca Ativa"},{id:"psychosocial",label:"Mediao & Apoio"},{id:"pedagogical",label:"Pedaggico"},{id:"teacher",label:"rea do Professor"},{id:"scheduling",label:"Agendas"},{id:"library",label:"Biblioteca"},{id:"almoxarifado",label:"Almoxarifado"},{id:"limpeza",label:"Manuteno"},{id:"patrimonio",label:"Patrimnio"},{id:"special_education",label:"Sala de Recursos e APA"}],g1e=[{id:"DIRETOR",label:"Diretor"},{id:"COORDENADOR PEDAGGICO",label:"Coordenador Pedaggico"},{id:"SECRETRIO",label:"Secretrio"},{id:"REGNCIA",label:"Regncia"},{id:"BUSCA ATIVA",label:"Busca Ativa"},{id:"MEDIADOR",label:"Mediador"},{id:"PSICOSSOCIAL",label:"Psicossocial"},{id:"BIBLIOTECA",label:"Biblioteca"},{id:"LIMPEZA",label:"Limpeza"},{id:"NUTRIO",label:"Nutrio"},{id:"AUXILIAR DE PTIO",label:"Auxiliar de Ptio"},{id:"AUXILIAR DE COORDENAO PEDAGGICA",label:"Aux. de Coord. Pedaggica"},{id:"ASSISTENTE DE EDUCAO ESPECIAL",label:"Assis. Educao Especial"},{id:"APA",label:"APA"},{id:"SALA DE RECURSOS",label:"Sala de Recursos"}],k7=()=>{const[t,e]=R.useState("backup"),[r,n]=R.useState(!1),[s,i]=R.useState(null),[o,l]=R.useState(()=>{try{const b=localStorage.getItem("portal_module_permissions_v1"),w=b?JSON.parse(b):null;if(w&&typeof w=="object"&&!Array.isArray(w))return w}catch(b){console.error("Error parsing permissions:",b)}return{DIRETOR:Gm.map(b=>b.id),"COORDENADOR PEDAGGICO":Gm.map(b=>b.id),REGNCIA:["teacher","scheduling","library","almoxarifado"],SECRETRIO:["secretariat","merenda","finance","busca_ativa","pedagogical","scheduling","library","patrimonio","limpeza","special_education"],PSICOSSOCIAL:["psychosocial","busca_ativa","scheduling","special_education"],MEDIADOR:["psychosocial","busca_ativa","scheduling","special_education"],"BUSCA ATIVA":["busca_ativa","secretariat"],LIMPEZA:["limpeza"],NUTRIO:["merenda"]}}),[d,u]=R.useState(()=>localStorage.getItem("system_shield_lock")==="true");R.useEffect(()=>{localStorage.setItem("portal_module_permissions_v1",JSON.stringify(o)),window.dispatchEvent(new Event("storage"))},[o]);const h=(b,w)=>{l(g=>{const S=g[b]||[],k=S.includes(w)?S.filter(y=>y!==w):[...S,w];return{...g,[b]:k}})},p=()=>{const b=!d;u(b),localStorage.setItem("system_shield_lock",String(b)),i({type:"success",text:b?"Sistema Blindado: Excluses e edies crticas desativadas.":"Blindagem Desativada: Edies permitidas."}),setTimeout(()=>i(null),3e3)},x=()=>{n(!0);try{const b={permissions:o,system_lock:d,export_date:new Date().toISOString()},w=new Blob([JSON.stringify(b,null,2)],{type:"application/json"}),g=URL.createObjectURL(w),S=document.createElement("a");S.href=g,S.download=`Backup_Configuracoes_${new Date().toISOString().split("T")[0]}.json`,S.click(),i({type:"success",text:"Backup de configuraes gerado!"})}catch{i({type:"error",text:"Erro ao gerar backup."})}finally{n(!1),setTimeout(()=>i(null),5e3)}},v=()=>{if(d)return alert("Ao bloqueada: Desative a Blindagem de Sistema.");window.confirm(` APAGAR TUDO? 
Esta ao  irreversvel.`)&&window.prompt("Digite 'APAGAR' para confirmar:")==="APAGAR"&&(localStorage.clear(),window.location.reload())};return a.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[a.jsxs("div",{className:"flex bg-white p-1.5 rounded-3xl border border-gray-100 shadow-sm w-fit",children:[a.jsx("button",{onClick:()=>e("backup"),className:`px-8 py-3 rounded-2xl text-xs font-black uppercase transition-all ${t==="backup"?"bg-indigo-600 text-white shadow-lg":"text-gray-400 hover:bg-gray-50"}`,children:"Segurana & Backup"}),a.jsx("button",{onClick:()=>e("access"),className:`px-8 py-3 rounded-2xl text-xs font-black uppercase transition-all ${t==="access"?"bg-indigo-600 text-white shadow-lg":"text-gray-400 hover:bg-gray-50"}`,children:"Gesto de Acessos"}),a.jsx("button",{onClick:()=>e("publish"),className:`px-8 py-3 rounded-2xl text-xs font-black uppercase transition-all ${t==="publish"?"bg-indigo-600 text-white shadow-lg":"text-gray-400 hover:bg-gray-50"}`,children:"Publicar Aplicativo"})]}),t==="backup"&&a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:`p-8 rounded-[3rem] border-2 transition-all duration-500 ${d?"bg-emerald-950 border-emerald-500 shadow-lg":"bg-white border-gray-100 shadow-sm"}`,children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`p-5 rounded-[2rem] transition-all duration-500 ${d?"bg-emerald-500 text-white":"bg-gray-100 text-gray-400"}`,children:d?a.jsx(yn,{size:32}):a.jsx(iH,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:`text-2xl font-black uppercase tracking-tighter ${d?"text-white":"text-gray-900"}`,children:"Blindagem de Mdulos"}),a.jsx("p",{className:`text-[10px] font-bold uppercase tracking-[0.2em] mt-1 ${d?"text-emerald-400":"text-gray-400"}`,children:d?"Proteo contra excluses acidentais":"Sistema aberto para manuteno"})]})]}),a.jsx("button",{onClick:p,className:`px-10 py-4 rounded-2xl font-black uppercase text-xs tracking-widest transition-all ${d?"bg-white text-emerald-900":"bg-emerald-600 text-white shadow-xl shadow-emerald-600/20"}`,children:d?"Desativar Blindagem":"Ativar Blindagem"})]})}),a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-gray-100 shadow-sm grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-indigo-50 text-indigo-600 rounded-2xl",children:a.jsx(ni,{size:24})}),a.jsx("h4",{className:"text-lg font-black text-gray-900 uppercase",children:"Exportar Dados"})]}),a.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Gere um arquivo .JSON com todos os registros atuais para backup local."}),a.jsx("button",{onClick:x,className:"w-full py-4 bg-gray-900 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-black transition-all",children:"Baixar Backup Agora"})]}),a.jsxs("div",{className:"space-y-6 border-l border-gray-50 pl-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded-2xl",children:a.jsx(Lt,{size:24})}),a.jsx("h4",{className:"text-lg font-black text-gray-900 uppercase",children:"Limpeza Total"})]}),a.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Apaga permanentemente todos os dados salvos neste navegador."}),a.jsx("button",{onClick:v,disabled:d,className:"w-full py-4 bg-red-50 text-red-600 rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-red-600 hover:text-white transition-all disabled:opacity-30",children:"Resetar Sistema"})]})]})]}),t==="access"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-indigo-900 p-10 rounded-[3rem] text-white flex items-center justify-between shadow-2xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10 rotate-12",children:a.jsx(dK,{size:180})}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("h2",{className:"text-3xl font-black uppercase tracking-tighter",children:"Matriz de Acessos"}),a.jsx("p",{className:"text-indigo-200 text-sm font-medium mt-2",children:"Defina quais mdulos cada cargo pode visualizar e interagir."})]}),a.jsx("div",{className:"bg-white/10 p-6 rounded-3xl border border-white/10 backdrop-blur-md",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ft,{size:24,className:"text-emerald-400"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Acesso Gesto: MASTER"})]})})]}),a.jsx("div",{className:"bg-white rounded-[3rem] border border-gray-100 shadow-sm overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] border-b border-gray-100",children:[a.jsx("th",{className:"px-10 py-6 sticky left-0 bg-gray-50 z-10",children:"Funo / Mdulo"}),Gm.map(b=>a.jsx("th",{className:"px-6 py-6 text-center whitespace-nowrap",children:b.label},b.id))]})}),a.jsx("tbody",{className:"divide-y divide-gray-50",children:g1e.map(b=>a.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-10 py-6 sticky left-0 bg-white group-hover:bg-gray-50 z-10 border-r border-gray-50",children:[a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase",children:b.label}),a.jsxs("p",{className:"text-[8px] font-bold text-indigo-600 uppercase tracking-widest mt-1",children:["Cargo: ",b.id]})]}),Gm.map(w=>{const g=(o[b.id]||[]).includes(w.id);return a.jsx("td",{className:"px-6 py-6 text-center",children:a.jsx("button",{onClick:()=>h(b.id,w.id),className:`w-12 h-12 rounded-2xl flex items-center justify-center mx-auto transition-all ${g?"bg-emerald-50 text-emerald-600 shadow-inner":"bg-gray-100 text-gray-300"}`,children:g?a.jsx(fx,{size:20,strokeWidth:4}):a.jsx(Ze,{size:18})})},w.id)})]},b.id))})]})})}),a.jsxs("div",{className:"p-6 bg-amber-50 rounded-[2rem] border border-amber-100 flex items-center gap-4",children:[a.jsx(al,{size:20,className:"text-amber-600 shrink-0"}),a.jsx("p",{className:"text-[10px] font-bold text-amber-800 uppercase leading-relaxed",children:'As alteraes de acesso so aplicadas imediatamente. Usurios logados vero as mudanas ao atualizar a pgina ou navegar de volta ao Hub. O cargo "GESTAO" possui acesso total por segurana e no  editvel.'})]})]}),t==="publish"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-indigo-900 p-12 rounded-[3.5rem] text-white relative overflow-hidden shadow-2xl",children:[a.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-10 rotate-12",children:a.jsx(zd,{size:200})}),a.jsxs("div",{className:"relative z-10 max-w-2xl space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-white/10 rounded-3xl backdrop-blur-md",children:a.jsx(jL,{size:32,className:"text-indigo-400"})}),a.jsx("h2",{className:"text-3xl font-black uppercase tracking-tighter",children:"Guia de Publicao"})]}),a.jsx("p",{className:"text-indigo-200 text-lg font-medium leading-relaxed",children:"Atualmente o aplicativo roda localmente no seu computador. Para que outros servidores acessem, voc precisa public-lo em um servidor web."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col justify-between",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-2xl flex items-center justify-center font-black",children:"1"}),a.jsx("h4",{className:"text-lg font-black text-gray-900 uppercase tracking-tight",children:"Hospedagem Front-end"}),a.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:["Utilize plataformas como ",a.jsx("strong",{children:"Vercel"})," ou ",a.jsx("strong",{children:"Netlify"}),'. Elas permitem hospedar este aplicativo gratuitamente com um endereo ".vercel.app".']})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-gray-50",children:a.jsxs("a",{href:"https://vercel.com",target:"_blank",className:"flex items-center justify-between text-blue-600 font-black uppercase text-[10px] tracking-widest hover:underline",children:["Acessar Vercel ",a.jsx(PO,{size:14})]})})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col justify-between",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-12 h-12 bg-emerald-50 text-emerald-600 rounded-2xl flex items-center justify-center font-black",children:"2"}),a.jsx("h4",{className:"text-lg font-black text-gray-900 uppercase tracking-tight",children:"Banco de Dados (Cloud)"}),a.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:["Para os dados serem compartilhados, voc deve trocar o LocalStorage por um banco real. Recomendamos o ",a.jsx("strong",{children:"Supabase"})," (PostgreSQL)."]})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-gray-50",children:a.jsxs("a",{href:"https://supabase.com",target:"_blank",className:"flex items-center justify-between text-emerald-600 font-black uppercase text-[10px] tracking-widest hover:underline",children:["Acessar Supabase ",a.jsx(PO,{size:14})]})})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col justify-between",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-12 h-12 bg-amber-50 text-amber-600 rounded-2xl flex items-center justify-center font-black",children:"3"}),a.jsx("h4",{className:"text-lg font-black text-gray-900 uppercase tracking-tight",children:"Configurar Chave API"}),a.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed font-medium",children:["Configure a varivel de ambiente ",a.jsx("code",{children:"API_KEY"})," no painel da Vercel para que as funes de IA continuem funcionando online com segurana."]})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-gray-50",children:a.jsxs("div",{className:"flex items-center gap-2 text-amber-600 font-black uppercase text-[10px] tracking-widest",children:[a.jsx(ft,{size:14})," Segurana Garantida"]})})]})]})]})]})},b1e=[{id:"epi-1",name:"AVENTAL TRMICO (ALTA TEMPERATURA)",category:"EPI",unit:"UNID"},{id:"epi-2",name:"LUVA DE MALHA DE AO",category:"EPI",unit:"PAR"},{id:"epi-3",name:"TOUCA DESCARTVEL (PCT C/ 100)",category:"EPI",unit:"PCT"},{id:"epi-4",name:"BOTA DE PVC BRANCA CANO MDIO",category:"EPI",unit:"PAR"},{id:"epi-5",name:"MSCARA DESCARTVEL (PCT C/ 50)",category:"EPI",unit:"PCT"},{id:"lim-1",name:"DETERGENTE NEUTRO 500ML",category:"LIMPEZA",unit:"FRASCO"},{id:"lim-2",name:"GUA SANITRIA 2L",category:"LIMPEZA",unit:"FRASCO"},{id:"lim-3",name:"DESENGORDURANTE INDUSTRIAL 5L",category:"LIMPEZA",unit:"GALO"},{id:"lim-4",name:"ESPONJA DUPLA FACE (PCT C/ 10)",category:"LIMPEZA",unit:"PCT"},{id:"lim-5",name:"PANO DE PRATO (ALGODO)",category:"LIMPEZA",unit:"UNID"},{id:"ute-1",name:"PRATO FUNDO POLICARBONATO",category:"UTENSLIOS",unit:"UNID"},{id:"ute-2",name:"COLHER DE SOPA INOX",category:"UTENSLIOS",unit:"UNID"},{id:"ute-3",name:"ESCUMADEIRA GRANDE INDUSTRIAL",category:"UTENSLIOS",unit:"UNID"},{id:"ute-4",name:"CALDEIRO ALUMNIO 20L",category:"UTENSLIOS",unit:"UNID"},{id:"ute-5",name:"CONCHA GRANDE INOX",category:"UTENSLIOS",unit:"UNID"},{id:"equ-1",name:"LIQUIDIFICADOR INDUSTRIAL 6L",category:"EQUIPAMENTOS",unit:"UNID"},{id:"equ-2",name:"FOGO INDUSTRIAL 4 BOCAS",category:"EQUIPAMENTOS",unit:"UNID"},{id:"equ-3",name:"FREEZER VERTICAL 500L",category:"EQUIPAMENTOS",unit:"UNID"},{id:"equ-4",name:"FORNO ELTRICO INDUSTRIAL",category:"EQUIPAMENTOS",unit:"UNID"}],v1e=()=>{const[t,e]=R.useState("form"),[r,n]=R.useState(null),[s,i]=R.useState("TODOS"),[o,l]=R.useState(""),[d,u]=R.useState([]),[h,p]=R.useState(""),[x,v]=R.useState("Equipe de Cozinha"),[b,w]=R.useState(!1),[g,S]=R.useState(!1),[k,y]=R.useState({name:"",category:"UTENSLIOS",unit:"UNID"}),[j,T]=R.useState(""),[_,O]=R.useState(()=>{const V=localStorage.getItem("merenda_kitchen_requests");return V?JSON.parse(V):[]});R.useEffect(()=>{localStorage.setItem("merenda_kitchen_requests",JSON.stringify(_))},[_]);const M=R.useMemo(()=>b1e.filter(V=>{const Y=s==="TODOS"||V.category===s,se=V.name.toLowerCase().includes(o.toLowerCase());return Y&&se}),[s,o]),D=V=>{u(Y=>Y.find(K=>K.id===V.id)?Y.map(K=>K.id===V.id?{...K,requestedQuantity:K.requestedQuantity+1}:K):[...Y,{...V,requestedQuantity:1,itemStatus:"PENDENTE"}])},F=()=>{if(!k.name)return alert("Informe o nome do item.");const V={id:`custom-${Date.now()}`,name:k.name.toUpperCase(),category:k.category,unit:k.unit.toUpperCase(),isCustom:!0};D(V),y({name:"",category:"UTENSLIOS",unit:"UNID"}),S(!1)},q=V=>{u(Y=>Y.filter(se=>se.id!==V))},L=(V,Y)=>{if(Y<=0)return q(V);u(se=>se.map(K=>K.id===V?{...K,requestedQuantity:Y}:K))},B=async()=>{if(d.length===0)return alert("Selecione ao menos um item.");w(!0);try{const V={id:`req-${Date.now()}`,requestNumber:`RQ${new Date().getFullYear()}${Math.floor(1e3+Math.random()*9e3)}`,date:new Date().toISOString(),responsible:x,reason:h,status:"PENDENTE",items:d.map(Y=>({...Y,itemStatus:"PENDENTE"}))};O([V,..._]),u([]),p(""),alert("Requisio enviada com sucesso!"),e("history")}catch(V){console.error(V)}finally{w(!1)}},X=(V,Y)=>{O(se=>se.map(K=>K.id===V?{...K,status:Y,managerNotes:j}:K)),T("")},P=(V,Y)=>{O(se=>se.map(K=>{if(K.id!==V)return K;const G=K.items.map(W=>{if(W.id!==Y)return W;const Q=W.itemStatus==="PENDENTE"?"ATENDIDO":W.itemStatus==="ATENDIDO"?"NO ATENDIDO":"PENDENTE";return{...W,itemStatus:Q}});return{...K,items:G}}))},U=R.useMemo(()=>_.find(V=>V.id===r),[_,r]),z=V=>{switch(V){case"PENDENTE":return"bg-amber-100 text-amber-700 border-amber-200";case"APROVADO":case"ATENDIDO":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"PARCIAL":return"bg-blue-100 text-blue-700 border-blue-200";case"RECUSADO":case"NO ATENDIDO":return"bg-red-100 text-red-700 border-red-200";case"ENTREGUE":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700"}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsx("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm space-y-6 no-print",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-4 rounded-3xl shadow-lg ${t==="form"?"bg-emerald-600":"bg-gray-900"} text-white`,children:t==="form"?a.jsx(Jo,{size:32}):a.jsx(_t,{size:32})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:t==="form"?"Requisio Cozinha":"Auditoria de Requisies"}),a.jsx("p",{className:"text-gray-500 font-bold text-xs uppercase tracking-widest",children:t==="form"?"Solicitao Interna de Materiais":"Controle e Validao da Gesto"})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("button",{onClick:()=>{e(t==="form"?"history":"form"),n(null)},className:`px-6 py-2.5 rounded-2xl text-[10px] font-black uppercase flex items-center gap-2 transition-all ${t==="history"?"bg-emerald-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[a.jsx(_t,{size:16})," Ver Histrico"]}),t==="form"&&d.length>0&&a.jsxs("button",{onClick:B,disabled:b,className:"px-8 py-2.5 bg-emerald-900 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-black transition-all shadow-lg flex items-center gap-2",children:[b?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx(Nt,{size:16}),"Enviar para Direo"]})]})]})}),t==="form"?a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[a.jsx("div",{className:"xl:col-span-2 space-y-6",children:a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-gray-100 shadow-sm space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 w-full md:w-auto",children:["TODOS","EPI","LIMPEZA","UTENSLIOS","EQUIPAMENTOS"].map(V=>a.jsx("button",{onClick:()=>i(V),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase whitespace-nowrap transition-all ${s===V?"bg-emerald-600 text-white shadow-md":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:V},V))}),a.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[a.jsxs("div",{className:"relative flex-1 md:w-64",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-300",size:16}),a.jsx("input",{type:"text",placeholder:"Buscar material...",value:o,onChange:V=>l(V.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 border-none rounded-xl text-xs font-bold outline-none"})]}),a.jsxs("button",{onClick:()=>S(!0),className:"p-2.5 bg-emerald-600 text-white rounded-xl shadow-md hover:bg-emerald-700 transition-all flex items-center gap-2",title:"Adicionar item fora da lista",children:[a.jsx(qn,{size:18}),a.jsx("span",{className:"hidden md:block text-[10px] font-black uppercase",children:"Novo Item"})]})]})]}),g&&a.jsxs("div",{className:"bg-emerald-50/50 p-6 rounded-[2rem] border border-emerald-100 animate-in slide-in-from-top-4 duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qn,{className:"text-emerald-600",size:20}),a.jsx("h4",{className:"text-[10px] font-black text-emerald-700 uppercase tracking-widest",children:"Adicionar Material Especfico"})]}),a.jsx("button",{onClick:()=>S(!1),className:"text-emerald-400 hover:text-emerald-600",children:a.jsx(df,{size:18})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"md:col-span-2 space-y-1",children:[a.jsx("label",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-widest ml-1",children:"Descrio Detalhada"}),a.jsx("input",{type:"text",placeholder:"EX: PANELA DE PRESSO INDUSTRIAL 20L",value:k.name,onChange:V=>y({...k,name:V.target.value}),className:"w-full p-3 bg-white border border-emerald-100 rounded-xl text-xs font-bold outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-widest ml-1",children:"Categoria"}),a.jsxs("select",{value:k.category,onChange:V=>y({...k,category:V.target.value}),className:"w-full p-3 bg-white border border-emerald-100 rounded-xl text-xs font-black uppercase",children:[a.jsx("option",{children:"UTENSLIOS"}),a.jsx("option",{children:"EPI"}),a.jsx("option",{children:"LIMPEZA"}),a.jsx("option",{children:"EQUIPAMENTOS"})]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-4",children:[a.jsx("button",{onClick:F,className:"flex-1 py-3 bg-emerald-600 text-white rounded-xl text-[10px] font-black uppercase shadow-lg hover:bg-emerald-700 transition-all",children:"Incluir na Requisio"}),a.jsx("button",{onClick:()=>S(!1),className:"px-6 py-3 bg-white text-gray-400 rounded-xl text-[10px] font-black uppercase border border-gray-100",children:"Cancelar"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:M.map(V=>a.jsxs("div",{className:"group p-4 bg-gray-50 rounded-2xl border border-transparent hover:border-emerald-200 hover:bg-white transition-all flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2.5 rounded-xl ${V.category==="EPI"?"bg-amber-100 text-amber-600":V.category==="LIMPEZA"?"bg-blue-100 text-blue-600":V.category==="UTENSLIOS"?"bg-emerald-100 text-emerald-600":"bg-purple-100 text-purple-600"}`,children:V.category==="EPI"?a.jsx(qg,{size:18}):V.category==="LIMPEZA"?a.jsx(Ug,{size:18}):V.category==="UTENSLIOS"?a.jsx(Jo,{size:18}):a.jsx(zg,{size:18})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] font-black text-gray-900 uppercase leading-tight",children:V.name}),a.jsxs("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:[V.category," | ",V.unit]})]})]}),a.jsx("button",{onClick:()=>D(V),className:"p-2 bg-white text-gray-300 group-hover:bg-emerald-600 group-hover:text-white rounded-xl shadow-sm transition-all",children:a.jsx(ot,{size:18})})]},V.id))})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm space-y-6 sticky top-8",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-50 pb-4",children:[a.jsxs("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Us,{size:18,className:"text-emerald-600"})," Minha Requisio"]}),a.jsxs("span",{className:"text-[10px] font-black bg-emerald-50 text-emerald-600 px-2.5 py-1 rounded-lg uppercase",children:[d.length," Itens"]})]}),a.jsx("div",{className:"space-y-3 max-h-[350px] overflow-y-auto pr-2 custom-scrollbar",children:d.length>0?d.map(V=>a.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl border border-gray-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-[10px] font-black text-gray-900 uppercase truncate pr-2 flex items-center gap-1",children:[V.name,V.isCustom&&a.jsx("span",{className:"text-[7px] bg-emerald-100 text-emerald-600 px-1 rounded",children:"MANUAL"})]}),a.jsxs("p",{className:"text-[8px] text-gray-400 font-bold uppercase",children:[V.category," | ",V.unit]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"number",min:"1",value:V.requestedQuantity,onChange:Y=>L(V.id,parseInt(Y.target.value)),className:"w-12 text-center bg-white border border-gray-200 rounded-lg py-1 text-xs font-black outline-none focus:border-emerald-500"}),a.jsx("button",{onClick:()=>q(V.id),className:"text-gray-300 hover:text-red-500 transition-colors",children:a.jsx(Lt,{size:16})})]})]},V.id)):a.jsxs("div",{className:"py-12 text-center text-gray-300",children:[a.jsx(Us,{size:40,className:"mx-auto mb-2 opacity-20"}),a.jsx("p",{className:"text-[10px] font-black uppercase",children:"Sua lista est vazia"})]})}),a.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-50",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Motivo / Urgncia"}),a.jsx("textarea",{value:h,onChange:V=>p(V.target.value),placeholder:"Ex: Reposio para incio de semana...",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl text-[11px] font-bold outline-none h-20 resize-none"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Responsvel pela Cozinha"}),a.jsx("input",{type:"text",value:x,onChange:V=>v(V.target.value),className:"w-full p-3 bg-gray-50 border border-gray-100 rounded-xl text-[11px] font-black outline-none"})]})]})]})})]}):a.jsx("div",{className:"space-y-6",children:r&&U?a.jsxs("div",{className:"bg-white p-12 rounded-[2.5rem] border border-gray-100 shadow-xl max-w-5xl mx-auto animate-in zoom-in-95 duration-300",children:[a.jsxs("div",{className:"flex justify-between items-start border-b border-gray-50 pb-6 mb-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:["Solicitao #",U.requestNumber]}),a.jsx("span",{className:`px-3 py-1 rounded-xl text-[9px] font-black uppercase border-2 ${z(U.status)}`,children:U.status})]}),a.jsxs("p",{className:"text-gray-400 font-bold uppercase text-[10px] tracking-widest",children:["Enviado em ",new Date(U.date).toLocaleString("pt-BR")]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx("button",{onClick:()=>window.print(),className:"p-3 bg-gray-50 text-gray-400 rounded-2xl hover:text-emerald-600 transition-colors",children:a.jsx(Sa,{size:20})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Us,{size:14,className:"text-emerald-600"})," Detalhamento do Pedido"]}),a.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase italic",children:"Clique no item para validar individualmente"})]}),a.jsx("div",{className:"border border-gray-100 rounded-2xl overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-[11px] border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-gray-400",children:[a.jsx("th",{className:"px-4 py-3 font-black uppercase",children:"Material"}),a.jsx("th",{className:"px-4 py-3 text-center uppercase",children:"Qtd Pedida"}),a.jsx("th",{className:"px-4 py-3 text-center uppercase",children:"Validao"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50",children:U.items.map((V,Y)=>a.jsxs("tr",{onClick:()=>U.status==="PENDENTE"&&P(U.id,V.id),className:`transition-colors cursor-pointer ${U.status==="PENDENTE"?"hover:bg-gray-50":""}`,children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[V.isCustom&&a.jsx(qn,{size:14,className:"text-emerald-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold uppercase text-gray-900",children:V.name}),a.jsx("p",{className:"text-[8px] text-gray-400 font-black",children:V.unit})]})]})}),a.jsx("td",{className:"px-4 py-3 text-center font-black text-lg text-emerald-700",children:V.requestedQuantity}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[8px] font-black uppercase border ${z(V.itemStatus||"PENDENTE")}`,children:[V.itemStatus==="ATENDIDO"?a.jsx(fx,{size:10}):V.itemStatus==="NO ATENDIDO"?a.jsx(Ze,{size:10}):a.jsx(rr,{size:10}),V.itemStatus||"PENDENTE"]})})]},Y))})]})}),a.jsxs("div",{className:"p-6 bg-gray-50 rounded-2xl border border-gray-100 space-y-2",children:[a.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Justificativa da Cozinha"}),a.jsxs("p",{className:"text-xs text-gray-600 font-medium italic",children:['"',U.reason||"Sem justificativa.",'"']})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-gray-900 p-8 rounded-[2.5rem] text-white space-y-6 shadow-xl",children:[a.jsxs("div",{className:"flex items-center gap-3 border-b border-white/10 pb-4",children:[a.jsx(ft,{className:"text-emerald-400"}),a.jsx("h4",{className:"text-xs font-black uppercase tracking-widest",children:"Painel de Deciso"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Notas do Gestor / Observaes"}),a.jsx("textarea",{value:j||U.managerNotes||"",onChange:V=>T(V.target.value),disabled:U.status!=="PENDENTE",placeholder:"Descreva o motivo da deciso...",className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl text-[11px] font-medium text-emerald-50 outline-none focus:border-emerald-500 h-28 resize-none"})]}),U.status==="PENDENTE"?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>X(U.id,"APROVADO"),className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-lg flex items-center justify-center gap-2",children:[a.jsx(Nt,{size:16})," Aprovar Conforme Itens"]}),a.jsxs("button",{onClick:()=>X(U.id,"PARCIAL"),className:"w-full py-3 bg-blue-600 hover:bg-blue-700 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-lg flex items-center justify-center gap-2",children:[a.jsx(Xt,{size:16})," Atendimento Parcial"]}),a.jsxs("button",{onClick:()=>X(U.id,"RECUSADO"),className:"w-full py-3 bg-red-600 hover:bg-red-700 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-lg flex items-center justify-center gap-2",children:[a.jsx(df,{size:16})," Recusar Requisio"]})]}):a.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/10 text-center",children:[a.jsx("p",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest",children:"Deciso Consolidada"}),a.jsx("p",{className:"text-[11px] text-gray-400 mt-1",children:"Este pedido j foi auditado e no pode mais ser alterado."})]})]})})]})]}):a.jsx("div",{className:"grid grid-cols-1 gap-4",children:_.length>0?_.map(V=>a.jsxs("div",{onClick:()=>n(V.id),className:"group bg-white p-6 rounded-[2rem] border border-gray-100 hover:border-emerald-200 shadow-sm hover:shadow-xl transition-all cursor-pointer flex flex-col md:flex-row items-center gap-6",children:[a.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center border-2 ${z(V.status)} transition-colors`,children:V.status==="PENDENTE"?a.jsx(rr,{size:24}):V.status==="APROVADO"?a.jsx(Nt,{size:24}):V.status==="RECUSADO"?a.jsx(df,{size:24}):a.jsx(Xt,{size:24})}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("h4",{className:"font-black text-gray-900 uppercase",children:["RQ ",V.requestNumber]}),a.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[8px] font-black uppercase border ${z(V.status)}`,children:V.status})]}),a.jsxs("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-tight line-clamp-1",children:[V.items.length," itens  Solicitado por ",V.responsible,"  ",new Date(V.date).toLocaleDateString("pt-BR")]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[V.items.some(Y=>Y.isCustom)&&a.jsxs("div",{className:"flex items-center gap-1 text-[8px] font-black bg-emerald-50 text-emerald-600 px-2 py-1 rounded-full uppercase border border-emerald-100",children:[a.jsx(qn,{size:10})," Item Manual"]}),V.managerNotes&&a.jsx(wn,{size:16,className:"text-emerald-500"}),a.jsx("div",{className:"p-2 bg-gray-50 rounded-xl group-hover:bg-emerald-600 group-hover:text-white transition-all shadow-sm",children:a.jsx(ga,{size:20})})]})]},V.id)):a.jsxs("div",{className:"py-24 text-center bg-white rounded-[2.5rem] border-2 border-dashed border-gray-100",children:[a.jsx(_t,{size:48,className:"mx-auto mb-4 text-gray-200"}),a.jsx("p",{className:"text-gray-400 font-black uppercase text-xs",children:"Sem solicitaes no histrico"})]})})}),a.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #e5e7eb; border-radius: 10px; }
      `})]})},y1e=[{preparationName:"SALADA DE ALFACE COM TOMATE, MACARRO COM MOLHO DE CARNE MODA",ingredients:[{description:"ALFACE",perCapitaLiquido:6.85},{description:"ALHO",perCapitaLiquido:.93},{description:"CARNE MOIDA",perCapitaLiquido:28.57},{description:"CEBOLA",perCapitaLiquido:2.73},{description:"CEBOLINHA",perCapitaLiquido:1.69},{description:"EXTRATO DE TOMATE",perCapitaLiquido:5},{description:"MACARRO",perCapitaLiquido:40},{description:"LEO DE SOJA",perCapitaLiquido:1},{description:"PIMENTO",perCapitaLiquido:2.42},{description:"SAL",perCapitaLiquido:1},{description:"SALSA",perCapitaLiquido:1.57},{description:"TOMATE",perCapitaLiquido:9.8}]},{preparationName:"FRICASS DE FRANGO COM ABBORA E ARROZ",ingredients:[{description:"ABBORA",perCapitaLiquido:9.16},{description:"ALHO",perCapitaLiquido:.93},{description:"AMIDO DE MILHO",perCapitaLiquido:6},{description:"ARROZ BRANCO",perCapitaLiquido:30},{description:"CEBOLA",perCapitaLiquido:2.73},{description:"CEBOLINHA",perCapitaLiquido:1.69},{description:"COLORAU",perCapitaLiquido:.5},{description:"FIL DE PEITO DE FRANGO",perCapitaLiquido:35},{description:"LEITE",perCapitaLiquido:10},{description:"QUEIJO MUSSARELA",perCapitaLiquido:6.6},{description:"SAL",perCapitaLiquido:1}]},{preparationName:"ABACAXI",ingredients:[{description:"ABACAXI",perCapitaLiquido:48.53}]}],BP=["ALFACE","TOMATE","ABACAXI","FRANGO","CARNE MOIDA","CARNE SUNA","BANANA","MELO","PEIXE","CEBOLINHA","SALSA","MANDIOCA","ABBORA","LEITE","QUEIJO MUSSARELA","MAMO","MA","PONC","MELANCIA"],N1e=()=>{const[t,e]=R.useState(1),[r,n]=R.useState([]),[s,i]=R.useState(500),[o,l]=R.useState(""),[d,u]=R.useState(!1),[h,p]=R.useState(!0),[x,v]=R.useState([]);R.useEffect(()=>{(async()=>{try{const{data:O}=await ae.from("students").select("id").eq("status","ATIVO");O&&O.length>0&&i(O.length);const{data:M}=await ae.from("contracts").select("*, items:contract_items(*), supplier:suppliers(name)").eq("status","ATIVO");if(M){const D=M.map(F=>{var q;return{id:F.id,number:F.number,supplierId:F.supplier_id,supplierName:((q=F.supplier)==null?void 0:q.name)||"Desconhecido",startDate:F.start_date,endDate:F.end_date,status:F.status,type:F.type,items:F.items.map(L=>({id:L.id,description:L.description,contractedQuantity:L.contracted_quantity,acquiredQuantity:L.acquired_quantity,unit:L.unit,unitPrice:L.unit_price,brand:L.brand}))}});v(D)}}catch(O){console.error("Erro ao carregar dados do Supabase:",O)}finally{p(!1)}})()},[]);const b=()=>{const _=lS.find(F=>F.week===t);if(!_)return;const O={};_.days.forEach(F=>{const q=y1e.find(L=>F.dish.toUpperCase().includes(L.preparationName)||L.preparationName.includes(F.dish.toUpperCase()));q?q.ingredients.forEach(L=>{const B=L.perCapitaLiquido*s/1e3;M(L.description,B)}):F.ingredients.forEach(L=>{M(L,100*s/1e3)})});function M(F,q){let L="NO VINCULADO",B="---",X="",P="",U="KG",z=0;for(const V of x){const Y=V.items.find(se=>se.description.toUpperCase().includes(F.toUpperCase())||F.toUpperCase().includes(se.description.toUpperCase()));if(Y){L=V.supplierName,B=V.number,X=V.id,P=Y.id,U=Y.unit,z=Y.unitPrice;break}}O[F]?O[F].quantity+=q:O[F]={quantity:q,unit:U,unitPrice:z,supplier:L,contract:B,contractId:X,contractItemId:P}}const D=Object.entries(O).map(([F,q])=>({description:F,quantity:Number(q.quantity.toFixed(2)),unit:q.unit,week:t,supplierName:q.supplier,contractNumber:q.contract,contractId:q.contractId,contractItemId:q.contractItemId,isPerishable:BP.includes(F.toUpperCase()),unit_price:q.unitPrice,selected:q.contractItemId!==""}));n(D)},w=_=>{n(O=>O.filter((M,D)=>D!==_))},g=(_,O,M)=>{n(D=>D.map((F,q)=>q===_?{...F,[O]:M}:F))},S=_=>{n(O=>O.map(M=>({...M,selected:_})))},k=R.useMemo(()=>{if(!o||o.length<2)return[];const _=[];return x.forEach(O=>{O.items.forEach(M=>{M.description.toLowerCase().includes(o.toLowerCase())&&_.push({...M,contractId:O.id,contractNumber:O.number,supplierName:O.supplierName})})}),_.slice(0,8)},[x,o]),y=_=>{const O={description:_.description,quantity:1,unit:_.unit,week:t,supplierName:_.supplierName,contractNumber:_.contractNumber,contractId:_.contractId,contractItemId:_.id,isPerishable:BP.includes(_.description.toUpperCase()),unit_price:_.unitPrice,selected:!0};n(M=>[...M,O]),l("")},j=async()=>{const _=r.filter(O=>O.selected&&O.contractItemId);if(_.length===0){alert("Selecione os produtos vinculados a contratos para processar os pedidos.");return}u(!0);try{const O=_.reduce((M,D)=>{const F=D.contractId;return M[F]||(M[F]=[]),M[F].push(D),M},{});for(const[M,D]of Object.entries(O)){const F=D,q=`SL-${Date.now().toString().slice(-6)}`,L=F.reduce((P,U)=>P+U.quantity*U.unit_price,0),{data:B,error:X}=await ae.from("orders").insert([{contract_id:M,order_number:q,issue_date:new Date().toISOString().split("T")[0],total_value:L,status:"EM_PROCESSAMENTO",observations:`Gerado via Lista de Compras - Semana ${t}`}]).select().single();if(X)throw X;for(const P of F){await ae.from("order_items").insert([{order_id:B.id,contract_item_id:P.contractItemId,description:P.description,quantity:P.quantity,unit_price:P.unit_price}]);const U=x.find(V=>V.id===M),z=U==null?void 0:U.items.find(V=>V.id===P.contractItemId);z&&await ae.from("contract_items").update({acquired_quantity:(z.acquiredQuantity||0)+P.quantity}).eq("id",P.contractItemId)}}alert("Pedidos gerados com sucesso e vinculados ao histrico!"),n([])}catch(O){console.error("Erro ao processar pedidos:",O),alert("Erro ao processar pedidos.")}finally{u(!1)}},T=()=>{window.print()};return h?a.jsxs("div",{className:"flex flex-col items-center justify-center p-32 space-y-4",children:[a.jsx(vt,{size:48,className:"text-emerald-600 animate-spin"}),a.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"Carregando dados da Merenda..."})]}):a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsx("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm no-print",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-orange-600 text-white rounded-3xl shadow-lg",children:a.jsx(Xj,{size:32})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:"Lista de Compras Semanal"}),a.jsxs("p",{className:"text-gray-500 font-bold text-xs uppercase tracking-widest",children:["Clculo Dinmico: Ficha Tcnica x ",a.jsxs("span",{className:"text-orange-600",children:[s," Alunos Matriculados"]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative group",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:16}),a.jsx("input",{type:"text",placeholder:"Adicionar item do contrato...",value:o,onChange:_=>l(_.target.value),className:"pl-12 pr-6 py-3 bg-gray-100 border-none rounded-2xl font-bold text-xs outline-none focus:ring-2 focus:ring-orange-500/20 w-64"}),k.length>0&&a.jsx("div",{className:"absolute z-50 left-0 right-0 mt-2 bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden min-w-[300px]",children:k.map(_=>a.jsxs("button",{onClick:()=>y(_),className:"w-full text-left p-4 hover:bg-orange-50 flex items-center justify-between group",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-900",children:_.description}),a.jsx("p",{className:"text-[8px] font-bold text-gray-400 uppercase",children:_.supplierName})]}),a.jsx(ot,{size:14,className:"text-orange-600"})]},_.id))})]}),a.jsx("select",{value:t,onChange:_=>e(Number(_.target.value)),className:"p-3 bg-gray-100 border-none rounded-2xl font-black text-xs uppercase outline-none focus:ring-2 focus:ring-orange-500/20",children:[1,2,3,4,5].map(_=>a.jsxs("option",{value:_,children:[_," Semana"]},_))}),a.jsxs("button",{onClick:b,className:"px-6 py-3 bg-orange-600 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-orange-700 transition-all flex items-center gap-2 shadow-lg active:scale-95",children:[r.length>0?a.jsx(ic,{size:16}):a.jsx(Jd,{size:16}),r.length>0?"Regerar Lista":"Gerar Lista"]})]})]})}),r.length>0&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-gray-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-50 flex justify-between items-center bg-gray-50/50",children:[a.jsxs("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Df,{size:18,className:"text-orange-600"})," Itens Gerados - ",t," Semana"]}),a.jsxs("div",{className:"flex items-center gap-4 no-print",children:[a.jsxs("span",{className:"text-[10px] font-black text-gray-400 uppercase",children:[r.length," Produtos na lista"]}),a.jsx("button",{onClick:T,className:"p-2.5 bg-white text-gray-400 hover:text-orange-600 rounded-xl border border-gray-200 transition-all",title:"Imprimir Lista",children:a.jsx(Fg,{size:18})})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50/50 text-[10px] font-black text-gray-400 uppercase tracking-widest border-b border-gray-100",children:[a.jsx("th",{className:"px-8 py-4 w-10",children:a.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-orange-600",checked:r.length>0&&r.every(_=>_.selected),onChange:_=>S(_.target.checked)})}),a.jsx("th",{className:"px-4 py-4",children:"Ingrediente"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Quantidade Compra"}),a.jsx("th",{className:"px-6 py-4",children:"Fornecedor Vinculado"}),a.jsx("th",{className:"px-6 py-4",children:"Contrato"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Ao"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50",children:r.map((_,O)=>a.jsxs("tr",{className:`hover:bg-orange-50/30 transition-colors group ${_.selected?"":"opacity-50"}`,children:[a.jsx("td",{className:"px-8 py-5",children:a.jsx("input",{type:"checkbox",checked:_.selected,onChange:M=>g(O,"selected",M.target.checked),className:"rounded border-gray-300 text-orange-600"})}),a.jsxs("td",{className:"px-4 py-5",children:[a.jsx("p",{className:"font-black text-gray-900 uppercase text-xs",children:_.description}),_.isPerishable&&a.jsx("span",{className:"text-[7px] font-black bg-red-100 text-red-600 px-1.5 py-0.5 rounded uppercase mt-1 inline-block",children:"Perecvel"})]}),a.jsx("td",{className:"px-6 py-5 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("input",{type:"number",value:_.quantity,onChange:M=>g(O,"quantity",Number(M.target.value)),className:"w-20 p-2 bg-white border border-gray-200 rounded-xl text-center font-black text-orange-600 text-sm outline-none focus:ring-2 focus:ring-orange-500/20"}),a.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase",children:_.unit})]})}),a.jsxs("td",{className:"px-6 py-5",children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-900 uppercase",children:_.supplierName}),_.supplierName==="NO VINCULADO"&&a.jsxs("p",{className:"text-[8px] text-red-500 font-black uppercase mt-1 flex items-center gap-1",children:[a.jsx(Xt,{size:8})," Sem contrato ativo"]})]}),a.jsx("td",{className:"px-6 py-5",children:a.jsx("p",{className:"text-[9px] text-gray-400 font-black uppercase",children:_.contractNumber!=="---"?`CT ${_.contractNumber}`:"---"})}),a.jsx("td",{className:"px-6 py-5 text-right no-print",children:a.jsxs("button",{onClick:()=>w(O),className:"p-2.5 bg-gray-100 text-gray-400 hover:bg-red-50 hover:text-red-600 rounded-xl transition-all shadow-sm flex items-center gap-2 ml-auto",title:"Remover da lista",children:[a.jsx("span",{className:"text-[8px] font-black uppercase hidden group-hover:block",children:"Excluir"}),a.jsx(Lt,{size:16})]})})]},O))})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 no-print",children:[a.jsxs("div",{className:"bg-amber-50 px-6 py-4 rounded-2xl border border-amber-100 flex items-center gap-4 mr-auto",children:[a.jsx(al,{size:20,className:"text-amber-600"}),a.jsxs("p",{className:"text-[10px] font-bold text-amber-800 uppercase leading-tight",children:["Confirme as quantidades e selecione os itens para gerar os pedidos.",a.jsx("br",{}),"Itens sem contrato vinculado sero ignorados no processamento."]})]}),a.jsxs("button",{onClick:j,disabled:d||r.filter(_=>_.selected).length===0,className:"px-10 py-4 bg-gray-900 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-black transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?a.jsx(vt,{size:18,className:"animate-spin"}):a.jsx(uf,{size:18}),"Processar Pedidos aos Fornecedores"]})]})]}),r.length===0&&a.jsxs("div",{className:"bg-white p-20 rounded-[3rem] border-2 border-dashed border-gray-100 text-center animate-in fade-in zoom-in-95",children:[a.jsx(Jd,{size:48,className:"mx-auto mb-4 text-gray-200"}),a.jsx("p",{className:"text-gray-400 font-black uppercase text-xs tracking-widest",children:t>0?"Nenhum item na lista. Selecione a semana e clique em 'Gerar Lista'.":"Inicie selecionando uma semana do cardpio."})]}),a.jsx("style",{children:`
        @media print {
          .no-print { display: none !important; }
          body { background: white !important; padding: 0 !important; }
          .bg-white { border: none !important; box-shadow: none !important; }
        }
      `})]})},w1e=()=>{const[t,e]=R.useState(1),[r,n]=R.useState(!1),s=R.useMemo(()=>{const l=localStorage.getItem("merenda_contracts");return l?JSON.parse(l):Tb},[]),i=R.useMemo(()=>{const l=lS.find(v=>v.week===t);if(!l)return null;const d=new Set;l.days.forEach(v=>{v.ingredients.forEach(b=>d.add(b.toUpperCase()))});const u=Array.from(d).map(v=>{let b=null,w=null;for(const k of s){const y=k.items.find(j=>j.description.toUpperCase().includes(v)||v.includes(j.description.toUpperCase()));if(y){b=y,w=k;break}}const g=!!b,S=b?b.contractedQuantity-b.acquiredQuantity>0:!1;return{ingredient:v,status:g?S?"COBERTO":"SALDO_INSUFICIENTE":"NO_CONTRATADO",contractNumber:(w==null?void 0:w.number)||"---",supplier:(w==null?void 0:w.supplierName)||"NO VINCULADO",unit:(b==null?void 0:b.unit)||"N/A",suggestedAction:g?S?"Liberado para Pedido":"Necessrio Aditivo de Quantidade (Limite 25%)":"Abrir Novo Processo de Dispensa ou Aditivo"}}),h=u.filter(v=>v.status==="COBERTO").length,p=u.filter(v=>v.status==="NO_CONTRATADO").length,x=u.filter(v=>v.status==="SALDO_INSUFICIENTE").length;return{week:t,label:l.label,items:u,stats:{total:u.length,coveredCount:h,missingCount:p,warningCount:x,percent:h/u.length*100}}},[t,s]),o=async()=>{n(!0);const l=document.getElementById("audit-report-printable");if(!l)return n(!1);try{const d={margin:[10,5,10,5],filename:`Auditoria_Contratual_Semana_${t}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};await window.html2pdf().set(d).from(l).save()}catch(d){console.error(d)}finally{n(!1)}};return i?a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsx("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm no-print",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-emerald-600 text-white rounded-3xl shadow-xl shadow-emerald-600/20",children:a.jsx(Hn,{size:32})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:"Cruzamento Cardpio x Contratos"}),a.jsx("p",{className:"text-gray-500 font-bold text-xs uppercase tracking-widest mt-1",children:"Auditoria de Viabilidade de Fornecimento"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-gray-100 p-1.5 rounded-2xl flex gap-1",children:[1,2,3,4,5].map(l=>a.jsxs("button",{onClick:()=>e(l),className:`px-5 py-2.5 rounded-xl text-[10px] font-black uppercase transition-all ${t===l?"bg-white text-emerald-700 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:["Semana ",l]},l))}),a.jsxs("button",{onClick:o,disabled:r,className:"px-6 py-4 bg-gray-900 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl hover:bg-black transition-all flex items-center gap-2",children:[r?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx(Sa,{size:16}),"Exportar Relatrio"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-gray-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"ndice de Cobertura"}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsxs("p",{className:`text-3xl font-black ${i.stats.percent===100?"text-emerald-600":"text-amber-600"}`,children:[i.stats.percent.toFixed(0),"%"]}),i.stats.percent===100&&a.jsx(Nt,{size:18,className:"text-emerald-500 mb-1"})]}),a.jsx("div",{className:"w-full h-1.5 bg-gray-50 rounded-full mt-3 overflow-hidden",children:a.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${i.stats.percent}%`}})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-gray-100 shadow-sm flex flex-col justify-between",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest leading-none",children:"Ingredientes Atendidos"}),a.jsx("p",{className:"text-3xl font-black text-emerald-700 mt-2",children:i.stats.coveredCount})]}),a.jsxs("div",{className:"bg-amber-50 p-6 rounded-[2rem] border border-amber-100 shadow-sm flex flex-col justify-between",children:[a.jsx("p",{className:"text-[10px] font-black text-amber-600 uppercase tracking-widest leading-none",children:"Saldos Crticos"}),a.jsx("p",{className:"text-3xl font-black text-amber-700 mt-2",children:i.stats.warningCount})]}),a.jsxs("div",{className:"bg-red-50 p-6 rounded-[2rem] border border-red-100 shadow-sm flex flex-col justify-between",children:[a.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest leading-none",children:"Itens No Contratados"}),a.jsx("p",{className:"text-3xl font-black text-red-700 mt-2",children:i.stats.missingCount})]})]}),a.jsxs("div",{id:"audit-report-printable",className:"bg-white p-10 rounded-[3rem] border border-gray-200 shadow-xl space-y-8 print-container",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 pb-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"hidden pdf-show p-2 bg-emerald-900 rounded text-white font-black text-[10px]",children:"Portal Gesto Andr Maggi"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Relatrio de Auditoria Contratual"}),a.jsxs("p",{className:"text-gray-500 font-bold text-xs uppercase tracking-widest mt-1",children:["Referncia: ",i.label,"  Cardpio Padro SEDUC-MT"]})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-emerald-50 text-emerald-700 rounded-full border border-emerald-100",children:[a.jsx(ft,{size:14}),a.jsxs("span",{className:"text-[9px] font-black uppercase tracking-widest",children:["Base Auditada ",new Date().getFullYear()]})]})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-[10px] font-black text-gray-400 uppercase tracking-widest border-b border-gray-100",children:[a.jsx("th",{className:"px-6 py-4",children:"Ingrediente do Cardpio"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Status / Vnculo"}),a.jsx("th",{className:"px-6 py-4",children:"Contrato / Fornecedor"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Ao Recomendada"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50",children:i.items.map((l,d)=>a.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-6 py-5",children:[a.jsx("p",{className:"font-black text-gray-900 text-xs uppercase tracking-tight",children:l.ingredient}),a.jsxs("p",{className:"text-[9px] text-gray-400 font-bold uppercase mt-1",children:["Unidade Ref: ",l.unit]})]}),a.jsx("td",{className:"px-6 py-5 text-center",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[8px] font-black uppercase border-2 ${l.status==="COBERTO"?"bg-emerald-50 text-emerald-700 border-emerald-100":l.status==="SALDO_INSUFICIENTE"?"bg-amber-50 text-amber-700 border-amber-100":"bg-red-50 text-red-700 border-red-100 animate-pulse"}`,children:l.status.replace("_"," ")})}),a.jsxs("td",{className:"px-6 py-5",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-900 uppercase leading-tight",children:l.contractNumber}),a.jsx("p",{className:"text-[9px] text-gray-400 font-bold uppercase mt-1 line-clamp-1",children:l.supplier})]}),a.jsx("td",{className:"px-6 py-5 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2 text-blue-600 font-black text-[9px] uppercase tracking-tighter",children:[a.jsx(Ho,{size:10,className:l.status==="NO_CONTRATADO"?"text-red-500":"text-blue-500"}),l.suggestedAction]})})]},d))})]})}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-[2rem] border border-dashed border-gray-200",children:[a.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[a.jsx(al,{size:14,className:"text-blue-500"})," Notas de Auditoria Gestora"]}),a.jsx("p",{className:"text-[10px] text-gray-600 leading-relaxed font-medium",children:"Este documento foi gerado automaticamente cruzando os ingredientes previstos no Cardpio Semanal Oficial com os itens homologados nos contratos de Prego Presencial e Chamada Pblica de Agricultura Familiar. A falta de cobertura contratual para itens do cardpio impede a execuo das refeies planejadas e deve ser saneada com urgncia pela gesto financeira."})]}),a.jsxs("div",{className:"hidden pdf-show pt-20 grid grid-cols-2 gap-20 text-center",children:[a.jsx("div",{className:"border-t-2 border-black pt-2",children:a.jsx("p",{className:"text-[10px] font-black uppercase",children:"Responsvel pela Merenda"})}),a.jsx("div",{className:"border-t-2 border-black pt-2",children:a.jsx("p",{className:"text-[10px] font-black uppercase",children:"Direo / CDCE"})})]})]}),a.jsx("style",{children:`
        .pdf-show { display: none; }
        @media print, .pdf-mode {
          .no-print { display: none !important; }
          .pdf-show { display: block !important; }
          .print-container { 
            border: none !important; 
            box-shadow: none !important; 
            width: 100% !important; 
            margin: 0 !important; 
            padding: 0 !important; 
          }
          body { background: white !important; }
        }
      `})]}):null},zP={name:"REZIERE DE SOUZA",cpf:"024.375.561-92"},A1e=()=>{const[t,e]=R.useState("occurrences"),[r,n]=R.useState(()=>{const D=localStorage.getItem("merenda_supplier_occurrences_v1");return D?JSON.parse(D):[]}),[s,i]=R.useState(!1),[o,l]=R.useState(""),[d,u]=R.useState(null),[h,p]=R.useState(null),x=R.useMemo(()=>{const D=localStorage.getItem("merenda_contracts");return D?JSON.parse(D):Tb},[]),v=R.useMemo(()=>{const D=new Map;return x.forEach(F=>{if(!D.has(F.supplierId))D.set(F.supplierId,{id:F.supplierId,name:F.supplierName,category:F.type,contractNumbers:[F.number],totalItems:F.items.length,cnpj:"---",email:"escola.gestao@edu.mt.gov.br"});else{const q=D.get(F.supplierId);q.contractNumbers.includes(F.number)||(q.contractNumbers.push(F.number),q.totalItems+=F.items.length)}}),Array.from(D.values())},[x]),b=R.useMemo(()=>{const D=localStorage.getItem("merenda_order_history");return D?JSON.parse(D):[]},[]),[w,g]=R.useState({supplierId:"",supplierName:"",type:"PRODUTO_ESTRAGADO",status:"PENDENTE",description:"",itemsAffected:[],issueDate:new Date().toISOString().split("T")[0],orderDate:new Date().toISOString().split("T")[0],deadlineDate:new Date().toISOString().split("T")[0],responsible:"Gestor Andr",orderNumber:""});R.useEffect(()=>{localStorage.setItem("merenda_supplier_occurrences_v1",JSON.stringify(r))},[r]);const S=D=>{var q;const F=(q=D.target.files)==null?void 0:q[0];if(F){const L=new FileReader;L.onloadend=()=>{const B=L.result;u(B),g(X=>({...X,photo:B}))},L.readAsDataURL(F)}},k=D=>{if(D.preventDefault(),!w.supplierId||!w.description)return alert("Preencha os campos obrigatrios.");const F=v.find(L=>L.id===w.supplierId),q={id:`occ-${Date.now()}`,...w,supplierName:(F==null?void 0:F.name)||"Desconhecido",notificationSent:!1};n([q,...r]),i(!1),y()},y=()=>{g({supplierId:"",supplierName:"",type:"PRODUTO_ESTRAGADO",status:"PENDENTE",description:"",itemsAffected:[],issueDate:new Date().toISOString().split("T")[0],orderDate:new Date().toISOString().split("T")[0],deadlineDate:new Date().toISOString().split("T")[0],responsible:"Gestor Andr",orderNumber:""}),u(null)},j=async D=>{p(D.id),setTimeout(async()=>{const F=document.getElementById(`notif-pdf-${D.id}`);if(!F)return p(null),alert("Erro ao localizar template do documento.");try{const q={margin:10,filename:`Notificacao_Extrajudicial_${D.supplierName}_${D.issueDate}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};await window.html2pdf().set(q).from(F).save(),n(L=>L.map(B=>B.id===D.id?{...B,notificationSent:!0}:B))}catch(q){console.error(q)}finally{p(null)}},300)},T=(D,F)=>{n(q=>q.map(L=>L.id===D?{...L,status:F,resolutionDate:new Date().toISOString().split("T")[0]}:L))},_=D=>{window.confirm("Deseja excluir este registro de ocorrncia?")&&n(F=>F.filter(q=>q.id!==D))},O=R.useMemo(()=>r.filter(D=>D.supplierName.toLowerCase().includes(o.toLowerCase())||D.type.includes(o.toUpperCase())),[r,o]),M=R.useMemo(()=>({pending:r.filter(D=>D.status==="PENDENTE").length,resolved:r.filter(D=>D.status==="RESOLVIDO").length,critical:r.filter(D=>D.type==="PRODUTO_ESTRAGADO"&&D.status==="PENDENTE").length,logistic:r.filter(D=>D.type==="NO_ENTREGA"&&D.status==="PENDENTE").length}),[r]);return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex flex-col justify-between",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Total Notificaes"}),a.jsxs("div",{className:"flex items-end justify-between mt-2",children:[a.jsx("p",{className:"text-3xl font-black text-gray-900",children:r.length}),a.jsx(Df,{size:24,className:"text-gray-300"})]})]}),a.jsxs("div",{className:"bg-red-50 p-6 rounded-3xl border border-red-100 shadow-sm flex flex-col justify-between",children:[a.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest",children:"Ateno Qualidade"}),a.jsxs("div",{className:"flex items-end justify-between mt-2",children:[a.jsx("p",{className:"text-3xl font-black text-red-700",children:M.critical}),a.jsx(Xt,{size:24,className:"text-red-500"})]})]}),a.jsxs("div",{className:"bg-amber-50 p-6 rounded-3xl border border-amber-100 shadow-sm flex flex-col justify-between",children:[a.jsx("p",{className:"text-[10px] font-black text-amber-600 uppercase tracking-widest",children:"Atrasos/Faltas"}),a.jsxs("div",{className:"flex items-end justify-between mt-2",children:[a.jsx("p",{className:"text-3xl font-black text-amber-700",children:M.logistic}),a.jsx(UO,{size:24,className:"text-amber-500"})]})]}),a.jsxs("div",{className:"bg-emerald-50 p-6 rounded-3xl border border-emerald-100 shadow-sm flex flex-col justify-between",children:[a.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest",children:"Resolues"}),a.jsxs("div",{className:"flex items-end justify-between mt-2",children:[a.jsx("p",{className:"text-3xl font-black text-emerald-700",children:M.resolved}),a.jsx(Nt,{size:24,className:"text-emerald-500"})]})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-emerald-50 text-emerald-600 rounded-3xl shadow-lg",children:a.jsx(ln,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight leading-none",children:"Fiscalizao de Contratos"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-2",children:"Monitoramento Legal e Qualidade Alimentar PNAE"})]})]}),a.jsx("div",{className:"flex items-center gap-3 no-print",children:a.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-2xl",children:[a.jsxs("button",{onClick:()=>e("occurrences"),className:`px-6 py-2 rounded-xl text-[10px] font-black uppercase transition-all flex items-center gap-2 ${t==="occurrences"?"bg-white text-emerald-600 shadow-sm":"text-gray-400"}`,children:[a.jsx(rl,{size:14})," Histrico de Falhas"]}),a.jsxs("button",{onClick:()=>e("suppliers"),className:`px-6 py-2 rounded-xl text-[10px] font-black uppercase transition-all flex items-center gap-2 ${t==="suppliers"?"bg-white text-emerald-600 shadow-sm":"text-gray-400"}`,children:[a.jsx(Xo,{size:14})," Fornecedores do PNAE"]})]})})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center border-t border-gray-50 pt-6",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:t==="occurrences"?"Filtrar histrico por fornecedor ou falha...":"Pesquisar fornecedor nos contratos...",value:o,onChange:D=>l(D.target.value),className:"w-full pl-12 pr-6 py-4 bg-gray-50 border-none rounded-2xl font-bold text-sm outline-none focus:ring-4 focus:ring-emerald-500/5 transition-all"})]}),t==="occurrences"&&a.jsxs("button",{onClick:()=>i(!0),className:"px-8 py-4 bg-red-600 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl hover:bg-red-700 active:scale-95 transition-all flex items-center gap-2 shrink-0",children:[a.jsx(ot,{size:16})," Nova Notificao"]})]})]}),t==="occurrences"?a.jsx("div",{className:"grid grid-cols-1 gap-4",children:O.length>0?O.map(D=>a.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-gray-100 shadow-sm hover:border-emerald-200 transition-all group flex flex-col lg:flex-row gap-8 relative overflow-hidden",children:[a.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-2 ${D.type==="PRODUTO_ESTRAGADO"?"bg-red-500":"bg-amber-500"}`}),a.jsx("div",{className:"w-24 h-24 rounded-3xl bg-gray-50 flex items-center justify-center shrink-0 overflow-hidden border border-gray-100 shadow-inner group-hover:scale-105 transition-transform",children:D.photo?a.jsx("img",{src:D.photo,alt:"Evidncia",className:"w-full h-full object-cover"}):a.jsx(TL,{size:32,className:"text-gray-200"})}),a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h4",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:D.supplierName}),a.jsx("span",{className:`px-3 py-1 rounded-xl text-[8px] font-black uppercase border-2 ${D.status==="RESOLVIDO"?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-red-50 text-red-700 border-red-100 animate-pulse"}`,children:D.status})]}),a.jsxs("div",{className:"flex items-center gap-4 text-[10px] text-gray-400 font-bold uppercase mt-2",children:[a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(Ta,{size:14,className:D.type==="PRODUTO_ESTRAGADO"?"text-red-500":"text-amber-500"})," ",D.type.replace("_"," ")]}),a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(kr,{size:14})," Fato: ",new Date(D.issueDate).toLocaleDateString("pt-BR")]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[D.status!=="RESOLVIDO"&&a.jsx("button",{onClick:()=>T(D.id,"RESOLVIDO"),className:"p-3 bg-emerald-50 text-emerald-600 hover:bg-emerald-600 hover:text-white rounded-xl transition-all shadow-sm",title:"Marcar como Resolvido",children:a.jsx(Nt,{size:20})}),a.jsx("button",{onClick:()=>_(D.id),className:"p-3 bg-gray-50 text-gray-300 hover:text-red-500 rounded-xl transition-all",children:a.jsx(Lt,{size:20})})]})]}),a.jsxs("p",{className:"text-sm text-gray-600 leading-relaxed font-medium italic border-l-4 border-gray-100 pl-4 py-1",children:['"',D.description,'"']}),a.jsx("div",{className:"flex flex-wrap gap-2",children:D.itemsAffected.map((F,q)=>a.jsx("span",{className:"px-3 py-1 bg-gray-50 text-[9px] font-black text-gray-500 rounded-lg border border-gray-100 uppercase tracking-widest",children:F},q))})]}),a.jsxs("div",{className:"lg:w-64 flex flex-col justify-center gap-3 border-t lg:border-t-0 lg:border-l border-gray-100 pt-6 lg:pt-0 lg:pl-8 no-print",children:[a.jsxs("button",{onClick:()=>j(D),disabled:h===D.id,className:`w-full py-4 rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-lg transition-all flex items-center justify-center gap-2 ${D.notificationSent?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-red-600 text-white hover:bg-red-700"}`,children:[h===D.id?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx(Hn,{size:16}),D.notificationSent?"Reemitir Notificao":"Gerar Notificao Legal"]}),a.jsxs("button",{className:"w-full py-3 bg-gray-100 text-gray-600 rounded-2xl text-[10px] font-black uppercase hover:bg-gray-200 transition-all flex items-center justify-center gap-2",children:[a.jsx(Yj,{size:16})," Enviar Formalmente"]})]}),a.jsx("div",{className:"hidden",children:a.jsxs("div",{id:`notif-pdf-${D.id}`,className:"p-16 space-y-10 text-gray-900 font-sans border-[1px] border-gray-200 bg-white min-h-[297mm]",children:[a.jsx("div",{className:"text-center border-b-2 border-black pb-8 space-y-2",children:a.jsx("h1",{className:"text-lg font-black uppercase",children:"NOTIFICAO POR IRREGULARIDADES NO FORNECIMENTO"})}),a.jsxs("div",{className:"text-sm space-y-4",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Assunto:"})," Notificao Extrajudicial N ",new Date().getFullYear(),"/",D.id.split("-")[1]," C/C Solicitao de Regularizao Urgente e Abertura de Processo Administrativo Sancionador"]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Prezada Empresa:"})," ",D.supplierName]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Recurso:"})," Alimentao Escolar (PNAE)"]})]}),a.jsxs("p",{className:"text-justify leading-relaxed",children:["Pelo presente instrumento, a Unidade Escolar, representada neste ato por seu gestor, vem apresentar ",a.jsx("strong",{children:"NOTIFICAO EXTRAJUDICIAL"})," em face de Vossa Senhoria, acerca do ",a.jsx("strong",{children:"NO CUMPRIMENTO DAS OBRIGAES CONTRATUAIS"}),", conforme detalhado a seguir:"]}),a.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-gray-200",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"1. Infrao Especfica:"})," Ocorrncia de ",D.type.replace("_"," ")," dos gneros alimentcios, referente ao pedido n ",D.orderNumber||"---"," formulado em ",new Date(D.orderDate||"").toLocaleDateString("pt-BR"),", com data limite para entrega em ",new Date(D.deadlineDate||"").toLocaleDateString("pt-BR"),"."]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{children:a.jsx("strong",{children:"2. Clusulas Violadas:"})}),a.jsx("p",{className:"text-xs italic text-gray-700",children:'"Tal falha configura o descumprimento da Clusula Quinta do Contrato, em especial no que concerne  obrigao de entregar os produtos em no mximo 05 (cinco) dias, devidamente embalados, identificados e acompanhados da Nota Fiscal."'}),a.jsxs("p",{className:"text-xs text-gray-700",children:["A conduta viola o ",a.jsx("strong",{children:"Art. 7,  1 da Instruo Normativa n 009/2024/GS/SEDUC/MT"})," e as obrigaes de fornecimento previstas na ",a.jsx("strong",{children:"Instruo Normativa n 011/2024/GS/SEDUC/MT"}),"."]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"3. Sanes Aplicveis (Lei 14.133/2021):"})," O descumprimento contratual sujeita a Contratada s penalidades de:"]}),a.jsxs("ul",{className:"list-disc pl-10 text-xs space-y-1",children:[a.jsx("li",{children:"Advertncia;"}),a.jsx("li",{children:"Multa (conforme item 13.6 do contrato);"}),a.jsx("li",{children:"Suspenso Temporria de participar em licitaes;"}),a.jsx("li",{children:"Declarao de Inidoneidade;"}),a.jsx("li",{children:"Resciso Contratual (conforme Clusula 13.8)."})]})]}),a.jsxs("div",{className:"p-6 bg-gray-50 border-2 border-black rounded-xl space-y-4",children:[a.jsx("h4",{className:"font-black uppercase text-xs text-center",children:"Solicitao de Regularizao Imediata"}),a.jsxs("p",{className:"text-xs text-justify",children:["Viemos solicitar a imediata regularizao da entrega e o estrito cumprimento das obrigaes, devendo ocorrer no prazo de: ",a.jsx("strong",{children:"02 (dois) dias teis para produtos perecveis"})," e ",a.jsx("strong",{children:"05 (cinco) dias teis para produtos no perecveis"}),". Fica Vossa Senhoria ",a.jsx("strong",{children:"NOTIFICADA"})," para apresentar defesa prvia no prazo de 05 (cinco) dias teis."]})]})]}),a.jsx("div",{className:"pt-24 grid grid-cols-1 gap-20 text-center",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsxs("p",{className:"text-sm font-bold",children:["Colder/MT, ",new Date().toLocaleDateString("pt-BR")]}),a.jsxs("div",{className:"pt-10 border-t border-black max-w-sm mx-auto",children:[a.jsx("p",{className:"text-xs font-black uppercase",children:zP.name}),a.jsx("p",{className:"text-[9px] uppercase text-gray-500 font-bold",children:"DIRETOR / PRESIDENTE DO CDCE"}),a.jsxs("p",{className:"text-[8px] text-gray-400",children:["CPF: ",zP.cpf]})]})]})}),a.jsxs("div",{className:"pt-10 flex items-center justify-center gap-2 opacity-40",children:[a.jsx(ft,{size:16}),a.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.3em]",children:"Documento Gerado pelo Portal Gesto Andr Maggi - Auditoria SEDUC-MT"})]})]})})]},D.id)):a.jsxs("div",{className:"py-32 text-center bg-white rounded-[3rem] border-2 border-dashed border-gray-100",children:[a.jsx(UO,{size:64,className:"mx-auto mb-4 text-emerald-100"}),a.jsx("p",{className:"text-gray-400 font-black uppercase text-xs tracking-widest",children:"Nenhuma irregularidade registrada no perodo"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 animate-in slide-in-from-bottom-4 duration-500",children:v.filter(D=>D.name.toLowerCase().includes(o.toLowerCase())).map(D=>{const F=r.filter(L=>L.supplierId===D.id),q=F.filter(L=>L.status==="PENDENTE");return a.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-gray-100 shadow-sm hover:border-emerald-200 hover:shadow-xl transition-all flex flex-col justify-between group h-full",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("div",{className:`p-4 rounded-[1.5rem] ${D.category.includes("Agricultura")?"bg-emerald-50 text-emerald-600":"bg-blue-50 text-blue-600"}`,children:a.jsx(Xo,{size:24})}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-widest",children:"Contratos Ativos"}),a.jsx("p",{className:"text-xl font-black text-gray-900",children:D.contractNumbers.length})]})]}),a.jsx("h4",{className:"text-lg font-black text-gray-900 uppercase leading-tight",children:D.name}),a.jsx("div",{className:"mt-4 space-y-2",children:D.contractNumbers.map(L=>a.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-indigo-600 bg-indigo-50 px-2 py-1 rounded-lg border border-indigo-100 w-fit",children:[a.jsx(wL,{size:12})," CT ",L]},L))}),a.jsxs("div",{className:"mt-6 flex items-center gap-6 border-t border-gray-50 pt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Itens em Atendimento"}),a.jsxs("p",{className:"text-sm font-black text-gray-700",children:[D.totalItems," Produtos"]})]}),a.jsxs("div",{className:"text-right flex-1",children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Histrico Falhas"}),a.jsxs("p",{className:`text-sm font-black ${F.length>0?"text-red-600":"text-emerald-600"}`,children:[F.length," Registros"]})]})]}),q.length>0&&a.jsxs("div",{className:"mt-6 p-4 bg-red-50 rounded-2xl border border-red-100 flex items-center gap-3",children:[a.jsx(Ta,{size:20,className:"text-red-500 animate-pulse"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-black text-red-600 uppercase leading-none",children:"Ateno Crtica"}),a.jsxs("p",{className:"text-[10px] font-bold text-red-700 uppercase mt-1",children:[q.length," Notificaes Pendentes"]})]})]})]}),a.jsxs("div",{className:"flex gap-2 pt-6",children:[a.jsxs("button",{onClick:()=>{g(L=>({...L,supplierId:D.id,supplierName:D.name})),i(!0)},className:"flex-1 py-3 bg-gray-900 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-red-600 transition-all shadow-lg flex items-center justify-center gap-2",children:[a.jsx(ot,{size:14})," Notificar Falha"]}),a.jsx("button",{className:"p-3 bg-gray-50 text-gray-400 hover:text-emerald-600 rounded-xl transition-all",children:a.jsx(History,{size:18})})]})]},D.id)})}),s&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-emerald-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-2xl shadow-2xl border border-white/20 overflow-hidden flex flex-col max-h-[95vh]",children:[a.jsxs("div",{className:"p-8 bg-red-50 flex justify-between items-center border-b border-red-100 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-red-600 text-white rounded-3xl shadow-xl shadow-red-600/20",children:a.jsx(SG,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Processo Administrativo"}),a.jsx("p",{className:"text-[10px] text-red-600 font-bold uppercase tracking-widest mt-1",children:"Notificao de Inexecuo ou Falha Qualitativa"})]})]}),a.jsx("button",{onClick:()=>i(!1),className:"p-3 bg-white text-gray-400 hover:text-red-500 rounded-2xl shadow-sm transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:a.jsxs("form",{onSubmit:k,className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Fornecedor / Contratado"}),a.jsxs("select",{required:!0,value:w.supplierId,onChange:D=>{const F=v.find(q=>q.id===D.target.value);g({...w,supplierId:D.target.value,supplierName:(F==null?void 0:F.name)||""})},className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all",children:[a.jsx("option",{value:"",children:"Selecione o fornecedor..."}),v.map(D=>a.jsx("option",{value:D.id,children:D.name},D.id))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Tipo de Irregularidade"}),a.jsxs("select",{value:w.type,onChange:D=>g({...w,type:D.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all",children:[a.jsx("option",{value:"PRODUTO_ESTRAGADO",children:"Produto Estragado/Imprprio (Qualidade)"}),a.jsx("option",{value:"NO_ENTREGA",children:"No Entrega de Produtos (Logstica)"}),a.jsx("option",{value:"FORA_DO_PADRO",children:"Fora do Padro/Especificao do CT"}),a.jsx("option",{value:"ENTREGA_PARCIAL",children:"Entrega Parcial/Quantitativo Insuficiente"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Vincular Ordem de Pedido"}),a.jsxs("select",{value:w.orderNumber,onChange:D=>g({...w,orderNumber:D.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all",children:[a.jsx("option",{value:"",children:"Opcional: Selecione o pedido..."}),b.map(D=>a.jsxs("option",{value:D.orderNumber,children:["Pedido #",D.orderNumber," (",D.supplierName,")"]},D.id))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Data da Ocorrncia (Fato)"}),a.jsx("input",{type:"date",value:w.issueDate,onChange:D=>g({...w,issueDate:D.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Data do Pedido (OF)"}),a.jsx("input",{type:"date",value:w.orderDate,onChange:D=>g({...w,orderDate:D.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest ml-1",children:"Data Limite p/ Entrega"}),a.jsx("input",{type:"date",value:w.deadlineDate,onChange:D=>g({...w,deadlineDate:D.target.value}),className:"w-full p-4 bg-red-50 border border-red-100 rounded-2xl font-bold text-sm outline-none"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Descrio Circunstanciada do Fato"}),a.jsx("textarea",{required:!0,value:w.description,onChange:D=>g({...w,description:D.target.value}),placeholder:"Ex: No momento da entrega, verificou-se que o lote de FRANGO apresentava odor forte e colorao amarelada...",className:"w-full p-6 bg-gray-50 border border-gray-100 rounded-[2.5rem] font-medium text-sm h-32 resize-none outline-none focus:bg-white transition-all"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Evidncia Fotogrfica do Lote"}),a.jsxs("div",{onClick:()=>{var D;return(D=document.getElementById("occ-photo"))==null?void 0:D.click()},className:"w-full h-32 bg-gray-50 rounded-3xl border-2 border-dashed border-gray-200 flex flex-col items-center justify-center cursor-pointer hover:bg-white hover:border-red-300 transition-all relative overflow-hidden",children:[d?a.jsx("img",{src:d,className:"w-full h-full object-cover",alt:"Preview"}):a.jsxs(a.Fragment,{children:[a.jsx(nc,{size:32,className:"text-gray-300"}),a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-2",children:"Clique para Anexar Foto"})]}),a.jsx("input",{id:"occ-photo",type:"file",accept:"image/*",className:"hidden",onChange:S})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Itens afetados (Separe por vrgula)"}),a.jsx("input",{type:"text",placeholder:"Ex: FRANGO, COUVE, BANANA",onChange:D=>g({...w,itemsAffected:D.target.value.split(",").map(F=>F.trim().toUpperCase())}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all"})]}),a.jsxs("button",{type:"submit",className:"w-full py-5 bg-red-600 text-white rounded-[2rem] font-black uppercase text-sm tracking-[0.2em] shadow-2xl hover:bg-red-700 transition-all flex items-center justify-center gap-3",children:[a.jsx(ln,{size:24})," Efetivar Registro e Notificar"]})]})})]})})]})},E1e=({onExit:t,user:e})=>{const[r,n]=R.useState("dashboard"),[s,i]=R.useState(!1);R.useEffect(()=>{const u=()=>{i(localStorage.getItem("system_shield_lock")==="true")};return u(),window.addEventListener("storage",u),()=>window.removeEventListener("storage",u)},[r]);const o=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(u=>{console.error(`Erro ao tentar ativar modo tela cheia: ${u.message}`)})},l=[{id:"dashboard",label:"Painel Geral",icon:Ki},{id:"menuAudit",label:"Auditoria Cardpio",icon:Hn},{id:"supplierNotifications",label:"Qualidade & Alertas",icon:Ph},{id:"shoppingList",label:"Lista de Compras",icon:aH},{id:"menuChecklist",label:"Registro Dirio",icon:rl},{id:"kitchenRequests",label:"Materiais Cozinha",icon:Jo},{id:"contracts",label:"Contratos",icon:zt},{id:"orders",label:"Pedidos & Compras",icon:Xj},{id:"suppliers",label:"Fornecedores",icon:mr},{id:"inventory",label:"Controle de Estoque",icon:Us},{id:"ai",label:"Consultoria IA",icon:Fi},{id:"settings",label:"Segurana & Dados",icon:yL}],d=()=>{switch(r){case"dashboard":return a.jsx(B3,{});case"contracts":return a.jsx(u1e,{});case"suppliers":return a.jsx(f1e,{});case"inventory":return a.jsx(h1e,{});case"ai":return a.jsx(p1e,{});case"orders":return a.jsx(m1e,{});case"menuChecklist":return a.jsx(x1e,{});case"kitchenRequests":return a.jsx(v1e,{});case"shoppingList":return a.jsx(N1e,{});case"menuAudit":return a.jsx(w1e,{});case"supplierNotifications":return a.jsx(A1e,{});case"settings":return a.jsx(k7,{});default:return a.jsx(B3,{})}};return a.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden font-sans",children:[a.jsxs("aside",{className:"w-64 bg-emerald-900 text-white flex flex-col transition-all duration-300 no-print",children:[a.jsx("div",{className:"p-6",children:a.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx("span",{className:"bg-emerald-500 p-1.5 rounded-lg shadow-lg shadow-emerald-500/20",children:""}),"Portal Merenda"]})}),a.jsx("nav",{className:"flex-1 mt-6 px-4 space-y-1.5 overflow-y-auto custom-scrollbar",children:l.map(u=>a.jsxs("button",{onClick:()=>n(u.id),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${r===u.id?"bg-emerald-800 text-white shadow-lg":"text-emerald-100 hover:bg-emerald-800/50"}`,children:[a.jsx(u.icon,{size:18}),u.label]},u.id))}),a.jsxs("div",{className:"p-6 border-t border-emerald-800 space-y-3",children:[a.jsxs("button",{onClick:t,className:"w-full flex items-center gap-2 px-4 py-3 bg-white/10 hover:bg-white/20 rounded-xl text-xs font-black uppercase tracking-widest transition-all",children:[a.jsx(cr,{size:16})," Voltar ao Hub"]}),a.jsxs("div",{className:"bg-emerald-800/50 p-4 rounded-2xl border border-emerald-700/50",children:[a.jsxs("p",{className:"text-[10px] text-emerald-300 font-black uppercase tracking-widest mb-1.5 flex items-center gap-1.5",children:[a.jsx(ft,{size:10})," Status Mdulo"]}),a.jsx("div",{className:"text-xs font-black uppercase tracking-tight text-emerald-400",children:"Ativo & Auditado"})]})]})]}),a.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"h-20 bg-white border-b border-gray-100 flex items-center justify-between px-10 shrink-0 no-print",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:a.jsx(Ki,{size:20})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h2",{className:"text-sm font-black text-gray-900 uppercase tracking-tight leading-none",children:"Mdulo: Alimentao Escolar"}),s&&a.jsxs("span",{className:"text-[8px] font-black text-emerald-600 uppercase tracking-[0.2em] mt-1.5 flex items-center gap-1",children:[a.jsx(yn,{size:8,strokeWidth:3})," Blindagem de Dados Ativa"]})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("button",{onClick:o,className:"p-2.5 text-gray-400 hover:bg-gray-50 rounded-xl transition-colors group flex items-center gap-2",title:"Alternar Tela Cheia",children:[a.jsx(nl,{size:18,className:"group-hover:text-emerald-600"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest hidden xl:block",children:"Expandir"})]}),a.jsxs("div",{className:"hidden lg:flex items-center gap-2 bg-emerald-50 px-3 py-1.5 rounded-full border border-emerald-100",children:[a.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-ping"}),a.jsx("span",{className:"text-[10px] font-black text-emerald-700 uppercase tracking-widest",children:"Base de Dados Merenda"})]}),a.jsxs("button",{className:"relative p-2.5 text-gray-400 hover:bg-gray-50 rounded-xl transition-colors",children:[a.jsx(Lg,{size:20}),a.jsx("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-black text-gray-900",children:e.name}),a.jsx("p",{className:"text-[9px] text-emerald-600 font-black uppercase tracking-widest",children:e.role})]}),a.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500 flex items-center justify-center text-white font-black text-sm",children:e.name.substring(0,2)})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:d()})]}),a.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.05); border-radius: 10px; }
        .custom-scrollbar:hover::-webkit-scrollbar-thumb { background: rgba(16, 185, 129, 0.2); }
      `})]})},_7=R.createContext(void 0),jn=()=>{const t=R.useContext(_7);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},qP=({children:t})=>{const[e,r]=R.useState([]),n=R.useCallback(i=>{r(o=>o.filter(l=>l.id!==i))},[]),s=R.useCallback((i,o="info",l=3e3)=>{const d=Math.random().toString(36).substr(2,9);r(u=>[...u,{id:d,message:i,type:o,duration:l}]),l>0&&setTimeout(()=>{n(d)},l)},[n]);return a.jsxs(_7.Provider,{value:{addToast:s,removeToast:n},children:[t,a.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:e.map(i=>a.jsxs("div",{className:`
              pointer-events-auto flex items-center gap-3 p-4 rounded-xl shadow-lg border backdrop-blur-md transform transition-all duration-300 animate-in slide-in-from-right-full
              ${i.type==="success"?"bg-emerald-900/80 border-emerald-500/30 text-emerald-100":""}
              ${i.type==="error"?"bg-red-900/80 border-red-500/30 text-red-100":""}
              ${i.type==="warning"?"bg-amber-900/80 border-amber-500/30 text-amber-100":""}
              ${i.type==="info"?"bg-blue-900/80 border-blue-500/30 text-blue-100":""}
            `,children:[i.type==="success"&&a.jsx(C$,{size:20,className:"text-emerald-400"}),i.type==="error"&&a.jsx(Ta,{size:20,className:"text-red-400"}),i.type==="warning"&&a.jsx(Xt,{size:20,className:"text-amber-400"}),i.type==="info"&&a.jsx(al,{size:20,className:"text-blue-400"}),a.jsx("p",{className:"text-sm font-medium pr-8",children:i.message}),a.jsx("button",{onClick:()=>n(i.id),className:"absolute top-2 right-2 p-1 hover:bg-white/10 rounded-full transition-colors",children:a.jsx(Ze,{size:14,className:"opacity-60 hover:opacity-100"})})]},i.id))})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var C7=1252,j1e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],cS={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},dS=function(t){j1e.indexOf(t)!=-1&&(C7=cS[0]=t)};function T1e(){dS(1252)}var Ps=function(t){dS(t)};function O7(){Ps(1200),T1e()}function VP(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function S1e(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function D7(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var nf=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?S1e(t.slice(2)):e==254&&r==255?D7(t.slice(2)):e==65279?t.slice(1):t},Hm=function(e){return String.fromCharCode(e)},$P=function(e){return String.fromCharCode(e)},Th,$o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function GP(t){for(var e="",r=0,n=0,s=0,i=0,o=0,l=0,d=0,u=0;u<t.length;)r=t.charCodeAt(u++),i=r>>2,n=t.charCodeAt(u++),o=(r&3)<<4|n>>4,s=t.charCodeAt(u++),l=(n&15)<<2|s>>6,d=s&63,isNaN(n)?l=d=64:isNaN(s)&&(d=64),e+=$o.charAt(i)+$o.charAt(o)+$o.charAt(l)+$o.charAt(d);return e}function Kn(t){var e="",r=0,n=0,s=0,i=0,o=0,l=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)i=$o.indexOf(t.charAt(u++)),o=$o.indexOf(t.charAt(u++)),r=i<<2|o>>4,e+=String.fromCharCode(r),l=$o.indexOf(t.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(n)),d=$o.indexOf(t.charAt(u++)),s=(l&3)<<6|d,d!==64&&(e+=String.fromCharCode(s));return e}var Wt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Sc=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function el(t){return Wt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function HP(t){return Wt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Ms=function(e){return Wt?Sc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function kc(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function uS(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return uS(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var qo=Wt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Sc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),s=0;for(e=0,r=0;e<t.length;r+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function k1e(t){for(var e=[],r=0,n=t.length+250,s=el(t.length+255),i=0;i<t.length;++i){var o=t.charCodeAt(i);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=t.charCodeAt(++i)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|l>>6&15|(o&3)<<4,s[r++]=128|l&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>n&&(e.push(s.slice(0,r)),r=0,s=el(65535),n=65530)}return e.push(s.slice(0,r)),qo(e)}var sn=/\u0000/g,sf=/[\u0001-\u0006]/g;function Yd(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Ls(t,e){var r=""+t;return r.length>=e?r:Hr("0",e-r.length)+r}function fS(t,e){var r=""+t;return r.length>=e?r:Hr(" ",e-r.length)+r}function Eg(t,e){var r=""+t;return r.length>=e?r:r+Hr(" ",e-r.length)}function _1e(t,e){var r=""+Math.round(t);return r.length>=e?r:Hr("0",e-r.length)+r}function C1e(t,e){var r=""+t;return r.length>=e?r:Hr("0",e-r.length)+r}var KP=Math.pow(2,32);function Td(t,e){if(t>KP||t<-KP)return _1e(t,e);var r=Math.round(t);return C1e(r,e)}function jg(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var YP=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],bA=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function O1e(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Mt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},WP={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},D1e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Tg(t,e,r){for(var n=t<0?-1:1,s=t*n,i=0,o=1,l=0,d=1,u=0,h=0,p=Math.floor(s);u<e&&(p=Math.floor(s),l=p*o+i,h=p*u+d,!(s-p<5e-8));)s=1/(s-p),i=o,o=l,d=u,u=h;if(h>e&&(u>e?(h=d,l=i):(h=u,l=o)),!r)return[0,n*l,h];var x=Math.floor(n*l/h);return[x,n*l-x*h,h]}function Xl(t,e,r){if(t>2958465||t<0)return null;var n=t|0,s=Math.floor(86400*(t-n)),i=0,o=[],l={D:n,T:s,u:86400*(t-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++s==86400&&(l.T=s=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),o=[d.getFullYear(),d.getMonth()+1,d.getDate()],i=d.getDay(),n<60&&(i=(i+6)%7),r&&(i=U1e(d,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=s%60,s=Math.floor(s/60),l.M=s%60,s=Math.floor(s/60),l.H=s,l.q=i,l}var I7=new Date(1899,11,31,0,0,0),I1e=I7.getTime(),R1e=new Date(1900,2,1,0,0,0);function R7(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=R1e&&(r+=1440*60*1e3),(r-(I1e+(t.getTimezoneOffset()-I7.getTimezoneOffset())*6e4))/(1440*60*1e3)}function hS(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function M1e(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function P1e(t){var e=t<0?12:11,r=hS(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function L1e(t){var e=hS(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Sh(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=P1e(t):e===10?r=t.toFixed(10).substr(0,12):r=L1e(t),hS(M1e(r.toUpperCase()))}function bc(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Sh(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return bs(14,R7(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function U1e(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function F1e(t,e,r,n){var s="",i=0,o=0,l=r.y,d,u=0;switch(t){case 98:l=r.y+543;case 121:switch(e.length){case 1:case 2:d=l%100,u=2;break;default:d=l%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:d=r.m,u=e.length;break;case 3:return bA[r.m-1][1];case 5:return bA[r.m-1][0];default:return bA[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=r.d,u=e.length;break;case 3:return YP[r.q][0];default:return YP[r.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Ls(r.S,e.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),e==="s"?i===0?"0":""+i/o:(s=Ls(i,2+n),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:d=l,u=1;break}var h=u>0?Ls(d,u):"";return h}function Go(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var M7=/%/g;function B1e(t,e,r){var n=e.replace(M7,""),s=e.length-n.length;return Gi(t,n,r*Math.pow(10,2*s))+Hr("%",s)}function z1e(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Gi(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function P7(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+P7(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(e/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,d,u,h){return d+u+h.substr(0,(s+i)%s)+"."+h.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var L7=/# (\?+)( ?)\/( ?)(\d+)/;function q1e(t,e,r){var n=parseInt(t[4],10),s=Math.round(e*n),i=Math.floor(s/n),o=s-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?Hr(" ",t[1].length+1+t[4].length):fS(o,t[1].length)+t[2]+"/"+t[3]+Ls(l,t[4].length))}function V1e(t,e,r){return r+(e===0?"":""+e)+Hr(" ",t[1].length+2+t[4].length)}var U7=/^#*0*\.([0#]+)/,F7=/\).*[0#]/,B7=/\(###\) ###\\?-####/;function Ja(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function XP(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function JP(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function $1e(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function G1e(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function fs(t,e,r){if(t.charCodeAt(0)===40&&!e.match(F7)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?fs("n",n,r):"("+fs("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return z1e(t,e,r);if(e.indexOf("%")!==-1)return B1e(t,e,r);if(e.indexOf("E")!==-1)return P7(e,r);if(e.charCodeAt(0)===36)return"$"+fs(t,e.substr(e.charAt(1)==" "?2:1),r);var s,i,o,l,d=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Td(d,e.length);if(e.match(/^[#?]+$/))return s=Td(r,0),s==="0"&&(s=""),s.length>e.length?s:Ja(e.substr(0,e.length-s.length))+s;if(i=e.match(L7))return q1e(i,d,u);if(e.match(/^#+0+$/))return u+Td(d,e.length-e.indexOf("0"));if(i=e.match(U7))return s=XP(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Ja(i[1])).replace(/\.$/,"."+Ja(i[1])).replace(/\.(\d*)$/,function(b,w){return"."+w+Hr("0",Ja(i[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return u+XP(d,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return u+Go(Td(d,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+fs(t,e,-r):Go(""+(Math.floor(r)+$1e(r,i[1].length)))+"."+Ls(JP(r,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return fs(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Yd(fs(t,e.replace(/[\\-]/g,""),r)),o=0,Yd(Yd(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return o<s.length?s.charAt(o++):b==="0"?"0":""}));if(e.match(B7))return s=fs(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Tg(d,Math.pow(10,o)-1,!1),s=""+u,h=Gi("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+i[2]+"/"+i[3],h=Eg(l[2],o),h.length<i[4].length&&(h=Ja(i[4].substr(i[4].length-h.length))+h),s+=h,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Tg(d,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?fS(l[1],o)+i[2]+"/"+i[3]+Eg(l[2],o):Hr(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=Td(r,0),e.length<=s.length?s:Ja(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var p=e.indexOf(".")-o,x=e.length-s.length-p;return Ja(e.substr(0,p)+s+e.substr(e.length-x))}if(i=e.match(/^00,000\.([#0]*0)$/))return o=JP(r,i[1].length),r<0?"-"+fs(t,e,-r):Go(G1e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Ls(0,3-b.length):"")+b})+"."+Ls(o,i[1].length);switch(e){case"###,##0.00":return fs(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var v=Go(Td(d,0));return v!=="0"?u+v:"";case"###,###.00":return fs(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return fs(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function H1e(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Gi(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function K1e(t,e,r){var n=e.replace(M7,""),s=e.length-n.length;return Gi(t,n,r*Math.pow(10,2*s))+Hr("%",s)}function z7(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+z7(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(e/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,d,u,h){return d+u+h.substr(0,(s+i)%s)+"."+h.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Qs(t,e,r){if(t.charCodeAt(0)===40&&!e.match(F7)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Qs("n",n,r):"("+Qs("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return H1e(t,e,r);if(e.indexOf("%")!==-1)return K1e(t,e,r);if(e.indexOf("E")!==-1)return z7(e,r);if(e.charCodeAt(0)===36)return"$"+Qs(t,e.substr(e.charAt(1)==" "?2:1),r);var s,i,o,l,d=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Ls(d,e.length);if(e.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>e.length?s:Ja(e.substr(0,e.length-s.length))+s;if(i=e.match(L7))return V1e(i,d,u);if(e.match(/^#+0+$/))return u+Ls(d,e.length-e.indexOf("0"));if(i=e.match(U7))return s=(""+r).replace(/^([^\.]+)$/,"$1."+Ja(i[1])).replace(/\.$/,"."+Ja(i[1])),s=s.replace(/\.(\d*)$/,function(b,w){return"."+w+Hr("0",Ja(i[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return u+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return u+Go(""+d);if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Qs(t,e,-r):Go(""+r)+"."+Hr("0",i[1].length);if(i=e.match(/^#,#*,#0/))return Qs(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Yd(Qs(t,e.replace(/[\\-]/g,""),r)),o=0,Yd(Yd(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return o<s.length?s.charAt(o++):b==="0"?"0":""}));if(e.match(B7))return s=Qs(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Tg(d,Math.pow(10,o)-1,!1),s=""+u,h=Gi("n",i[1],l[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+i[2]+"/"+i[3],h=Eg(l[2],o),h.length<i[4].length&&(h=Ja(i[4].substr(i[4].length-h.length))+h),s+=h,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Tg(d,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?fS(l[1],o)+i[2]+"/"+i[3]+Eg(l[2],o):Hr(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=""+r,e.length<=s.length?s:Ja(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var p=e.indexOf(".")-o,x=e.length-s.length-p;return Ja(e.substr(0,p)+s+e.substr(e.length-x))}if(i=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Qs(t,e,-r):Go(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Ls(0,3-b.length):"")+b})+"."+Ls(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var v=Go(""+d);return v!=="0"?u+v:"";default:if(e.match(/\.[0#?]*$/))return Qs(t,e.slice(0,e.lastIndexOf(".")),r)+Ja(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Gi(t,e,r){return(r|0)===r?Qs(t,e,r):fs(t,e,r)}function Y1e(t){for(var e=[],r=!1,n=0,s=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(s,n-s),s=n+1}if(e[e.length]=t.substr(s),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var q7=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Vu(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":jg(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(q7))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function W1e(t,e,r,n){for(var s=[],i="",o=0,l="",d="t",u,h,p,x="H";o<t.length;)switch(l=t.charAt(o)){case"G":if(!jg(t,o))throw new Error("unrecognized character "+l+" in "+t);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(p=t.charCodeAt(++o))!==34&&o<t.length;)i+=String.fromCharCode(p);s[s.length]={t:"t",v:i},++o;break;case"\\":var v=t.charAt(++o),b=v==="("||v===")"?v:"t";s[s.length]={t:b,v},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(u==null&&(u=Xl(e,r,t.charAt(o+1)==="2"),u==null))return"";s[s.length]={t:"X",v:t.substr(o,2)},d=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=Xl(e,r),u==null))return"";for(i=l;++o<t.length&&t.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&d.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=x),s[s.length]={t:l,v:i},d=l;break;case"A":case"a":case"":var w={t:l,v:l};if(u==null&&(u=Xl(e,r)),t.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(w.v=u.H>=12?"P":"A"),w.t="T",x="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(w.v=u.H>=12?"PM":"AM"),w.t="T",o+=5,x="h"):t.substr(o,5).toUpperCase()==="/"?(u!=null&&(w.v=u.H>=12?"":""),w.t="T",o+=5,x="h"):(w.t="t",++o),u==null&&w.t==="T")return"";s[s.length]=w,d=l;break;case"[":for(i=l;t.charAt(o++)!=="]"&&o<t.length;)i+=t.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(q7)){if(u==null&&(u=Xl(e,r),u==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},d=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Vu(t)||(s[s.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<t.length&&(l=t.charAt(o))==="0";)i+=l;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(o))>-1;)i+=l;s[s.length]={t:"n",v:i};break;case"?":for(i=l;t.charAt(++o)===l;)i+=l;s[s.length]={t:l,v:i},d=l;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)i+=t.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:l,v:l},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+t);s[s.length]={t:"t",v:l},++o;break}var g=0,S=0,k;for(o=s.length-1,d="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=x,d="h",g<1&&(g=1);break;case"s":(k=s[o].v.match(/\.0+$/))&&(S=Math.max(S,k[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":d=s[o].t;break;case"m":d==="s"&&(s[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&s[o].v.match(/[Hh]/)&&(g=1),g<2&&s[o].v.match(/[Mm]/)&&(g=2),g<3&&s[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var y="",j;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=F1e(s[o].t.charCodeAt(0),s[o].v,u,S),s[o].t="t";break;case"n":case"?":for(j=o+1;s[j]!=null&&((l=s[j].t)==="?"||l==="D"||(l===" "||l==="t")&&s[j+1]!=null&&(s[j+1].t==="?"||s[j+1].t==="t"&&s[j+1].v==="/")||s[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(s[j].v==="/"||s[j].v===" "&&s[j+1]!=null&&s[j+1].t=="?"));)s[o].v+=s[j].v,s[j]={v:"",t:";"},++j;y+=s[o].v,o=j-1;break;case"G":s[o].t="t",s[o].v=bc(e,r);break}var T="",_,O;if(y.length>0){y.charCodeAt(0)==40?(_=e<0&&y.charCodeAt(0)===45?-e:e,O=Gi("n",y,_)):(_=e<0&&n>1?-e:e,O=Gi("n",y,_),_<0&&s[0]&&s[0].t=="t"&&(O=O.substr(1),s[0].v="-"+s[0].v)),j=O.length-1;var M=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){M=o;break}var D=s.length;if(M===s.length&&O.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(j>=s[o].v.length-1?(j-=s[o].v.length,s[o].v=O.substr(j+1,s[o].v.length)):j<0?s[o].v="":(s[o].v=O.substr(0,j+1),j=-1),s[o].t="t",D=o);j>=0&&D<s.length&&(s[D].v=O.substr(0,j+1)+s[D].v)}else if(M!==s.length&&O.indexOf("E")===-1){for(j=O.indexOf(".")-1,o=M;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(h=s[o].v.indexOf(".")>-1&&o===M?s[o].v.indexOf(".")-1:s[o].v.length-1,T=s[o].v.substr(h+1);h>=0;--h)j>=0&&(s[o].v.charAt(h)==="0"||s[o].v.charAt(h)==="#")&&(T=O.charAt(j--)+T);s[o].v=T,s[o].t="t",D=o}for(j>=0&&D<s.length&&(s[D].v=O.substr(0,j+1)+s[D].v),j=O.indexOf(".")+1,o=M;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==M)){for(h=s[o].v.indexOf(".")>-1&&o===M?s[o].v.indexOf(".")+1:0,T=s[o].v.substr(0,h);h<s[o].v.length;++h)j<O.length&&(T+=O.charAt(j++));s[o].v=T,s[o].t="t",D=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(_=n>1&&e<0&&o>0&&s[o-1].v==="-"?-e:e,s[o].v=Gi(s[o].t,s[o].v,_),s[o].t="t");var F="";for(o=0;o!==s.length;++o)s[o]!=null&&(F+=s[o].v);return F}var QP=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function ZP(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function X1e(t,e){var r=Y1e(t),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(QP),l=r[1].match(QP);return ZP(e,o)?[n,r[0]]:ZP(e,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function bs(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Mt)[t],n==null&&(n=r.table&&r.table[WP[t]]||Mt[WP[t]]),n==null&&(n=D1e[t]||"General");break}if(jg(n,0))return bc(e,r);e instanceof Date&&(e=R7(e,r.date1904));var s=X1e(n,e);if(jg(s[1]))return bc(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return W1e(s[1],e,r,s[0])}function ec(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Mt[r]==null){e<0&&(e=r);continue}if(Mt[r]==t){e=r;break}}e<0&&(e=391)}return Mt[e]=t,e}function V7(){Mt=O1e()}var J1e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},$7=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Q1e(t){var e=typeof t=="number"?Mt[t]:t;return e=e.replace($7,"(\\d+)"),new RegExp("^"+e+"$")}function Z1e(t,e,r){var n=-1,s=-1,i=-1,o=-1,l=-1,d=-1;(e.match($7)||[]).forEach(function(p,x){var v=parseInt(r[x+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=v;break;case"d":i=v;break;case"h":o=v;break;case"s":d=v;break;case"m":o>=0?l=v:s=v;break}}),d>=0&&l==-1&&s>=0&&(l=s,s=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return o==-1&&l==-1&&d==-1?u:n==-1&&s==-1&&i==-1?h:u+"T"+h}var eNe=(function(){var t={};t.version="1.2.0";function e(){for(var O=0,M=new Array(256),D=0;D!=256;++D)O=D,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,M[D]=O;return typeof Int32Array<"u"?new Int32Array(M):M}var r=e();function n(O){var M=0,D=0,F=0,q=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)q[F]=O[F];for(F=0;F!=256;++F)for(D=O[F],M=256+F;M<4096;M+=256)D=q[M]=D>>>8^O[D&255];var L=[];for(F=1;F!=16;++F)L[F-1]=typeof Int32Array<"u"?q.subarray(F*256,F*256+256):q.slice(F*256,F*256+256);return L}var s=n(r),i=s[0],o=s[1],l=s[2],d=s[3],u=s[4],h=s[5],p=s[6],x=s[7],v=s[8],b=s[9],w=s[10],g=s[11],S=s[12],k=s[13],y=s[14];function j(O,M){for(var D=M^-1,F=0,q=O.length;F<q;)D=D>>>8^r[(D^O.charCodeAt(F++))&255];return~D}function T(O,M){for(var D=M^-1,F=O.length-15,q=0;q<F;)D=y[O[q++]^D&255]^k[O[q++]^D>>8&255]^S[O[q++]^D>>16&255]^g[O[q++]^D>>>24]^w[O[q++]]^b[O[q++]]^v[O[q++]]^x[O[q++]]^p[O[q++]]^h[O[q++]]^u[O[q++]]^d[O[q++]]^l[O[q++]]^o[O[q++]]^i[O[q++]]^r[O[q++]];for(F+=15;q<F;)D=D>>>8^r[(D^O[q++])&255];return~D}function _(O,M){for(var D=M^-1,F=0,q=O.length,L=0,B=0;F<q;)L=O.charCodeAt(F++),L<128?D=D>>>8^r[(D^L)&255]:L<2048?(D=D>>>8^r[(D^(192|L>>6&31))&255],D=D>>>8^r[(D^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,B=O.charCodeAt(F++)&1023,D=D>>>8^r[(D^(240|L>>8&7))&255],D=D>>>8^r[(D^(128|L>>2&63))&255],D=D>>>8^r[(D^(128|B>>6&15|(L&3)<<4))&255],D=D>>>8^r[(D^(128|B&63))&255]):(D=D>>>8^r[(D^(224|L>>12&15))&255],D=D>>>8^r[(D^(128|L>>6&63))&255],D=D>>>8^r[(D^(128|L&63))&255]);return~D}return t.table=r,t.bstr=j,t.buf=T,t.str=_,t})(),Qt=(function(){var e={};e.version="1.2.1";function r(Z,de){for(var ie=Z.split("/"),oe=de.split("/"),ce=0,ue=0,ke=Math.min(ie.length,oe.length);ce<ke;++ce){if(ue=ie[ce].length-oe[ce].length)return ue;if(ie[ce]!=oe[ce])return ie[ce]<oe[ce]?-1:1}return ie.length-oe.length}function n(Z){if(Z.charAt(Z.length-1)=="/")return Z.slice(0,-1).indexOf("/")===-1?Z:n(Z.slice(0,-1));var de=Z.lastIndexOf("/");return de===-1?Z:Z.slice(0,de+1)}function s(Z){if(Z.charAt(Z.length-1)=="/")return s(Z.slice(0,-1));var de=Z.lastIndexOf("/");return de===-1?Z:Z.slice(de+1)}function i(Z,de){typeof de=="string"&&(de=new Date(de));var ie=de.getHours();ie=ie<<6|de.getMinutes(),ie=ie<<5|de.getSeconds()>>>1,Z.write_shift(2,ie);var oe=de.getFullYear()-1980;oe=oe<<4|de.getMonth()+1,oe=oe<<5|de.getDate(),Z.write_shift(2,oe)}function o(Z){var de=Z.read_shift(2)&65535,ie=Z.read_shift(2)&65535,oe=new Date,ce=ie&31;ie>>>=5;var ue=ie&15;ie>>>=4,oe.setMilliseconds(0),oe.setFullYear(ie+1980),oe.setMonth(ue-1),oe.setDate(ce);var ke=de&31;de>>>=5;var Le=de&63;return de>>>=6,oe.setHours(de),oe.setMinutes(Le),oe.setSeconds(ke<<1),oe}function l(Z){Pa(Z,0);for(var de={},ie=0;Z.l<=Z.length-4;){var oe=Z.read_shift(2),ce=Z.read_shift(2),ue=Z.l+ce,ke={};switch(oe){case 21589:ie=Z.read_shift(1),ie&1&&(ke.mtime=Z.read_shift(4)),ce>5&&(ie&2&&(ke.atime=Z.read_shift(4)),ie&4&&(ke.ctime=Z.read_shift(4))),ke.mtime&&(ke.mt=new Date(ke.mtime*1e3));break}Z.l=ue,de[oe]=ke}return de}var d;function u(){return d||(d={})}function h(Z,de){if(Z[0]==80&&Z[1]==75)return $s(Z,de);if((Z[0]|32)==109&&(Z[1]|32)==105)return pl(Z,de);if(Z.length<512)throw new Error("CFB file size "+Z.length+" < 512");var ie=3,oe=512,ce=0,ue=0,ke=0,Le=0,_e=0,Oe=[],Ie=Z.slice(0,512);Pa(Ie,0);var He=p(Ie);switch(ie=He[0],ie){case 3:oe=512;break;case 4:oe=4096;break;case 0:if(He[1]==0)return $s(Z,de);default:throw new Error("Major Version: Expected 3 or 4 saw "+ie)}oe!==512&&(Ie=Z.slice(0,oe),Pa(Ie,28));var Xe=Z.slice(0,oe);x(Ie,ie);var et=Ie.read_shift(4,"i");if(ie===3&&et!==0)throw new Error("# Directory Sectors: Expected 0 saw "+et);Ie.l+=4,ke=Ie.read_shift(4,"i"),Ie.l+=4,Ie.chk("00100000","Mini Stream Cutoff Size: "),Le=Ie.read_shift(4,"i"),ce=Ie.read_shift(4,"i"),_e=Ie.read_shift(4,"i"),ue=Ie.read_shift(4,"i");for(var Ke=-1,Qe=0;Qe<109&&(Ke=Ie.read_shift(4,"i"),!(Ke<0));++Qe)Oe[Qe]=Ke;var it=v(Z,oe);g(_e,ue,it,oe,Oe);var wr=k(it,ke,Oe,oe);wr[ke].name="!Directory",ce>0&&Le!==B&&(wr[Le].name="!MiniFAT"),wr[Oe[0]].name="!FAT",wr.fat_addrs=Oe,wr.ssz=oe;var Ar={},Pr=[],Xn=[],ml=[];y(ke,wr,it,Pr,ce,Ar,Xn,Le),b(Xn,ml,Pr),Pr.shift();var uo={FileIndex:Xn,FullPaths:ml};return de&&de.raw&&(uo.raw={header:Xe,sectors:it}),uo}function p(Z){if(Z[Z.l]==80&&Z[Z.l+1]==75)return[0,0];Z.chk(X,"Header Signature: "),Z.l+=16;var de=Z.read_shift(2,"u");return[Z.read_shift(2,"u"),de]}function x(Z,de){var ie=9;switch(Z.l+=2,ie=Z.read_shift(2)){case 9:if(de!=3)throw new Error("Sector Shift: Expected 9 saw "+ie);break;case 12:if(de!=4)throw new Error("Sector Shift: Expected 12 saw "+ie);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ie)}Z.chk("0600","Mini Sector Shift: "),Z.chk("000000000000","Reserved: ")}function v(Z,de){for(var ie=Math.ceil(Z.length/de)-1,oe=[],ce=1;ce<ie;++ce)oe[ce-1]=Z.slice(ce*de,(ce+1)*de);return oe[ie-1]=Z.slice(ie*de),oe}function b(Z,de,ie){for(var oe=0,ce=0,ue=0,ke=0,Le=0,_e=ie.length,Oe=[],Ie=[];oe<_e;++oe)Oe[oe]=Ie[oe]=oe,de[oe]=ie[oe];for(;Le<Ie.length;++Le)oe=Ie[Le],ce=Z[oe].L,ue=Z[oe].R,ke=Z[oe].C,Oe[oe]===oe&&(ce!==-1&&Oe[ce]!==ce&&(Oe[oe]=Oe[ce]),ue!==-1&&Oe[ue]!==ue&&(Oe[oe]=Oe[ue])),ke!==-1&&(Oe[ke]=oe),ce!==-1&&oe!=Oe[oe]&&(Oe[ce]=Oe[oe],Ie.lastIndexOf(ce)<Le&&Ie.push(ce)),ue!==-1&&oe!=Oe[oe]&&(Oe[ue]=Oe[oe],Ie.lastIndexOf(ue)<Le&&Ie.push(ue));for(oe=1;oe<_e;++oe)Oe[oe]===oe&&(ue!==-1&&Oe[ue]!==ue?Oe[oe]=Oe[ue]:ce!==-1&&Oe[ce]!==ce&&(Oe[oe]=Oe[ce]));for(oe=1;oe<_e;++oe)if(Z[oe].type!==0){if(Le=oe,Le!=Oe[Le])do Le=Oe[Le],de[oe]=de[Le]+"/"+de[oe];while(Le!==0&&Oe[Le]!==-1&&Le!=Oe[Le]);Oe[oe]=-1}for(de[0]+="/",oe=1;oe<_e;++oe)Z[oe].type!==2&&(de[oe]+="/")}function w(Z,de,ie){for(var oe=Z.start,ce=Z.size,ue=[],ke=oe;ie&&ce>0&&ke>=0;)ue.push(de.slice(ke*L,ke*L+L)),ce-=L,ke=$l(ie,ke*4);return ue.length===0?fa(0):qo(ue).slice(0,Z.size)}function g(Z,de,ie,oe,ce){var ue=B;if(Z===B){if(de!==0)throw new Error("DIFAT chain shorter than expected")}else if(Z!==-1){var ke=ie[Z],Le=(oe>>>2)-1;if(!ke)return;for(var _e=0;_e<Le&&(ue=$l(ke,_e*4))!==B;++_e)ce.push(ue);g($l(ke,oe-4),de-1,ie,oe,ce)}}function S(Z,de,ie,oe,ce){var ue=[],ke=[];ce||(ce=[]);var Le=oe-1,_e=0,Oe=0;for(_e=de;_e>=0;){ce[_e]=!0,ue[ue.length]=_e,ke.push(Z[_e]);var Ie=ie[Math.floor(_e*4/oe)];if(Oe=_e*4&Le,oe<4+Oe)throw new Error("FAT boundary crossed: "+_e+" 4 "+oe);if(!Z[Ie])break;_e=$l(Z[Ie],Oe)}return{nodes:ue,data:c8([ke])}}function k(Z,de,ie,oe){var ce=Z.length,ue=[],ke=[],Le=[],_e=[],Oe=oe-1,Ie=0,He=0,Xe=0,et=0;for(Ie=0;Ie<ce;++Ie)if(Le=[],Xe=Ie+de,Xe>=ce&&(Xe-=ce),!ke[Xe]){_e=[];var Ke=[];for(He=Xe;He>=0;){Ke[He]=!0,ke[He]=!0,Le[Le.length]=He,_e.push(Z[He]);var Qe=ie[Math.floor(He*4/oe)];if(et=He*4&Oe,oe<4+et)throw new Error("FAT boundary crossed: "+He+" 4 "+oe);if(!Z[Qe]||(He=$l(Z[Qe],et),Ke[He]))break}ue[Xe]={nodes:Le,data:c8([_e])}}return ue}function y(Z,de,ie,oe,ce,ue,ke,Le){for(var _e=0,Oe=oe.length?2:0,Ie=de[Z].data,He=0,Xe=0,et;He<Ie.length;He+=128){var Ke=Ie.slice(He,He+128);Pa(Ke,64),Xe=Ke.read_shift(2),et=bS(Ke,0,Xe-Oe),oe.push(et);var Qe={name:et,type:Ke.read_shift(1),color:Ke.read_shift(1),L:Ke.read_shift(4,"i"),R:Ke.read_shift(4,"i"),C:Ke.read_shift(4,"i"),clsid:Ke.read_shift(16),state:Ke.read_shift(4,"i"),start:0,size:0},it=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);it!==0&&(Qe.ct=j(Ke,Ke.l-8));var wr=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);wr!==0&&(Qe.mt=j(Ke,Ke.l-8)),Qe.start=Ke.read_shift(4,"i"),Qe.size=Ke.read_shift(4,"i"),Qe.size<0&&Qe.start<0&&(Qe.size=Qe.type=0,Qe.start=B,Qe.name=""),Qe.type===5?(_e=Qe.start,ce>0&&_e!==B&&(de[_e].name="!StreamData")):Qe.size>=4096?(Qe.storage="fat",de[Qe.start]===void 0&&(de[Qe.start]=S(ie,Qe.start,de.fat_addrs,de.ssz)),de[Qe.start].name=Qe.name,Qe.content=de[Qe.start].data.slice(0,Qe.size)):(Qe.storage="minifat",Qe.size<0?Qe.size=0:_e!==B&&Qe.start!==B&&de[_e]&&(Qe.content=w(Qe,de[_e].data,(de[Le]||{}).data))),Qe.content&&Pa(Qe.content,0),ue[et]=Qe,ke.push(Qe)}}function j(Z,de){return new Date((Un(Z,de+4)/1e7*Math.pow(2,32)+Un(Z,de)/1e7-11644473600)*1e3)}function T(Z,de){return u(),h(d.readFileSync(Z),de)}function _(Z,de){var ie=de&&de.type;switch(ie||Wt&&Buffer.isBuffer(Z)&&(ie="buffer"),ie||"base64"){case"file":return T(Z,de);case"base64":return h(Ms(Kn(Z)),de);case"binary":return h(Ms(Z),de)}return h(Z,de)}function O(Z,de){var ie=de||{},oe=ie.root||"Root Entry";if(Z.FullPaths||(Z.FullPaths=[]),Z.FileIndex||(Z.FileIndex=[]),Z.FullPaths.length!==Z.FileIndex.length)throw new Error("inconsistent CFB structure");Z.FullPaths.length===0&&(Z.FullPaths[0]=oe+"/",Z.FileIndex[0]={name:oe,type:5}),ie.CLSID&&(Z.FileIndex[0].clsid=ie.CLSID),M(Z)}function M(Z){var de="Sh33tJ5";if(!Qt.find(Z,"/"+de)){var ie=fa(4);ie[0]=55,ie[1]=ie[3]=50,ie[2]=54,Z.FileIndex.push({name:de,type:2,content:ie,size:4,L:69,R:69,C:69}),Z.FullPaths.push(Z.FullPaths[0]+de),D(Z)}}function D(Z,de){O(Z);for(var ie=!1,oe=!1,ce=Z.FullPaths.length-1;ce>=0;--ce){var ue=Z.FileIndex[ce];switch(ue.type){case 0:oe?ie=!0:(Z.FileIndex.pop(),Z.FullPaths.pop());break;case 1:case 2:case 5:oe=!0,isNaN(ue.R*ue.L*ue.C)&&(ie=!0),ue.R>-1&&ue.L>-1&&ue.R==ue.L&&(ie=!0);break;default:ie=!0;break}}if(!(!ie&&!de)){var ke=new Date(1987,1,19),Le=0,_e=Object.create?Object.create(null):{},Oe=[];for(ce=0;ce<Z.FullPaths.length;++ce)_e[Z.FullPaths[ce]]=!0,Z.FileIndex[ce].type!==0&&Oe.push([Z.FullPaths[ce],Z.FileIndex[ce]]);for(ce=0;ce<Oe.length;++ce){var Ie=n(Oe[ce][0]);oe=_e[Ie],oe||(Oe.push([Ie,{name:s(Ie).replace("/",""),type:1,clsid:U,ct:ke,mt:ke,content:null}]),_e[Ie]=!0)}for(Oe.sort(function(et,Ke){return r(et[0],Ke[0])}),Z.FullPaths=[],Z.FileIndex=[],ce=0;ce<Oe.length;++ce)Z.FullPaths[ce]=Oe[ce][0],Z.FileIndex[ce]=Oe[ce][1];for(ce=0;ce<Oe.length;++ce){var He=Z.FileIndex[ce],Xe=Z.FullPaths[ce];if(He.name=s(Xe).replace("/",""),He.L=He.R=He.C=-(He.color=1),He.size=He.content?He.content.length:0,He.start=0,He.clsid=He.clsid||U,ce===0)He.C=Oe.length>1?1:-1,He.size=0,He.type=5;else if(Xe.slice(-1)=="/"){for(Le=ce+1;Le<Oe.length&&n(Z.FullPaths[Le])!=Xe;++Le);for(He.C=Le>=Oe.length?-1:Le,Le=ce+1;Le<Oe.length&&n(Z.FullPaths[Le])!=n(Xe);++Le);He.R=Le>=Oe.length?-1:Le,He.type=1}else n(Z.FullPaths[ce+1]||"")==n(Xe)&&(He.R=ce+1),He.type=2}}}function F(Z,de){var ie=de||{};if(ie.fileType=="mad")return Bb(Z,ie);switch(D(Z),ie.fileType){case"zip":return Ic(Z,ie)}var oe=(function(et){for(var Ke=0,Qe=0,it=0;it<et.FileIndex.length;++it){var wr=et.FileIndex[it];if(wr.content){var Ar=wr.content.length;Ar>0&&(Ar<4096?Ke+=Ar+63>>6:Qe+=Ar+511>>9)}}for(var Pr=et.FullPaths.length+3>>2,Xn=Ke+7>>3,ml=Ke+127>>7,uo=Xn+Qe+Pr+ml,Gs=uo+127>>7,Wu=Gs<=109?0:Math.ceil((Gs-109)/127);uo+Gs+Wu+127>>7>Gs;)Wu=++Gs<=109?0:Math.ceil((Gs-109)/127);var un=[1,Wu,Gs,ml,Pr,Qe,Ke,0];return et.FileIndex[0].size=Ke<<6,un[7]=(et.FileIndex[0].start=un[0]+un[1]+un[2]+un[3]+un[4]+un[5])+(un[6]+7>>3),un})(Z),ce=fa(oe[7]<<9),ue=0,ke=0;{for(ue=0;ue<8;++ue)ce.write_shift(1,P[ue]);for(ue=0;ue<8;++ue)ce.write_shift(2,0);for(ce.write_shift(2,62),ce.write_shift(2,3),ce.write_shift(2,65534),ce.write_shift(2,9),ce.write_shift(2,6),ue=0;ue<3;++ue)ce.write_shift(2,0);for(ce.write_shift(4,0),ce.write_shift(4,oe[2]),ce.write_shift(4,oe[0]+oe[1]+oe[2]+oe[3]-1),ce.write_shift(4,0),ce.write_shift(4,4096),ce.write_shift(4,oe[3]?oe[0]+oe[1]+oe[2]-1:B),ce.write_shift(4,oe[3]),ce.write_shift(-4,oe[1]?oe[0]-1:B),ce.write_shift(4,oe[1]),ue=0;ue<109;++ue)ce.write_shift(-4,ue<oe[2]?oe[1]+ue:-1)}if(oe[1])for(ke=0;ke<oe[1];++ke){for(;ue<236+ke*127;++ue)ce.write_shift(-4,ue<oe[2]?oe[1]+ue:-1);ce.write_shift(-4,ke===oe[1]-1?B:ke+1)}var Le=function(et){for(ke+=et;ue<ke-1;++ue)ce.write_shift(-4,ue+1);et&&(++ue,ce.write_shift(-4,B))};for(ke=ue=0,ke+=oe[1];ue<ke;++ue)ce.write_shift(-4,z.DIFSECT);for(ke+=oe[2];ue<ke;++ue)ce.write_shift(-4,z.FATSECT);Le(oe[3]),Le(oe[4]);for(var _e=0,Oe=0,Ie=Z.FileIndex[0];_e<Z.FileIndex.length;++_e)Ie=Z.FileIndex[_e],Ie.content&&(Oe=Ie.content.length,!(Oe<4096)&&(Ie.start=ke,Le(Oe+511>>9)));for(Le(oe[6]+7>>3);ce.l&511;)ce.write_shift(-4,z.ENDOFCHAIN);for(ke=ue=0,_e=0;_e<Z.FileIndex.length;++_e)Ie=Z.FileIndex[_e],Ie.content&&(Oe=Ie.content.length,!(!Oe||Oe>=4096)&&(Ie.start=ke,Le(Oe+63>>6)));for(;ce.l&511;)ce.write_shift(-4,z.ENDOFCHAIN);for(ue=0;ue<oe[4]<<2;++ue){var He=Z.FullPaths[ue];if(!He||He.length===0){for(_e=0;_e<17;++_e)ce.write_shift(4,0);for(_e=0;_e<3;++_e)ce.write_shift(4,-1);for(_e=0;_e<12;++_e)ce.write_shift(4,0);continue}Ie=Z.FileIndex[ue],ue===0&&(Ie.start=Ie.size?Ie.start-1:B);var Xe=ue===0&&ie.root||Ie.name;if(Oe=2*(Xe.length+1),ce.write_shift(64,Xe,"utf16le"),ce.write_shift(2,Oe),ce.write_shift(1,Ie.type),ce.write_shift(1,Ie.color),ce.write_shift(-4,Ie.L),ce.write_shift(-4,Ie.R),ce.write_shift(-4,Ie.C),Ie.clsid)ce.write_shift(16,Ie.clsid,"hex");else for(_e=0;_e<4;++_e)ce.write_shift(4,0);ce.write_shift(4,Ie.state||0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,Ie.start),ce.write_shift(4,Ie.size),ce.write_shift(4,0)}for(ue=1;ue<Z.FileIndex.length;++ue)if(Ie=Z.FileIndex[ue],Ie.size>=4096)if(ce.l=Ie.start+1<<9,Wt&&Buffer.isBuffer(Ie.content))Ie.content.copy(ce,ce.l,0,Ie.size),ce.l+=Ie.size+511&-512;else{for(_e=0;_e<Ie.size;++_e)ce.write_shift(1,Ie.content[_e]);for(;_e&511;++_e)ce.write_shift(1,0)}for(ue=1;ue<Z.FileIndex.length;++ue)if(Ie=Z.FileIndex[ue],Ie.size>0&&Ie.size<4096)if(Wt&&Buffer.isBuffer(Ie.content))Ie.content.copy(ce,ce.l,0,Ie.size),ce.l+=Ie.size+63&-64;else{for(_e=0;_e<Ie.size;++_e)ce.write_shift(1,Ie.content[_e]);for(;_e&63;++_e)ce.write_shift(1,0)}if(Wt)ce.l=ce.length;else for(;ce.l<ce.length;)ce.write_shift(1,0);return ce}function q(Z,de){var ie=Z.FullPaths.map(function(_e){return _e.toUpperCase()}),oe=ie.map(function(_e){var Oe=_e.split("/");return Oe[Oe.length-(_e.slice(-1)=="/"?2:1)]}),ce=!1;de.charCodeAt(0)===47?(ce=!0,de=ie[0].slice(0,-1)+de):ce=de.indexOf("/")!==-1;var ue=de.toUpperCase(),ke=ce===!0?ie.indexOf(ue):oe.indexOf(ue);if(ke!==-1)return Z.FileIndex[ke];var Le=!ue.match(sf);for(ue=ue.replace(sn,""),Le&&(ue=ue.replace(sf,"!")),ke=0;ke<ie.length;++ke)if((Le?ie[ke].replace(sf,"!"):ie[ke]).replace(sn,"")==ue||(Le?oe[ke].replace(sf,"!"):oe[ke]).replace(sn,"")==ue)return Z.FileIndex[ke];return null}var L=64,B=-2,X="d0cf11e0a1b11ae1",P=[208,207,17,224,161,177,26,225],U="00000000000000000000000000000000",z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:X,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:U,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function V(Z,de,ie){u();var oe=F(Z,ie);d.writeFileSync(de,oe)}function Y(Z){for(var de=new Array(Z.length),ie=0;ie<Z.length;++ie)de[ie]=String.fromCharCode(Z[ie]);return de.join("")}function se(Z,de){var ie=F(Z,de);switch(de&&de.type||"buffer"){case"file":return u(),d.writeFileSync(de.filename,ie),ie;case"binary":return typeof ie=="string"?ie:Y(ie);case"base64":return GP(typeof ie=="string"?ie:Y(ie));case"buffer":if(Wt)return Buffer.isBuffer(ie)?ie:Sc(ie);case"array":return typeof ie=="string"?Ms(ie):ie}return ie}var K;function G(Z){try{var de=Z.InflateRaw,ie=new de;if(ie._processChunk(new Uint8Array([3,0]),ie._finishFlushFlag),ie.bytesRead)K=Z;else throw new Error("zlib does not expose bytesRead")}catch(oe){console.error("cannot use native zlib: "+(oe.message||oe))}}function W(Z,de){if(!K)return co(Z,de);var ie=K.InflateRaw,oe=new ie,ce=oe._processChunk(Z.slice(Z.l),oe._finishFlushFlag);return Z.l+=oe.bytesRead,ce}function Q(Z){return K?K.deflateRawSync(Z):ut(Z)}var ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],he=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],je=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function me(Z){var de=(Z<<1|Z<<11)&139536|(Z<<5|Z<<15)&558144;return(de>>16|de>>8|de)&255}for(var re=typeof Uint8Array<"u",ge=re?new Uint8Array(256):[],Me=0;Me<256;++Me)ge[Me]=me(Me);function J(Z,de){var ie=ge[Z&255];return de<=8?ie>>>8-de:(ie=ie<<8|ge[Z>>8&255],de<=16?ie>>>16-de:(ie=ie<<8|ge[Z>>16&255],ie>>>24-de))}function Ae(Z,de){var ie=de&7,oe=de>>>3;return(Z[oe]|(ie<=6?0:Z[oe+1]<<8))>>>ie&3}function ne(Z,de){var ie=de&7,oe=de>>>3;return(Z[oe]|(ie<=5?0:Z[oe+1]<<8))>>>ie&7}function ve(Z,de){var ie=de&7,oe=de>>>3;return(Z[oe]|(ie<=4?0:Z[oe+1]<<8))>>>ie&15}function we(Z,de){var ie=de&7,oe=de>>>3;return(Z[oe]|(ie<=3?0:Z[oe+1]<<8))>>>ie&31}function Ee(Z,de){var ie=de&7,oe=de>>>3;return(Z[oe]|(ie<=1?0:Z[oe+1]<<8))>>>ie&127}function fe(Z,de,ie){var oe=de&7,ce=de>>>3,ue=(1<<ie)-1,ke=Z[ce]>>>oe;return ie<8-oe||(ke|=Z[ce+1]<<8-oe,ie<16-oe)||(ke|=Z[ce+2]<<16-oe,ie<24-oe)||(ke|=Z[ce+3]<<24-oe),ke&ue}function Ce(Z,de,ie){var oe=de&7,ce=de>>>3;return oe<=5?Z[ce]|=(ie&7)<<oe:(Z[ce]|=ie<<oe&255,Z[ce+1]=(ie&7)>>8-oe),de+3}function Ue(Z,de,ie){var oe=de&7,ce=de>>>3;return ie=(ie&1)<<oe,Z[ce]|=ie,de+1}function le(Z,de,ie){var oe=de&7,ce=de>>>3;return ie<<=oe,Z[ce]|=ie&255,ie>>>=8,Z[ce+1]=ie,de+8}function ze(Z,de,ie){var oe=de&7,ce=de>>>3;return ie<<=oe,Z[ce]|=ie&255,ie>>>=8,Z[ce+1]=ie&255,Z[ce+2]=ie>>>8,de+16}function Ye(Z,de){var ie=Z.length,oe=2*ie>de?2*ie:de+5,ce=0;if(ie>=de)return Z;if(Wt){var ue=HP(oe);if(Z.copy)Z.copy(ue);else for(;ce<Z.length;++ce)ue[ce]=Z[ce];return ue}else if(re){var ke=new Uint8Array(oe);if(ke.set)ke.set(Z);else for(;ce<ie;++ce)ke[ce]=Z[ce];return ke}return Z.length=oe,Z}function qe(Z){for(var de=new Array(Z),ie=0;ie<Z;++ie)de[ie]=0;return de}function Ge(Z,de,ie){var oe=1,ce=0,ue=0,ke=0,Le=0,_e=Z.length,Oe=re?new Uint16Array(32):qe(32);for(ue=0;ue<32;++ue)Oe[ue]=0;for(ue=_e;ue<ie;++ue)Z[ue]=0;_e=Z.length;var Ie=re?new Uint16Array(_e):qe(_e);for(ue=0;ue<_e;++ue)Oe[ce=Z[ue]]++,oe<ce&&(oe=ce),Ie[ue]=0;for(Oe[0]=0,ue=1;ue<=oe;++ue)Oe[ue+16]=Le=Le+Oe[ue-1]<<1;for(ue=0;ue<_e;++ue)Le=Z[ue],Le!=0&&(Ie[ue]=Oe[Le+16]++);var He=0;for(ue=0;ue<_e;++ue)if(He=Z[ue],He!=0)for(Le=J(Ie[ue],oe)>>oe-He,ke=(1<<oe+4-He)-1;ke>=0;--ke)de[Le|ke<<He]=He&15|ue<<4;return oe}var gt=re?new Uint16Array(512):qe(512),ht=re?new Uint16Array(32):qe(32);if(!re){for(var nt=0;nt<512;++nt)gt[nt]=0;for(nt=0;nt<32;++nt)ht[nt]=0}(function(){for(var Z=[],de=0;de<32;de++)Z.push(5);Ge(Z,ht,32);var ie=[];for(de=0;de<=143;de++)ie.push(8);for(;de<=255;de++)ie.push(9);for(;de<=279;de++)ie.push(7);for(;de<=287;de++)ie.push(8);Ge(ie,gt,288)})();var Dt=(function(){for(var de=re?new Uint8Array(32768):[],ie=0,oe=0;ie<je.length-1;++ie)for(;oe<je[ie+1];++oe)de[oe]=ie;for(;oe<32768;++oe)de[oe]=29;var ce=re?new Uint8Array(259):[];for(ie=0,oe=0;ie<he.length-1;++ie)for(;oe<he[ie+1];++oe)ce[oe]=ie;function ue(Le,_e){for(var Oe=0;Oe<Le.length;){var Ie=Math.min(65535,Le.length-Oe),He=Oe+Ie==Le.length;for(_e.write_shift(1,+He),_e.write_shift(2,Ie),_e.write_shift(2,~Ie&65535);Ie-- >0;)_e[_e.l++]=Le[Oe++]}return _e.l}function ke(Le,_e){for(var Oe=0,Ie=0,He=re?new Uint16Array(32768):[];Ie<Le.length;){var Xe=Math.min(65535,Le.length-Ie);if(Xe<10){for(Oe=Ce(_e,Oe,+(Ie+Xe==Le.length)),Oe&7&&(Oe+=8-(Oe&7)),_e.l=Oe/8|0,_e.write_shift(2,Xe),_e.write_shift(2,~Xe&65535);Xe-- >0;)_e[_e.l++]=Le[Ie++];Oe=_e.l*8;continue}Oe=Ce(_e,Oe,+(Ie+Xe==Le.length)+2);for(var et=0;Xe-- >0;){var Ke=Le[Ie];et=(et<<5^Ke)&32767;var Qe=-1,it=0;if((Qe=He[et])&&(Qe|=Ie&-32768,Qe>Ie&&(Qe-=32768),Qe<Ie))for(;Le[Qe+it]==Le[Ie+it]&&it<250;)++it;if(it>2){Ke=ce[it],Ke<=22?Oe=le(_e,Oe,ge[Ke+1]>>1)-1:(le(_e,Oe,3),Oe+=5,le(_e,Oe,ge[Ke-23]>>5),Oe+=3);var wr=Ke<8?0:Ke-4>>2;wr>0&&(ze(_e,Oe,it-he[Ke]),Oe+=wr),Ke=de[Ie-Qe],Oe=le(_e,Oe,ge[Ke]>>3),Oe-=3;var Ar=Ke<4?0:Ke-2>>1;Ar>0&&(ze(_e,Oe,Ie-Qe-je[Ke]),Oe+=Ar);for(var Pr=0;Pr<it;++Pr)He[et]=Ie&32767,et=(et<<5^Le[Ie])&32767,++Ie;Xe-=it-1}else Ke<=143?Ke=Ke+48:Oe=Ue(_e,Oe,1),Oe=le(_e,Oe,ge[Ke]),He[et]=Ie&32767,++Ie}Oe=le(_e,Oe,0)-1}return _e.l=(Oe+7)/8|0,_e.l}return function(_e,Oe){return _e.length<8?ue(_e,Oe):ke(_e,Oe)}})();function ut(Z){var de=fa(50+Math.floor(Z.length*1.1)),ie=Dt(Z,de);return de.slice(0,ie)}var qt=re?new Uint16Array(32768):qe(32768),Cr=re?new Uint16Array(32768):qe(32768),jt=re?new Uint16Array(128):qe(128),Kt=1,va=1;function zr(Z,de){var ie=we(Z,de)+257;de+=5;var oe=we(Z,de)+1;de+=5;var ce=ve(Z,de)+4;de+=4;for(var ue=0,ke=re?new Uint8Array(19):qe(19),Le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_e=1,Oe=re?new Uint8Array(8):qe(8),Ie=re?new Uint8Array(8):qe(8),He=ke.length,Xe=0;Xe<ce;++Xe)ke[ee[Xe]]=ue=ne(Z,de),_e<ue&&(_e=ue),Oe[ue]++,de+=3;var et=0;for(Oe[0]=0,Xe=1;Xe<=_e;++Xe)Ie[Xe]=et=et+Oe[Xe-1]<<1;for(Xe=0;Xe<He;++Xe)(et=ke[Xe])!=0&&(Le[Xe]=Ie[et]++);var Ke=0;for(Xe=0;Xe<He;++Xe)if(Ke=ke[Xe],Ke!=0){et=ge[Le[Xe]]>>8-Ke;for(var Qe=(1<<7-Ke)-1;Qe>=0;--Qe)jt[et|Qe<<Ke]=Ke&7|Xe<<3}var it=[];for(_e=1;it.length<ie+oe;)switch(et=jt[Ee(Z,de)],de+=et&7,et>>>=3){case 16:for(ue=3+Ae(Z,de),de+=2,et=it[it.length-1];ue-- >0;)it.push(et);break;case 17:for(ue=3+ne(Z,de),de+=3;ue-- >0;)it.push(0);break;case 18:for(ue=11+Ee(Z,de),de+=7;ue-- >0;)it.push(0);break;default:it.push(et),_e<et&&(_e=et);break}var wr=it.slice(0,ie),Ar=it.slice(ie);for(Xe=ie;Xe<286;++Xe)wr[Xe]=0;for(Xe=oe;Xe<30;++Xe)Ar[Xe]=0;return Kt=Ge(wr,qt,286),va=Ge(Ar,Cr,30),de}function Vs(Z,de){if(Z[0]==3&&!(Z[1]&3))return[el(de),2];for(var ie=0,oe=0,ce=HP(de||1<<18),ue=0,ke=ce.length>>>0,Le=0,_e=0;(oe&1)==0;){if(oe=ne(Z,ie),ie+=3,oe>>>1)oe>>1==1?(Le=9,_e=5):(ie=zr(Z,ie),Le=Kt,_e=va);else{ie&7&&(ie+=8-(ie&7));var Oe=Z[ie>>>3]|Z[(ie>>>3)+1]<<8;if(ie+=32,Oe>0)for(!de&&ke<ue+Oe&&(ce=Ye(ce,ue+Oe),ke=ce.length);Oe-- >0;)ce[ue++]=Z[ie>>>3],ie+=8;continue}for(;;){!de&&ke<ue+32767&&(ce=Ye(ce,ue+32767),ke=ce.length);var Ie=fe(Z,ie,Le),He=oe>>>1==1?gt[Ie]:qt[Ie];if(ie+=He&15,He>>>=4,(He>>>8&255)===0)ce[ue++]=He;else{if(He==256)break;He-=257;var Xe=He<8?0:He-4>>2;Xe>5&&(Xe=0);var et=ue+he[He];Xe>0&&(et+=fe(Z,ie,Xe),ie+=Xe),Ie=fe(Z,ie,_e),He=oe>>>1==1?ht[Ie]:Cr[Ie],ie+=He&15,He>>>=4;var Ke=He<4?0:He-2>>1,Qe=je[He];for(Ke>0&&(Qe+=fe(Z,ie,Ke),ie+=Ke),!de&&ke<et&&(ce=Ye(ce,et+100),ke=ce.length);ue<et;)ce[ue]=ce[ue-Qe],++ue}}}return de?[ce,ie+7>>>3]:[ce.slice(0,ue),ie+7>>>3]}function co(Z,de){var ie=Z.slice(Z.l||0),oe=Vs(ie,de);return Z.l+=oe[1],oe[0]}function pi(Z,de){if(Z)typeof console<"u"&&console.error(de);else throw new Error(de)}function $s(Z,de){var ie=Z;Pa(ie,0);var oe=[],ce=[],ue={FileIndex:oe,FullPaths:ce};O(ue,{root:de.root});for(var ke=ie.length-4;(ie[ke]!=80||ie[ke+1]!=75||ie[ke+2]!=5||ie[ke+3]!=6)&&ke>=0;)--ke;ie.l=ke+4,ie.l+=4;var Le=ie.read_shift(2);ie.l+=6;var _e=ie.read_shift(4);for(ie.l=_e,ke=0;ke<Le;++ke){ie.l+=20;var Oe=ie.read_shift(4),Ie=ie.read_shift(4),He=ie.read_shift(2),Xe=ie.read_shift(2),et=ie.read_shift(2);ie.l+=8;var Ke=ie.read_shift(4),Qe=l(ie.slice(ie.l+He,ie.l+He+Xe));ie.l+=He+Xe+et;var it=ie.l;ie.l=Ke+4,ws(ie,Oe,Ie,ue,Qe),ie.l=it}return ue}function ws(Z,de,ie,oe,ce){Z.l+=2;var ue=Z.read_shift(2),ke=Z.read_shift(2),Le=o(Z);if(ue&8257)throw new Error("Unsupported ZIP encryption");for(var _e=Z.read_shift(4),Oe=Z.read_shift(4),Ie=Z.read_shift(4),He=Z.read_shift(2),Xe=Z.read_shift(2),et="",Ke=0;Ke<He;++Ke)et+=String.fromCharCode(Z[Z.l++]);if(Xe){var Qe=l(Z.slice(Z.l,Z.l+Xe));(Qe[21589]||{}).mt&&(Le=Qe[21589].mt),((ce||{})[21589]||{}).mt&&(Le=ce[21589].mt)}Z.l+=Xe;var it=Z.slice(Z.l,Z.l+Oe);switch(ke){case 8:it=W(Z,Ie);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ke)}var wr=!1;ue&8&&(_e=Z.read_shift(4),_e==134695760&&(_e=Z.read_shift(4),wr=!0),Oe=Z.read_shift(4),Ie=Z.read_shift(4)),Oe!=de&&pi(wr,"Bad compressed size: "+de+" != "+Oe),Ie!=ie&&pi(wr,"Bad uncompressed size: "+ie+" != "+Ie),Mc(oe,et,it,{unsafe:!0,mt:Le})}function Ic(Z,de){var ie=de||{},oe=[],ce=[],ue=fa(1),ke=ie.compression?8:0,Le=0,_e=0,Oe=0,Ie=0,He=0,Xe=Z.FullPaths[0],et=Xe,Ke=Z.FileIndex[0],Qe=[],it=0;for(_e=1;_e<Z.FullPaths.length;++_e)if(et=Z.FullPaths[_e].slice(Xe.length),Ke=Z.FileIndex[_e],!(!Ke.size||!Ke.content||et=="Sh33tJ5")){var wr=Ie,Ar=fa(et.length);for(Oe=0;Oe<et.length;++Oe)Ar.write_shift(1,et.charCodeAt(Oe)&127);Ar=Ar.slice(0,Ar.l),Qe[He]=eNe.buf(Ke.content,0);var Pr=Ke.content;ke==8&&(Pr=Q(Pr)),ue=fa(30),ue.write_shift(4,67324752),ue.write_shift(2,20),ue.write_shift(2,Le),ue.write_shift(2,ke),Ke.mt?i(ue,Ke.mt):ue.write_shift(4,0),ue.write_shift(-4,Qe[He]),ue.write_shift(4,Pr.length),ue.write_shift(4,Ke.content.length),ue.write_shift(2,Ar.length),ue.write_shift(2,0),Ie+=ue.length,oe.push(ue),Ie+=Ar.length,oe.push(Ar),Ie+=Pr.length,oe.push(Pr),ue=fa(46),ue.write_shift(4,33639248),ue.write_shift(2,0),ue.write_shift(2,20),ue.write_shift(2,Le),ue.write_shift(2,ke),ue.write_shift(4,0),ue.write_shift(-4,Qe[He]),ue.write_shift(4,Pr.length),ue.write_shift(4,Ke.content.length),ue.write_shift(2,Ar.length),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(4,0),ue.write_shift(4,wr),it+=ue.l,ce.push(ue),it+=Ar.length,ce.push(Ar),++He}return ue=fa(22),ue.write_shift(4,101010256),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,He),ue.write_shift(2,He),ue.write_shift(4,it),ue.write_shift(4,Ie),ue.write_shift(2,0),qo([qo(oe),qo(ce),ue])}var Wn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Rc(Z,de){if(Z.ctype)return Z.ctype;var ie=Z.name||"",oe=ie.match(/\.([^\.]+)$/);return oe&&Wn[oe[1]]||de&&(oe=(ie=de).match(/[\.\\]([^\.\\])+$/),oe&&Wn[oe[1]])?Wn[oe[1]]:"application/octet-stream"}function hl(Z){for(var de=GP(Z),ie=[],oe=0;oe<de.length;oe+=76)ie.push(de.slice(oe,oe+76));return ie.join(`\r
`)+`\r
`}function Fb(Z){var de=Z.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Oe){var Ie=Oe.charCodeAt(0).toString(16).toUpperCase();return"="+(Ie.length==1?"0"+Ie:Ie)});de=de.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),de.charAt(0)==`
`&&(de="=0D"+de.slice(1)),de=de.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ie=[],oe=de.split(`\r
`),ce=0;ce<oe.length;++ce){var ue=oe[ce];if(ue.length==0){ie.push("");continue}for(var ke=0;ke<ue.length;){var Le=76,_e=ue.slice(ke,ke+Le);_e.charAt(Le-1)=="="?Le--:_e.charAt(Le-2)=="="?Le-=2:_e.charAt(Le-3)=="="&&(Le-=3),_e=ue.slice(ke,ke+Le),ke+=Le,ke<ue.length&&(_e+="="),ie.push(_e)}}return ie.join(`\r
`)}function ip(Z){for(var de=[],ie=0;ie<Z.length;++ie){for(var oe=Z[ie];ie<=Z.length&&oe.charAt(oe.length-1)=="=";)oe=oe.slice(0,oe.length-1)+Z[++ie];de.push(oe)}for(var ce=0;ce<de.length;++ce)de[ce]=de[ce].replace(/[=][0-9A-Fa-f]{2}/g,function(ue){return String.fromCharCode(parseInt(ue.slice(1),16))});return Ms(de.join(`\r
`))}function Hu(Z,de,ie){for(var oe="",ce="",ue="",ke,Le=0;Le<10;++Le){var _e=de[Le];if(!_e||_e.match(/^\s*$/))break;var Oe=_e.match(/^(.*?):\s*([^\s].*)$/);if(Oe)switch(Oe[1].toLowerCase()){case"content-location":oe=Oe[2].trim();break;case"content-type":ue=Oe[2].trim();break;case"content-transfer-encoding":ce=Oe[2].trim();break}}switch(++Le,ce.toLowerCase()){case"base64":ke=Ms(Kn(de.slice(Le).join("")));break;case"quoted-printable":ke=ip(de.slice(Le));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ce)}var Ie=Mc(Z,oe.slice(ie.length),ke,{unsafe:!0});ue&&(Ie.ctype=ue)}function pl(Z,de){if(Y(Z.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ie=de&&de.root||"",oe=(Wt&&Buffer.isBuffer(Z)?Z.toString("binary"):Y(Z)).split(`\r
`),ce=0,ue="";for(ce=0;ce<oe.length;++ce)if(ue=oe[ce],!!/^Content-Location:/i.test(ue)&&(ue=ue.slice(ue.indexOf("file")),ie||(ie=ue.slice(0,ue.lastIndexOf("/")+1)),ue.slice(0,ie.length)!=ie))for(;ie.length>0&&(ie=ie.slice(0,ie.length-1),ie=ie.slice(0,ie.lastIndexOf("/")+1),ue.slice(0,ie.length)!=ie););var ke=(oe[1]||"").match(/boundary="(.*?)"/);if(!ke)throw new Error("MAD cannot find boundary");var Le="--"+(ke[1]||""),_e=[],Oe=[],Ie={FileIndex:_e,FullPaths:Oe};O(Ie);var He,Xe=0;for(ce=0;ce<oe.length;++ce){var et=oe[ce];et!==Le&&et!==Le+"--"||(Xe++&&Hu(Ie,oe.slice(He,ce),ie),He=ce)}return Ie}function Bb(Z,de){var ie=de||{},oe=ie.boundary||"SheetJS";oe="------="+oe;for(var ce=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+oe.slice(2)+'"',"","",""],ue=Z.FullPaths[0],ke=ue,Le=Z.FileIndex[0],_e=1;_e<Z.FullPaths.length;++_e)if(ke=Z.FullPaths[_e].slice(ue.length),Le=Z.FileIndex[_e],!(!Le.size||!Le.content||ke=="Sh33tJ5")){ke=ke.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(it){return"_x"+it.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(it){return"_u"+it.charCodeAt(0).toString(16)+"_"});for(var Oe=Le.content,Ie=Wt&&Buffer.isBuffer(Oe)?Oe.toString("binary"):Y(Oe),He=0,Xe=Math.min(1024,Ie.length),et=0,Ke=0;Ke<=Xe;++Ke)(et=Ie.charCodeAt(Ke))>=32&&et<128&&++He;var Qe=He>=Xe*4/5;ce.push(oe),ce.push("Content-Location: "+(ie.root||"file:///C:/SheetJS/")+ke),ce.push("Content-Transfer-Encoding: "+(Qe?"quoted-printable":"base64")),ce.push("Content-Type: "+Rc(Le,ke)),ce.push(""),ce.push(Qe?Fb(Ie):hl(Ie))}return ce.push(oe+`--\r
`),ce.join(`\r
`)}function op(Z){var de={};return O(de,Z),de}function Mc(Z,de,ie,oe){var ce=oe&&oe.unsafe;ce||O(Z);var ue=!ce&&Qt.find(Z,de);if(!ue){var ke=Z.FullPaths[0];de.slice(0,ke.length)==ke?ke=de:(ke.slice(-1)!="/"&&(ke+="/"),ke=(ke+de).replace("//","/")),ue={name:s(de),type:2},Z.FileIndex.push(ue),Z.FullPaths.push(ke),ce||Qt.utils.cfb_gc(Z)}return ue.content=ie,ue.size=ie?ie.length:0,oe&&(oe.CLSID&&(ue.clsid=oe.CLSID),oe.mt&&(ue.mt=oe.mt),oe.ct&&(ue.ct=oe.ct)),ue}function lp(Z,de){O(Z);var ie=Qt.find(Z,de);if(ie){for(var oe=0;oe<Z.FileIndex.length;++oe)if(Z.FileIndex[oe]==ie)return Z.FileIndex.splice(oe,1),Z.FullPaths.splice(oe,1),!0}return!1}function Ku(Z,de,ie){O(Z);var oe=Qt.find(Z,de);if(oe){for(var ce=0;ce<Z.FileIndex.length;++ce)if(Z.FileIndex[ce]==oe)return Z.FileIndex[ce].name=s(ie),Z.FullPaths[ce]=ie,!0}return!1}function Yu(Z){D(Z,!0)}return e.find=q,e.read=_,e.parse=h,e.write=se,e.writeFile=V,e.utils={cfb_new:op,cfb_add:Mc,cfb_del:lp,cfb_mov:Ku,cfb_gc:Yu,ReadShift:Af,CheckField:fB,prep_blob:Pa,bconcat:qo,use_zlib:G,_deflateRaw:ut,_inflateRaw:co,consts:z},e})();function tNe(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function li(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function pS(t){for(var e=[],r=li(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}var Sg=new Date(1899,11,30,0,0,0);function dn(t,e){var r=t.getTime(),n=Sg.getTime()+(t.getTimezoneOffset()-Sg.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var G7=new Date,rNe=Sg.getTime()+(G7.getTimezoneOffset()-Sg.getTimezoneOffset())*6e4,e8=G7.getTimezoneOffset();function Rb(t){var e=new Date;return e.setTime(t*24*60*60*1e3+rNe),e.getTimezoneOffset()!==e8&&e.setTime(e.getTime()+(e.getTimezoneOffset()-e8)*6e4),e}function aNe(t){var e=0,r=0,n=!1,s=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var i=1;i!=s.length;++i)if(s[i]){switch(r=1,i>3&&(n=!0),s[i].slice(s[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[i].slice(s[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(s[i],10)}return e}var t8=new Date("2017-02-19T19:06:09.000Z"),H7=isNaN(t8.getFullYear())?new Date("2/19/17"):t8,nNe=H7.getFullYear()==2017;function ja(t,e){var r=new Date(t);if(nNe)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(H7.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function vc(t,e){if(Wt&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return lf(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return lf(D7(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return lf(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return lf(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],s=0;s!=t.length;++s)n.push(String.fromCharCode(t[s]));return n.join("")}function La(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=La(t[r]));return e}function Hr(t,e){for(var r="";r.length<e;)r+=t;return r}function zs(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(e=Number(n)))?e/r:e}var sNe=["january","february","march","april","may","june","july","august","september","october","november","december"];function ku(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),s=e.getMonth(),i=e.getDate();if(isNaN(i))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&sNe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||i>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var iNe=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,s){if(t||typeof n=="string")return r.split(n);for(var i=r.split(n),o=[i[0]],l=1;l<i.length;++l)o.push(s),o.push(i[l]);return o}})();function K7(t){return t?t.content&&t.type?vc(t.content,!0):t.data?nf(t.data):t.asNodeBuffer&&Wt?nf(t.asNodeBuffer().toString("binary")):t.asBinary?nf(t.asBinary()):t._data&&t._data.getContent?nf(vc(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function Y7(t){if(!t)return null;if(t.data)return VP(t.data);if(t.asNodeBuffer&&Wt)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?VP(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function oNe(t){return t&&t.name.slice(-4)===".bin"?Y7(t):K7(t)}function hs(t,e){for(var r=t.FullPaths||li(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),s=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||s==o)return t.files?t.files[r[i]]:t.FileIndex[i]}return null}function mS(t,e){var r=hs(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function ra(t,e,r){if(!r)return oNe(mS(t,e));if(!e)return null;try{return ra(t,e)}catch{return null}}function zn(t,e,r){if(!r)return K7(mS(t,e));if(!e)return null;try{return zn(t,e)}catch{return null}}function lNe(t,e,r){return Y7(mS(t,e))}function r8(t){for(var e=t.FullPaths||li(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function cNe(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Wt?n=Sc(r):n=k1e(r),Qt.utils.cfb_add(t,e,n)}Qt.utils.cfb_add(t,e,r)}else t.file(e,r)}function W7(t,e){switch(e.type){case"base64":return Qt.read(t,{type:"base64"});case"binary":return Qt.read(t,{type:"binary"});case"buffer":case"array":return Qt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function of(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var s=n.shift();s===".."?r.pop():s!=="."&&r.push(s)}return r.join("/")}var X7=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,dNe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,a8=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,uNe=/<[^>]*>/g,Ya=X7.match(a8)?a8:uNe,fNe=/<\w*:/,hNe=/<(\/?)\w+:/;function Et(t,e,r){for(var n={},s=0,i=0;s!==t.length&&!((i=t.charCodeAt(s))===32||i===10||i===13);++s);if(e||(n[0]=t.slice(0,s)),s===t.length)return n;var o=t.match(dNe),l=0,d="",u=0,h="",p="",x=1;if(o)for(u=0;u!=o.length;++u){for(p=o[u],i=0;i!=p.length&&p.charCodeAt(i)!==61;++i);for(h=p.slice(0,i).trim();p.charCodeAt(i+1)==32;)++i;for(x=(s=p.charCodeAt(i+1))==34||s==39?1:0,d=p.slice(i+1+x,p.length-x),l=0;l!=h.length&&h.charCodeAt(l)!==58;++l);if(l===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),n[h]=d,n[h.toLowerCase()]=d;else{var v=(l===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(l+1);if(n[v]&&h.slice(l-3,l)=="ext")continue;n[v]=d,n[v.toLowerCase()]=d}}return n}function fi(t){return t.replace(hNe,"<$1")}var J7={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},pNe=pS(J7),tr=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var s=n+"",i=s.indexOf("<![CDATA[");if(i==-1)return s.replace(t,function(l,d){return J7[l]||String.fromCharCode(parseInt(d,l.indexOf("x")>-1?16:10))||l}).replace(e,function(l,d){return String.fromCharCode(parseInt(d,16))});var o=s.indexOf("]]>");return r(s.slice(0,i))+s.slice(i+9,o)+r(s.slice(o+3))}})(),mNe=/[&<>'"]/g,xNe=/[\u0000-\u001f]/g;function xS(t){var e=t+"";return e.replace(mNe,function(r){return pNe[r]}).replace(/\n/g,"<br/>").replace(xNe,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var n8=(function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}})();function Fr(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function vA(t){for(var e="",r=0,n=0,s=0,i=0,o=0,l=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(s=t.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=s&63,e+=String.fromCharCode(o);continue}if(i=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}o=t.charCodeAt(r++),l=((n&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function s8(t){var e=el(2*t.length),r,n,s=1,i=0,o=0,l;for(n=0;n<t.length;n+=s)s=1,(l=t.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(t.charCodeAt(n+1)&63),s=2):l<240?(r=(l&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),s=3):(s=4,r=(l&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(e[i++]=o&255,e[i++]=o>>>8,o=0),e[i++]=r%256,e[i++]=r>>>8;return e.slice(0,i).toString("ucs2")}function i8(t){return Sc(t,"binary").toString("utf8")}var Km="foo bar baz",Sr=Wt&&(i8(Km)==vA(Km)&&i8||s8(Km)==vA(Km)&&s8)||vA,lf=Wt?function(t){return Sc(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,s=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},kh=(function(){var t={};return function(r,n){var s=r+"|"+(n||"");return t[s]?t[s]:t[s]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),Q7=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)n=n.replace(t[s][0],t[s][1]);return n}})(),gNe=(function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),bNe=/<\/?(?:vt:)?variant>/g,vNe=/<(?:vt:)([^>]*)>([\s\S]*)</;function o8(t,e){var r=Et(t),n=t.match(gNe(r.baseType))||[],s=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return s}return n.forEach(function(i){var o=i.replace(bNe,"").match(vNe);o&&s.push({v:Sr(o[2]),t:o[1]})}),s}var yNe=/(^\s|\s$|\n)/;function NNe(t){return li(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function wNe(t,e,r){return"<"+t+(r!=null?NNe(r):"")+(e!=null?(e.match(yNe)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function gS(t){if(Wt&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Sr(kc(uS(t)));throw new Error("Bad input format: expected Buffer or string")}var _h=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ANe={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},ENe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function jNe(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,i=5;i>=0;--i)s=s*256+t[e+i];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function TNe(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,s=0,i=0,o=n?-e:e;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(e)?26985:0);for(var l=0;l<=5;++l,i/=256)t[r+l]=i&255;t[r+6]=(s&15)<<4|i&15,t[r+7]=s>>4|n}var l8=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var s=0,i=t[0][n].length;s<i;s+=r)e.push.apply(e,t[0][n].slice(s,s+r));return e},c8=Wt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Sc(e)})):l8(t)}:l8,d8=function(t,e,r){for(var n=[],s=e;s<r;s+=2)n.push(String.fromCharCode(Ui(t,s)));return n.join("").replace(sn,"")},bS=Wt?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(sn,""):d8(t,e,r)}:d8,u8=function(t,e,r){for(var n=[],s=e;s<e+r;++s)n.push(("0"+t[s].toString(16)).slice(-2));return n.join("")},Z7=Wt?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):u8(t,e,r)}:u8,f8=function(t,e,r){for(var n=[],s=e;s<r;s++)n.push(String.fromCharCode(Dd(t,s)));return n.join("")},Zh=Wt?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):f8(e,r,n)}:f8,eB=function(t,e){var r=Un(t,e);return r>0?Zh(t,e+4,e+4+r-1):""},tB=eB,rB=function(t,e){var r=Un(t,e);return r>0?Zh(t,e+4,e+4+r-1):""},aB=rB,nB=function(t,e){var r=2*Un(t,e);return r>0?Zh(t,e+4,e+4+r-1):""},sB=nB,iB=function(e,r){var n=Un(e,r);return n>0?bS(e,r+4,r+4+n):""},oB=iB,lB=function(t,e){var r=Un(t,e);return r>0?Zh(t,e+4,e+4+r):""},cB=lB,dB=function(t,e){return jNe(t,e)},kg=dB,uB=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Wt&&(tB=function(e,r){if(!Buffer.isBuffer(e))return eB(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},aB=function(e,r){if(!Buffer.isBuffer(e))return rB(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},sB=function(e,r){if(!Buffer.isBuffer(e))return nB(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},oB=function(e,r){if(!Buffer.isBuffer(e))return iB(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},cB=function(e,r){if(!Buffer.isBuffer(e))return lB(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},kg=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):dB(e,r)},uB=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Dd=function(t,e){return t[e]},Ui=function(t,e){return t[e+1]*256+t[e]},SNe=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Un=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},$l=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},kNe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Af(t,e){var r="",n,s,i=[],o,l,d,u;switch(e){case"dbcs":if(u=this.l,Wt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)r+=String.fromCharCode(Ui(this,u)),u+=2;t*=2;break;case"utf8":r=Zh(this,this.l,this.l+t);break;case"utf16le":t*=2,r=bS(this,this.l,this.l+t);break;case"wstr":return Af.call(this,t,"dbcs");case"lpstr-ansi":r=tB(this,this.l),t=4+Un(this,this.l);break;case"lpstr-cp":r=aB(this,this.l),t=4+Un(this,this.l);break;case"lpwstr":r=sB(this,this.l),t=4+2*Un(this,this.l);break;case"lpp4":t=4+Un(this,this.l),r=oB(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Un(this,this.l),r=cB(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=Dd(this,this.l+t++))!==0;)i.push(Hm(o));r=i.join("");break;case"_wstr":for(t=0,r="";(o=Ui(this,this.l+t))!==0;)i.push(Hm(o)),t+=2;t+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Dd(this,u),this.l=u+1,l=Af.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Hm(Ui(this,u))),u+=2}r=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Dd(this,u),this.l=u+1,l=Af.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Hm(Dd(this,u))),u+=1}r=i.join("");break;default:switch(t){case 1:return n=Dd(this,this.l),this.l++,n;case 2:return n=(e==="i"?SNe:Ui)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?$l:kNe)(this,this.l),this.l+=4,n):(s=Un(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=kg(this,this.l):s=kg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:r=Z7(this,this.l,t);break}}return this.l+=t,r}var _Ne=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},CNe=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},ONe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function DNe(t,e,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=e.length;++s)ONe(this,e.charCodeAt(s),this.l+2*s);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;n=e.length}else if(r==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var o=e.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,_Ne(this,e,this.l);break;case 8:if(n=8,r==="f"){TNe(this,e,this.l);break}case 16:break;case-4:n=4,CNe(this,e,this.l);break}return this.l+=n,this}function fB(t,e){var r=Z7(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Pa(t,e){t.l=e,t.read_shift=Af,t.chk=fB,t.write_shift=DNe}function Ka(t,e){t.l+=e}function fa(t){var e=el(t);return Pa(e,0),e}function lo(t,e,r){if(t){var n,s,i;Pa(t,t.l||0);for(var o=t.length,l=0,d=0;t.l<o;){l=t.read_shift(1),l&128&&(l=(l&127)+((t.read_shift(1)&127)<<7));var u=Rg[l]||Rg[65535];for(n=t.read_shift(1),i=n&127,s=1;s<4&&n&128;++s)i+=((n=t.read_shift(1))&127)<<7*s;d=t.l+i;var h=u.f&&u.f(t,i,r);if(t.l=d,e(h,u,l))return}}}function Cj(){var t=[],e=Wt?256:2048,r=function(u){var h=fa(u);return Pa(h,0),h},n=r(e),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(s(),n=r(Math.max(u+1,e)))},o=function(){return s(),qo(t)},l=function(u){s(),n=u,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:l,end:o,_bufs:t}}function Ef(t,e,r){var n=La(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function h8(t,e,r){var n=La(t);return n.s=Ef(n.s,e.s,r),n.e=Ef(n.e,e.s,r),n}function jf(t,e){if(t.cRel&&t.c<0)for(t=La(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=La(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Ot(t);return!t.cRel&&t.cRel!=null&&(r=MNe(r)),!t.rRel&&t.rRel!=null&&(r=INe(r)),r}function yA(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+ma(t.s.c)+":"+(t.e.cRel?"":"$")+ma(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Ua(t.s.r)+":"+(t.e.rRel?"":"$")+Ua(t.e.r):jf(t.s,e.biff)+":"+jf(t.e,e.biff)}function vS(t){return parseInt(RNe(t),10)-1}function Ua(t){return""+(t+1)}function INe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function RNe(t){return t.replace(/\$(\d+)$/,"$1")}function yS(t){for(var e=PNe(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function ma(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function MNe(t){return t.replace(/^([A-Z])/,"$$$1")}function PNe(t){return t.replace(/^\$([A-Z])/,"$1")}function LNe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function nn(t){for(var e=0,r=0,n=0;n<t.length;++n){var s=t.charCodeAt(n);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:e-1}}function Ot(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function $u(t){var e=t.indexOf(":");return e==-1?{s:nn(t),e:nn(t)}:{s:nn(t.slice(0,e)),e:nn(t.slice(e+1))}}function Zt(t,e){return typeof e>"u"||typeof e=="number"?Zt(t.s,t.e):(typeof t!="string"&&(t=Ot(t)),typeof e!="string"&&(e=Ot(e)),t==e?t:t+":"+e)}function Kr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,i=t.length;for(r=0;n<i&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.s.c=--r,r=0;n<i&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(e.s.r=--r,n===i||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=i&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.e.c=--r,r=0;n!=i&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return e.e.r=--r,e}function p8(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=bs(t.z,r?dn(e):e)}catch{}try{return t.w=bs((t.XF||{}).numFmtId||(r?14:0),r?dn(e):e)}catch{return""+e}}function eo(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Oc[t.v]||t.v:e==null?p8(t,t.v):p8(t,e))}function fl(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function hB(t,e,r){var n=r||{},s=t?Array.isArray(t):n.dense,i=t||(s?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var d=typeof n.origin=="string"?nn(n.origin):n.origin;o=d.r,l=d.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=Kr(i["!ref"]);u.s.c=h.s.c,u.s.r=h.s.r,u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(u.e.r=o=h.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=e[p].length;++x)if(!(typeof e[p][x]>"u")){var v={v:e[p][x]},b=o+p,w=l+x;if(u.s.r>b&&(u.s.r=b),u.s.c>w&&(u.s.c=w),u.e.r<b&&(u.e.r=b),u.e.c<w&&(u.e.c=w),e[p][x]&&typeof e[p][x]=="object"&&!Array.isArray(e[p][x])&&!(e[p][x]instanceof Date))v=e[p][x];else if(Array.isArray(v.v)&&(v.f=e[p][x][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(n.nullError)v.t="e",v.v=0;else if(n.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=n.dateNF||Mt[14],n.cellDates?(v.t="d",v.w=bs(v.z,dn(v.v))):(v.t="n",v.v=dn(v.v),v.w=bs(v.z,v.v))):v.t="s";if(s)i[b]||(i[b]=[]),i[b][w]&&i[b][w].z&&(v.z=i[b][w].z),i[b][w]=v;else{var g=Ot({c:w,r:b});i[g]&&i[g].z&&(v.z=i[g].z),i[g]=v}}}return u.s.c<1e7&&(i["!ref"]=Zt(u)),i}function Gu(t,e){return hB(null,t,e)}function UNe(t){return t.read_shift(4,"i")}function Ha(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function FNe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function NS(t,e){var r=t.l,n=t.read_shift(1),s=Ha(t),i=[],o={t:s,h:s};if((n&1)!==0){for(var l=t.read_shift(4),d=0;d!=l;++d)i.push(FNe(t));o.r=i}else o.r=[{ich:0,ifnt:0}];return t.l=r+e,o}var BNe=NS;function Ns(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function _c(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var zNe=Ha;function wS(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var qNe=Ha,Oj=wS;function AS(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var s=n===0?kg([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):$l(e,0)>>2;return r?s/100:s}function pB(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var Cc=pB;function $a(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function VNe(t){var e={},r=t.read_shift(1),n=r>>>1,s=t.read_shift(1),i=t.read_shift(2,"i"),o=t.read_shift(1),l=t.read_shift(1),d=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=s;var u=tc[s];u&&(e.rgb=Oh(u));break;case 2:e.rgb=Oh([o,l,d]);break;case 3:e.theme=s;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function $Ne(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function mB(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function GNe(t){return mB(t,1)}function HNe(t){return mB(t,2)}var ES=2,bn=3,Ym=11,m8=12,_g=19,Wm=64,KNe=65,YNe=71,WNe=4108,XNe=4126,Aa=80,xB=81,JNe=[Aa,xB],QNe={1:{n:"CodePage",t:ES},2:{n:"Category",t:Aa},3:{n:"PresentationFormat",t:Aa},4:{n:"ByteCount",t:bn},5:{n:"LineCount",t:bn},6:{n:"ParagraphCount",t:bn},7:{n:"SlideCount",t:bn},8:{n:"NoteCount",t:bn},9:{n:"HiddenCount",t:bn},10:{n:"MultimediaClipCount",t:bn},11:{n:"ScaleCrop",t:Ym},12:{n:"HeadingPairs",t:WNe},13:{n:"TitlesOfParts",t:XNe},14:{n:"Manager",t:Aa},15:{n:"Company",t:Aa},16:{n:"LinksUpToDate",t:Ym},17:{n:"CharacterCount",t:bn},19:{n:"SharedDoc",t:Ym},22:{n:"HyperlinksChanged",t:Ym},23:{n:"AppVersion",t:bn,p:"version"},24:{n:"DigSig",t:KNe},26:{n:"ContentType",t:Aa},27:{n:"ContentStatus",t:Aa},28:{n:"Language",t:Aa},29:{n:"Version",t:Aa},255:{},2147483648:{n:"Locale",t:_g},2147483651:{n:"Behavior",t:_g},1919054434:{}},ZNe={1:{n:"CodePage",t:ES},2:{n:"Title",t:Aa},3:{n:"Subject",t:Aa},4:{n:"Author",t:Aa},5:{n:"Keywords",t:Aa},6:{n:"Comments",t:Aa},7:{n:"Template",t:Aa},8:{n:"LastAuthor",t:Aa},9:{n:"RevNumber",t:Aa},10:{n:"EditTime",t:Wm},11:{n:"LastPrinted",t:Wm},12:{n:"CreatedDate",t:Wm},13:{n:"ModifiedDate",t:Wm},14:{n:"PageCount",t:bn},15:{n:"WordCount",t:bn},16:{n:"CharCount",t:bn},17:{n:"Thumbnail",t:YNe},18:{n:"Application",t:Aa},19:{n:"DocSecurity",t:bn},255:{},2147483648:{n:"Locale",t:_g},2147483651:{n:"Behavior",t:_g},1919054434:{}},x8={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},e2e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function t2e(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var r2e=t2e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),tc=La(r2e),Oc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},gB={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},g8={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function a2e(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function n2e(t){var e=a2e();if(!t||!t.match)return e;var r={};if((t.match(Ya)||[]).forEach(function(n){var s=Et(n);switch(s[0].replace(fNe,"<")){case"<?xml":break;case"<Types":e.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[s.Extension]=s.ContentType;break;case"<Override":e[g8[s.ContentType]]!==void 0&&e[g8[s.ContentType]].push(s.PartName);break}}),e.xmlns!==ANe.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}var Bd={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Dj(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Tf(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(Ya)||[]).forEach(function(s){var i=Et(s);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:of(i.Target,e);r[l]=o,n[i.Id]=o}}),r["!id"]=n,r}var s2e="application/vnd.oasis.opendocument.spreadsheet";function i2e(t,e){for(var r=gS(t),n,s;n=_h.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(s=Et(n[0],!1),s.path=="/"&&s.type!==s2e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var Sf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],o2e=(function(){for(var t=new Array(Sf.length),e=0;e<Sf.length;++e){var r=Sf[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t})();function bB(t){var e={};t=Sr(t);for(var r=0;r<Sf.length;++r){var n=Sf[r],s=t.match(o2e[r]);s!=null&&s.length>0&&(e[n[1]]=tr(s[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=ja(e[n[1]]))}return e}var l2e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function vB(t,e,r,n){var s=[];if(typeof t=="string")s=o8(t,n);else for(var i=0;i<t.length;++i)s=s.concat(t[i].map(function(h){return{v:h}}));var o=typeof e=="string"?o8(e,n).map(function(h){return h.v}):e,l=0,d=0;if(o.length>0)for(var u=0;u!==s.length;u+=2){switch(d=+s[u+1].v,s[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=d,r.SheetNames=o.slice(l,l+d);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=d,r.DefinedNames=o.slice(l,l+d);break;case"Charts":case"Diagramme":r.Chartsheets=d,r.ChartNames=o.slice(l,l+d);break}l+=d}}function c2e(t,e,r){var n={};return e||(e={}),t=Sr(t),l2e.forEach(function(s){var i=(t.match(kh(s[0]))||[])[1];switch(s[2]){case"string":i&&(e[s[1]]=tr(i));break;case"bool":e[s[1]]=i==="true";break;case"raw":var o=t.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));o&&o.length>0&&(n[s[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&vB(n.HeadingPairs,n.TitlesOfParts,e,r),e}var d2e=/<[^>]+>[^<]*/g;function u2e(t,e){var r={},n="",s=t.match(d2e);if(s)for(var i=0;i!=s.length;++i){var o=s[i],l=Et(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=tr(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var d=o.split(">"),u=d[0].slice(4),h=d[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=tr(h);break;case"bool":r[n]=Fr(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(h,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(h);break;case"filetime":case"date":r[n]=ja(h);break;case"cy":case"error":r[n]=tr(h);break;default:if(u.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,d)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return r}var f2e={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},NA;function h2e(t,e,r){NA||(NA=pS(f2e)),e=NA[e]||e,t[e]=r}function jS(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function yB(t,e,r){var n=t.l,s=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return s}function NB(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function wB(t,e,r){return e===31?NB(t):yB(t,e,r)}function Ij(t,e,r){return wB(t,e,r===!1?0:4)}function p2e(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return wB(t,e,0)}function m2e(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var s=t.l;r[n]=t.read_shift(0,"lpwstr").replace(sn,""),t.l-s&2&&(t.l+=2)}return r}function x2e(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(sn,"");return r}function g2e(t){var e=t.l,r=Cg(t,xB);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=Cg(t,bn);return[r,n]}function b2e(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(g2e(t));return r}function b8(t,e){for(var r=t.read_shift(4),n={},s=0;s!=r;++s){var i=t.read_shift(4),o=t.read_shift(4);n[i]=t.read_shift(o,e===1200?"utf16le":"utf8").replace(sn,"").replace(sf,"!"),e===1200&&o%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function AB(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function v2e(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function Cg(t,e,r){var n=t.read_shift(2),s,i=r||{};if(t.l+=2,e!==m8&&n!==e&&JNe.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===m8?n:e){case 2:return s=t.read_shift(2,"i"),i.raw||(t.l+=2),s;case 3:return s=t.read_shift(4,"i"),s;case 11:return t.read_shift(4)!==0;case 19:return s=t.read_shift(4),s;case 30:return yB(t,n,4).replace(sn,"");case 31:return NB(t);case 64:return jS(t);case 65:return AB(t);case 71:return v2e(t);case 80:return Ij(t,n,!i.raw).replace(sn,"");case 81:return p2e(t,n).replace(sn,"");case 4108:return b2e(t);case 4126:case 4127:return n==4127?m2e(t):x2e(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function v8(t,e){var r=t.l,n=t.read_shift(4),s=t.read_shift(4),i=[],o=0,l=0,d=-1,u={};for(o=0;o!=s;++o){var h=t.read_shift(4),p=t.read_shift(4);i[o]=[h,p+r]}i.sort(function(k,y){return k[1]-y[1]});var x={};for(o=0;o!=s;++o){if(t.l!==i[o][1]){var v=!0;if(o>0&&e)switch(e[i[o-1][0]].t){case 2:t.l+2===i[o][1]&&(t.l+=2,v=!1);break;case 80:t.l<=i[o][1]&&(t.l=i[o][1],v=!1);break;case 4108:t.l<=i[o][1]&&(t.l=i[o][1],v=!1);break}if((!e||o==0)&&t.l<=i[o][1]&&(v=!1,t.l=i[o][1]),v)throw new Error("Read Error: Expected address "+i[o][1]+" at "+t.l+" :"+o)}if(e){var b=e[i[o][0]];if(x[b.n]=Cg(t,b.t,{raw:!0}),b.p==="version"&&(x[b.n]=String(x[b.n]>>16)+"."+("0000"+String(x[b.n]&65535)).slice(-4)),b.n=="CodePage")switch(x[b.n]){case 0:x[b.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ps(l=x[b.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+x[b.n])}}else if(i[o][0]===1){if(l=x.CodePage=Cg(t,ES),Ps(l),d!==-1){var w=t.l;t.l=i[d][1],u=b8(t,l),t.l=w}}else if(i[o][0]===0){if(l===0){d=o,t.l=i[o+1][1];continue}u=b8(t,l)}else{var g=u[i[o][0]],S;switch(t[t.l]){case 65:t.l+=4,S=AB(t);break;case 30:t.l+=4,S=Ij(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,S=Ij(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,S=t.read_shift(4,"i");break;case 19:t.l+=4,S=t.read_shift(4);break;case 5:t.l+=4,S=t.read_shift(8,"f");break;case 11:t.l+=4,S=Xr(t,4);break;case 64:t.l+=4,S=ja(jS(t));break;default:throw new Error("unparsed value: "+t[t.l])}x[g]=S}}return t.l=r+n,x}function y8(t,e,r){var n=t.content;if(!n)return{};Pa(n,0);var s,i,o,l,d=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),h=n.read_shift(16);if(h!==Qt.utils.consts.HEADER_CLSID&&h!==r)throw new Error("Bad PropertySet CLSID "+h);if(s=n.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(i=n.read_shift(16),l=n.read_shift(4),s===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);s===2&&(o=n.read_shift(16),d=n.read_shift(4));var p=v8(n,e),x={SystemIdentifier:u};for(var v in p)x[v]=p[v];if(x.FMTID=i,s===1)return x;if(d-n.l==2&&(n.l+=2),n.l!==d)throw new Error("Length mismatch 2: "+n.l+" !== "+d);var b;try{b=v8(n,null)}catch{}for(v in b)x[v]=b[v];return x.FMTID=[i,o],x}function Mo(t,e){return t.read_shift(e),null}function y2e(t,e,r){for(var n=[],s=t.l+e;t.l<s;)n.push(r(t,s-t.l));if(s!==t.l)throw new Error("Slurp error");return n}function Xr(t,e){return t.read_shift(e)===1}function aa(t){return t.read_shift(2,"u")}function EB(t,e){return y2e(t,e,aa)}function N2e(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function ep(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=t.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=n?t.read_shift(n,s):"";return o}function w2e(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,s=r&8,i=1+(r&1),o=0,l,d={};s&&(o=t.read_shift(2)),n&&(l=t.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",h=e===0?"":t.read_shift(e,u);return s&&(t.l+=4*o),n&&(t.l+=l),d.t=h,s||(d.raw="<t>"+d.t+"</t>",d.r=d.t),d}function yc(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function tp(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):yc(t,n,r)}function Dc(t,e,r){if(r.biff>5)return tp(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function A2e(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function E2e(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var s=t.read_shift((n?e-24:e)>>1,"utf16le").replace(sn,"");return n&&(t.l+=24),s}function j2e(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=t.read_shift(4);if(s===0)return r+n.replace(/\\/g,"/");var i=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=t.read_shift(i>>1,"utf16le").replace(sn,"");return r+o}function T2e(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return E2e(t);case"0303000000000000c000000000000046":return j2e(t);default:throw new Error("Unsupported Moniker "+r)}}function Xm(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(sn,""):"";return r}function S2e(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var s=t.read_shift(2);t.l+=2;var i,o,l,d,u="",h,p;s&16&&(i=Xm(t,r-t.l)),s&128&&(o=Xm(t,r-t.l)),(s&257)===257&&(l=Xm(t,r-t.l)),(s&257)===1&&(d=T2e(t,r-t.l)),s&8&&(u=Xm(t,r-t.l)),s&32&&(h=t.read_shift(16)),s&64&&(p=jS(t)),t.l=r;var x=o||l||d||"";x&&u&&(x+="#"+u),x||(x="#"+u),s&2&&x.charAt(0)=="/"&&x.charAt(1)!="/"&&(x="file://"+x);var v={Target:x};return h&&(v.guid=h),p&&(v.time=p),i&&(v.Tooltip=i),v}function jB(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),s=t.read_shift(1);return[e,r,n,s]}function TB(t,e){var r=jB(t);return r[3]=0,r}function hi(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function k2e(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function _2e(t,e,r){return e===0?"":Dc(t,e,r)}function C2e(t,e,r){var n=r.biff>8?4:2,s=t.read_shift(n),i=t.read_shift(n,"i"),o=t.read_shift(n,"i");return[s,i,o]}function SB(t){var e=t.read_shift(2),r=AS(t);return[e,r]}function O2e(t,e,r){t.l+=4,e-=4;var n=t.l+e,s=ep(t,e,r),i=t.read_shift(2);if(n-=t.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return t.l+=i,s}function Mb(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),s=t.read_shift(2);return{s:{c:n,r:e},e:{c:s,r}}}function kB(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),s=t.read_shift(1);return{s:{c:n,r:e},e:{c:s,r}}}var D2e=kB;function _B(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function I2e(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function R2e(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Ba(t){t.l+=2,t.l+=t.read_shift(2)}var M2e={0:Ba,4:Ba,5:Ba,6:Ba,7:R2e,8:Ba,9:Ba,10:Ba,11:Ba,12:Ba,13:I2e,14:Ba,15:Ba,16:Ba,17:Ba,18:Ba,19:Ba,20:Ba,21:_B};function P2e(t,e){for(var r=t.l+e,n=[];t.l<r;){var s=t.read_shift(2);t.l-=2;try{n.push(M2e[s](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function Jm(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function L2e(t,e){return e===0||t.read_shift(2),1200}function U2e(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,s=Dc(t,0,r);return t.read_shift(e+n-t.l),s}function F2e(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function B2e(t,e,r){var n=t.read_shift(4),s=t.read_shift(1)&3,i=t.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=ep(t,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:s,dt:i,name:o}}function z2e(t,e){for(var r=t.l+e,n=t.read_shift(4),s=t.read_shift(4),i=[],o=0;o!=s&&t.l<r;++o)i.push(w2e(t));return i.Count=n,i.Unique=s,i}function q2e(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function V2e(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function $2e(t){var e=k2e(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function G2e(t){return t.read_shift(2),t.read_shift(4)}function N8(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var s=t.read_shift(2);r&&r.biff==2&&(n=1-(s>>15),s&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,s]}function H2e(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),d=t.read_shift(2),u=t.read_shift(2);return{Pos:[e,r],Dim:[n,s],Flags:i,CurTab:o,FirstTab:l,Selected:d,TabRatio:u}}function K2e(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function Y2e(){}function W2e(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=ep(t,0,r),n}function X2e(t){var e=hi(t);return e.isst=t.read_shift(4),e}function J2e(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,s=hi(t);r.biff==2&&t.l++;var i=tp(t,n-t.l,r);return s.val=i,s}function Q2e(t,e,r){var n=t.read_shift(2),s=Dc(t,0,r);return[n,s]}var Z2e=Dc;function w8(t,e,r){var n=t.l+e,s=r.biff==8||!r.biff?4:2,i=t.read_shift(s),o=t.read_shift(s),l=t.read_shift(2),d=t.read_shift(2);return t.l=n,{s:{r:i,c:l},e:{r:o,c:d}}}function ewe(t){var e=t.read_shift(2),r=t.read_shift(2),n=SB(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function twe(t,e){for(var r=t.l+e-2,n=t.read_shift(2),s=t.read_shift(2),i=[];t.l<r;)i.push(SB(t));if(t.l!==r)throw new Error("MulRK read error");var o=t.read_shift(2);if(i.length!=o-s+1)throw new Error("MulRK length mismatch");return{r:n,c:s,C:o,rkrec:i}}function rwe(t,e){for(var r=t.l+e-2,n=t.read_shift(2),s=t.read_shift(2),i=[];t.l<r;)i.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var o=t.read_shift(2);if(i.length!=o-s+1)throw new Error("MulBlank length mismatch");return{r:n,c:s,C:o,ixfe:i}}function awe(t,e,r,n){var s={},i=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(4),d=t.read_shift(2);return s.patternType=e2e[l>>26],n.cellStyles&&(s.alc=i&7,s.fWrap=i>>3&1,s.alcV=i>>4&7,s.fJustLast=i>>7&1,s.trot=i>>8&255,s.cIndent=i>>16&15,s.fShrinkToFit=i>>20&1,s.iReadOrder=i>>22&2,s.fAtrNum=i>>26&1,s.fAtrFnt=i>>27&1,s.fAtrAlc=i>>28&1,s.fAtrBdr=i>>29&1,s.fAtrPat=i>>30&1,s.fAtrProt=i>>31&1,s.dgLeft=o&15,s.dgRight=o>>4&15,s.dgTop=o>>8&15,s.dgBottom=o>>12&15,s.icvLeft=o>>16&127,s.icvRight=o>>23&127,s.grbitDiag=o>>30&3,s.icvTop=l&127,s.icvBottom=l>>7&127,s.icvDiag=l>>14&127,s.dgDiag=l>>21&15,s.icvFore=d&127,s.icvBack=d>>7&127,s.fsxButton=d>>14&1),s}function nwe(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=awe(t,e,n.fStyle,r),n}function swe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function A8(t,e,r){var n=hi(t);(r.biff==2||e==9)&&++t.l;var s=N2e(t);return n.val=s,n.t=s===!0||s===!1?"b":"e",n}function iwe(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=hi(t),s=$a(t);return n.val=s,n}var E8=_2e;function owe(t,e,r){var n=t.l+e,s=t.read_shift(2),i=t.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,s];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=yc(t,i),l=[];n>t.l;)l.push(tp(t));return[i,s,o,l]}function j8(t,e,r){var n=t.read_shift(2),s,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(s=O2e(t,e-2,r)),i.body=s||t.read_shift(e-2),typeof s=="string"&&(i.Name=s),i}var lwe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function T8(t,e,r){var n=t.l+e,s=t.read_shift(2),i=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(r&&r.biff==2?1:2),d=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),d=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var u=yc(t,o,r);s&32&&(u=lwe[u.charCodeAt(0)]);var h=n-t.l;r&&r.biff==2&&--h;var p=n==t.l||l===0||!(h>0)?[]:Vje(t,h,r,l);return{chKey:i,Name:u,itab:d,rgce:p}}function CB(t,e,r){if(r.biff<8)return cwe(t,e,r);for(var n=[],s=t.l+e,i=t.read_shift(r.biff>8?4:2);i--!==0;)n.push(C2e(t,r.biff>8?12:6,r));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return n}function cwe(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=ep(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function dwe(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),s=t.read_shift(2),i=yc(t,n,r),o=yc(t,s,r);return[i,o]}function uwe(t,e,r){var n=kB(t);t.l++;var s=t.read_shift(1);return e-=8,[$je(t,e,r),s,n]}function S8(t,e,r){var n=D2e(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,zje(t,e,r)]}function fwe(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function hwe(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2),l=Dc(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:s},l,o,i]}}function pwe(t,e,r){return hwe(t,e,r)}function mwe(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(Mb(t));return r}function xwe(t,e,r){if(r&&r.biff<8)return bwe(t,e,r);var n=_B(t),s=P2e(t,e-22,n[1]);return{cmo:n,ft:s}}var gwe={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var s=t.read_shift(1);return t.l+=s,t.l=r,{fmt:n}}};function bwe(t,e,r){t.l+=4;var n=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var o=[];return o.push((gwe[n]||Ka)(t,e,r)),{cmo:[s,n,i],ft:o}}function vwe(t,e,r){var n=t.l,s="";try{t.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?t.l+=6:o=A2e(t,6,r);var l=t.read_shift(2);t.read_shift(2),aa(t,2);var d=t.read_shift(2);t.l+=d;for(var u=1;u<t.lens.length-1;++u){if(t.l-n!=t.lens[u])throw new Error("TxO: bad continue record");var h=t[t.l],p=yc(t,t.lens[u+1]-t.lens[u]-1);if(s+=p,s.length>=(h?l:2*l))break}if(s.length!==l&&s.length!==l*2)throw new Error("cchText: "+l+" != "+s.length);return t.l=n+e,{t:s}}catch{return t.l=n+e,{t:s}}}function ywe(t,e){var r=Mb(t);t.l+=16;var n=S2e(t,e-24);return[r,n]}function Nwe(t,e){t.read_shift(2);var r=Mb(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(sn,""),[r,n]}function wwe(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=x8[r]||r,r=t.read_shift(2),e[1]=x8[r]||r,e}function Awe(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(TB(t));return r}function Ewe(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(TB(t));return r}function jwe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function OB(t,e,r){if(!r.cellStyles)return Ka(t,e);var n=r&&r.biff>=12?4:2,s=t.read_shift(n),i=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(n),d=t.read_shift(2);n==2&&(t.l+=2);var u={s,e:i,w:o,ixfe:l,flags:d};return(r.biff>=5||!r.biff)&&(u.level=d>>8&7),u}function Twe(t,e){var r={};return e<32||(t.l+=16,r.header=$a(t),r.footer=$a(t),t.l+=2),r}function Swe(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var s=t.read_shift(1);return t.l+=3,s&16&&(n.area=!0),n}var kwe=hi,_we=EB,Cwe=tp;function Owe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),s={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,s}function Dwe(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=hi(t);++t.l;var s=Dc(t,e-7,r);return n.t="str",n.val=s,n}function Iwe(t){var e=hi(t);++t.l;var r=$a(t);return e.t="n",e.val=r,e}function Rwe(t){var e=hi(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function Mwe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function Pwe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function Lwe(t,e,r){var n=t.l+e,s=hi(t),i=t.read_shift(2),o=yc(t,i,r);return t.l=n,s.t="str",s.val=o,s}var Uwe=[2,3,48,49,131,139,140,245],k8=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=pS({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,d){var u=[],h=el(1);switch(d.type){case"base64":h=Ms(Kn(l));break;case"binary":h=Ms(l);break;case"buffer":case"array":h=l;break}Pa(h,0);var p=h.read_shift(1),x=!!(p&136),v=!1,b=!1;switch(p){case 2:break;case 3:break;case 48:v=!0,x=!0;break;case 49:v=!0,x=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var w=0,g=521;p==2&&(w=h.read_shift(2)),h.l+=3,p!=2&&(w=h.read_shift(4)),w>1048576&&(w=1e6),p!=2&&(g=h.read_shift(2));var S=h.read_shift(2),k=d.codepage||1252;p!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(k=t[h[h.l]]),h.l+=1,h.l+=2),b&&(h.l+=36);for(var y=[],j={},T=Math.min(h.length,p==2?521:g-10-(v?264:0)),_=b?32:11;h.l<T&&h[h.l]!=13;)switch(j={},j.name=Th.utils.decode(k,h.slice(h.l,h.l+_)).replace(/[\u0000\r\n].*$/g,""),h.l+=_,j.type=String.fromCharCode(h.read_shift(1)),p!=2&&!b&&(j.offset=h.read_shift(4)),j.len=h.read_shift(1),p==2&&(j.offset=h.read_shift(2)),j.dec=h.read_shift(1),j.name.length&&y.push(j),p!=2&&(h.l+=b?13:14),j.type){case"B":(!v||j.len!=8)&&d.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(h[h.l]!==13&&(h.l=g-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=g;var O=0,M=0;for(u[0]=[],M=0;M!=y.length;++M)u[0][M]=y[M].name;for(;w-- >0;){if(h[h.l]===42){h.l+=S;continue}for(++h.l,u[++O]=[],M=0,M=0;M!=y.length;++M){var D=h.slice(h.l,h.l+y[M].len);h.l+=y[M].len,Pa(D,0);var F=Th.utils.decode(k,D);switch(y[M].type){case"C":F.trim().length&&(u[O][M]=F.replace(/\s+$/,""));break;case"D":F.length===8?u[O][M]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):u[O][M]=F;break;case"F":u[O][M]=parseFloat(F.trim());break;case"+":case"I":u[O][M]=b?D.read_shift(-4,"i")^2147483648:D.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":u[O][M]=!0;break;case"N":case"F":u[O][M]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));u[O][M]="##MEMO##"+(b?parseInt(F.trim(),10):D.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(u[O][M]=+F||0);break;case"@":u[O][M]=new Date(D.read_shift(-8,"f")-621356832e5);break;case"T":u[O][M]=new Date((D.read_shift(4)-2440588)*864e5+D.read_shift(4));break;case"Y":u[O][M]=D.read_shift(4,"i")/1e4+D.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[O][M]=-D.read_shift(-8,"f");break;case"B":if(v&&y[M].len==8){u[O][M]=D.read_shift(8,"f");break}case"G":case"P":D.l+=y[M].len;break;case"0":if(y[M].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[M].type)}}}if(p!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return d&&d.sheetRows&&(u=u.slice(0,d.sheetRows)),d.DBF=y,u}function n(l,d){var u=d||{};u.dateNF||(u.dateNF="yyyymmdd");var h=Gu(r(l,u),u);return h["!cols"]=u.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete u.DBF,h}function s(l,d){try{return fl(n(l,d),d)}catch(u){if(d&&d.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,d){var u=d||{};if(+u.codepage>=0&&Ps(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var h=Cj(),p=Bj(l,{header:1,raw:!0,cellDates:!0}),x=p[0],v=p.slice(1),b=l["!cols"]||[],w=0,g=0,S=0,k=1;for(w=0;w<x.length;++w){if(((b[w]||{}).DBF||{}).name){x[w]=b[w].DBF.name,++S;continue}if(x[w]!=null){if(++S,typeof x[w]=="number"&&(x[w]=x[w].toString(10)),typeof x[w]!="string")throw new Error("DBF Invalid column name "+x[w]+" |"+typeof x[w]+"|");if(x.indexOf(x[w])!==w){for(g=0;g<1024;++g)if(x.indexOf(x[w]+"_"+g)==-1){x[w]+="_"+g;break}}}}var y=Kr(l["!ref"]),j=[],T=[],_=[];for(w=0;w<=y.e.c-y.s.c;++w){var O="",M="",D=0,F=[];for(g=0;g<v.length;++g)v[g][w]!=null&&F.push(v[g][w]);if(F.length==0||x[w]==null){j[w]="?";continue}for(g=0;g<F.length;++g){switch(typeof F[g]){case"number":M="B";break;case"string":M="C";break;case"boolean":M="L";break;case"object":M=F[g]instanceof Date?"D":"C";break;default:M="C"}D=Math.max(D,String(F[g]).length),O=O&&O!=M?"C":M}D>250&&(D=250),M=((b[w]||{}).DBF||{}).type,M=="C"&&b[w].DBF.len>D&&(D=b[w].DBF.len),O=="B"&&M=="N"&&(O="N",_[w]=b[w].DBF.dec,D=b[w].DBF.len),T[w]=O=="C"||M=="N"?D:i[O]||0,k+=T[w],j[w]=O}var q=h.next(32);for(q.write_shift(4,318902576),q.write_shift(4,v.length),q.write_shift(2,296+32*S),q.write_shift(2,k),w=0;w<4;++w)q.write_shift(4,0);for(q.write_shift(4,0|(+e[C7]||3)<<8),w=0,g=0;w<x.length;++w)if(x[w]!=null){var L=h.next(32),B=(x[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,B,"sbcs"),L.write_shift(1,j[w]=="?"?"C":j[w],"sbcs"),L.write_shift(4,g),L.write_shift(1,T[w]||i[j[w]]||0),L.write_shift(1,_[w]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),g+=T[w]||i[j[w]]||0}var X=h.next(264);for(X.write_shift(4,13),w=0;w<65;++w)X.write_shift(4,0);for(w=0;w<v.length;++w){var P=h.next(k);for(P.write_shift(1,0),g=0;g<x.length;++g)if(x[g]!=null)switch(j[g]){case"L":P.write_shift(1,v[w][g]==null?63:v[w][g]?84:70);break;case"B":P.write_shift(8,v[w][g]||0,"f");break;case"N":var U="0";for(typeof v[w][g]=="number"&&(U=v[w][g].toFixed(_[g]||0)),S=0;S<T[g]-U.length;++S)P.write_shift(1,32);P.write_shift(1,U,"sbcs");break;case"D":v[w][g]?(P.write_shift(4,("0000"+v[w][g].getFullYear()).slice(-4),"sbcs"),P.write_shift(2,("00"+(v[w][g].getMonth()+1)).slice(-2),"sbcs"),P.write_shift(2,("00"+v[w][g].getDate()).slice(-2),"sbcs")):P.write_shift(8,"00000000","sbcs");break;case"C":var z=String(v[w][g]!=null?v[w][g]:"").slice(0,T[g]);for(P.write_shift(1,z,"sbcs"),S=0;S<T[g]-z.length;++S)P.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:s,to_sheet:n,from_sheet:o}})(),Fwe=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+li(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(x,v){var b=t[v];return typeof b=="number"?$P(b):b},n=function(x,v,b){var w=v.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return w==59?x:$P(w)};t["|"]=254;function s(x,v){switch(v.type){case"base64":return i(Kn(x),v);case"binary":return i(x,v);case"buffer":return i(Wt&&Buffer.isBuffer(x)?x.toString("binary"):kc(x),v);case"array":return i(vc(x),v)}throw new Error("Unrecognized type "+v.type)}function i(x,v){var b=x.split(/[\n\r]+/),w=-1,g=-1,S=0,k=0,y=[],j=[],T=null,_={},O=[],M=[],D=[],F=0,q;for(+v.codepage>=0&&Ps(+v.codepage);S!==b.length;++S){F=0;var L=b[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),B=L.replace(/;;/g,"\0").split(";").map(function(ee){return ee.replace(/\u0000/g,";")}),X=B[0],P;if(L.length>0)switch(X){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":B[1].charAt(0)=="P"&&j.push(L.slice(3).replace(/;;/g,";"));break;case"C":var U=!1,z=!1,V=!1,Y=!1,se=-1,K=-1;for(k=1;k<B.length;++k)switch(B[k].charAt(0)){case"A":break;case"X":g=parseInt(B[k].slice(1))-1,z=!0;break;case"Y":for(w=parseInt(B[k].slice(1))-1,z||(g=0),q=y.length;q<=w;++q)y[q]=[];break;case"K":P=B[k].slice(1),P.charAt(0)==='"'?P=P.slice(1,P.length-1):P==="TRUE"?P=!0:P==="FALSE"?P=!1:isNaN(zs(P))?isNaN(ku(P).getDate())||(P=ja(P)):(P=zs(P),T!==null&&Vu(T)&&(P=Rb(P))),U=!0;break;case"E":Y=!0;var G=Wd(B[k].slice(1),{r:w,c:g});y[w][g]=[y[w][g],G];break;case"S":V=!0,y[w][g]=[y[w][g],"S5S"];break;case"G":break;case"R":se=parseInt(B[k].slice(1))-1;break;case"C":K=parseInt(B[k].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+L)}if(U&&(y[w][g]&&y[w][g].length==2?y[w][g][0]=P:y[w][g]=P,T=null),V){if(Y)throw new Error("SYLK shared formula cannot have own formula");var W=se>-1&&y[se][K];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");y[w][g][1]=zB(W[1],{r:w-se,c:g-K})}break;case"F":var Q=0;for(k=1;k<B.length;++k)switch(B[k].charAt(0)){case"X":g=parseInt(B[k].slice(1))-1,++Q;break;case"Y":for(w=parseInt(B[k].slice(1))-1,q=y.length;q<=w;++q)y[q]=[];break;case"M":F=parseInt(B[k].slice(1))/20;break;case"F":break;case"G":break;case"P":T=j[parseInt(B[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(D=B[k].slice(1).split(" "),q=parseInt(D[0],10);q<=parseInt(D[1],10);++q)F=parseInt(D[2],10),M[q-1]=F===0?{hidden:!0}:{wch:F},_u(M[q-1]);break;case"C":g=parseInt(B[k].slice(1))-1,M[g]||(M[g]={});break;case"R":w=parseInt(B[k].slice(1))-1,O[w]||(O[w]={}),F>0?(O[w].hpt=F,O[w].hpx=Dh(F)):F===0&&(O[w].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+L)}Q<1&&(T=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+L)}}return O.length>0&&(_["!rows"]=O),M.length>0&&(_["!cols"]=M),v&&v.sheetRows&&(y=y.slice(0,v.sheetRows)),[y,_]}function o(x,v){var b=s(x,v),w=b[0],g=b[1],S=Gu(w,v);return li(g).forEach(function(k){S[k]=g[k]}),S}function l(x,v){return fl(o(x,v),v)}function d(x,v,b,w){var g="C;Y"+(b+1)+";X"+(w+1)+";K";switch(x.t){case"n":g+=x.v||0,x.f&&!x.F&&(g+=";E"+jEe(x.f,{r:b,c:w}));break;case"b":g+=x.v?"TRUE":"FALSE";break;case"e":g+=x.w||x.v;break;case"d":g+='"'+(x.w||x.v)+'"';break;case"s":g+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(x,v){v.forEach(function(b,w){var g="F;W"+(w+1)+" "+(w+1)+" ";b.hidden?g+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=Dg(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=Ig(b.wpx)),typeof b.wch=="number"&&(g+=Math.round(b.wch))),g.charAt(g.length-1)!=" "&&x.push(g)})}function h(x,v){v.forEach(function(b,w){var g="F;";b.hidden?g+="M0;":b.hpt?g+="M"+20*b.hpt+";":b.hpx&&(g+="M"+20*UB(b.hpx)+";"),g.length>2&&x.push(g+"R"+(w+1))})}function p(x,v){var b=["ID;PWXL;N;E"],w=[],g=Kr(x["!ref"]),S,k=Array.isArray(x),y=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),x["!cols"]&&u(b,x["!cols"]),x["!rows"]&&h(b,x["!rows"]),b.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var j=g.s.r;j<=g.e.r;++j)for(var T=g.s.c;T<=g.e.c;++T){var _=Ot({r:j,c:T});S=k?(x[j]||[])[T]:x[_],!(!S||S.v==null&&(!S.f||S.F))&&w.push(d(S,x,j,T))}return b.join(y)+y+w.join(y)+y+"E"+y}return{to_workbook:l,to_sheet:o,from_sheet:p}})(),Bwe=(function(){function t(i,o){switch(o.type){case"base64":return e(Kn(i),o);case"binary":return e(i,o);case"buffer":return e(Wt&&Buffer.isBuffer(i)?i.toString("binary"):kc(i),o);case"array":return e(vc(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){for(var l=i.split(`
`),d=-1,u=-1,h=0,p=[];h!==l.length;++h){if(l[h].trim()==="BOT"){p[++d]=[],u=0;continue}if(!(d<0)){var x=l[h].trim().split(","),v=x[0],b=x[1];++h;for(var w=l[h]||"";(w.match(/["]/g)||[]).length&1&&h<l.length-1;)w+=`
`+l[++h];switch(w=w.trim(),+v){case-1:if(w==="BOT"){p[++d]=[],u=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?p[d][u]=!0:w==="FALSE"?p[d][u]=!1:isNaN(zs(b))?isNaN(ku(b).getDate())?p[d][u]=b:p[d][u]=ja(b):p[d][u]=zs(b),++u;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),p[d][u++]=w!==""?w:null;break}if(w==="EOD")break}}return o&&o.sheetRows&&(p=p.slice(0,o.sheetRows)),p}function r(i,o){return Gu(t(i,o),o)}function n(i,o){return fl(r(i,o),o)}var s=(function(){var i=function(d,u,h,p,x){d.push(u),d.push(h+","+p),d.push('"'+x.replace(/"/g,'""')+'"')},o=function(d,u,h,p){d.push(u+","+h),d.push(u==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(d){var u=[],h=Kr(d["!ref"]),p,x=Array.isArray(d);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,h.e.r-h.s.r+1,""),i(u,"TUPLES",0,h.e.c-h.s.c+1,""),i(u,"DATA",0,0,"");for(var v=h.s.r;v<=h.e.r;++v){o(u,-1,0,"BOT");for(var b=h.s.c;b<=h.e.c;++b){var w=Ot({r:v,c:b});if(p=x?(d[v]||[])[b]:d[w],!p){o(u,1,0,"");continue}switch(p.t){case"n":var g=p.w;!g&&p.v!=null&&(g=p.v),g==null?p.f&&!p.F?o(u,1,0,"="+p.f):o(u,1,0,""):o(u,0,g,"V");break;case"b":o(u,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=bs(p.z||Mt[14],dn(ja(p.v)))),o(u,0,p.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var S=`\r
`,k=u.join(S);return k}})();return{to_workbook:n,to_sheet:r,from_sheet:s}})(),zwe=(function(){function t(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,x){for(var v=p.split(`
`),b=-1,w=-1,g=0,S=[];g!==v.length;++g){var k=v[g].trim().split(":");if(k[0]==="cell"){var y=nn(k[1]);if(S.length<=y.r)for(b=S.length;b<=y.r;++b)S[b]||(S[b]=[]);switch(b=y.r,w=y.c,k[2]){case"t":S[b][w]=t(k[3]);break;case"v":S[b][w]=+k[3];break;case"vtf":var j=k[k.length-1];case"vtc":switch(k[3]){case"nl":S[b][w]=!!+k[4];break;default:S[b][w]=+k[4];break}k[2]=="vtf"&&(S[b][w]=[S[b][w],j])}}}return x&&x.sheetRows&&(S=S.slice(0,x.sheetRows)),S}function n(p,x){return Gu(r(p,x),x)}function s(p,x){return fl(n(p,x),x)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function u(p){if(!p||!p["!ref"])return"";for(var x=[],v=[],b,w="",g=$u(p["!ref"]),S=Array.isArray(p),k=g.s.r;k<=g.e.r;++k)for(var y=g.s.c;y<=g.e.c;++y)if(w=Ot({r:k,c:y}),b=S?(p[k]||[])[y]:p[w],!(!b||b.v==null||b.t==="z")){switch(v=["cell",w,"t"],b.t){case"s":case"str":v.push(e(b.v));break;case"n":b.f?(v[2]="vtf",v[3]="n",v[4]=b.v,v[5]=e(b.f)):(v[2]="v",v[3]=b.v);break;case"b":v[2]="vt"+(b.f?"f":"c"),v[3]="nl",v[4]=b.v?"1":"0",v[5]=e(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var j=dn(ja(b.v));v[2]="vtc",v[3]="nd",v[4]=""+j,v[5]=b.w||bs(b.z||Mt[14],j);break;case"e":continue}x.push(v.join(":"))}return x.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function h(p){return[i,o,l,o,u(p),d].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:h}})(),Ch=(function(){function t(h,p,x,v,b){b.raw?p[x][v]=h:h===""||(h==="TRUE"?p[x][v]=!0:h==="FALSE"?p[x][v]=!1:isNaN(zs(h))?isNaN(ku(h).getDate())?p[x][v]=h:p[x][v]=ja(h):p[x][v]=zs(h))}function e(h,p){var x=p||{},v=[];if(!h||h.length===0)return v;for(var b=h.split(/[\r\n]/),w=b.length-1;w>=0&&b[w].length===0;)--w;for(var g=10,S=0,k=0;k<=w;++k)S=b[k].indexOf(" "),S==-1?S=b[k].length:S++,g=Math.max(g,S);for(k=0;k<=w;++k){v[k]=[];var y=0;for(t(b[k].slice(0,g).trim(),v,k,y,x),y=1;y<=(b[k].length-g)/10+1;++y)t(b[k].slice(g+(y-1)*10,g+y*10).trim(),v,k,y,x)}return x.sheetRows&&(v=v.slice(0,x.sheetRows)),v}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(h){for(var p={},x=!1,v=0,b=0;v<h.length;++v)(b=h.charCodeAt(v))==34?x=!x:!x&&b in r&&(p[b]=(p[b]||0)+1);b=[];for(v in p)Object.prototype.hasOwnProperty.call(p,v)&&b.push([p[v],v]);if(!b.length){p=n;for(v in p)Object.prototype.hasOwnProperty.call(p,v)&&b.push([p[v],v])}return b.sort(function(w,g){return w[0]-g[0]||n[w[1]]-n[g[1]]}),r[b.pop()[1]]||44}function i(h,p){var x=p||{},v="",b=x.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(v=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(v=h.charAt(4),h=h.slice(6)):v=s(h.slice(0,1024)):x&&x.FS?v=x.FS:v=s(h.slice(0,1024));var g=0,S=0,k=0,y=0,j=0,T=v.charCodeAt(0),_=!1,O=0,M=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var D=x.dateNF!=null?Q1e(x.dateNF):null;function F(){var q=h.slice(y,j),L={};if(q.charAt(0)=='"'&&q.charAt(q.length-1)=='"'&&(q=q.slice(1,-1).replace(/""/g,'"')),q.length===0)L.t="z";else if(x.raw)L.t="s",L.v=q;else if(q.trim().length===0)L.t="s",L.v=q;else if(q.charCodeAt(0)==61)q.charCodeAt(1)==34&&q.charCodeAt(q.length-1)==34?(L.t="s",L.v=q.slice(2,-1).replace(/""/g,'"')):SEe(q)?(L.t="n",L.f=q.slice(1)):(L.t="s",L.v=q);else if(q=="TRUE")L.t="b",L.v=!0;else if(q=="FALSE")L.t="b",L.v=!1;else if(!isNaN(k=zs(q)))L.t="n",x.cellText!==!1&&(L.w=q),L.v=k;else if(!isNaN(ku(q).getDate())||D&&q.match(D)){L.z=x.dateNF||Mt[14];var B=0;D&&q.match(D)&&(q=Z1e(q,x.dateNF,q.match(D)||[]),B=1),x.cellDates?(L.t="d",L.v=ja(q,B)):(L.t="n",L.v=dn(ja(q,B))),x.cellText!==!1&&(L.w=bs(L.z,L.v instanceof Date?dn(L.v):L.v)),x.cellNF||delete L.z}else L.t="s",L.v=q;if(L.t=="z"||(x.dense?(b[g]||(b[g]=[]),b[g][S]=L):b[Ot({c:S,r:g})]=L),y=j+1,M=h.charCodeAt(y),w.e.c<S&&(w.e.c=S),w.e.r<g&&(w.e.r=g),O==T)++S;else if(S=0,++g,x.sheetRows&&x.sheetRows<=g)return!0}e:for(;j<h.length;++j)switch(O=h.charCodeAt(j)){case 34:M===34&&(_=!_);break;case T:case 10:case 13:if(!_&&F())break e;break}return j-y>0&&F(),b["!ref"]=Zt(w),b}function o(h,p){return!(p&&p.PRN)||p.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,p):Gu(e(h,p),p)}function l(h,p){var x="",v=p.type=="string"?[0,0,0,0]:IS(h,p);switch(p.type){case"base64":x=Kn(h);break;case"binary":x=h;break;case"buffer":p.codepage==65001?x=h.toString("utf8"):p.codepage&&typeof Th<"u"||(x=Wt&&Buffer.isBuffer(h)?h.toString("binary"):kc(h));break;case"array":x=vc(h);break;case"string":x=h;break;default:throw new Error("Unrecognized type "+p.type)}return v[0]==239&&v[1]==187&&v[2]==191?x=Sr(x.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?x=Sr(x):p.type=="binary"&&typeof Th<"u",x.slice(0,19)=="socialcalc:version:"?zwe.to_sheet(p.type=="string"?x:Sr(x),p):o(x,p)}function d(h,p){return fl(l(h,p),p)}function u(h){for(var p=[],x=Kr(h["!ref"]),v,b=Array.isArray(h),w=x.s.r;w<=x.e.r;++w){for(var g=[],S=x.s.c;S<=x.e.c;++S){var k=Ot({r:w,c:S});if(v=b?(h[w]||[])[S]:h[k],!v||v.v==null){g.push("          ");continue}for(var y=(v.w||(eo(v),v.w)||"").slice(0,10);y.length<10;)y+=" ";g.push(y+(S===0?" ":""))}p.push(g.join(""))}return p.join(`
`)}return{to_workbook:d,to_sheet:l,from_sheet:u}})();function qwe(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var s=Fwe.to_workbook(t,r);return r.WTF=n,s}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Ch.to_workbook(t,e)}}var kf=(function(){function t(G,W,Q){if(G){Pa(G,G.l||0);for(var ee=Q.Enum||se;G.l<G.length;){var he=G.read_shift(2),je=ee[he]||ee[65535],me=G.read_shift(2),re=G.l+me,ge=je.f&&je.f(G,me,Q);if(G.l=re,W(ge,je,he))return}}}function e(G,W){switch(W.type){case"base64":return r(Ms(Kn(G)),W);case"binary":return r(Ms(G),W);case"buffer":case"array":return r(G,W)}throw"Unsupported type "+W.type}function r(G,W){if(!G)return G;var Q=W||{},ee=Q.dense?[]:{},he="Sheet1",je="",me=0,re={},ge=[],Me=[],J={s:{r:0,c:0},e:{r:0,c:0}},Ae=Q.sheetRows||0;if(G[2]==0&&(G[3]==8||G[3]==9)&&G.length>=16&&G[14]==5&&G[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(G[2]==2)Q.Enum=se,t(G,function(Ee,fe,Ce){switch(Ce){case 0:Q.vers=Ee,Ee>=4096&&(Q.qpro=!0);break;case 6:J=Ee;break;case 204:Ee&&(je=Ee);break;case 222:je=Ee;break;case 15:case 51:Q.qpro||(Ee[1].v=Ee[1].v.slice(1));case 13:case 14:case 16:Ce==14&&(Ee[2]&112)==112&&(Ee[2]&15)>1&&(Ee[2]&15)<15&&(Ee[1].z=Q.dateNF||Mt[14],Q.cellDates&&(Ee[1].t="d",Ee[1].v=Rb(Ee[1].v))),Q.qpro&&Ee[3]>me&&(ee["!ref"]=Zt(J),re[he]=ee,ge.push(he),ee=Q.dense?[]:{},J={s:{r:0,c:0},e:{r:0,c:0}},me=Ee[3],he=je||"Sheet"+(me+1),je="");var Ue=Q.dense?(ee[Ee[0].r]||[])[Ee[0].c]:ee[Ot(Ee[0])];if(Ue){Ue.t=Ee[1].t,Ue.v=Ee[1].v,Ee[1].z!=null&&(Ue.z=Ee[1].z),Ee[1].f!=null&&(Ue.f=Ee[1].f);break}Q.dense?(ee[Ee[0].r]||(ee[Ee[0].r]=[]),ee[Ee[0].r][Ee[0].c]=Ee[1]):ee[Ot(Ee[0])]=Ee[1];break}},Q);else if(G[2]==26||G[2]==14)Q.Enum=K,G[2]==14&&(Q.qpro=!0,G.l=0),t(G,function(Ee,fe,Ce){switch(Ce){case 204:he=Ee;break;case 22:Ee[1].v=Ee[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ee[3]>me&&(ee["!ref"]=Zt(J),re[he]=ee,ge.push(he),ee=Q.dense?[]:{},J={s:{r:0,c:0},e:{r:0,c:0}},me=Ee[3],he="Sheet"+(me+1)),Ae>0&&Ee[0].r>=Ae)break;Q.dense?(ee[Ee[0].r]||(ee[Ee[0].r]=[]),ee[Ee[0].r][Ee[0].c]=Ee[1]):ee[Ot(Ee[0])]=Ee[1],J.e.c<Ee[0].c&&(J.e.c=Ee[0].c),J.e.r<Ee[0].r&&(J.e.r=Ee[0].r);break;case 27:Ee[14e3]&&(Me[Ee[14e3][0]]=Ee[14e3][1]);break;case 1537:Me[Ee[0]]=Ee[1],Ee[0]==me&&(he=Ee[1]);break}},Q);else throw new Error("Unrecognized LOTUS BOF "+G[2]);if(ee["!ref"]=Zt(J),re[je||he]=ee,ge.push(je||he),!Me.length)return{SheetNames:ge,Sheets:re};for(var ne={},ve=[],we=0;we<Me.length;++we)re[ge[we]]?(ve.push(Me[we]||ge[we]),ne[Me[we]]=re[Me[we]]||re[ge[we]]):(ve.push(Me[we]),ne[Me[we]]={"!ref":"A1"});return{SheetNames:ve,Sheets:ne}}function n(G,W){var Q=W||{};if(+Q.codepage>=0&&Ps(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var ee=Cj(),he=Kr(G["!ref"]),je=Array.isArray(G),me=[];ks(ee,0,i(1030)),ks(ee,6,d(he));for(var re=Math.min(he.e.r,8191),ge=he.s.r;ge<=re;++ge)for(var Me=Ua(ge),J=he.s.c;J<=he.e.c;++J){ge===he.s.r&&(me[J]=ma(J));var Ae=me[J]+Me,ne=je?(G[ge]||[])[J]:G[Ae];if(!(!ne||ne.t=="z"))if(ne.t=="n")(ne.v|0)==ne.v&&ne.v>=-32768&&ne.v<=32767?ks(ee,13,v(ge,J,ne.v)):ks(ee,14,w(ge,J,ne.v));else{var ve=eo(ne);ks(ee,15,p(ge,J,ve.slice(0,239)))}}return ks(ee,1),ee.end()}function s(G,W){var Q=W||{};if(+Q.codepage>=0&&Ps(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var ee=Cj();ks(ee,0,o(G));for(var he=0,je=0;he<G.SheetNames.length;++he)(G.Sheets[G.SheetNames[he]]||{})["!ref"]&&ks(ee,27,Y(G.SheetNames[he],je++));var me=0;for(he=0;he<G.SheetNames.length;++he){var re=G.Sheets[G.SheetNames[he]];if(!(!re||!re["!ref"])){for(var ge=Kr(re["!ref"]),Me=Array.isArray(re),J=[],Ae=Math.min(ge.e.r,8191),ne=ge.s.r;ne<=Ae;++ne)for(var ve=Ua(ne),we=ge.s.c;we<=ge.e.c;++we){ne===ge.s.r&&(J[we]=ma(we));var Ee=J[we]+ve,fe=Me?(re[ne]||[])[we]:re[Ee];if(!(!fe||fe.t=="z"))if(fe.t=="n")ks(ee,23,F(ne,we,me,fe.v));else{var Ce=eo(fe);ks(ee,22,O(ne,we,me,Ce.slice(0,239)))}}++me}}return ks(ee,1),ee.end()}function i(G){var W=fa(2);return W.write_shift(2,G),W}function o(G){var W=fa(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var Q=0,ee=0,he=0,je=0;je<G.SheetNames.length;++je){var me=G.SheetNames[je],re=G.Sheets[me];if(!(!re||!re["!ref"])){++he;var ge=$u(re["!ref"]);Q<ge.e.r&&(Q=ge.e.r),ee<ge.e.c&&(ee=ge.e.c)}}return Q>8191&&(Q=8191),W.write_shift(2,Q),W.write_shift(1,he),W.write_shift(1,ee),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function l(G,W,Q){var ee={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&Q.qpro?(ee.s.c=G.read_shift(1),G.l++,ee.s.r=G.read_shift(2),ee.e.c=G.read_shift(1),G.l++,ee.e.r=G.read_shift(2),ee):(ee.s.c=G.read_shift(2),ee.s.r=G.read_shift(2),W==12&&Q.qpro&&(G.l+=2),ee.e.c=G.read_shift(2),ee.e.r=G.read_shift(2),W==12&&Q.qpro&&(G.l+=2),ee.s.c==65535&&(ee.s.c=ee.e.c=ee.s.r=ee.e.r=0),ee)}function d(G){var W=fa(8);return W.write_shift(2,G.s.c),W.write_shift(2,G.s.r),W.write_shift(2,G.e.c),W.write_shift(2,G.e.r),W}function u(G,W,Q){var ee=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(ee[0].c=G.read_shift(1),ee[3]=G.read_shift(1),ee[0].r=G.read_shift(2),G.l+=2):(ee[2]=G.read_shift(1),ee[0].c=G.read_shift(2),ee[0].r=G.read_shift(2)),ee}function h(G,W,Q){var ee=G.l+W,he=u(G,W,Q);if(he[1].t="s",Q.vers==20768){G.l++;var je=G.read_shift(1);return he[1].v=G.read_shift(je,"utf8"),he}return Q.qpro&&G.l++,he[1].v=G.read_shift(ee-G.l,"cstr"),he}function p(G,W,Q){var ee=fa(7+Q.length);ee.write_shift(1,255),ee.write_shift(2,W),ee.write_shift(2,G),ee.write_shift(1,39);for(var he=0;he<ee.length;++he){var je=Q.charCodeAt(he);ee.write_shift(1,je>=128?95:je)}return ee.write_shift(1,0),ee}function x(G,W,Q){var ee=u(G,W,Q);return ee[1].v=G.read_shift(2,"i"),ee}function v(G,W,Q){var ee=fa(7);return ee.write_shift(1,255),ee.write_shift(2,W),ee.write_shift(2,G),ee.write_shift(2,Q,"i"),ee}function b(G,W,Q){var ee=u(G,W,Q);return ee[1].v=G.read_shift(8,"f"),ee}function w(G,W,Q){var ee=fa(13);return ee.write_shift(1,255),ee.write_shift(2,W),ee.write_shift(2,G),ee.write_shift(8,Q,"f"),ee}function g(G,W,Q){var ee=G.l+W,he=u(G,W,Q);if(he[1].v=G.read_shift(8,"f"),Q.qpro)G.l=ee;else{var je=G.read_shift(2);j(G.slice(G.l,G.l+je),he),G.l+=je}return he}function S(G,W,Q){var ee=W&32768;return W&=-32769,W=(ee?G:0)+(W>=8192?W-16384:W),(ee?"":"$")+(Q?ma(W):Ua(W))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(G,W){Pa(G,0);for(var Q=[],ee=0,he="",je="",me="",re="";G.l<G.length;){var ge=G[G.l++];switch(ge){case 0:Q.push(G.read_shift(8,"f"));break;case 1:je=S(W[0].c,G.read_shift(2),!0),he=S(W[0].r,G.read_shift(2),!1),Q.push(je+he);break;case 2:{var Me=S(W[0].c,G.read_shift(2),!0),J=S(W[0].r,G.read_shift(2),!1);je=S(W[0].c,G.read_shift(2),!0),he=S(W[0].r,G.read_shift(2),!1),Q.push(Me+J+":"+je+he)}break;case 3:if(G.l<G.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(G.read_shift(2));break;case 6:{for(var Ae="";ge=G[G.l++];)Ae+=String.fromCharCode(ge);Q.push('"'+Ae.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:re=Q.pop(),me=Q.pop(),Q.push(["AND","OR"][ge-20]+"("+me+","+re+")");break;default:if(ge<32&&y[ge])re=Q.pop(),me=Q.pop(),Q.push(me+y[ge]+re);else if(k[ge]){if(ee=k[ge][1],ee==69&&(ee=G[G.l++]),ee>Q.length){console.error("WK1 bad formula parse 0x"+ge.toString(16)+":|"+Q.join("|")+"|");return}var ne=Q.slice(-ee);Q.length-=ee,Q.push(k[ge][0]+"("+ne.join(",")+")")}else return ge<=7?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=24?console.error("WK1 unsupported op "+ge.toString(16)):ge<=30?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=115?console.error("WK1 unsupported function opcode "+ge.toString(16)):console.error("WK1 unrecognized opcode "+ge.toString(16))}}Q.length==1?W[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function T(G){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=G.read_shift(2),W[3]=G[G.l++],W[0].c=G[G.l++],W}function _(G,W){var Q=T(G);return Q[1].t="s",Q[1].v=G.read_shift(W-4,"cstr"),Q}function O(G,W,Q,ee){var he=fa(6+ee.length);he.write_shift(2,G),he.write_shift(1,Q),he.write_shift(1,W),he.write_shift(1,39);for(var je=0;je<ee.length;++je){var me=ee.charCodeAt(je);he.write_shift(1,me>=128?95:me)}return he.write_shift(1,0),he}function M(G,W){var Q=T(G);Q[1].v=G.read_shift(2);var ee=Q[1].v>>1;if(Q[1].v&1)switch(ee&7){case 0:ee=(ee>>3)*5e3;break;case 1:ee=(ee>>3)*500;break;case 2:ee=(ee>>3)/20;break;case 3:ee=(ee>>3)/200;break;case 4:ee=(ee>>3)/2e3;break;case 5:ee=(ee>>3)/2e4;break;case 6:ee=(ee>>3)/16;break;case 7:ee=(ee>>3)/64;break}return Q[1].v=ee,Q}function D(G,W){var Q=T(G),ee=G.read_shift(4),he=G.read_shift(4),je=G.read_shift(2);if(je==65535)return ee===0&&he===3221225472?(Q[1].t="e",Q[1].v=15):ee===0&&he===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var me=je&32768;return je=(je&32767)-16446,Q[1].v=(1-me*2)*(he*Math.pow(2,je+32)+ee*Math.pow(2,je)),Q}function F(G,W,Q,ee){var he=fa(14);if(he.write_shift(2,G),he.write_shift(1,Q),he.write_shift(1,W),ee==0)return he.write_shift(4,0),he.write_shift(4,0),he.write_shift(2,65535),he;var je=0,me=0,re=0,ge=0;return ee<0&&(je=1,ee=-ee),me=Math.log2(ee)|0,ee/=Math.pow(2,me-31),ge=ee>>>0,(ge&2147483648)==0&&(ee/=2,++me,ge=ee>>>0),ee-=ge,ge|=2147483648,ge>>>=0,ee*=Math.pow(2,32),re=ee>>>0,he.write_shift(4,re),he.write_shift(4,ge),me+=16383+(je?32768:0),he.write_shift(2,me),he}function q(G,W){var Q=D(G);return G.l+=W-14,Q}function L(G,W){var Q=T(G),ee=G.read_shift(4);return Q[1].v=ee>>6,Q}function B(G,W){var Q=T(G),ee=G.read_shift(8,"f");return Q[1].v=ee,Q}function X(G,W){var Q=B(G);return G.l+=W-10,Q}function P(G,W){return G[G.l+W-1]==0?G.read_shift(W,"cstr"):""}function U(G,W){var Q=G[G.l++];Q>W-1&&(Q=W-1);for(var ee="";ee.length<Q;)ee+=String.fromCharCode(G[G.l++]);return ee}function z(G,W,Q){if(!(!Q.qpro||W<21)){var ee=G.read_shift(1);G.l+=17,G.l+=1,G.l+=2;var he=G.read_shift(W-21,"cstr");return[ee,he]}}function V(G,W){for(var Q={},ee=G.l+W;G.l<ee;){var he=G.read_shift(2);if(he==14e3){for(Q[he]=[0,""],Q[he][0]=G.read_shift(2);G[G.l];)Q[he][1]+=String.fromCharCode(G[G.l]),G.l++;G.l++}}return Q}function Y(G,W){var Q=fa(5+G.length);Q.write_shift(2,14e3),Q.write_shift(2,W);for(var ee=0;ee<G.length;++ee){var he=G.charCodeAt(ee);Q[Q.l++]=he>127?95:he}return Q[Q.l++]=0,Q}var se={0:{n:"BOF",f:aa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:P},222:{n:"SHEETNAMELP",f:U},65535:{n:""}},K={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:_},23:{n:"NUMBER17",f:D},24:{n:"NUMBER18",f:M},25:{n:"FORMULA19",f:q},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:V},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:B},40:{n:"FORMULA28",f:X},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:P},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:e}})();function Vwe(t){var e={},r=t.match(Ya),n=0,s=!1;if(r)for(;n!=r.length;++n){var i=Et(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;e.cp=cS[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=i.val;break;case"<sz":e.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":i.rgb&&(e.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+i[0])}}return e}var $we=(function(){var t=kh("t"),e=kh("rPr");function r(i){var o=i.match(t);if(!o)return{t:"s",v:""};var l={t:"s",v:tr(o[1])},d=i.match(e);return d&&(l.s=Vwe(d[1])),l}var n=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(s).map(r).filter(function(l){return l.v})}})(),Gwe=(function(){var e=/(\r\n|\n)/g;function r(s,i,o){var l=[];s.u&&l.push("text-decoration: underline;"),s.uval&&l.push("text-underline-style:"+s.uval+";"),s.sz&&l.push("font-size:"+s.sz+"pt;"),s.outline&&l.push("text-effect: outline;"),s.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),s.b&&(i.push("<b>"),o.push("</b>")),s.i&&(i.push("<i>"),o.push("</i>")),s.strike&&(i.push("<s>"),o.push("</s>"));var d=s.valign||"";return d=="superscript"||d=="super"?d="sup":d=="subscript"&&(d="sub"),d!=""&&(i.push("<"+d+">"),o.push("</"+d+">")),o.push("</span>"),s}function n(s){var i=[[],s.v,[]];return s.v?(s.s&&r(s.s,i[0],i[2]),i[0].join("")+i[1].replace(e,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),Hwe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Kwe=/<(?:\w+:)?r>/,Ywe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function TS(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=tr(Sr(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Sr(t),r&&(n.h=xS(n.t))):t.match(Kwe)&&(n.r=Sr(t),n.t=tr(Sr((t.replace(Ywe,"").match(Hwe)||[]).join("").replace(Ya,""))),r&&(n.h=Gwe($we(n.r)))),n):{t:""}}var Wwe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Xwe=/<(?:\w+:)?(?:si|sstItem)>/g,Jwe=/<\/(?:\w+:)?(?:si|sstItem)>/;function Qwe(t,e){var r=[],n="";if(!t)return r;var s=t.match(Wwe);if(s){n=s[2].replace(Xwe,"").split(Jwe);for(var i=0;i!=n.length;++i){var o=TS(n[i].trim(),e);o!=null&&(r[r.length]=o)}s=Et(s[1]),r.Count=s.count,r.Unique=s.uniqueCount}return r}function Zwe(t){return[t.read_shift(4),t.read_shift(4)]}function eAe(t,e){var r=[],n=!1;return lo(t,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function DB(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function Hi(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function tAe(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Hi(t,4),e.U=Hi(t,4),e.W=Hi(t,4),e}function rAe(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},s=t.read_shift(4),i=[];s-- >0;)i.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=i,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function aAe(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(rAe(t));return e}function nAe(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function sAe(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Hi(t,4),e.U=Hi(t,4),e.W=Hi(t,4),e}function iAe(t){var e=sAe(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function IB(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var s=!1;switch(n.AlgID){case 26126:case 26127:case 26128:s=n.Flags==36;break;case 26625:s=n.Flags==4;break;case 0:s=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function RB(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function oAe(t){var e=Hi(t);switch(e.Minor){case 2:return[e.Minor,lAe(t)];case 3:return[e.Minor,cAe()];case 4:return[e.Minor,dAe(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function lAe(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=IB(t,r),s=RB(t,t.length-t.l);return{t:"Std",h:n,v:s}}function cAe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function dAe(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(Ya,function(i){var o=Et(i);switch(fi(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function uAe(t,e){var r={},n=r.EncryptionVersionInfo=Hi(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var s=t.read_shift(4);return e-=4,r.EncryptionHeader=IB(t,s),e-=s,r.EncryptionVerifier=RB(t,e),r}function fAe(t){var e={},r=e.EncryptionVersionInfo=Hi(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function hAe(t){var e=0,r,n=DB(t),s=n.length+1,i,o,l,d,u;for(r=el(s),r[0]=n.length,i=1;i!=s;++i)r[i]=n[i-1];for(i=s-1;i>=0;--i)o=r[i],l=(e&16384)===0?0:1,d=e<<1&32767,u=l|d,e=u^o;return e^52811}var MB=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},s=function(o,l){return n(o^l)},i=function(o){for(var l=e[o.length-1],d=104,u=o.length-1;u>=0;--u)for(var h=o[u],p=0;p!=7;++p)h&64&&(l^=r[d]),h*=2,--d;return l};return function(o){for(var l=DB(o),d=i(l),u=l.length,h=el(16),p=0;p!=16;++p)h[p]=0;var x,v,b;for((u&1)===1&&(x=d>>8,h[u]=s(t[0],x),--u,x=d&255,v=l[l.length-1],h[u]=s(v,x));u>0;)--u,x=d>>8,h[u]=s(l[u],x),--u,x=d&255,h[u]=s(l[u],x);for(u=15,b=15-l.length;b>0;)x=d>>8,h[u]=s(t[b],x),--u,--b,x=d&255,h[u]=s(l[u],x),--u,--b;return h}})(),pAe=function(t,e,r,n,s){s||(s=e),n||(n=MB(t));var i,o;for(i=0;i!=e.length;++i)o=e[i],o^=n[r],o=(o>>5|o<<3)&255,s[i]=o,++r;return[s,r,n]},mAe=function(t){var e=0,r=MB(t);return function(n){var s=pAe("",n,e,r);return e=s[1],s[0]}};function xAe(t,e,r,n){var s={key:aa(t),verificationBytes:aa(t)};return r.password&&(s.verifier=hAe(r.password)),n.valid=s.verificationBytes===s.verifier,n.valid&&(n.insitu=mAe(r.password)),s}function gAe(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=fAe(t):n.Data=uAe(t,e),n}function bAe(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?gAe(t,e-2,n):xAe(t,r.biff>=8?e:e-2,r,n),n}var vAe=(function(){function t(s,i){switch(i.type){case"base64":return e(Kn(s),i);case"binary":return e(s,i);case"buffer":return e(Wt&&Buffer.isBuffer(s)?s.toString("binary"):kc(s),i);case"array":return e(vc(s),i)}throw new Error("Unrecognized type "+i.type)}function e(s,i){var o=i||{},l=o.dense?[]:{},d=s.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(h,p){Array.isArray(l)&&(l[p]=[]);for(var x=/\\\w+\b/g,v=0,b,w=-1;b=x.exec(h);){switch(b[0]){case"\\cell":var g=h.slice(v,x.lastIndex-b[0].length);if(g[0]==" "&&(g=g.slice(1)),++w,g.length){var S={v:g,t:"s"};Array.isArray(l)?l[p][w]=S:l[Ot({r:p,c:w})]=S}break}v=x.lastIndex}w>u.e.c&&(u.e.c=w)}),l["!ref"]=Zt(u),l}function r(s,i){return fl(t(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],o=Kr(s["!ref"]),l,d=Array.isArray(s),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var p=Ot({r:u,c:h});l=d?(s[u]||[])[h]:s[p],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(eo(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function yAe(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Oh(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function NAe(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,s=Math.max(e,r,n),i=Math.min(e,r,n),o=s-i;if(o===0)return[0,0,e];var l=0,d=0,u=s+i;switch(d=o/(u>1?2-u:u),s){case e:l=((r-n)/o+6)%6;break;case r:l=(n-e)/o+2;break;case n:l=(e-r)/o+4;break}return[l/6,d,u/2]}function wAe(t){var e=t[0],r=t[1],n=t[2],s=r*2*(n<.5?n:1-n),i=n-s/2,o=[i,i,i],l=6*e,d;if(r!==0)switch(l|0){case 0:case 6:d=s*l,o[0]+=s,o[1]+=d;break;case 1:d=s*(2-l),o[0]+=d,o[1]+=s;break;case 2:d=s*(l-2),o[1]+=s,o[2]+=d;break;case 3:d=s*(4-l),o[1]+=d,o[2]+=s;break;case 4:d=s*(l-4),o[2]+=s,o[0]+=d;break;case 5:d=s*(6-l),o[2]+=d,o[0]+=s;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function Og(t,e){if(e===0)return t;var r=NAe(yAe(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),Oh(wAe(r))}var PB=6,AAe=15,EAe=1,Za=PB;function Dg(t){return Math.floor((t+Math.round(128/Za)/256)*Za)}function Ig(t){return Math.floor((t-5)/Za*100+.5)/100}function Rj(t){return Math.round((t*Za+5)/Za*256)/256}function wA(t){return Rj(Ig(Dg(t)))}function SS(t){var e=Math.abs(t-wA(t)),r=Za;if(e>.005)for(Za=EAe;Za<AAe;++Za)Math.abs(t-wA(t))<=e&&(e=Math.abs(t-wA(t)),r=Za);Za=r}function _u(t){t.width?(t.wpx=Dg(t.width),t.wch=Ig(t.wpx),t.MDW=Za):t.wpx?(t.wch=Ig(t.wpx),t.width=Rj(t.wch),t.MDW=Za):typeof t.wch=="number"&&(t.width=Rj(t.wch),t.wpx=Dg(t.width),t.MDW=Za),t.customWidth&&delete t.customWidth}var jAe=96,LB=jAe;function UB(t){return t*96/LB}function Dh(t){return t*LB/96}var TAe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function SAe(t,e,r,n){e.Borders=[];var s={},i=!1;(t[0].match(Ya)||[]).forEach(function(o){var l=Et(o);switch(fi(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},l.diagonalUp&&(s.diagonalUp=Fr(l.diagonalUp)),l.diagonalDown&&(s.diagonalDown=Fr(l.diagonalDown)),e.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function kAe(t,e,r,n){e.Fills=[];var s={},i=!1;(t[0].match(Ya)||[]).forEach(function(o){var l=Et(o);switch(fi(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},e.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":l.patternType&&(s.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),l.indexed&&(s.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(s.bgColor.theme=parseInt(l.theme,10)),l.tint&&(s.bgColor.tint=parseFloat(l.tint)),l.rgb&&(s.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),l.theme&&(s.fgColor.theme=parseInt(l.theme,10)),l.tint&&(s.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(s.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function _Ae(t,e,r,n){e.Fonts=[];var s={},i=!1;(t[0].match(Ya)||[]).forEach(function(o){var l=Et(o);switch(fi(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(s),s={};break;case"<name":l.val&&(s.name=Sr(l.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=l.val?Fr(l.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=l.val?Fr(l.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(l.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=l.val?Fr(l.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=l.val?Fr(l.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=l.val?Fr(l.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=l.val?Fr(l.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=l.val?Fr(l.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":l.val&&(s.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(s.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(s.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(s.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=cS[parseInt(l.val,10)];break;case"<color":if(s.color||(s.color={}),l.auto&&(s.color.auto=Fr(l.auto)),l.rgb)s.color.rgb=l.rgb.slice(-6);else if(l.indexed){s.color.index=parseInt(l.indexed,10);var d=tc[s.color.index];s.color.index==81&&(d=tc[1]),d||(d=tc[1]),s.color.rgb=d[0].toString(16)+d[1].toString(16)+d[2].toString(16)}else l.theme&&(s.color.theme=parseInt(l.theme,10),l.tint&&(s.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(s.color.rgb=Og(r.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function CAe(t,e,r){e.NumberFmt=[];for(var n=li(Mt),s=0;s<n.length;++s)e.NumberFmt[n[s]]=Mt[n[s]];var i=t[0].match(Ya);if(i)for(s=0;s<i.length;++s){var o=Et(i[s]);switch(fi(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=tr(Sr(o.formatCode)),d=parseInt(o.numFmtId,10);if(e.NumberFmt[d]=l,d>0){if(d>392){for(d=392;d>60&&e.NumberFmt[d]!=null;--d);e.NumberFmt[d]=l}ec(l,d)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var Qm=["numFmtId","fillId","fontId","borderId","xfId"],Zm=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function OAe(t,e,r){e.CellXf=[];var n,s=!1;(t[0].match(Ya)||[]).forEach(function(i){var o=Et(i),l=0;switch(fi(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<Qm.length;++l)n[Qm[l]]&&(n[Qm[l]]=parseInt(n[Qm[l]],10));for(l=0;l<Zm.length;++l)n[Zm[l]]&&(n[Zm[l]]=Fr(n[Zm[l]]));if(e.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[l]){n.numFmtId=l;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var d={};o.vertical&&(d.vertical=o.vertical),o.horizontal&&(d.horizontal=o.horizontal),o.textRotation!=null&&(d.textRotation=o.textRotation),o.indent&&(d.indent=o.indent),o.wrapText&&(d.wrapText=Fr(o.wrapText)),n.alignment=d;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var DAe=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,d,u){var h={};if(!l)return h;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=l.match(e))&&CAe(p,h,u),(p=l.match(s))&&_Ae(p,h,d,u),(p=l.match(n))&&kAe(p,h,d,u),(p=l.match(i))&&SAe(p,h,d,u),(p=l.match(r))&&OAe(p,h,u),h}})();function IAe(t,e){var r=t.read_shift(2),n=Ha(t);return[r,n]}function RAe(t,e,r){var n={};n.sz=t.read_shift(2)/20;var s=$Ne(t);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=t.read_shift(2);switch(i===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(n.underline=o);var l=t.read_shift(1);l>0&&(n.family=l);var d=t.read_shift(1);switch(d>0&&(n.charset=d),t.l++,n.color=VNe(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ha(t),n}var MAe=Ka;function PAe(t,e){var r=t.l+e,n=t.read_shift(2),s=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:s}}var LAe=Ka;function UAe(t,e,r){var n={};n.NumberFmt=[];for(var s in Mt)n.NumberFmt[s]=Mt[s];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return lo(t,function(d,u,h){switch(h){case 44:n.NumberFmt[d[0]]=d[1],ec(d[1],d[0]);break;case 43:n.Fonts.push(d),d.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(d.color.rgb=Og(e.themeElements.clrScheme[d.color.theme].rgb,d.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(d);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(h),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(h);else if(u.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),n}var FAe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function BAe(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(Ya)||[]).forEach(function(s){var i=Et(s);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(e.themeElements.clrScheme[FAe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function zAe(){}function qAe(){}var VAe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,$Ae=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,GAe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function HAe(t,e,r){e.themeElements={};var n;[["clrScheme",VAe,BAe],["fontScheme",$Ae,zAe],["fmtScheme",GAe,qAe]].forEach(function(s){if(!(n=t.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](n,e,r)})}var KAe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function FB(t,e){(!t||t.length===0)&&(t=YAe());var r,n={};if(!(r=t.match(KAe)))throw new Error("themeElements not found in theme");return HAe(r[0],n,e),n.raw=t,n}function YAe(t,e){var r=[X7];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function WAe(t,e,r){var n=t.l+e,s=t.read_shift(4);if(s!==124226){if(!r.cellStyles){t.l=n;return}var i=t.slice(t.l);t.l=n;var o;try{o=W7(i,{type:"array"})}catch{return}var l=zn(o,"theme/theme/theme1.xml",!0);if(l)return FB(l,r)}}function XAe(t){return t.read_shift(4)}function JAe(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=QAe(t,4);break;case 2:e.xclrValue=jB(t);break;case 3:e.xclrValue=XAe(t);break;case 4:t.l+=4;break}return t.l+=8,e}function QAe(t,e){return Ka(t,e)}function ZAe(t,e){return Ka(t,e)}function eEe(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=JAe(t);break;case 6:n[1]=ZAe(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function tEe(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var s=t.read_shift(2),i=[];s-- >0;)i.push(eEe(t,r-t.l));return{ixfe:n,ext:i}}function rEe(t,e){e.forEach(function(r){r[0]})}function aEe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ha(t)}}function nEe(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function sEe(t){return t.l+=4,t.read_shift(4)!=0}function iEe(t,e,r){var n={Types:[],Cell:[],Value:[]},s=r||{},i=[],o=!1,l=2;return lo(t,function(d,u,h){switch(h){case 335:n.Types.push({name:d.name});break;case 51:d.forEach(function(p){l==1?n.Cell.push({type:n.Types[p[0]-1].name,index:p[1]}):l==0&&n.Value.push({type:n.Types[p[0]-1].name,index:p[1]})});break;case 337:l=d?1:0;break;case 338:l=2;break;case 35:i.push(h),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||s.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),n}function oEe(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var s=!1,i=2,o;return t.replace(Ya,function(l){var d=Et(l);switch(fi(d[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:d.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==d.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[d.t-1].name,index:+d.v}):i==0&&n.Value.push({type:n.Types[d.t-1].name,index:+d.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+d.i);break;default:if(!s&&r.WTF)throw new Error("unrecognized "+d[0]+" in metadata")}return l}),n}function lEe(t){var e=[];if(!t)return e;var r=1;return(t.match(Ya)||[]).forEach(function(n){var s=Et(n);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?r=s.i:s.i=r,e.push(s);break}}),e}function cEe(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Ot(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function dEe(t,e,r){var n=[];return lo(t,function(i,o,l){switch(l){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function uEe(t,e,r,n){if(!t)return t;var s=n||{},i=!1;lo(t,function(l,d,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!d.T){if(!i||s.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},s)}function fEe(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}function _8(t,e,r,n){var s=Array.isArray(t),i;e.forEach(function(o){var l=nn(o.ref);if(s?(t[l.r]||(t[l.r]=[]),i=t[l.r][l.c]):i=t[o.ref],!i){i={t:"z"},s?t[l.r][l.c]=i:t[o.ref]=i;var d=Kr(t["!ref"]||"BDWGO1000001:A1");d.s.r>l.r&&(d.s.r=l.r),d.e.r<l.r&&(d.e.r=l.r),d.s.c>l.c&&(d.s.c=l.c),d.e.c<l.c&&(d.e.c=l.c);var u=Zt(d);u!==t["!ref"]&&(t["!ref"]=u)}i.c||(i.c=[]);var h={a:o.author,t:o.t,r:o.r,T:r};o.h&&(h.h=o.h);for(var p=i.c.length-1;p>=0;--p){if(!r&&i.c[p].T)return;r&&!i.c[p].T&&i.c.splice(p,1)}if(r&&n){for(p=0;p<n.length;++p)if(h.a==n[p].id){h.a=n[p].name||h.a;break}}i.c.push(h)})}function hEe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],s=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var d=Et(l[0]),u={author:d.authorId&&r[d.authorId]||"sheetjsghost",ref:d.ref,guid:d.guid},h=nn(d.ref);if(!(e.sheetRows&&e.sheetRows<=h.r)){var p=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),x=!!p&&!!p[1]&&TS(p[1])||{r:"",t:"",h:""};u.r=x.r,x.r=="<t></t>"&&(x.t=x.h=""),u.t=(x.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(u.h=x.h),n.push(u)}}}}),n}function pEe(t,e){var r=[],n=!1,s={},i=0;return t.replace(Ya,function(l,d){var u=Et(l);switch(fi(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":s.t!=null&&r.push(s);break;case"<text>":case"<text":i=d+l.length;break;case"</text>":s.t=t.slice(i,d).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function mEe(t,e){var r=[],n=!1;return t.replace(Ya,function(i){var o=Et(i);switch(fi(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function xEe(t){var e={};e.iauthor=t.read_shift(4);var r=Cc(t);return e.rfx=r.s,e.ref=Ot(r.s),t.l+=16,e}var gEe=Ha;function bEe(t,e){var r=[],n=[],s={},i=!1;return lo(t,function(l,d,u){switch(u){case 632:n.push(l);break;case 635:s=l;break;case 637:s.t=l.t,s.h=l.h,s.r=l.r;break;case 636:if(s.author=n[s.iauthor],delete s.iauthor,e.sheetRows&&s.rfx&&e.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,r.push(s);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!d.T){if(!i||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var vEe="application/vnd.ms-office.vbaProject";function yEe(t){var e=Qt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var s=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Qt.utils.cfb_add(e,s,t.FileIndex[n].content)}}),Qt.write(e)}function NEe(){return{"!type":"dialog"}}function wEe(){return{"!type":"dialog"}}function AEe(){return{"!type":"macro"}}function EEe(){return{"!type":"macro"}}var Wd=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,s,i,o){var l=!1,d=!1;i.length==0?d=!0:i.charAt(0)=="["&&(d=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return l?h+=e.c:--h,d?u+=e.r:--u,s+(l?"":"$")+ma(h)+(d?"":"$")+Ua(u)}return function(s,i){return e=i,s.replace(t,r)}})(),BB=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,jEe=(function(){return function(e,r){return e.replace(BB,function(n,s,i,o,l,d){var u=yS(o)-(i?0:r.c),h=vS(d)-(l?0:r.r),p=h==0?"":l?h+1:"["+h+"]",x=u==0?"":i?u+1:"["+u+"]";return s+"R"+p+"C"+x})}})();function zB(t,e){return t.replace(BB,function(r,n,s,i,o,l){return n+(s=="$"?s+i:ma(yS(i)+e.c))+(o=="$"?o+l:Ua(vS(l)+e.r))})}function TEe(t,e,r){var n=$u(e),s=n.s,i=nn(r),o={r:i.r-s.r,c:i.c-s.c};return zB(t,o)}function SEe(t){return t.length!=1}function C8(t){return t.replace(/_xlfn\./g,"")}function ta(t){t.l+=1}function tl(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function qB(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return VB(t);r.biff==12&&(n=4)}var s=t.read_shift(n),i=t.read_shift(n),o=tl(t),l=tl(t);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function VB(t){var e=tl(t),r=tl(t),n=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function kEe(t,e,r){if(r.biff<8)return VB(t);var n=t.read_shift(r.biff==12?4:2),s=t.read_shift(r.biff==12?4:2),i=tl(t),o=tl(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function $B(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return _Ee(t);var n=t.read_shift(r&&r.biff==12?4:2),s=tl(t);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function _Ee(t){var e=tl(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function CEe(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function OEe(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return DEe(t);var s=t.read_shift(n>=12?4:2),i=t.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:l}}function DEe(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),s==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:s,rRel:n}}function IEe(t,e,r){var n=(t[t.l++]&96)>>5,s=qB(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function REe(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var o=qB(t,i,r);return[n,s,o]}function MEe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function PEe(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[n,s]}function LEe(t,e,r){var n=(t[t.l++]&96)>>5,s=kEe(t,e-1,r);return[n,s]}function UEe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function O8(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function FEe(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(t.read_shift(r&&r.biff==2?1:2));return s}function BEe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function zEe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function qEe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function VEe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function GB(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function $Ee(t){return t.read_shift(2),GB(t)}function GEe(t){return t.read_shift(2),GB(t)}function HEe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=$B(t,0,r);return[n,s]}function KEe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=OEe(t,0,r);return[n,s]}function YEe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var i=$B(t,0,r);return[n,s,i]}function WEe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(r&&r.biff<=3?1:2);return[Xje[s],YB[s],n]}function XEe(t,e,r){var n=t[t.l++],s=t.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:JEe(t);return[s,(i[0]===0?YB:Wje)[i[1]]]}function JEe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function QEe(t,e,r){t.l+=r&&r.biff==2?3:4}function ZEe(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function eje(t){return t.l++,Oc[t.read_shift(1)]}function tje(t){return t.l++,t.read_shift(2)}function rje(t){return t.l++,t.read_shift(1)!==0}function aje(t){return t.l++,$a(t)}function nje(t,e,r){return t.l++,ep(t,e-1,r)}function sje(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Xr(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Oc[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=$a(t);break;case 2:r[1]=Dc(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function ije(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((r.biff==12?Cc:Mb)(t));return s}function oje(t,e,r){var n=0,s=0;r.biff==12?(n=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=s;++l)o[i][l]=sje(t,r.biff);return o}function lje(t,e,r){var n=t.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=t.read_shift(s);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,i]}function cje(t,e,r){if(r.biff==5)return dje(t);var n=t.read_shift(1)>>>5&3,s=t.read_shift(2),i=t.read_shift(4);return[n,s,i]}function dje(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function uje(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function fje(t,e,r){var n=t.read_shift(1)>>>5&3,s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function hje(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function pje(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[n,s]}var mje=Ka,xje=Ka,gje=Ka;function rp(t,e,r){return t.l+=2,[CEe(t)]}function kS(t){return t.l+=6,[]}var bje=rp,vje=kS,yje=kS,Nje=rp;function HB(t){return t.l+=2,[aa(t),t.read_shift(2)&1]}var wje=rp,Aje=HB,Eje=kS,jje=rp,Tje=rp,Sje=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function kje(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),s=t.read_shift(2),i=t.read_shift(2),o=Sje[r>>2&31];return{ixti:e,coltype:r&3,rt:o,idx:n,c:s,C:i}}function _je(t){return t.l+=2,[t.read_shift(4)]}function Cje(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function Oje(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Dje(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function Ije(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function Rje(t){return t.l+=4,[0,0]}var D8={1:{n:"PtgExp",f:ZEe},2:{n:"PtgTbl",f:gje},3:{n:"PtgAdd",f:ta},4:{n:"PtgSub",f:ta},5:{n:"PtgMul",f:ta},6:{n:"PtgDiv",f:ta},7:{n:"PtgPower",f:ta},8:{n:"PtgConcat",f:ta},9:{n:"PtgLt",f:ta},10:{n:"PtgLe",f:ta},11:{n:"PtgEq",f:ta},12:{n:"PtgGe",f:ta},13:{n:"PtgGt",f:ta},14:{n:"PtgNe",f:ta},15:{n:"PtgIsect",f:ta},16:{n:"PtgUnion",f:ta},17:{n:"PtgRange",f:ta},18:{n:"PtgUplus",f:ta},19:{n:"PtgUminus",f:ta},20:{n:"PtgPercent",f:ta},21:{n:"PtgParen",f:ta},22:{n:"PtgMissArg",f:ta},23:{n:"PtgStr",f:nje},26:{n:"PtgSheet",f:Cje},27:{n:"PtgEndSheet",f:Oje},28:{n:"PtgErr",f:eje},29:{n:"PtgBool",f:rje},30:{n:"PtgInt",f:tje},31:{n:"PtgNum",f:aje},32:{n:"PtgArray",f:UEe},33:{n:"PtgFunc",f:WEe},34:{n:"PtgFuncVar",f:XEe},35:{n:"PtgName",f:lje},36:{n:"PtgRef",f:HEe},37:{n:"PtgArea",f:IEe},38:{n:"PtgMemArea",f:uje},39:{n:"PtgMemErr",f:mje},40:{n:"PtgMemNoMem",f:xje},41:{n:"PtgMemFunc",f:fje},42:{n:"PtgRefErr",f:hje},43:{n:"PtgAreaErr",f:MEe},44:{n:"PtgRefN",f:KEe},45:{n:"PtgAreaN",f:LEe},46:{n:"PtgMemAreaN",f:Dje},47:{n:"PtgMemNoMemN",f:Ije},57:{n:"PtgNameX",f:cje},58:{n:"PtgRef3d",f:YEe},59:{n:"PtgArea3d",f:REe},60:{n:"PtgRefErr3d",f:pje},61:{n:"PtgAreaErr3d",f:PEe},255:{}},Mje={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Pje={1:{n:"PtgElfLel",f:HB},2:{n:"PtgElfRw",f:jje},3:{n:"PtgElfCol",f:bje},6:{n:"PtgElfRwV",f:Tje},7:{n:"PtgElfColV",f:Nje},10:{n:"PtgElfRadical",f:wje},11:{n:"PtgElfRadicalS",f:Eje},13:{n:"PtgElfColS",f:vje},15:{n:"PtgElfColSV",f:yje},16:{n:"PtgElfRadicalLel",f:Aje},25:{n:"PtgList",f:kje},29:{n:"PtgSxName",f:_je},255:{}},Lje={0:{n:"PtgAttrNoop",f:Rje},1:{n:"PtgAttrSemi",f:VEe},2:{n:"PtgAttrIf",f:zEe},4:{n:"PtgAttrChoose",f:FEe},8:{n:"PtgAttrGoto",f:BEe},16:{n:"PtgAttrSum",f:QEe},32:{n:"PtgAttrBaxcel",f:O8},33:{n:"PtgAttrBaxcel",f:O8},64:{n:"PtgAttrSpace",f:$Ee},65:{n:"PtgAttrSpaceSemi",f:GEe},128:{n:"PtgAttrIfError",f:qEe},255:{}};function ap(t,e,r,n){if(n.biff<8)return Ka(t,e);for(var s=t.l+e,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=oje(t,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=ije(t,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=t.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return e=s-t.l,e!==0&&i.push(Ka(t,e)),i}function np(t,e,r){for(var n=t.l+e,s,i,o=[];n!=t.l;)e=n-t.l,i=t[t.l],s=D8[i]||D8[Mje[i]],(i===24||i===25)&&(s=(i===24?Pje:Lje)[t[t.l+1]]),!s||!s.f?Ka(t,e):o.push([s.n,s.f(t,e,r)]);return o}function Uje(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],s=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var Fje={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Bje(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function KB(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(t[n[0]][0]){case 357:return s=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[n[0]][0][3]?(s=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function I8(t,e,r){var n=KB(t,e,r);return n=="#REF"?n:Bje(n,r)}function qa(t,e,r,n,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},l=[],d,u,h,p=0,x=0,v,b="";if(!t[0]||!t[0][0])return"";for(var w=-1,g="",S=0,k=t[0].length;S<k;++S){var y=t[0][S];switch(y[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=l.pop(),u=l.pop(),w>=0){switch(t[0][w][1][0]){case 0:g=Hr(" ",t[0][w][1][1]);break;case 1:g=Hr("\r",t[0][w][1][1]);break;default:if(g="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}u=u+g,w=-1}l.push(u+Fje[y[0]]+d);break;case"PtgIsect":d=l.pop(),u=l.pop(),l.push(u+" "+d);break;case"PtgUnion":d=l.pop(),u=l.pop(),l.push(u+","+d);break;case"PtgRange":d=l.pop(),u=l.pop(),l.push(u+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Ef(y[1][1],o,s),l.push(jf(h,i));break;case"PtgRefN":h=r?Ef(y[1][1],r,s):y[1][1],l.push(jf(h,i));break;case"PtgRef3d":p=y[1][1],h=Ef(y[1][2],o,s),b=I8(n,p,s),l.push(b+"!"+jf(h,i));break;case"PtgFunc":case"PtgFuncVar":var j=y[1][0],T=y[1][1];j||(j=0),j&=127;var _=j==0?[]:l.slice(-j);l.length-=j,T==="User"&&(T=_.shift()),l.push(T+"("+_.join(",")+")");break;case"PtgBool":l.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(y[1]);break;case"PtgNum":l.push(String(y[1]));break;case"PtgStr":l.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(y[1]);break;case"PtgAreaN":v=h8(y[1][1],r?{s:r}:o,s),l.push(yA(v,s));break;case"PtgArea":v=h8(y[1][1],o,s),l.push(yA(v,s));break;case"PtgArea3d":p=y[1][1],v=y[1][2],b=I8(n,p,s),l.push(b+"!"+yA(v,s));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=y[1][2];var O=(n.names||[])[x-1]||(n[0]||[])[x],M=O?O.Name:"SH33TJSNAME"+String(x);M&&M.slice(0,6)=="_xlfn."&&!s.xlfn&&(M=M.slice(6)),l.push(M);break;case"PtgNameX":var D=y[1][1];x=y[1][2];var F;if(s.biff<=5)D<0&&(D=-D),n[D]&&(F=n[D][x]);else{var q="";if(((n[D]||[])[0]||[])[0]==14849||(((n[D]||[])[0]||[])[0]==1025?n[D][x]&&n[D][x].itab>0&&(q=n.SheetNames[n[D][x].itab-1]+"!"):q=n.SheetNames[x-1]+"!"),n[D]&&n[D][x])q+=n[D][x].Name;else if(n[0]&&n[0][x])q+=n[0][x].Name;else{var L=(KB(n,D,s)||"").split(";;");L[x-1]?q=L[x-1]:q+="SH33TJSERRX"}l.push(q);break}F||(F={Name:"SH33TJSERRY"}),l.push(F.Name);break;case"PtgParen":var B="(",X=")";if(w>=0){switch(g="",t[0][w][1][0]){case 2:B=Hr(" ",t[0][w][1][1])+B;break;case 3:B=Hr("\r",t[0][w][1][1])+B;break;case 4:X=Hr(" ",t[0][w][1][1])+X;break;case 5:X=Hr("\r",t[0][w][1][1])+X;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}w=-1}l.push(B+l.pop()+X);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":h={c:y[1][1],r:y[1][0]};var P={c:r.c,r:r.r};if(n.sharedf[Ot(h)]){var U=n.sharedf[Ot(h)];l.push(qa(U,o,P,n,s))}else{var z=!1;for(d=0;d!=n.arrayf.length;++d)if(u=n.arrayf[d],!(h.c<u[0].s.c||h.c>u[0].e.c)&&!(h.r<u[0].s.r||h.r>u[0].e.r)){l.push(qa(u[1],o,P,n,s)),z=!0;break}z||l.push(y[1])}break;case"PtgArray":l.push("{"+Uje(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var V=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&w>=0&&V.indexOf(t[0][S][0])==-1){y=t[0][w];var Y=!0;switch(y[1][0]){case 4:Y=!1;case 0:g=Hr(" ",y[1][1]);break;case 5:Y=!1;case 1:g=Hr("\r",y[1][1]);break;default:if(g="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}l.push((Y?g:"")+l.pop()+(Y?"":g)),w=-1}}if(l.length>1&&s.WTF)throw new Error("bad formula stack");return l[0]}function zje(t,e,r){var n=t.l+e,s=r.biff==2?1:2,i,o=t.read_shift(s);if(o==65535)return[[],Ka(t,e-2)];var l=np(t,o,r);return e!==o+s&&(i=ap(t,e-o-s,l,r)),t.l=n,[l,i]}function qje(t,e,r){var n=t.l+e,s=r.biff==2?1:2,i,o=t.read_shift(s);if(o==65535)return[[],Ka(t,e-2)];var l=np(t,o,r);return e!==o+s&&(i=ap(t,e-o-s,l,r)),t.l=n,[l,i]}function Vje(t,e,r,n){var s=t.l+e,i=np(t,n,r),o;return s!==t.l&&(o=ap(t,s-t.l,i,r)),[i,o]}function $je(t,e,r){var n=t.l+e,s,i=t.read_shift(2),o=np(t,i,r);return i==65535?[[],Ka(t,e-2)]:(e!==i+2&&(s=ap(t,n-i-2,o,r)),[o,s])}function Gje(t){var e;if(Ui(t,t.l+6)!==65535)return[$a(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function AA(t,e,r){var n=t.l+e,s=hi(t);r.biff==2&&++t.l;var i=Gje(t),o=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var l=qje(t,n-t.l,r);return{cell:s,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function Pb(t,e,r){var n=t.read_shift(4),s=np(t,n,r),i=t.read_shift(4),o=i>0?ap(t,i,s,r):null;return[s,o]}var Hje=Pb,Lb=Pb,Kje=Pb,Yje=Pb,Wje={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},YB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Xje={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function R8(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function EA(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var _f={},Xd={};function Cf(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function WB(t,e,r,n,s,i){try{n.cellNF&&(t.z=Mt[e])}catch(l){if(n.WTF)throw l}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=ja(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(Mt[e]==null&&ec(J1e[e]||"General",e),t.t==="e")t.w=t.w||Oc[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Sh(t.v);else if(t.t==="d"){var o=dn(t.v);(o|0)===o?t.w=o.toString(10):t.w=Sh(o)}else{if(t.v===void 0)return"";t.w=bc(t.v,Xd)}else t.t==="d"?t.w=bs(e,dn(t.v),Xd):t.w=bs(e,t.v,Xd)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{t.s=i.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Og(s.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=s.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Og(s.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=s.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function Jje(t,e){var r=Kr(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=Zt(r))}var Qje=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Zje=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,eTe=/<(?:\w:)?hyperlink [^>]*>/mg,tTe=/"(\w*:\w*)"/,rTe=/<(?:\w:)?col\b[^>]*[\/]?>/g,aTe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,nTe=/<(?:\w:)?pageMargins[^>]*\/>/g,XB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,sTe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,iTe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function oTe(t,e,r,n,s,i,o){if(!t)return t;n||(n={"!id":{}});var l=e.dense?[]:{},d={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",h="",p=t.match(Zje);p?(u=t.slice(0,p.index),h=t.slice(p.index+p[0].length)):u=h=t;var x=u.match(XB);x?_S(x[0],l,s,r):(x=u.match(sTe))&&lTe(x[0],x[1]||"",l,s,r);var v=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(v>0){var b=u.slice(v,v+50).match(tTe);b&&Jje(l,b[1])}var w=u.match(iTe);w&&w[1]&&pTe(w[1],s);var g=[];if(e.cellStyles){var S=u.match(rTe);S&&uTe(g,S)}p&&mTe(p[1],l,e,d,i,o);var k=h.match(aTe);k&&(l["!autofilter"]=fTe(k[0]));var y=[],j=h.match(Qje);if(j)for(v=0;v!=j.length;++v)y[v]=Kr(j[v].slice(j[v].indexOf('"')+1));var T=h.match(eTe);T&&cTe(l,T,n);var _=h.match(nTe);if(_&&(l["!margins"]=dTe(Et(_[0]))),!l["!ref"]&&d.e.c>=d.s.c&&d.e.r>=d.s.r&&(l["!ref"]=Zt(d)),e.sheetRows>0&&l["!ref"]){var O=Kr(l["!ref"]);e.sheetRows<=+O.e.r&&(O.e.r=e.sheetRows-1,O.e.r>d.e.r&&(O.e.r=d.e.r),O.e.r<O.s.r&&(O.s.r=O.e.r),O.e.c>d.e.c&&(O.e.c=d.e.c),O.e.c<O.s.c&&(O.s.c=O.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Zt(O))}return g.length>0&&(l["!cols"]=g),y.length>0&&(l["!merges"]=y),l}function _S(t,e,r,n){var s=Et(t);r.Sheets[n]||(r.Sheets[n]={}),s.codeName&&(r.Sheets[n].CodeName=tr(Sr(s.codeName)))}function lTe(t,e,r,n,s){_S(t.slice(0,t.indexOf(">")),r,n,s)}function cTe(t,e,r){for(var n=Array.isArray(t),s=0;s!=e.length;++s){var i=Et(Sr(e[s]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+tr(i.location))):(i.Target="#"+tr(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=Kr(i.ref),d=l.s.r;d<=l.e.r;++d)for(var u=l.s.c;u<=l.e.c;++u){var h=Ot({c:u,r:d});n?(t[d]||(t[d]=[]),t[d][u]||(t[d][u]={t:"z",v:void 0}),t[d][u].l=i):(t[h]||(t[h]={t:"z",v:void 0}),t[h].l=i)}}}function dTe(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function uTe(t,e){for(var r=!1,n=0;n!=e.length;++n){var s=Et(e[n],!0);s.hidden&&(s.hidden=Fr(s.hidden));var i=parseInt(s.min,10)-1,o=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!r&&s.width&&(r=!0,SS(s.width)),_u(s);i<=o;)t[i++]=La(s)}}function fTe(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var hTe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function pTe(t,e){e.Views||(e.Views=[{}]),(t.match(hTe)||[]).forEach(function(r,n){var s=Et(r);e.Views[n]||(e.Views[n]={}),+s.zoomScale&&(e.Views[n].zoom=+s.zoomScale),Fr(s.rightToLeft)&&(e.Views[n].RTL=!0)})}var mTe=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,i=kh("v"),o=kh("f");return function(d,u,h,p,x,v){for(var b=0,w="",g=[],S=[],k=0,y=0,j=0,T="",_,O,M=0,D=0,F,q,L=0,B=0,X=Array.isArray(v.CellXf),P,U=[],z=[],V=Array.isArray(u),Y=[],se={},K=!1,G=!!h.sheetStubs,W=d.split(e),Q=0,ee=W.length;Q!=ee;++Q){w=W[Q].trim();var he=w.length;if(he!==0){var je=0;e:for(b=0;b<he;++b)switch(w[b]){case">":if(w[b-1]!="/"){++b;break e}if(h&&h.cellStyles){if(O=Et(w.slice(je,b),!0),M=O.r!=null?parseInt(O.r,10):M+1,D=-1,h.sheetRows&&h.sheetRows<M)continue;se={},K=!1,O.ht&&(K=!0,se.hpt=parseFloat(O.ht),se.hpx=Dh(se.hpt)),O.hidden=="1"&&(K=!0,se.hidden=!0),O.outlineLevel!=null&&(K=!0,se.level=+O.outlineLevel),K&&(Y[M-1]=se)}break;case"<":je=b;break}if(je>=b)break;if(O=Et(w.slice(je,b),!0),M=O.r!=null?parseInt(O.r,10):M+1,D=-1,!(h.sheetRows&&h.sheetRows<M)){p.s.r>M-1&&(p.s.r=M-1),p.e.r<M-1&&(p.e.r=M-1),h&&h.cellStyles&&(se={},K=!1,O.ht&&(K=!0,se.hpt=parseFloat(O.ht),se.hpx=Dh(se.hpt)),O.hidden=="1"&&(K=!0,se.hidden=!0),O.outlineLevel!=null&&(K=!0,se.level=+O.outlineLevel),K&&(Y[M-1]=se)),g=w.slice(b).split(t);for(var me=0;me!=g.length&&g[me].trim().charAt(0)=="<";++me);for(g=g.slice(me),b=0;b!=g.length;++b)if(w=g[b].trim(),w.length!==0){if(S=w.match(r),k=b,y=0,j=0,w="<c "+(w.slice(0,1)=="<"?">":"")+w,S!=null&&S.length===2){for(k=0,T=S[1],y=0;y!=T.length&&!((j=T.charCodeAt(y)-64)<1||j>26);++y)k=26*k+j;--k,D=k}else++D;for(y=0;y!=w.length&&w.charCodeAt(y)!==62;++y);if(++y,O=Et(w.slice(0,y),!0),O.r||(O.r=Ot({r:M-1,c:D})),T=w.slice(y),_={t:""},(S=T.match(i))!=null&&S[1]!==""&&(_.v=tr(S[1])),h.cellFormula){if((S=T.match(o))!=null&&S[1]!==""){if(_.f=tr(Sr(S[1])).replace(/\r\n/g,`
`),h.xlfn||(_.f=C8(_.f)),S[0].indexOf('t="array"')>-1)_.F=(T.match(s)||[])[1],_.F.indexOf(":")>-1&&U.push([Kr(_.F),_.F]);else if(S[0].indexOf('t="shared"')>-1){q=Et(S[0]);var re=tr(Sr(S[1]));h.xlfn||(re=C8(re)),z[parseInt(q.si,10)]=[q,re,O.r]}}else(S=T.match(/<f[^>]*\/>/))&&(q=Et(S[0]),z[q.si]&&(_.f=TEe(z[q.si][1],z[q.si][2],O.r)));var ge=nn(O.r);for(y=0;y<U.length;++y)ge.r>=U[y][0].s.r&&ge.r<=U[y][0].e.r&&ge.c>=U[y][0].s.c&&ge.c<=U[y][0].e.c&&(_.F=U[y][1])}if(O.t==null&&_.v===void 0)if(_.f||_.F)_.v=0,_.t="n";else if(G)_.t="z";else continue;else _.t=O.t||"n";switch(p.s.c>D&&(p.s.c=D),p.e.c<D&&(p.e.c=D),_.t){case"n":if(_.v==""||_.v==null){if(!G)continue;_.t="z"}else _.v=parseFloat(_.v);break;case"s":if(typeof _.v>"u"){if(!G)continue;_.t="z"}else F=_f[parseInt(_.v,10)],_.v=F.t,_.r=F.r,h.cellHTML&&(_.h=F.h);break;case"str":_.t="s",_.v=_.v!=null?Sr(_.v):"",h.cellHTML&&(_.h=xS(_.v));break;case"inlineStr":S=T.match(n),_.t="s",S!=null&&(F=TS(S[1]))?(_.v=F.t,h.cellHTML&&(_.h=F.h)):_.v="";break;case"b":_.v=Fr(_.v);break;case"d":h.cellDates?_.v=ja(_.v,1):(_.v=dn(ja(_.v,1)),_.t="n");break;case"e":(!h||h.cellText!==!1)&&(_.w=_.v),_.v=gB[_.v];break}if(L=B=0,P=null,X&&O.s!==void 0&&(P=v.CellXf[O.s],P!=null&&(P.numFmtId!=null&&(L=P.numFmtId),h.cellStyles&&P.fillId!=null&&(B=P.fillId))),WB(_,L,B,h,x,v),h.cellDates&&X&&_.t=="n"&&Vu(Mt[L])&&(_.t="d",_.v=Rb(_.v)),O.cm&&h.xlmeta){var Me=(h.xlmeta.Cell||[])[+O.cm-1];Me&&Me.type=="XLDAPR"&&(_.D=!0)}if(V){var J=nn(O.r);u[J.r]||(u[J.r]=[]),u[J.r][J.c]=_}else u[O.r]=_}}}}Y.length>0&&(u["!rows"]=Y)}})();function xTe(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}var gTe=Cc;function bTe(){}function vTe(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=zNe(t),r}function yTe(t){var e=Ns(t);return[e]}function NTe(t){var e=_c(t);return[e]}function wTe(t){var e=Ns(t),r=t.read_shift(1);return[e,r,"b"]}function ATe(t){var e=_c(t),r=t.read_shift(1);return[e,r,"b"]}function ETe(t){var e=Ns(t),r=t.read_shift(1);return[e,r,"e"]}function jTe(t){var e=_c(t),r=t.read_shift(1);return[e,r,"e"]}function TTe(t){var e=Ns(t),r=t.read_shift(4);return[e,r,"s"]}function STe(t){var e=_c(t),r=t.read_shift(4);return[e,r,"s"]}function kTe(t){var e=Ns(t),r=$a(t);return[e,r,"n"]}function JB(t){var e=_c(t),r=$a(t);return[e,r,"n"]}function _Te(t){var e=Ns(t),r=AS(t);return[e,r,"n"]}function CTe(t){var e=_c(t),r=AS(t);return[e,r,"n"]}function OTe(t){var e=Ns(t),r=NS(t);return[e,r,"is"]}function DTe(t){var e=Ns(t),r=Ha(t);return[e,r,"str"]}function ITe(t){var e=_c(t),r=Ha(t);return[e,r,"str"]}function RTe(t,e,r){var n=t.l+e,s=Ns(t);s.r=r["!row"];var i=t.read_shift(1),o=[s,i,"b"];if(r.cellFormula){t.l+=2;var l=Lb(t,n-t.l,r);o[3]=qa(l,null,s,r.supbooks,r)}else t.l=n;return o}function MTe(t,e,r){var n=t.l+e,s=Ns(t);s.r=r["!row"];var i=t.read_shift(1),o=[s,i,"e"];if(r.cellFormula){t.l+=2;var l=Lb(t,n-t.l,r);o[3]=qa(l,null,s,r.supbooks,r)}else t.l=n;return o}function PTe(t,e,r){var n=t.l+e,s=Ns(t);s.r=r["!row"];var i=$a(t),o=[s,i,"n"];if(r.cellFormula){t.l+=2;var l=Lb(t,n-t.l,r);o[3]=qa(l,null,s,r.supbooks,r)}else t.l=n;return o}function LTe(t,e,r){var n=t.l+e,s=Ns(t);s.r=r["!row"];var i=Ha(t),o=[s,i,"str"];if(r.cellFormula){t.l+=2;var l=Lb(t,n-t.l,r);o[3]=qa(l,null,s,r.supbooks,r)}else t.l=n;return o}var UTe=Cc;function FTe(t,e){var r=t.l+e,n=Cc(t),s=wS(t),i=Ha(t),o=Ha(t),l=Ha(t);t.l=r;var d={rfx:n,relId:s,loc:i,display:l};return o&&(d.Tooltip=o),d}function BTe(){}function zTe(t,e,r){var n=t.l+e,s=pB(t),i=t.read_shift(1),o=[s];if(o[2]=i,r.cellFormula){var l=Hje(t,n-t.l,r);o[1]=l}else t.l=n;return o}function qTe(t,e,r){var n=t.l+e,s=Cc(t),i=[s];if(r.cellFormula){var o=Yje(t,n-t.l,r);i[1]=o,t.l=n}else t.l=n;return i}var VTe=["left","right","top","bottom","header","footer"];function $Te(t){var e={};return VTe.forEach(function(r){e[r]=$a(t)}),e}function GTe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function HTe(){}function KTe(){}function YTe(t,e,r,n,s,i,o){if(!t)return t;var l=e||{};n||(n={"!id":{}});var d=l.dense?[]:{},u,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,x=!1,v,b,w,g,S,k,y,j,T,_=[];l.biff=12,l["!row"]=0;var O=0,M=!1,D=[],F={},q=l.supbooks||s.supbooks||[[]];if(q.sharedf=F,q.arrayf=D,q.SheetNames=s.SheetNames||s.Sheets.map(function(V){return V.name}),!l.supbooks&&(l.supbooks=q,s.Names))for(var L=0;L<s.Names.length;++L)q[0][L+1]=s.Names[L];var B=[],X=[],P=!1;Rg[16]={n:"BrtShortReal",f:JB};var U;if(lo(t,function(Y,se,K){if(!x)switch(K){case 148:u=Y;break;case 0:v=Y,l.sheetRows&&l.sheetRows<=v.r&&(x=!0),j=Ua(g=v.r),l["!row"]=v.r,(Y.hidden||Y.hpt||Y.level!=null)&&(Y.hpt&&(Y.hpx=Dh(Y.hpt)),X[Y.r]=Y);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(b={t:Y[2]},Y[2]){case"n":b.v=Y[1];break;case"s":y=_f[Y[1]],b.v=y.t,b.r=y.r;break;case"b":b.v=!!Y[1];break;case"e":b.v=Y[1],l.cellText!==!1&&(b.w=Oc[b.v]);break;case"str":b.t="s",b.v=Y[1];break;case"is":b.t="s",b.v=Y[1].t;break}if((w=o.CellXf[Y[0].iStyleRef])&&WB(b,w.numFmtId,null,l,i,o),S=Y[0].c==-1?S+1:Y[0].c,l.dense?(d[g]||(d[g]=[]),d[g][S]=b):d[ma(S)+j]=b,l.cellFormula){for(M=!1,O=0;O<D.length;++O){var G=D[O];v.r>=G[0].s.r&&v.r<=G[0].e.r&&S>=G[0].s.c&&S<=G[0].e.c&&(b.F=Zt(G[0]),M=!0)}!M&&Y.length>3&&(b.f=Y[3])}if(h.s.r>v.r&&(h.s.r=v.r),h.s.c>S&&(h.s.c=S),h.e.r<v.r&&(h.e.r=v.r),h.e.c<S&&(h.e.c=S),l.cellDates&&w&&b.t=="n"&&Vu(Mt[w.numFmtId])){var W=Xl(b.v);W&&(b.t="d",b.v=new Date(W.y,W.m-1,W.d,W.H,W.M,W.S,W.u))}U&&(U.type=="XLDAPR"&&(b.D=!0),U=void 0);break;case 1:case 12:if(!l.sheetStubs||p)break;b={t:"z",v:void 0},S=Y[0].c==-1?S+1:Y[0].c,l.dense?(d[g]||(d[g]=[]),d[g][S]=b):d[ma(S)+j]=b,h.s.r>v.r&&(h.s.r=v.r),h.s.c>S&&(h.s.c=S),h.e.r<v.r&&(h.e.r=v.r),h.e.c<S&&(h.e.c=S),U&&(U.type=="XLDAPR"&&(b.D=!0),U=void 0);break;case 176:_.push(Y);break;case 49:U=((l.xlmeta||{}).Cell||[])[Y-1];break;case 494:var Q=n["!id"][Y.relId];for(Q?(Y.Target=Q.Target,Y.loc&&(Y.Target+="#"+Y.loc),Y.Rel=Q):Y.relId==""&&(Y.Target="#"+Y.loc),g=Y.rfx.s.r;g<=Y.rfx.e.r;++g)for(S=Y.rfx.s.c;S<=Y.rfx.e.c;++S)l.dense?(d[g]||(d[g]=[]),d[g][S]||(d[g][S]={t:"z",v:void 0}),d[g][S].l=Y):(k=Ot({c:S,r:g}),d[k]||(d[k]={t:"z",v:void 0}),d[k].l=Y);break;case 426:if(!l.cellFormula)break;D.push(Y),T=l.dense?d[g][S]:d[ma(S)+j],T.f=qa(Y[1],h,{r:v.r,c:S},q,l),T.F=Zt(Y[0]);break;case 427:if(!l.cellFormula)break;F[Ot(Y[0].s)]=Y[1],T=l.dense?d[g][S]:d[ma(S)+j],T.f=qa(Y[1],h,{r:v.r,c:S},q,l);break;case 60:if(!l.cellStyles)break;for(;Y.e>=Y.s;)B[Y.e--]={width:Y.w/256,hidden:!!(Y.flags&1),level:Y.level},P||(P=!0,SS(Y.w/256)),_u(B[Y.e+1]);break;case 161:d["!autofilter"]={ref:Zt(Y)};break;case 476:d["!margins"]=Y;break;case 147:s.Sheets[r]||(s.Sheets[r]={}),Y.name&&(s.Sheets[r].CodeName=Y.name),(Y.above||Y.left)&&(d["!outline"]={above:Y.above,left:Y.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),Y.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!se.T){if(!p||l.WTF)throw new Error("Unexpected record 0x"+K.toString(16))}}},l),delete l.supbooks,delete l["!row"],!d["!ref"]&&(h.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(d["!ref"]=Zt(u||h)),l.sheetRows&&d["!ref"]){var z=Kr(d["!ref"]);l.sheetRows<=+z.e.r&&(z.e.r=l.sheetRows-1,z.e.r>h.e.r&&(z.e.r=h.e.r),z.e.r<z.s.r&&(z.s.r=z.e.r),z.e.c>h.e.c&&(z.e.c=h.e.c),z.e.c<z.s.c&&(z.s.c=z.e.c),d["!fullref"]=d["!ref"],d["!ref"]=Zt(z))}return _.length>0&&(d["!merges"]=_),B.length>0&&(d["!cols"]=B),X.length>0&&(d["!rows"]=X),d}function WTe(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=r?+o[2]:o[2])});var s=tr((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[e,s,n]}function XTe(t,e,r,n,s,i){var o=i||{"!type":"chart"};if(!t)return i;var l=0,d=0,u="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var x=WTe(p);h.s.r=h.s.c=0,h.e.c=l,u=ma(l),x[0].forEach(function(v,b){o[u+Ua(b)]={t:"n",v,z:x[1]},d=b}),h.e.r<d&&(h.e.r=d),++l}),l>0&&(o["!ref"]=Zt(h)),o}function JTe(t,e,r,n,s){if(!t)return t;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=t.match(XB);return l&&_S(l[0],i,s,r),(o=t.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function QTe(t,e){t.l+=10;var r=Ha(t);return{name:r}}function ZTe(t,e,r,n,s){if(!t)return t;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return lo(t,function(d,u,h){switch(h){case 550:i["!rel"]=d;break;case 651:s.Sheets[r]||(s.Sheets[r]={}),d.name&&(s.Sheets[r].CodeName=d.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||e.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},e),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var QB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],eSe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],tSe=[],rSe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function M8(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],s=0;s!=e.length;++s){var i=e[s];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Fr(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function P8(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=Fr(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function ZB(t){P8(t.WBProps,QB),P8(t.CalcPr,rSe),M8(t.WBView,eSe),M8(t.Sheets,tSe),Xd.date1904=Fr(t.WBProps.date1904)}var aSe="][*?/\\".split("");function nSe(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return aSe.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var sSe=/<\w+:workbook/;function iSe(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,s="xmlns",i={},o=0;if(t.replace(Ya,function(d,u){var h=Et(d);switch(fi(h[0])){case"<?xml":break;case"<workbook":d.match(sSe)&&(s="xmlns"+d.match(/<(\w+):/)[1]),r.xmlns=h[s];break;case"</workbook>":break;case"<fileVersion":delete h[0],r.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":QB.forEach(function(p){if(h[p[0]]!=null)switch(p[2]){case"bool":r.WBProps[p[0]]=Fr(h[p[0]]);break;case"int":r.WBProps[p[0]]=parseInt(h[p[0]],10);break;default:r.WBProps[p[0]]=h[p[0]]}}),h.codeName&&(r.WBProps.CodeName=Sr(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],r.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=tr(Sr(h.name)),delete h[0],r.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Sr(h.name),h.comment&&(i.Comment=h.comment),h.localSheetId&&(i.Sheet=+h.localSheetId),Fr(h.hidden||"0")&&(i.Hidden=!0),o=u+d.length;break;case"</definedName>":i.Ref=tr(Sr(t.slice(o,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete h[0],r.CalcPr=h;break;case"<calcPr/>":delete h[0],r.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return d}),ENe.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return ZB(r),r}function oSe(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Oj(t),r.name=Ha(t),r}function lSe(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var s=e>8?Ha(t):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function cSe(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function dSe(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),i=qNe(t),o=Kje(t,0,r),l=wS(t);t.l=n;var d={Name:i,Ptg:o};return s<268435455&&(d.Sheet=s),l&&(d.Comment=l),d}function uSe(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],s=!1;e||(e={}),e.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],Rg[16]={n:"BrtFRTArchID$",f:cSe},lo(t,function(d,u,h){switch(h){case 156:o.SheetNames.push(d.name),r.Sheets.push(d);break;case 153:r.WBProps=d;break;case 39:d.Sheet!=null&&(e.SID=d.Sheet),d.Ref=qa(d.Ptg,null,null,o,e),delete e.SID,delete d.Ptg,i.push(d);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([h,d]):o[0]=[h,d],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(d),o.XTI=o.XTI.concat(d);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(h),s=!0;break;case 36:n.pop(),s=!1;break;case 37:n.push(h),s=!0;break;case 38:n.pop(),s=!1;break;case 16:break;default:if(!u.T){if(!s||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},e),ZB(r),r.Names=i,r.supbooks=o,r}function fSe(t,e,r){return e.slice(-4)===".bin"?uSe(t,r):iSe(t,r)}function hSe(t,e,r,n,s,i,o,l){return e.slice(-4)===".bin"?YTe(t,n,r,s,i,o,l):oTe(t,n,r,s,i,o,l)}function pSe(t,e,r,n,s,i,o,l){return e.slice(-4)===".bin"?ZTe(t,n,r,s,i):JTe(t,n,r,s,i)}function mSe(t,e,r,n,s,i,o,l){return e.slice(-4)===".bin"?AEe():EEe()}function xSe(t,e,r,n,s,i,o,l){return e.slice(-4)===".bin"?NEe():wEe()}function gSe(t,e,r,n){return e.slice(-4)===".bin"?UAe(t,r,n):DAe(t,r,n)}function bSe(t,e,r){return FB(t,r)}function vSe(t,e,r){return e.slice(-4)===".bin"?eAe(t,r):Qwe(t,r)}function ySe(t,e,r){return e.slice(-4)===".bin"?bEe(t,r):hEe(t,r)}function NSe(t,e,r){return e.slice(-4)===".bin"?dEe(t):lEe(t)}function wSe(t,e,r,n){return r.slice(-4)===".bin"?uEe(t,e,r,n):void 0}function ASe(t,e,r){return e.slice(-4)===".bin"?iEe(t,e,r):oEe(t,e,r)}var ez=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,tz=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ss(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var s=t.match(ez),i,o,l,d;if(s)for(d=0;d!=s.length;++d)i=s[d].match(tz),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),n[l]=i[2].slice(1,i[2].length-1));return n}function ESe(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(ez),s,i,o,l;if(n)for(l=0;l!=n.length;++l)s=n[l].match(tz),(i=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),r[o]=s[2].slice(1,s[2].length-1));return r}var Of;function jSe(t,e){var r=Of[t]||tr(t);return r==="General"?bc(e):bs(r,e)}function TSe(t,e,r,n){var s=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=Fr(n);break;case"i2":case"int":s=parseInt(n,10);break;case"r4":case"float":s=parseFloat(n);break;case"date":case"dateTime.tz":s=ja(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[tr(e)]=s}function SSe(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||Oc[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Sh(t.v):t.w=bc(t.v):t.w=jSe(e||"General",t.v)}catch(i){if(r.WTF)throw i}try{var n=Of[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&Vu(n)){var s=Xl(t.v);s&&(t.t="d",t.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(i){if(r.WTF)throw i}}}function kSe(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=TAe[n.Pattern]||n.Pattern)}t[e.ID]=e}function _Se(t,e,r,n,s,i,o,l,d,u){var h="General",p=n.StyleID,x={};u=u||{};var v=[],b=0;for(p===void 0&&l&&(p=l.StyleID),p===void 0&&o&&(p=o.StyleID);i[p]!==void 0&&(i[p].nf&&(h=i[p].nf),i[p].Interior&&v.push(i[p].Interior),!!i[p].Parent);)p=i[p].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Fr(t);break;case"String":n.t="s",n.r=n8(tr(t)),n.v=t.indexOf("<")>-1?tr(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(ja(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=tr(t):n.v<60&&(n.v=n.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=gB[t],u.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=n8(e||t));break}if(SSe(n,h,u),u.cellFormula!==!1)if(n.Formula){var w=tr(n.Formula);w.charCodeAt(0)==61&&(w=w.slice(1)),n.f=Wd(w,s),delete n.Formula,n.ArrayRange=="RC"?n.F=Wd("RC:RC",s):n.ArrayRange&&(n.F=Wd(n.ArrayRange,s),d.push([Kr(n.F),n.F]))}else for(b=0;b<d.length;++b)s.r>=d[b][0].s.r&&s.r<=d[b][0].e.r&&s.c>=d[b][0].s.c&&s.c<=d[b][0].e.c&&(n.F=d[b][1]);u.cellStyles&&(v.forEach(function(g){!x.patternType&&g.patternType&&(x.patternType=g.patternType)}),n.s=x),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function CSe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function jA(t,e){var r=e||{};V7();var n=nf(gS(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Sr(n));var s=n.slice(0,1024).toLowerCase(),i=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var o=La(r);return o.type="string",Ch.to_workbook(n,o)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(fe){s.indexOf("<"+fe)>=0&&(i=!0)}),i)return FSe(n,r);Of={"General Number":"General","General Date":Mt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Mt[15],"Short Date":Mt[14],"Long Time":Mt[19],"Medium Time":Mt[18],"Short Time":Mt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Mt[2],Standard:Mt[4],Percent:Mt[10],Scientific:Mt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,d=[],u,h={},p=[],x=r.dense?[]:{},v="",b={},w={},g=Ss('<Data ss:Type="String">'),S=0,k=0,y=0,j={s:{r:2e6,c:2e6},e:{r:0,c:0}},T={},_={},O="",M=0,D=[],F={},q={},L=0,B=[],X=[],P={},U=[],z,V=!1,Y=[],se=[],K={},G=0,W=0,Q={Sheets:[],WBProps:{date1904:!1}},ee={};_h.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var he="";l=_h.exec(n);)switch(l[3]=(he=l[3]).toLowerCase()){case"data":if(he=="data"){if(l[1]==="/"){if((u=d.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&d.push([l[3],!0]);break}if(d[d.length-1][1])break;l[1]==="/"?_Se(n.slice(S,l.index),O,g,d[d.length-1][0]=="comment"?P:b,{c:k,r:y},T,U[k],w,Y,r):(O="",g=Ss(l[0]),S=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(X.length>0&&(b.c=X),(!r.sheetRows||r.sheetRows>y)&&b.v!==void 0&&(r.dense?(x[y]||(x[y]=[]),x[y][k]=b):x[ma(k)+Ua(y)]=b),b.HRef&&(b.l={Target:tr(b.HRef)},b.HRefScreenTip&&(b.l.Tooltip=b.HRefScreenTip),delete b.HRef,delete b.HRefScreenTip),(b.MergeAcross||b.MergeDown)&&(G=k+(parseInt(b.MergeAcross,10)|0),W=y+(parseInt(b.MergeDown,10)|0),D.push({s:{c:k,r:y},e:{c:G,r:W}})),!r.sheetStubs)b.MergeAcross?k=G+1:++k;else if(b.MergeAcross||b.MergeDown){for(var je=k;je<=G;++je)for(var me=y;me<=W;++me)(je>k||me>y)&&(r.dense?(x[me]||(x[me]=[]),x[me][je]={t:"z"}):x[ma(je)+Ua(me)]={t:"z"});k=G+1}else++k;else b=ESe(l[0]),b.Index&&(k=+b.Index-1),k<j.s.c&&(j.s.c=k),k>j.e.c&&(j.e.c=k),l[0].slice(-2)==="/>"&&++k,X=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(y<j.s.r&&(j.s.r=y),y>j.e.r&&(j.e.r=y),l[0].slice(-2)==="/>"&&(w=Ss(l[0]),w.Index&&(y=+w.Index-1)),k=0,++y):(w=Ss(l[0]),w.Index&&(y=+w.Index-1),K={},(w.AutoFitHeight=="0"||w.Height)&&(K.hpx=parseInt(w.Height,10),K.hpt=UB(K.hpx),se[y]=K),w.Hidden=="1"&&(K.hidden=!0,se[y]=K));break;case"worksheet":if(l[1]==="/"){if((u=d.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));p.push(v),j.s.r<=j.e.r&&j.s.c<=j.e.c&&(x["!ref"]=Zt(j),r.sheetRows&&r.sheetRows<=j.e.r&&(x["!fullref"]=x["!ref"],j.e.r=r.sheetRows-1,x["!ref"]=Zt(j))),D.length&&(x["!merges"]=D),U.length>0&&(x["!cols"]=U),se.length>0&&(x["!rows"]=se),h[v]=x}else j={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=k=0,d.push([l[3],!1]),u=Ss(l[0]),v=tr(u.Name),x=r.dense?[]:{},D=[],Y=[],se=[],ee={name:v,Hidden:0},Q.Sheets.push(ee);break;case"table":if(l[1]==="/"){if((u=d.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;d.push([l[3],!1]),U=[],V=!1}break;case"style":l[1]==="/"?kSe(T,_,r):_=Ss(l[0]);break;case"numberformat":_.nf=tr(Ss(l[0]).Format||"General"),Of[_.nf]&&(_.nf=Of[_.nf]);for(var re=0;re!=392&&Mt[re]!=_.nf;++re);if(re==392){for(re=57;re!=392;++re)if(Mt[re]==null){ec(_.nf,re);break}}break;case"column":if(d[d.length-1][0]!=="table")break;if(z=Ss(l[0]),z.Hidden&&(z.hidden=!0,delete z.Hidden),z.Width&&(z.wpx=parseInt(z.Width,10)),!V&&z.wpx>10){V=!0,Za=PB;for(var ge=0;ge<U.length;++ge)U[ge]&&_u(U[ge])}V&&_u(z),U[z.Index-1||U.length]=z;for(var Me=0;Me<+z.Span;++Me)U[U.length]=La(z);break;case"namedrange":if(l[1]==="/")break;Q.Names||(Q.Names=[]);var J=Et(l[0]),Ae={Name:J.Name,Ref:Wd(J.RefersTo.slice(1),{r:0,c:0})};Q.Sheets.length>0&&(Ae.Sheet=Q.Sheets.length-1),Q.Names.push(Ae);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?O+=n.slice(M,l.index):M=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;_.Interior=Ss(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?h2e(F,he,n.slice(L,l.index)):L=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=d.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else d.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=d.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));CSe(P),X.push(P)}else d.push([l[3],!1]),u=Ss(l[0]),P={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=d.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var ne=Ss(l[0]);x["!autofilter"]={ref:Wd(ne.Range).replace(/\$/g,"")},d.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=d.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&d.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=d.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&d.push([l[3],!0]);break;case"null":break;default:if(d.length==0&&l[3]=="document"||d.length==0&&l[3]=="uof")return q8(n,r);var ve=!0;switch(d[d.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ve=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ve=!1}break;case"excelworkbook":switch(l[3]){case"date1904":Q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ve=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:ve=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(L,l.index)){case"SheetHidden":ee.Hidden=1;break;case"SheetVeryHidden":ee.Hidden=2;break}else L=l.index+l[0].length;break;case"header":x["!margins"]||Cf(x["!margins"]={},"xlml"),isNaN(+Et(l[0]).Margin)||(x["!margins"].header=+Et(l[0]).Margin);break;case"footer":x["!margins"]||Cf(x["!margins"]={},"xlml"),isNaN(+Et(l[0]).Margin)||(x["!margins"].footer=+Et(l[0]).Margin);break;case"pagemargins":var we=Et(l[0]);x["!margins"]||Cf(x["!margins"]={},"xlml"),isNaN(+we.Top)||(x["!margins"].top=+we.Top),isNaN(+we.Left)||(x["!margins"].left=+we.Left),isNaN(+we.Right)||(x["!margins"].right=+we.Right),isNaN(+we.Bottom)||(x["!margins"].bottom=+we.Bottom);break;case"displayrighttoleft":Q.Views||(Q.Views=[]),Q.Views[0]||(Q.Views[0]={}),Q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ve=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ve=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ve=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ve=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ve=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ve=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ve=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ve=!1}break;case"smarttags":break;default:ve=!1;break}if(ve||l[3].match(/!\[CDATA/))break;if(!d[d.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+d.join("|");if(d[d.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?TSe(q,he,B,n.slice(L,l.index)):(B=l,L=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+d.join("|")}var Ee={};return!r.bookSheets&&!r.bookProps&&(Ee.Sheets=h),Ee.SheetNames=p,Ee.Workbook=Q,Ee.SSF=La(Mt),Ee.Props=F,Ee.Custprops=q,Ee}function Mj(t,e){switch(DS(e=e||{}),e.type||"base64"){case"base64":return jA(Kn(t),e);case"binary":case"buffer":case"file":return jA(t,e);case"array":return jA(kc(t),e)}}function OSe(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=GNe(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=HNe(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var DSe=[60,1084,2066,2165,2175];function ISe(t,e,r,n,s){var i=n,o=[],l=r.slice(r.l,r.l+i);if(s&&s.enc&&s.enc.insitu&&l.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(l)}o.push(l),r.l+=i;for(var d=Ui(r,r.l),u=Pj[d],h=0;u!=null&&DSe.indexOf(d)>-1;)i=Ui(r,r.l+2),h=r.l+4,d==2066?h+=4:(d==2165||d==2175)&&(h+=12),l=r.slice(h,r.l+4+i),o.push(l),r.l+=4+i,u=Pj[d=Ui(r,r.l)];var p=qo(o);Pa(p,0);var x=0;p.lens=[];for(var v=0;v<o.length;++v)p.lens.push(x),x+=o[v].length;if(p.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+p.length+" < "+n;return e.f(p,p.length,s)}function Xs(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Mt[n])}catch(i){if(e.WTF)throw i}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Oc[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Sh(t.v):t.w=bc(t.v):t.w=bs(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(i){if(e.WTF)throw i}if(e.cellDates&&n&&t.t=="n"&&Vu(Mt[n]||String(n))){var s=Xl(t.v);s&&(t.t="d",t.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function ex(t,e,r){return{v:t,ixfe:e,t:r}}function RSe(t,e){var r={opts:{}},n={},s=e.dense?[]:{},i={},o={},l=null,d=[],u="",h={},p,x="",v,b,w,g,S={},k=[],y,j,T=[],_=[],O={Sheets:[],WBProps:{date1904:!1},Views:[{}]},M={},D=function(ut){return ut<8?tc[ut]:ut<64&&_[ut-8]||tc[ut]},F=function(ut,qt,Cr){var jt=qt.XF.data;if(!(!jt||!jt.patternType||!Cr||!Cr.cellStyles)){qt.s={},qt.s.patternType=jt.patternType;var Kt;(Kt=Oh(D(jt.icvFore)))&&(qt.s.fgColor={rgb:Kt}),(Kt=Oh(D(jt.icvBack)))&&(qt.s.bgColor={rgb:Kt})}},q=function(ut,qt,Cr){if(!(K>1)&&!(Cr.sheetRows&&ut.r>=Cr.sheetRows)){if(Cr.cellStyles&&qt.XF&&qt.XF.data&&F(ut,qt,Cr),delete qt.ixfe,delete qt.XF,p=ut,x=Ot(ut),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),ut.r<o.s.r&&(o.s.r=ut.r),ut.c<o.s.c&&(o.s.c=ut.c),ut.r+1>o.e.r&&(o.e.r=ut.r+1),ut.c+1>o.e.c&&(o.e.c=ut.c+1),Cr.cellFormula&&qt.f){for(var jt=0;jt<k.length;++jt)if(!(k[jt][0].s.c>ut.c||k[jt][0].s.r>ut.r)&&!(k[jt][0].e.c<ut.c||k[jt][0].e.r<ut.r)){qt.F=Zt(k[jt][0]),(k[jt][0].s.c!=ut.c||k[jt][0].s.r!=ut.r)&&delete qt.f,qt.f&&(qt.f=""+qa(k[jt][1],o,ut,Y,L));break}}Cr.dense?(s[ut.r]||(s[ut.r]=[]),s[ut.r][ut.c]=qt):s[x]=qt}},L={enc:!1,sbcch:0,snames:[],sharedf:S,arrayf:k,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(L.password=e.password);var B,X=[],P=[],U=[],z=[],V=!1,Y=[];Y.SheetNames=L.snames,Y.sharedf=L.sharedf,Y.arrayf=L.arrayf,Y.names=[],Y.XTI=[];var se=0,K=0,G=0,W=[],Q=[],ee;L.codepage=1200,Ps(1200);for(var he=!1;t.l<t.length-1;){var je=t.l,me=t.read_shift(2);if(me===0&&se===10)break;var re=t.l===t.length?0:t.read_shift(2),ge=Pj[me];if(ge&&ge.f){if(e.bookSheets&&se===133&&me!==133)break;if(se=me,ge.r===2||ge.r==12){var Me=t.read_shift(2);if(re-=2,!L.enc&&Me!==me&&((Me&255)<<8|Me>>8)!==me)throw new Error("rt mismatch: "+Me+"!="+me);ge.r==12&&(t.l+=10,re-=10)}var J={};if(me===10?J=ge.f(t,re,L):J=ISe(me,ge,t,re,L),K==0&&[9,521,1033,2057].indexOf(se)===-1)continue;switch(me){case 34:r.opts.Date1904=O.WBProps.date1904=J;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(L.enc||(t.l=0),L.enc=J,!e.password)throw new Error("File is password-protected");if(J.valid==null)throw new Error("Encryption scheme unsupported");if(!J.valid)throw new Error("Password is incorrect");break;case 92:L.lastuser=J;break;case 66:var Ae=Number(J);switch(Ae){case 21010:Ae=1200;break;case 32768:Ae=1e4;break;case 32769:Ae=1252;break}Ps(L.codepage=Ae),he=!0;break;case 317:L.rrtabid=J;break;case 25:L.winlocked=J;break;case 439:r.opts.RefreshAll=J;break;case 12:r.opts.CalcCount=J;break;case 16:r.opts.CalcDelta=J;break;case 17:r.opts.CalcIter=J;break;case 13:r.opts.CalcMode=J;break;case 14:r.opts.CalcPrecision=J;break;case 95:r.opts.CalcSaveRecalc=J;break;case 15:L.CalcRefMode=J;break;case 2211:r.opts.FullCalc=J;break;case 129:J.fDialog&&(s["!type"]="dialog"),J.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),J.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:T.push(J);break;case 430:Y.push([J]),Y[Y.length-1].XTI=[];break;case 35:case 547:Y[Y.length-1].push(J);break;case 24:case 536:ee={Name:J.Name,Ref:qa(J.rgce,o,null,Y,L)},J.itab>0&&(ee.Sheet=J.itab-1),Y.names.push(ee),Y[0]||(Y[0]=[],Y[0].XTI=[]),Y[Y.length-1].push(J),J.Name=="_xlnm._FilterDatabase"&&J.itab>0&&J.rgce&&J.rgce[0]&&J.rgce[0][0]&&J.rgce[0][0][0]=="PtgArea3d"&&(Q[J.itab-1]={ref:Zt(J.rgce[0][0][1][2])});break;case 22:L.ExternCount=J;break;case 23:Y.length==0&&(Y[0]=[],Y[0].XTI=[]),Y[Y.length-1].XTI=Y[Y.length-1].XTI.concat(J),Y.XTI=Y.XTI.concat(J);break;case 2196:if(L.biff<8)break;ee!=null&&(ee.Comment=J[1]);break;case 18:s["!protect"]=J;break;case 19:J!==0&&L.WTF&&console.error("Password verifier: "+J);break;case 133:i[J.pos]=J,L.snames.push(J.name);break;case 10:{if(--K)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,s["!ref"]=Zt(o),e.sheetRows&&e.sheetRows<=o.e.r){var ne=o.e.r;o.e.r=e.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=Zt(o),o.e.r=ne}o.e.r++,o.e.c++}X.length>0&&(s["!merges"]=X),P.length>0&&(s["!objects"]=P),U.length>0&&(s["!cols"]=U),z.length>0&&(s["!rows"]=z),O.Sheets.push(M)}u===""?h=s:n[u]=s,s=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(L.biff===8&&(L.biff={9:2,521:3,1033:4}[me]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[J.BIFFVer]||8),L.biffguess=J.BIFFVer==0,J.BIFFVer==0&&J.dt==4096&&(L.biff=5,he=!0,Ps(L.codepage=28591)),L.biff==8&&J.BIFFVer==0&&J.dt==16&&(L.biff=2),K++)break;if(s=e.dense?[]:{},L.biff<8&&!he&&(he=!0,Ps(L.codepage=e.codepage||1252)),L.biff<5||J.BIFFVer==0&&J.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var ve={pos:t.l-re,name:u};i[ve.pos]=ve,L.snames.push(u)}else u=(i[je]||{name:""}).name;J.dt==32&&(s["!type"]="chart"),J.dt==64&&(s["!type"]="macro"),X=[],P=[],L.arrayf=k=[],U=[],z=[],V=!1,M={Hidden:(i[je]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(e.dense?(s[J.r]||[])[J.c]:s[Ot({c:J.c,r:J.r})])&&++J.c,y={ixfe:J.ixfe,XF:T[J.ixfe]||{},v:J.val,t:"n"},G>0&&(y.z=W[y.ixfe>>8&63]),Xs(y,e,r.opts.Date1904),q({c:J.c,r:J.r},y,e);break;case 5:case 517:y={ixfe:J.ixfe,XF:T[J.ixfe],v:J.val,t:J.t},G>0&&(y.z=W[y.ixfe>>8&63]),Xs(y,e,r.opts.Date1904),q({c:J.c,r:J.r},y,e);break;case 638:y={ixfe:J.ixfe,XF:T[J.ixfe],v:J.rknum,t:"n"},G>0&&(y.z=W[y.ixfe>>8&63]),Xs(y,e,r.opts.Date1904),q({c:J.c,r:J.r},y,e);break;case 189:for(var we=J.c;we<=J.C;++we){var Ee=J.rkrec[we-J.c][0];y={ixfe:Ee,XF:T[Ee],v:J.rkrec[we-J.c][1],t:"n"},G>0&&(y.z=W[y.ixfe>>8&63]),Xs(y,e,r.opts.Date1904),q({c:we,r:J.r},y,e)}break;case 6:case 518:case 1030:{if(J.val=="String"){l=J;break}if(y=ex(J.val,J.cell.ixfe,J.tt),y.XF=T[y.ixfe],e.cellFormula){var fe=J.formula;if(fe&&fe[0]&&fe[0][0]&&fe[0][0][0]=="PtgExp"){var Ce=fe[0][0][1][0],Ue=fe[0][0][1][1],le=Ot({r:Ce,c:Ue});S[le]?y.f=""+qa(J.formula,o,J.cell,Y,L):y.F=((e.dense?(s[Ce]||[])[Ue]:s[le])||{}).F}else y.f=""+qa(J.formula,o,J.cell,Y,L)}G>0&&(y.z=W[y.ixfe>>8&63]),Xs(y,e,r.opts.Date1904),q(J.cell,y,e),l=J}break;case 7:case 519:if(l)l.val=J,y=ex(J,l.cell.ixfe,"s"),y.XF=T[y.ixfe],e.cellFormula&&(y.f=""+qa(l.formula,o,l.cell,Y,L)),G>0&&(y.z=W[y.ixfe>>8&63]),Xs(y,e,r.opts.Date1904),q(l.cell,y,e),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{k.push(J);var ze=Ot(J[0].s);if(v=e.dense?(s[J[0].s.r]||[])[J[0].s.c]:s[ze],e.cellFormula&&v){if(!l||!ze||!v)break;v.f=""+qa(J[1],o,J[0],Y,L),v.F=Zt(J[0])}}break;case 1212:{if(!e.cellFormula)break;if(x){if(!l)break;S[Ot(l.cell)]=J[0],v=e.dense?(s[l.cell.r]||[])[l.cell.c]:s[Ot(l.cell)],(v||{}).f=""+qa(J[0],o,p,Y,L)}}break;case 253:y=ex(d[J.isst].t,J.ixfe,"s"),d[J.isst].h&&(y.h=d[J.isst].h),y.XF=T[y.ixfe],G>0&&(y.z=W[y.ixfe>>8&63]),Xs(y,e,r.opts.Date1904),q({c:J.c,r:J.r},y,e);break;case 513:e.sheetStubs&&(y={ixfe:J.ixfe,XF:T[J.ixfe],t:"z"},G>0&&(y.z=W[y.ixfe>>8&63]),Xs(y,e,r.opts.Date1904),q({c:J.c,r:J.r},y,e));break;case 190:if(e.sheetStubs)for(var Ye=J.c;Ye<=J.C;++Ye){var qe=J.ixfe[Ye-J.c];y={ixfe:qe,XF:T[qe],t:"z"},G>0&&(y.z=W[y.ixfe>>8&63]),Xs(y,e,r.opts.Date1904),q({c:Ye,r:J.r},y,e)}break;case 214:case 516:case 4:y=ex(J.val,J.ixfe,"s"),y.XF=T[y.ixfe],G>0&&(y.z=W[y.ixfe>>8&63]),Xs(y,e,r.opts.Date1904),q({c:J.c,r:J.r},y,e);break;case 0:case 512:K===1&&(o=J);break;case 252:d=J;break;case 1054:if(L.biff==4){W[G++]=J[1];for(var Ge=0;Ge<G+163&&Mt[Ge]!=J[1];++Ge);Ge>=163&&ec(J[1],G+163)}else ec(J[1],J[0]);break;case 30:{W[G++]=J;for(var gt=0;gt<G+163&&Mt[gt]!=J;++gt);gt>=163&&ec(J,G+163)}break;case 229:X=X.concat(J);break;case 93:P[J.cmo[0]]=L.lastobj=J;break;case 438:L.lastobj.TxO=J;break;case 127:L.lastobj.ImData=J;break;case 440:for(g=J[0].s.r;g<=J[0].e.r;++g)for(w=J[0].s.c;w<=J[0].e.c;++w)v=e.dense?(s[g]||[])[w]:s[Ot({c:w,r:g})],v&&(v.l=J[1]);break;case 2048:for(g=J[0].s.r;g<=J[0].e.r;++g)for(w=J[0].s.c;w<=J[0].e.c;++w)v=e.dense?(s[g]||[])[w]:s[Ot({c:w,r:g})],v&&v.l&&(v.l.Tooltip=J[1]);break;case 28:{if(L.biff<=5&&L.biff>=2)break;v=e.dense?(s[J[0].r]||[])[J[0].c]:s[Ot(J[0])];var ht=P[J[2]];v||(e.dense?(s[J[0].r]||(s[J[0].r]=[]),v=s[J[0].r][J[0].c]={t:"z"}):v=s[Ot(J[0])]={t:"z"},o.e.r=Math.max(o.e.r,J[0].r),o.s.r=Math.min(o.s.r,J[0].r),o.e.c=Math.max(o.e.c,J[0].c),o.s.c=Math.min(o.s.c,J[0].c)),v.c||(v.c=[]),b={a:J[1],t:ht.TxO.t},v.c.push(b)}break;case 2173:rEe(T[J.ixfe],J.ext);break;case 125:{if(!L.cellStyles)break;for(;J.e>=J.s;)U[J.e--]={width:J.w/256,level:J.level||0,hidden:!!(J.flags&1)},V||(V=!0,SS(J.w/256)),_u(U[J.e+1])}break;case 520:{var nt={};J.level!=null&&(z[J.r]=nt,nt.level=J.level),J.hidden&&(z[J.r]=nt,nt.hidden=!0),J.hpt&&(z[J.r]=nt,nt.hpt=J.hpt,nt.hpx=Dh(J.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||Cf(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[me]]=J;break;case 161:s["!margins"]||Cf(s["!margins"]={}),s["!margins"].header=J.header,s["!margins"].footer=J.footer;break;case 574:J.RTL&&(O.Views[0].RTL=!0);break;case 146:_=J;break;case 2198:B=J;break;case 140:j=J;break;case 442:u?M.CodeName=J||M.name:O.WBProps.CodeName=J||"ThisWorkbook";break}}else ge||console.error("Missing Info for XLS Record 0x"+me.toString(16)),t.l+=re}return r.SheetNames=li(i).sort(function(Dt,ut){return Number(Dt)-Number(ut)}).map(function(Dt){return i[Dt].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&h["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=h)):r.Preamble=h,r.Sheets&&Q.forEach(function(Dt,ut){r.Sheets[r.SheetNames[ut]]["!autofilter"]=Dt}),r.Strings=d,r.SSF=La(Mt),L.enc&&(r.Encryption=L.enc),B&&(r.Themes=B),r.Metadata={},j!==void 0&&(r.Metadata.Country=j),Y.names.length>0&&(O.Names=Y.names),r.Workbook=O,r}var L8={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function MSe(t,e,r){var n=Qt.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var s=y8(n,QNe,L8.DSI);for(var i in s)e[i]=s[i]}catch(u){if(r.WTF)throw u}var o=Qt.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var l=y8(o,ZNe,L8.SI);for(var d in l)e[d]==null&&(e[d]=l[d])}catch(u){if(r.WTF)throw u}e.HeadingPairs&&e.TitlesOfParts&&(vB(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function rz(t,e){e||(e={}),DS(e),O7(),e.codepage&&dS(e.codepage);var r,n;if(t.FullPaths){if(Qt.find(t,"/encryption"))throw new Error("File is password-protected");r=Qt.find(t,"!CompObj"),n=Qt.find(t,"/Workbook")||Qt.find(t,"/Book")}else{switch(e.type){case"base64":t=Ms(Kn(t));break;case"binary":t=Ms(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Pa(t,0),n={content:t}}var s,i;if(r&&OSe(r),e.bookProps&&!e.bookSheets)s={};else{var o=Wt?"buffer":"array";if(n&&n.content)s=RSe(n.content,e);else if((i=Qt.find(t,"PerfectOffice_MAIN"))&&i.content)s=kf.to_workbook(i.content,(e.type=o,e));else if((i=Qt.find(t,"NativeContent_MAIN"))&&i.content)s=kf.to_workbook(i.content,(e.type=o,e));else throw(i=Qt.find(t,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Qt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=yEe(t))}var l={};return t.FullPaths&&MSe(t,l,e),s.Props=s.Custprops=l,e.bookFiles&&(s.cfb=t),s}var Rg={0:{f:xTe},1:{f:yTe},2:{f:_Te},3:{f:ETe},4:{f:wTe},5:{f:kTe},6:{f:DTe},7:{f:TTe},8:{f:LTe},9:{f:PTe},10:{f:RTe},11:{f:MTe},12:{f:NTe},13:{f:CTe},14:{f:jTe},15:{f:ATe},16:{f:JB},17:{f:ITe},18:{f:STe},19:{f:NS},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:dSe},40:{},42:{},43:{f:RAe},44:{f:IAe},45:{f:MAe},46:{f:LAe},47:{f:PAe},48:{},49:{f:UNe},50:{},51:{f:nEe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:OB},62:{f:OTe},63:{f:cEe},64:{f:HTe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ka,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:GTe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:vTe},148:{f:gTe,p:16},151:{f:BTe},152:{},153:{f:lSe},154:{},155:{},156:{f:oSe},157:{},158:{},159:{T:1,f:Zwe},160:{T:-1},161:{T:1,f:Cc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:UTe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:aEe},336:{T:-1},337:{f:sEe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Oj},357:{},358:{},359:{},360:{T:1},361:{},362:{f:CB},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:zTe},427:{f:qTe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:$Te},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:bTe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:FTe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Oj},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:gEe},633:{T:1},634:{T:-1},635:{T:1,f:xEe},636:{T:-1},637:{f:BNe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:QTe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:KTe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Pj={6:{f:AA},10:{f:Mo},12:{f:aa},13:{f:aa},14:{f:Xr},15:{f:Xr},16:{f:$a},17:{f:Xr},18:{f:Xr},19:{f:aa},20:{f:E8},21:{f:E8},23:{f:CB},24:{f:T8},25:{f:Xr},26:{},27:{},28:{f:pwe},29:{},34:{f:Xr},35:{f:j8},38:{f:$a},39:{f:$a},40:{f:$a},41:{f:$a},42:{f:Xr},43:{f:Xr},47:{f:bAe},49:{f:W2e},51:{f:aa},60:{},61:{f:H2e},64:{f:Xr},65:{f:Y2e},66:{f:aa},77:{},80:{},81:{},82:{},85:{f:aa},89:{},90:{},91:{},92:{f:U2e},93:{f:xwe},94:{},95:{f:Xr},96:{},97:{},99:{f:Xr},125:{f:OB},128:{f:swe},129:{f:F2e},130:{f:aa},131:{f:Xr},132:{f:Xr},133:{f:B2e},134:{},140:{f:wwe},141:{f:aa},144:{},146:{f:Ewe},151:{},152:{},153:{},154:{},155:{},156:{f:aa},157:{},158:{},160:{f:_we},161:{f:Twe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:twe},190:{f:rwe},193:{f:Mo},197:{},198:{},199:{},200:{},201:{},202:{f:Xr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:aa},220:{},221:{f:Xr},222:{},224:{f:nwe},225:{f:L2e},226:{f:Mo},227:{},229:{f:mwe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:z2e},253:{f:X2e},255:{f:q2e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:EB},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Xr},353:{f:Mo},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:owe},431:{f:Xr},432:{},433:{},434:{},437:{},438:{f:vwe},439:{f:Xr},440:{f:ywe},441:{},442:{f:tp},443:{},444:{f:aa},445:{},446:{},448:{f:Mo},449:{f:G2e,r:2},450:{f:Mo},512:{f:w8},513:{f:kwe},515:{f:iwe},516:{f:J2e},517:{f:A8},519:{f:Cwe},520:{f:V2e},523:{},545:{f:S8},549:{f:N8},566:{},574:{f:K2e},638:{f:ewe},659:{},1048:{},1054:{f:Q2e},1084:{},1212:{f:uwe},2048:{f:Nwe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Jm},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Mo},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:jwe,r:12},2173:{f:tEe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Xr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:dwe,r:12},2197:{},2198:{f:WAe,r:12},2199:{},2200:{},2201:{},2202:{f:fwe,r:12},2203:{f:Mo},2204:{},2205:{},2206:{},2207:{},2211:{f:$2e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:aa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Swe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Awe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:w8},1:{},2:{f:Rwe},3:{f:Iwe},4:{f:Dwe},5:{f:A8},7:{f:Mwe},8:{},9:{f:Jm},11:{},22:{f:aa},30:{f:Z2e},31:{},32:{},33:{f:S8},36:{},37:{f:N8},50:{f:Pwe},62:{},52:{},67:{},68:{f:aa},69:{},86:{},126:{},127:{f:Owe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Lwe},223:{},234:{},354:{},421:{},518:{f:AA},521:{f:Jm},536:{f:T8},547:{f:j8},561:{},579:{},1030:{f:AA},1033:{f:Jm},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ks(t,e,r,n){var s=e;if(!isNaN(s)){var i=(r||[]).length||0,o=t.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&uB(r)&&t.push(r)}}function U8(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var s=t.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=t.match(/<\/table/i),o=s.index,l=i&&i.index||t.length,d=iNe(t.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,h=0,p=0,x=0,v={s:{r:1e7,c:1e7},e:{r:0,c:0}},b=[];for(o=0;o<d.length;++o){var w=d[o].trim(),g=w.slice(0,3).toLowerCase();if(g=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}h=0;continue}if(!(g!="<td"&&g!="<th")){var S=w.split(/<\/t[dh]>/i);for(l=0;l<S.length;++l){var k=S[l].trim();if(k.match(/<t[dh]/i)){for(var y=k,j=0;y.charAt(0)=="<"&&(j=y.indexOf(">"))>-1;)y=y.slice(j+1);for(var T=0;T<b.length;++T){var _=b[T];_.s.c==h&&_.s.r<u&&u<=_.e.r&&(h=_.e.c+1,T=-1)}var O=Et(k.slice(0,k.indexOf(">")));x=O.colspan?+O.colspan:1,((p=+O.rowspan)>1||x>1)&&b.push({s:{r:u,c:h},e:{r:u+(p||1)-1,c:h+x-1}});var M=O.t||O["data-t"]||"";if(!y.length){h+=x;continue}if(y=Q7(y),v.s.r>u&&(v.s.r=u),v.e.r<u&&(v.e.r=u),v.s.c>h&&(v.s.c=h),v.e.c<h&&(v.e.c=h),!y.length){h+=x;continue}var D={t:"s",v:y};r.raw||!y.trim().length||M=="s"||(y==="TRUE"?D={t:"b",v:!0}:y==="FALSE"?D={t:"b",v:!1}:isNaN(zs(y))?isNaN(ku(y).getDate())||(D={t:"d",v:ja(y)},r.cellDates||(D={t:"n",v:dn(D.v)}),D.z=r.dateNF||Mt[14]):D={t:"n",v:zs(y)}),r.dense?(n[u]||(n[u]=[]),n[u][h]=D):n[Ot({r:u,c:h})]=D,h+=x}}}}return n["!ref"]=Zt(v),b.length&&(n["!merges"]=b),n}function PSe(t,e,r,n){for(var s=t["!merges"]||[],i=[],o=e.s.c;o<=e.e.c;++o){for(var l=0,d=0,u=0;u<s.length;++u)if(!(s[u].s.r>r||s[u].s.c>o)&&!(s[u].e.r<r||s[u].e.c<o)){if(s[u].s.r<r||s[u].s.c<o){l=-1;break}l=s[u].e.r-s[u].s.r+1,d=s[u].e.c-s[u].s.c+1;break}if(!(l<0)){var h=Ot({r,c:o}),p=n.dense?(t[r]||[])[o]:t[h],x=p&&p.v!=null&&(p.h||xS(p.w||(eo(p),p.w)||""))||"",v={};l>1&&(v.rowspan=l),d>1&&(v.colspan=d),n.editable?x='<span contenteditable="true">'+x+"</span>":p&&(v["data-t"]=p&&p.t||"z",p.v!=null&&(v["data-v"]=p.v),p.z!=null&&(v["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+p.l.Target+'">'+x+"</a>")),v.id=(n.id||"sjs")+"-"+h,i.push(wNe("td",x,v))}}var b="<tr>";return b+i.join("")+"</tr>"}var LSe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',USe="</body></html>";function FSe(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return fl(U8(r[0],e),e);var n=RS();return r.forEach(function(s,i){MS(n,U8(s,e),"Sheet"+(i+1))}),n}function BSe(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function zSe(t,e){var r=e||{},n=r.header!=null?r.header:LSe,s=r.footer!=null?r.footer:USe,i=[n],o=$u(t["!ref"]);r.dense=Array.isArray(t),i.push(BSe(t,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(PSe(t,o,l,r));return i.push("</table>"+s),i.join("")}function az(t,e,r){var n=r||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var o=typeof n.origin=="string"?nn(n.origin):n.origin;s=o.r,i=o.c}var l=e.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:s,c:i}};if(t["!ref"]){var h=$u(t["!ref"]);u.s.r=Math.min(u.s.r,h.s.r),u.s.c=Math.min(u.s.c,h.s.c),u.e.r=Math.max(u.e.r,h.e.r),u.e.c=Math.max(u.e.c,h.e.c),s==-1&&(u.e.r=s=h.e.r+1)}var p=[],x=0,v=t["!rows"]||(t["!rows"]=[]),b=0,w=0,g=0,S=0,k=0,y=0;for(t["!cols"]||(t["!cols"]=[]);b<l.length&&w<d;++b){var j=l[b];if(F8(j)){if(n.display)continue;v[w]={hidden:!0}}var T=j.children;for(g=S=0;g<T.length;++g){var _=T[g];if(!(n.display&&F8(_))){var O=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):Q7(_.innerHTML),M=_.getAttribute("data-z")||_.getAttribute("z");for(x=0;x<p.length;++x){var D=p[x];D.s.c==S+i&&D.s.r<w+s&&w+s<=D.e.r&&(S=D.e.c+1-i,x=-1)}y=+_.getAttribute("colspan")||1,((k=+_.getAttribute("rowspan")||1)>1||y>1)&&p.push({s:{r:w+s,c:S+i},e:{r:w+s+(k||1)-1,c:S+i+(y||1)-1}});var F={t:"s",v:O},q=_.getAttribute("data-t")||_.getAttribute("t")||"";O!=null&&(O.length==0?F.t=q||"z":n.raw||O.trim().length==0||q=="s"||(O==="TRUE"?F={t:"b",v:!0}:O==="FALSE"?F={t:"b",v:!1}:isNaN(zs(O))?isNaN(ku(O).getDate())||(F={t:"d",v:ja(O)},n.cellDates||(F={t:"n",v:dn(F.v)}),F.z=n.dateNF||Mt[14]):F={t:"n",v:zs(O)})),F.z===void 0&&M!=null&&(F.z=M);var L="",B=_.getElementsByTagName("A");if(B&&B.length)for(var X=0;X<B.length&&!(B[X].hasAttribute("href")&&(L=B[X].getAttribute("href"),L.charAt(0)!="#"));++X);L&&L.charAt(0)!="#"&&(F.l={Target:L}),n.dense?(t[w+s]||(t[w+s]=[]),t[w+s][S+i]=F):t[Ot({c:S+i,r:w+s})]=F,u.e.c<S+i&&(u.e.c=S+i),S+=y}}++w}return p.length&&(t["!merges"]=(t["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,w-1+s),t["!ref"]=Zt(u),w>=d&&(t["!fullref"]=Zt((u.e.r=l.length-b+w-1+s,u))),t}function nz(t,e){var r=e||{},n=r.dense?[]:{};return az(n,t,e)}function qSe(t,e){return fl(nz(t,e),e)}function F8(t){var e="",r=VSe(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function VSe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function $Se(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=tr(e.replace(/<[^>]*>/g,""));return[r]}var B8={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function sz(t,e){var r=e||{},n=gS(t),s=[],i,o,l={name:""},d="",u=0,h,p,x={},v=[],b=r.dense?[]:{},w,g,S={value:""},k="",y=0,j=[],T=-1,_=-1,O={s:{r:1e6,c:1e7},e:{r:0,c:0}},M=0,D={},F=[],q={},L=0,B=0,X=[],P=1,U=1,z=[],V={Names:[]},Y={},se=["",""],K=[],G={},W="",Q=0,ee=!1,he=!1,je=0;for(_h.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");w=_h.exec(n);)switch(w[3]=w[3].replace(/_.*$/,"")){case"table":case"":w[1]==="/"?(O.e.c>=O.s.c&&O.e.r>=O.s.r?b["!ref"]=Zt(O):b["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=O.e.r&&(b["!fullref"]=b["!ref"],O.e.r=r.sheetRows-1,b["!ref"]=Zt(O)),F.length&&(b["!merges"]=F),X.length&&(b["!rows"]=X),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),v.push(h.name),x[h.name]=b,he=!1):w[0].charAt(w[0].length-2)!=="/"&&(h=Et(w[0],!1),T=_=-1,O.s.r=O.s.c=1e7,O.e.r=O.e.c=0,b=r.dense?[]:{},F=[],X=[],he=!0);break;case"table-row-group":w[1]==="/"?--M:++M;break;case"table-row":case"":if(w[1]==="/"){T+=P,P=1;break}if(p=Et(w[0],!1),p.?T=p.-1:T==-1&&(T=0),P=+p["number-rows-repeated"]||1,P<10)for(je=0;je<P;++je)M>0&&(X[T+je]={level:M});_=-1;break;case"covered-table-cell":w[1]!=="/"&&++_,r.sheetStubs&&(r.dense?(b[T]||(b[T]=[]),b[T][_]={t:"z"}):b[Ot({r:T,c:_})]={t:"z"}),k="",j=[];break;case"table-cell":case"":if(w[0].charAt(w[0].length-2)==="/")++_,S=Et(w[0],!1),U=parseInt(S["number-columns-repeated"]||"1",10),g={t:"z",v:null},S.formula&&r.cellFormula!=!1&&(g.f=R8(tr(S.formula))),(S.||S["value-type"])=="string"&&(g.t="s",g.v=tr(S["string-value"]||""),r.dense?(b[T]||(b[T]=[]),b[T][_]=g):b[Ot({r:T,c:_})]=g),_+=U-1;else if(w[1]!=="/"){++_,k="",y=0,j=[],U=1;var me=P?T+P-1:T;if(_>O.e.c&&(O.e.c=_),_<O.s.c&&(O.s.c=_),T<O.s.r&&(O.s.r=T),me>O.e.r&&(O.e.r=me),S=Et(w[0],!1),K=[],G={},g={t:S.||S["value-type"],v:null},r.cellFormula)if(S.formula&&(S.formula=tr(S.formula)),S["number-matrix-columns-spanned"]&&S["number-matrix-rows-spanned"]&&(L=parseInt(S["number-matrix-rows-spanned"],10)||0,B=parseInt(S["number-matrix-columns-spanned"],10)||0,q={s:{r:T,c:_},e:{r:T+L-1,c:_+B-1}},g.F=Zt(q),z.push([q,g.F])),S.formula)g.f=R8(S.formula);else for(je=0;je<z.length;++je)T>=z[je][0].s.r&&T<=z[je][0].e.r&&_>=z[je][0].s.c&&_<=z[je][0].e.c&&(g.F=z[je][1]);switch((S["number-columns-spanned"]||S["number-rows-spanned"])&&(L=parseInt(S["number-rows-spanned"],10)||0,B=parseInt(S["number-columns-spanned"],10)||0,q={s:{r:T,c:_},e:{r:T+L-1,c:_+B-1}},F.push(q)),S["number-columns-repeated"]&&(U=parseInt(S["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=Fr(S["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(S.value);break;case"percentage":g.t="n",g.v=parseFloat(S.value);break;case"currency":g.t="n",g.v=parseFloat(S.value);break;case"date":g.t="d",g.v=ja(S["date-value"]),r.cellDates||(g.t="n",g.v=dn(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=aNe(S["time-value"])/86400,r.cellDates&&(g.t="d",g.v=Rb(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(S.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",S["string-value"]!=null&&(k=tr(S["string-value"]),j=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(ee=!1,g.t==="s"&&(g.v=k||"",j.length&&(g.R=j),ee=y==0),Y.Target&&(g.l=Y),K.length>0&&(g.c=K,K=[]),k&&r.cellText!==!1&&(g.w=k),ee&&(g.t="z",delete g.v),(!ee||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=T))for(var re=0;re<P;++re){if(U=parseInt(S["number-columns-repeated"]||"1",10),r.dense)for(b[T+re]||(b[T+re]=[]),b[T+re][_]=re==0?g:La(g);--U>0;)b[T+re][_+U]=La(g);else for(b[Ot({r:T+re,c:_})]=g;--U>0;)b[Ot({r:T+re,c:_+U})]=La(g);O.e.c<=_&&(O.e.c=_)}U=parseInt(S["number-columns-repeated"]||"1",10),_+=U-1,U=0,g={},k="",j=[]}Y={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(w[1]==="/"){if((i=s.pop())[0]!==w[3])throw"Bad state: "+i}else w[0].charAt(w[0].length-2)!=="/"&&s.push([w[3],!0]);break;case"annotation":if(w[1]==="/"){if((i=s.pop())[0]!==w[3])throw"Bad state: "+i;G.t=k,j.length&&(G.R=j),G.a=W,K.push(G)}else w[0].charAt(w[0].length-2)!=="/"&&s.push([w[3],!1]);W="",Q=0,k="",y=0,j=[];break;case"creator":w[1]==="/"?W=n.slice(Q,w.index):Q=w.index+w[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(w[1]==="/"){if((i=s.pop())[0]!==w[3])throw"Bad state: "+i}else w[0].charAt(w[0].length-2)!=="/"&&s.push([w[3],!1]);k="",y=0,j=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(w[1]==="/"){if(D[l.name]=d,(i=s.pop())[0]!==w[3])throw"Bad state: "+i}else w[0].charAt(w[0].length-2)!=="/"&&(d="",l=Et(w[0],!1),s.push([w[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":o=Et(w[0],!1),d+=B8[w[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":o=Et(w[0],!1),d+=B8[w[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(w[0].slice(-2)==="/>")break;if(w[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":d+=n.slice(u,w.index);break}else u=w.index+w[0].length;break;case"named-range":o=Et(w[0],!1),se=EA(o["cell-range-address"]);var ge={Name:o.name,Ref:se[0]+"!"+se[1]};he&&(ge.Sheet=v.length),V.Names.push(ge);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(w[1]==="/"&&(!S||!S["string-value"])){var Me=$Se(n.slice(y,w.index));k=(k.length>0?k+`
`:"")+Me[0]}else Et(w[0],!1),y=w.index+w[0].length;break;case"s":break;case"database-range":if(w[1]==="/")break;try{se=EA(Et(w[0])["target-range-address"]),x[se[0]]["!autofilter"]={ref:se[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(w[1]!=="/"){if(Y=Et(w[0],!1),!Y.href)break;Y.Target=tr(Y.href),delete Y.href,Y.Target.charAt(0)=="#"&&Y.Target.indexOf(".")>-1?(se=EA(Y.Target.slice(1)),Y.Target="#"+se[0]+"!"+se[1]):Y.Target.match(/^\.\.[\\\/]/)&&(Y.Target=Y.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(w[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(w)}}var J={Sheets:x,SheetNames:v,Workbook:V};return r.bookSheets&&delete J.Sheets,J}function z8(t,e){e=e||{},hs(t,"META-INF/manifest.xml")&&i2e(ra(t,"META-INF/manifest.xml"),e);var r=zn(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=sz(Sr(r),e);return hs(t,"meta.xml")&&(n.Props=bB(ra(t,"meta.xml"))),n}function q8(t,e){return sz(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function CS(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Lj(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Sr(kc(t))}function Uj(t){var e=t.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(s){r.set(s,n),n+=s.length}),r}function V8(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function GSe(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,s=e+13;s>=e;--s)n=n*256+t[s];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function Ih(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function xa(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Ga(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],s=Ih(t,r),i=s&7;s=Math.floor(s/8);var o=0,l;if(s==0)break;switch(i){case 0:{for(var d=r[0];t[r[0]++]>=128;);l=t.slice(d,r[0])}break;case 5:o=4,l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Ih(t,r),l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var u={data:l,type:i};e[s]==null?e[s]=[u]:e[s].push(u)}return e}function OS(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function HSe(t){for(var e,r=[],n=[0];n[0]<t.length;){var s=Ih(t,n),i=Ga(t.slice(n[0],n[0]+s));n[0]+=s;var o={id:xa(i[1][0].data),messages:[]};i[2].forEach(function(l){var d=Ga(l.data),u=xa(d[3][0].data);o.messages.push({meta:d,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=i[3])!=null&&e[0]&&(o.merge=xa(i[3][0].data)>>>0>0),r.push(o)}return r}function KSe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Ih(e,r),s=[];r[0]<e.length;){var i=e[r[0]]&3;if(i==0){var o=e[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=e[r[0]],l>1&&(o|=e[r[0]+1]<<8),l>2&&(o|=e[r[0]+2]<<16),l>3&&(o|=e[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}s.push(e.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var d=0,u=0;if(i==1?(u=(e[r[0]]>>2&7)+4,d=(e[r[0]++]&224)<<3,d|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,i==2?(d=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(d=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),s=[Uj(s)],d==0)throw new Error("Invalid offset 0");if(d>s[0].length)throw new Error("Invalid offset beyond length");if(u>=d)for(s.push(s[0].slice(-d)),u-=d;u>=s[s.length-1].length;)s.push(s[s.length-1]),u-=s[s.length-1].length;s.push(s[0].slice(-d,-d+u))}}var h=Uj(s);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function YSe(t){for(var e=[],r=0;r<t.length;){var n=t[r++],s=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(KSe(n,t.slice(r,r+s))),r+=s}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Uj(e)}function WSe(t,e,r,n){var s=CS(t),i=s.getUint32(4,!0),o=(n>1?12:8)+V8(i&(n>1?3470:398))*4,l=-1,d=-1,u=NaN,h=new Date(2001,0,1);i&512&&(l=s.getUint32(o,!0),o+=4),o+=V8(i&(n>1?12288:4096))*4,i&16&&(d=s.getUint32(o,!0),o+=4),i&32&&(u=s.getFloat64(o,!0),o+=8),i&64&&(h.setTime(h.getTime()+s.getFloat64(o,!0)*1e3),o+=8);var p;switch(t[2]){case 0:break;case 2:p={t:"n",v:u};break;case 3:p={t:"s",v:e[d]};break;case 5:p={t:"d",v:h};break;case 6:p={t:"b",v:u>0};break;case 7:p={t:"n",v:u/86400};break;case 8:p={t:"e",v:0};break;case 9:if(l>-1)p={t:"s",v:r[l]};else if(d>-1)p={t:"s",v:e[d]};else if(!isNaN(u))p={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return p}function XSe(t,e,r){var n=CS(t),s=n.getUint32(8,!0),i=12,o=-1,l=-1,d=NaN,u=NaN,h=new Date(2001,0,1);s&1&&(d=GSe(t,i),i+=16),s&2&&(u=n.getFloat64(i,!0),i+=8),s&4&&(h.setTime(h.getTime()+n.getFloat64(i,!0)*1e3),i+=8),s&8&&(l=n.getUint32(i,!0),i+=4),s&16&&(o=n.getUint32(i,!0),i+=4);var p;switch(t[1]){case 0:break;case 2:p={t:"n",v:d};break;case 3:p={t:"s",v:e[l]};break;case 5:p={t:"d",v:h};break;case 6:p={t:"b",v:u>0};break;case 7:p={t:"n",v:u/86400};break;case 8:p={t:"e",v:0};break;case 9:if(o>-1)p={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(s&31," : ").concat(t.slice(0,4)));break;case 10:p={t:"n",v:d};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(s&31," : ").concat(t.slice(0,4)))}return p}function JSe(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return WSe(t,e,r,t[0]);case 5:return XSe(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Wo(t){var e=Ga(t);return Ih(e[1][0].data)}function $8(t,e){var r=Ga(e.data),n=xa(r[1][0].data),s=r[3],i=[];return(s||[]).forEach(function(o){var l=Ga(o.data),d=xa(l[1][0].data)>>>0;switch(n){case 1:i[d]=Lj(l[3][0].data);break;case 8:{var u=t[Wo(l[9][0].data)][0],h=Ga(u.data),p=t[Wo(h[1][0].data)][0],x=xa(p.meta[1][0].data);if(x!=2001)throw new Error("2000 unexpected reference to ".concat(x));var v=Ga(p.data);i[d]=v[3].map(function(b){return Lj(b.data)}).join("")}break}}),i}function QSe(t,e){var r,n,s,i,o,l,d,u,h,p,x,v,b,w,g=Ga(t),S=xa(g[1][0].data)>>>0,k=xa(g[2][0].data)>>>0,y=((n=(r=g[8])==null?void 0:r[0])==null?void 0:n.data)&&xa(g[8][0].data)>0||!1,j,T;if((i=(s=g[7])==null?void 0:s[0])!=null&&i.data&&e!=0)j=(l=(o=g[7])==null?void 0:o[0])==null?void 0:l.data,T=(u=(d=g[6])==null?void 0:d[0])==null?void 0:u.data;else if((p=(h=g[4])==null?void 0:h[0])!=null&&p.data&&e!=1)j=(v=(x=g[4])==null?void 0:x[0])==null?void 0:v.data,T=(w=(b=g[3])==null?void 0:b[0])==null?void 0:w.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var _=y?4:1,O=CS(j),M=[],D=0;D<j.length/2;++D){var F=O.getUint16(D*2,!0);F<65535&&M.push([D,F])}if(M.length!=k)throw"Expected ".concat(k," cells, found ").concat(M.length);var q=[];for(D=0;D<M.length-1;++D)q[M[D][0]]=T.subarray(M[D][1]*_,M[D+1][1]*_);return M.length>=1&&(q[M[M.length-1][0]]=T.subarray(M[M.length-1][1]*_)),{R:S,cells:q}}function ZSe(t,e){var r,n=Ga(e.data),s=(r=n==null?void 0:n[7])!=null&&r[0]?xa(n[7][0].data)>>>0>0?1:0:-1,i=OS(n[5],function(o){return QSe(o,s)});return{nrows:xa(n[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(d,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=d}),o},[])}}function eke(t,e,r){var n,s=Ga(e.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(xa(s[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(i.e.c=(xa(s[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));r["!ref"]=Zt(i);var o=Ga(s[4][0].data),l=$8(t,t[Wo(o[4][0].data)][0]),d=(n=o[17])!=null&&n[0]?$8(t,t[Wo(o[17][0].data)][0]):[],u=Ga(o[3][0].data),h=0;u[1].forEach(function(p){var x=Ga(p.data),v=t[Wo(x[2][0].data)][0],b=xa(v.meta[1][0].data);if(b!=6002)throw new Error("6001 unexpected reference to ".concat(b));var w=ZSe(t,v);w.data.forEach(function(g,S){g.forEach(function(k,y){var j=Ot({r:h+S,c:y}),T=JSe(k,l,d);T&&(r[j]=T)})}),h+=w.nrows})}function tke(t,e){var r=Ga(e.data),n={"!ref":"A1"},s=t[Wo(r[2][0].data)],i=xa(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return eke(t,s[0],n),n}function rke(t,e){var r,n=Ga(e.data),s={name:(r=n[1])!=null&&r[0]?Lj(n[1][0].data):"",sheets:[]},i=OS(n[2],Wo);return i.forEach(function(o){t[o].forEach(function(l){var d=xa(l.meta[1][0].data);d==6e3&&s.sheets.push(tke(t,l))})}),s}function ake(t,e){var r=RS(),n=Ga(e.data),s=OS(n[1],Wo);if(s.forEach(function(i){t[i].forEach(function(o){var l=xa(o.meta[1][0].data);if(l==2){var d=rke(t,o);d.sheets.forEach(function(u,h){MS(r,u,h==0?d.name:d.name+"_"+h,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function TA(t){var e,r,n,s,i={},o=[];if(t.FullPaths.forEach(function(d){if(d.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(d){if(d.name.match(/\.iwa$/)){var u;try{u=YSe(d.content)}catch(p){return console.log("?? "+d.content.length+" "+(p.message||p))}var h;try{h=HSe(u)}catch(p){return console.log("## "+(p.message||p))}h.forEach(function(p){i[p.id]=p.messages,o.push(p.id)})}}),!o.length)throw new Error("File has no messages");var l=((s=(n=(r=(e=i==null?void 0:i[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:s[0].data)&&xa(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(d){i[d].forEach(function(u){var h=xa(u.meta[1][0].data)>>>0;if(h==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return ake(i,l)}function nke(t){return function(r){for(var n=0;n!=t.length;++n){var s=t[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function DS(t){nke([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function ske(t){return Bd.WS.indexOf(t)>-1?"sheet":t==Bd.CS?"chart":t==Bd.DS?"dialog":t==Bd.MS?"macro":t&&t.length?t:"sheet"}function ike(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,ske(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function oke(t,e,r,n,s,i,o,l,d,u,h,p){try{i[n]=Tf(zn(t,r,!0),e);var x=ra(t,e),v;switch(l){case"sheet":v=hSe(x,e,s,d,i[n],u,h,p);break;case"chart":if(v=pSe(x,e,s,d,i[n],u,h,p),!v||!v["!drawel"])break;var b=of(v["!drawel"].Target,e),w=Dj(b),g=fEe(zn(t,b,!0),Tf(zn(t,w,!0),b)),S=of(g,b),k=Dj(S);v=XTe(zn(t,S,!0),S,d,Tf(zn(t,k,!0),S),u,v);break;case"macro":v=mSe(x,e,s,d,i[n],u,h,p);break;case"dialog":v=xSe(x,e,s,d,i[n],u,h,p);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=v;var y=[];i&&i[n]&&li(i[n]).forEach(function(j){var T="";if(i[n][j].Type==Bd.CMNT){T=of(i[n][j].Target,e);var _=ySe(ra(t,T,!0),T,d);if(!_||!_.length)return;_8(v,_,!1)}i[n][j].Type==Bd.TCMNT&&(T=of(i[n][j].Target,e),y=y.concat(pEe(ra(t,T,!0),d)))}),y&&y.length&&_8(v,y,!0,d.people||[])}catch(j){if(d.WTF)throw j}}function ds(t){return t.charAt(0)=="/"?t.slice(1):t}function lke(t,e){if(V7(),e=e||{},DS(e),hs(t,"META-INF/manifest.xml")||hs(t,"objectdata.xml"))return z8(t,e);if(hs(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof TA<"u"){if(t.FileIndex)return TA(t);var r=Qt.utils.cfb_new();return r8(t).forEach(function(X){cNe(r,X,lNe(t,X))}),TA(r)}throw new Error("Unsupported NUMBERS file")}if(!hs(t,"[Content_Types].xml"))throw hs(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):hs(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=r8(t),s=n2e(zn(t,"[Content_Types].xml")),i=!1,o,l;if(s.workbooks.length===0&&(l="xl/workbook.xml",ra(t,l,!0)&&s.workbooks.push(l)),s.workbooks.length===0){if(l="xl/workbook.bin",!ra(t,l,!0))throw new Error("Could not find workbook");s.workbooks.push(l),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var d={},u={};if(!e.bookSheets&&!e.bookProps){if(_f=[],s.sst)try{_f=vSe(ra(t,ds(s.sst)),s.sst,e)}catch(X){if(e.WTF)throw X}e.cellStyles&&s.themes.length&&(d=bSe(zn(t,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],e)),s.style&&(u=gSe(ra(t,ds(s.style)),s.style,d,e))}s.links.map(function(X){try{var P=Tf(zn(t,Dj(ds(X))),X);return wSe(ra(t,ds(X)),P,X,e)}catch{}});var h=fSe(ra(t,ds(s.workbooks[0])),s.workbooks[0],e),p={},x="";s.coreprops.length&&(x=ra(t,ds(s.coreprops[0]),!0),x&&(p=bB(x)),s.extprops.length!==0&&(x=ra(t,ds(s.extprops[0]),!0),x&&c2e(x,p,e)));var v={};(!e.bookSheets||e.bookProps)&&s.custprops.length!==0&&(x=zn(t,ds(s.custprops[0]),!0),x&&(v=u2e(x,e)));var b={};if((e.bookSheets||e.bookProps)&&(h.Sheets?o=h.Sheets.map(function(P){return P.name}):p.Worksheets&&p.SheetNames.length>0&&(o=p.SheetNames),e.bookProps&&(b.Props=p,b.Custprops=v),e.bookSheets&&typeof o<"u"&&(b.SheetNames=o),e.bookSheets?b.SheetNames:e.bookProps))return b;o={};var w={};e.bookDeps&&s.calcchain&&(w=NSe(ra(t,ds(s.calcchain)),s.calcchain));var g=0,S={},k,y;{var j=h.Sheets;p.Worksheets=j.length,p.SheetNames=[];for(var T=0;T!=j.length;++T)p.SheetNames[T]=j[T].name}var _=i?"bin":"xml",O=s.workbooks[0].lastIndexOf("/"),M=(s.workbooks[0].slice(0,O+1)+"_rels/"+s.workbooks[0].slice(O+1)+".rels").replace(/^\//,"");hs(t,M)||(M="xl/_rels/workbook."+_+".rels");var D=Tf(zn(t,M,!0),M.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(e.xlmeta=ASe(ra(t,ds(s.metadata[0])),s.metadata[0],e)),(s.people||[]).length>=1&&(e.people=mEe(ra(t,ds(s.people[0])),e)),D&&(D=ike(D,h.Sheets));var F=ra(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=p.Worksheets;++g){var q="sheet";if(D&&D[g]?(k="xl/"+D[g][1].replace(/[\/]?xl\//,""),hs(t,k)||(k=D[g][1]),hs(t,k)||(k=M.replace(/_rels\/.*$/,"")+D[g][1]),q=D[g][2]):(k="xl/worksheets/sheet"+(g+1-F)+"."+_,k=k.replace(/sheet0\./,"sheet.")),y=k.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(g!=e.sheets)continue e;break;case"string":if(p.SheetNames[g].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var L=!1,B=0;B!=e.sheets.length;++B)typeof e.sheets[B]=="number"&&e.sheets[B]==g&&(L=1),typeof e.sheets[B]=="string"&&e.sheets[B].toLowerCase()==p.SheetNames[g].toLowerCase()&&(L=1);if(!L)continue e}}oke(t,k,y,p.SheetNames[g],g,S,o,q,e,h,d,u)}return b={Directory:s,Workbook:h,Props:p,Custprops:v,Deps:w,Sheets:o,SheetNames:p.SheetNames,Strings:_f,Styles:u,Themes:d,SSF:La(Mt)},e&&e.bookFiles&&(t.files?(b.keys=n,b.files=t.files):(b.keys=[],b.files={},t.FullPaths.forEach(function(X,P){X=X.replace(/^Root Entry[\/]/,""),b.keys.push(X),b.files[X]=t.FileIndex[P]}))),e&&e.bookVBA&&(s.vba.length>0?b.vbaraw=ra(t,ds(s.vba[0]),!0):s.defaults&&s.defaults.bin===vEe&&(b.vbaraw=ra(t,"xl/vbaProject.bin",!0))),b}function cke(t,e){var r=e||{},n="Workbook",s=Qt.find(t,n);try{if(n="/!DataSpaces/Version",s=Qt.find(t,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(tAe(s.content),n="/!DataSpaces/DataSpaceMap",s=Qt.find(t,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=aAe(s.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=Qt.find(t,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=nAe(s.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=Qt.find(t,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);iAe(s.content)}catch{}if(n="/EncryptionInfo",s=Qt.find(t,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=oAe(s.content);if(n="/EncryptedPackage",s=Qt.find(t,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],s.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],s.content,r.password||"",r);throw new Error("File is password-protected")}function IS(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Kn(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function dke(t,e){return Qt.find(t,"EncryptedPackage")?cke(t,e):rz(t,e)}function uke(t,e){var r,n=t,s=e||{};return s.type||(s.type=Wt&&Buffer.isBuffer(t)?"buffer":"base64"),r=W7(n,s),lke(r,s)}function iz(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Mj(t.slice(r),e);default:break e}return Ch.to_workbook(t,e)}function fke(t,e){var r="",n=IS(t,e);switch(e.type){case"base64":r=Kn(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=vc(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Sr(r)),e.type="binary",iz(r,e)}function hke(t,e){var r=t;return e.type=="base64"&&(r=Kn(r)),r=Th.utils.decode(1200,r.slice(2),"str"),e.type="binary",iz(r,e)}function pke(t){return t.match(/[^\x00-\x7F]/)?lf(t):t}function SA(t,e,r,n){return n?(r.type="string",Ch.to_workbook(t,r)):Ch.to_workbook(e,r)}function Fj(t,e){O7();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return Fj(new Uint8Array(t),(r=La(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,s=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Xd={},r.dateNF&&(Xd.dateNF=r.dateNF),r.type||(r.type=Wt&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=Wt?"buffer":"binary",n=tNe(t),typeof Uint8Array<"u"&&!Wt&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=pke(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=La(r),r.type="array",Fj(uS(n),r)}switch((s=IS(n,r))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return dke(Qt.read(n,r),r);break;case 9:if(s[1]<=8)return rz(n,r);break;case 60:return Mj(n,r);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return qwe(n,r);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return Bwe.to_workbook(n,r);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?uke(n,r):SA(t,n,r,i);case 239:return s[3]===60?Mj(n,r):SA(t,n,r,i);case 255:if(s[1]===254)return hke(n,r);if(s[1]===0&&s[2]===2&&s[3]===0)return kf.to_workbook(n,r);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return kf.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return k8.to_workbook(n,r);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return vAe.to_workbook(n,r);break;case 10:case 13:case 32:return fke(n,r);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Uwe.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?k8.to_workbook(n,r):SA(t,n,r,i)}function mke(t,e,r,n,s,i,o,l){var d=Ua(r),u=l.defval,h=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),p=!0,x=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:r,enumerable:!1})}catch{x.__rowNum__=r}else x.__rowNum__=r;if(!o||t[r])for(var v=e.s.c;v<=e.e.c;++v){var b=o?t[r][v]:t[n[v]+d];if(b===void 0||b.t===void 0){if(u===void 0)continue;i[v]!=null&&(x[i[v]]=u);continue}var w=b.v;switch(b.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(i[v]!=null){if(w==null)if(b.t=="e"&&w===null)x[i[v]]=null;else if(u!==void 0)x[i[v]]=u;else if(h&&w===null)x[i[v]]=null;else continue;else x[i[v]]=h&&(b.t!=="n"||b.t==="n"&&l.rawNumbers!==!1)?w:eo(b,w,l);w!=null&&(p=!1)}}return{row:x,isempty:p}}function Bj(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,i=[],o=0,l="",d={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},h=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof h){case"string":d=Kr(h);break;case"number":d=Kr(t["!ref"]),d.s.r=h;break;default:d=h}n>0&&(s=0);var p=Ua(d.s.r),x=[],v=[],b=0,w=0,g=Array.isArray(t),S=d.s.r,k=0,y={};g&&!t[S]&&(t[S]=[]);var j=u.skipHidden&&t["!cols"]||[],T=u.skipHidden&&t["!rows"]||[];for(k=d.s.c;k<=d.e.c;++k)if(!(j[k]||{}).hidden)switch(x[k]=ma(k),r=g?t[S][k]:t[x[k]+p],n){case 1:i[k]=k-d.s.c;break;case 2:i[k]=x[k];break;case 3:i[k]=u.header[k-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=eo(r,null,u),w=y[o]||0,!w)y[o]=1;else{do l=o+"_"+w++;while(y[l]);y[o]=w,y[l]=1}i[k]=l}for(S=d.s.r+s;S<=d.e.r;++S)if(!(T[S]||{}).hidden){var _=mke(t,d,S,x,n,i,g,u);(_.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(v[b++]=_.row)}return v.length=b,v}var G8=/"/g;function xke(t,e,r,n,s,i,o,l){for(var d=!0,u=[],h="",p=Ua(r),x=e.s.c;x<=e.e.c;++x)if(n[x]){var v=l.dense?(t[r]||[])[x]:t[n[x]+p];if(v==null)h="";else if(v.v!=null){d=!1,h=""+(l.rawNumbers&&v.t=="n"?v.v:eo(v,null,l));for(var b=0,w=0;b!==h.length;++b)if((w=h.charCodeAt(b))===s||w===i||w===34||l.forceQuotes){h='"'+h.replace(G8,'""')+'"';break}h=="ID"&&(h='"ID"')}else v.f!=null&&!v.F?(d=!1,h="="+v.f,h.indexOf(",")>=0&&(h='"'+h.replace(G8,'""')+'"')):h="";u.push(h)}return l.blankrows===!1&&d?null:u.join(o)}function oz(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var s=Kr(t["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,d=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),h="",p=[];n.dense=Array.isArray(t);for(var x=n.skipHidden&&t["!cols"]||[],v=n.skipHidden&&t["!rows"]||[],b=s.s.c;b<=s.e.c;++b)(x[b]||{}).hidden||(p[b]=ma(b));for(var w=0,g=s.s.r;g<=s.e.r;++g)(v[g]||{}).hidden||(h=xke(t,s,g,p,o,d,i,n),h!=null&&(n.strip&&(h=h.replace(u,"")),(h||n.blankrows!==!1)&&r.push((w++?l:"")+h)));return delete n.dense,r.join("")}function gke(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=oz(t,e);return r}function bke(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var s=Kr(t["!ref"]),i="",o=[],l,d=[],u=Array.isArray(t);for(l=s.s.c;l<=s.e.c;++l)o[l]=ma(l);for(var h=s.s.r;h<=s.e.r;++h)for(i=Ua(h),l=s.s.c;l<=s.e.c;++l)if(e=o[l]+i,r=u?(t[h]||[])[l]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}d[d.length]=e+"="+n}return d}function lz(t,e,r){var n=r||{},s=+!n.skipHeader,i=t||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var d=typeof n.origin=="string"?nn(n.origin):n.origin;o=d.r,l=d.c}var u,h={s:{c:0,r:0},e:{c:l,r:o+e.length-1+s}};if(i["!ref"]){var p=Kr(i["!ref"]);h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),o==-1&&(o=p.e.r+1,h.e.r=o+e.length-1+s)}else o==-1&&(o=0,h.e.r=e.length-1+s);var x=n.header||[],v=0;e.forEach(function(w,g){li(w).forEach(function(S){(v=x.indexOf(S))==-1&&(x[v=x.length]=S);var k=w[S],y="z",j="",T=Ot({c:l+v,r:o+g+s});u=Rh(i,T),k&&typeof k=="object"&&!(k instanceof Date)?i[T]=k:(typeof k=="number"?y="n":typeof k=="boolean"?y="b":typeof k=="string"?y="s":k instanceof Date?(y="d",n.cellDates||(y="n",k=dn(k)),j=n.dateNF||Mt[14]):k===null&&n.nullError&&(y="e",k=0),u?(u.t=y,u.v=k,delete u.w,delete u.R,j&&(u.z=j)):i[T]=u={t:y,v:k},j&&(u.z=j))})}),h.e.c=Math.max(h.e.c,l+x.length-1);var b=Ua(o);if(s)for(v=0;v<x.length;++v)i[ma(v+l)+b]={t:"s",v:x[v]};return i["!ref"]=Zt(h),i}function vke(t,e){return lz(null,t,e)}function Rh(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=nn(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Rh(t,Ot(e)):Rh(t,Ot({r:e,c:r||0}))}function yke(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function RS(){return{SheetNames:[],Sheets:{}}}function MS(t,e,r,n){var s=1;if(!r)for(;s<=65535&&t.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||r;for(++s;s<=65535&&t.SheetNames.indexOf(r=o+s)!=-1;++s);}if(nSe(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function Nke(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=yke(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function wke(t,e){return t.z=e,t}function cz(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function Ake(t,e,r){return cz(t,"#"+e,r)}function Eke(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function jke(t,e,r,n){for(var s=typeof e!="string"?e:Kr(e),i=typeof e=="string"?e:Zt(e),o=s.s.r;o<=s.e.r;++o)for(var l=s.s.c;l<=s.e.c;++l){var d=Rh(t,o,l);d.t="n",d.F=i,delete d.v,o==s.s.r&&l==s.s.c&&(d.f=r,n&&(d.D=!0))}return t}var Tke={encode_col:ma,encode_row:Ua,encode_cell:Ot,encode_range:Zt,decode_col:yS,decode_row:vS,split_cell:LNe,decode_cell:nn,decode_range:$u,format_cell:eo,sheet_add_aoa:hB,sheet_add_json:lz,sheet_add_dom:az,aoa_to_sheet:Gu,json_to_sheet:vke,table_to_sheet:nz,table_to_book:qSe,sheet_to_csv:oz,sheet_to_txt:gke,sheet_to_json:Bj,sheet_to_html:zSe,sheet_to_formulae:bke,sheet_to_row_object_array:Bj,sheet_get_cell:Rh,book_new:RS,book_append_sheet:MS,book_set_sheet_visibility:Nke,cell_set_number_format:wke,cell_set_hyperlink:cz,cell_set_internal_link:Ake,cell_add_comment:Eke,sheet_set_array_formula:jke,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Ske=({user:t})=>{const{addToast:e}=jn(),r=R.useRef(null),[n,s]=R.useState([]),[i,o]=R.useState(""),[l,d]=R.useState("ALL"),[u,h]=R.useState("edit"),[p,x]=R.useState(!1),[v,b]=R.useState(!1),[w,g]=R.useState({name:"Escola Estadual Andr Antnio Maggi",city:"Colder - MT",dre:"DRE - Sinop",year:new Date().getFullYear().toString()}),[S,k]=R.useState({name:"",cnpj:"",phone:"",validity:"30 dias",contactName:""}),y=L=>{var P;const B=(P=L.target.files)==null?void 0:P[0];if(!B)return;const X=new FileReader;X.onload=U=>{var z,V,Y;try{const se=new Uint8Array((z=U.target)==null?void 0:z.result),K=Fj(se,{type:"array"}),G=K.SheetNames[0],W=K.Sheets[G],Q=Tke.sheet_to_json(W,{header:1}),ee=[];for(let he=1;he<Q.length;he++){const je=Q[he];if(!je||je.length===0)continue;const me=((V=je[0])==null?void 0:V.toString())||"",re=((Y=je[1])==null?void 0:Y.toString())||"UN",ge=parseFloat(je[2])||0,Me=parseFloat(je[3])||0;me&&ee.push({id:Math.random().toString(36).substr(2,9),description:me,unit:re,quantity:ge,unitPrice:Me,totalPrice:ge*Me,resource:"RU"})}s(he=>[...he,...ee]),e(`${ee.length} itens importados!`,"success")}catch{e("Erro ao processar planilha.","error")}},X.readAsArrayBuffer(B)},j=()=>{const L={id:Math.random().toString(36).substr(2,9),description:"",unit:"UN",quantity:1,unitPrice:0,totalPrice:0,resource:"RU"};s([L,...n])},T=(L,B,X)=>{s(P=>P.map(U=>{if(U.id!==L)return U;let z=X;(B==="quantity"||B==="unitPrice")&&(z=X===""?0:parseFloat(X),isNaN(z)&&(z=0));const V={...U,[B]:z};return(B==="quantity"||B==="unitPrice")&&(V.totalPrice=V.quantity*V.unitPrice),V}))},_=L=>{s(B=>B.filter(X=>X.id!==L))},O=()=>{confirm("Tem certeza que deseja apagar todos os itens da planilha?")&&(s([]),e("Planilha limpa com sucesso.","info"))},M=L=>L.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),D=async()=>{x(!0);const L=document.getElementById("budget-print-content");if(L)try{await window.html2pdf().set({margin:[10,10,10,10],filename:`Orcamento_${S.name||"Fornecedor"}_${w.year}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).from(L).save()}catch{e("Erro ao gerar PDF.","error")}x(!1)},F=R.useMemo(()=>{const L=n.reduce((P,U)=>P+U.totalPrice,0),B=n.filter(P=>P.resource==="RU").reduce((P,U)=>P+U.totalPrice,0),X=n.filter(P=>P.resource==="PDDE").reduce((P,U)=>P+U.totalPrice,0);return{total:L,ru:B,pdde:X}},[n]),q=R.useMemo(()=>n.filter(L=>{const B=L.description.toLowerCase().includes(i.toLowerCase()),X=l==="ALL"||L.resource===l;return B&&X}),[n,i,l]);return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"sticky top-4 z-50 flex flex-col md:flex-row justify-between items-center gap-4 bg-gray-900/80 p-4 rounded-3xl border border-white/10 backdrop-blur-xl shadow-2xl no-print",children:[a.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[a.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-xl",children:a.jsx(Qd,{className:"text-emerald-400",size:20})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-black text-white uppercase tracking-tight leading-none",children:"Oramento / Cotao"}),a.jsx("span",{className:"text-[9px] font-bold text-emerald-400 uppercase tracking-widest",children:w.year})]})]}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-2 pr-1",children:[a.jsx("button",{onClick:()=>h(u==="edit"?"preview":"edit"),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${u==="edit"?"bg-blue-600 hover:bg-blue-500 text-white shadow-lg shadow-blue-900/40":"bg-emerald-600 hover:bg-emerald-500 text-white shadow-lg shadow-emerald-900/40"}`,children:u==="edit"?a.jsxs(a.Fragment,{children:[a.jsx(Bi,{size:14})," Gerar PDF Final"]}):a.jsxs(a.Fragment,{children:[a.jsx(sc,{size:14})," Voltar p/ Edio"]})}),a.jsxs("button",{onClick:()=>b(!v),className:`flex items-center gap-2 px-3 py-2 rounded-xl border transition-all ${v?"bg-white/20 border-white/30 text-white":"bg-white/5 border-white/10 text-gray-400 hover:text-white"}`,title:"Configuraes e Fornecedor",children:[a.jsx(mx,{size:18}),a.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest hidden sm:inline",children:"Dados do Oramento"})]}),a.jsx("div",{className:"w-px h-6 bg-white/10 mx-2 hidden md:block"}),u==="edit"?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>{var L;return(L=r.current)==null?void 0:L.click()},className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 text-white border border-white/10 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all",children:[a.jsx(UA,{size:14})," Excel"]}),a.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-emerald-900/20 transition-all font-mono",children:[a.jsx(ot,{size:14})," NOVO ITEM"]}),n.length>0&&a.jsx("button",{onClick:O,className:"p-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-xl border border-red-500/20 transition-all",title:"Limpar Planilha",children:a.jsx(tG,{size:18})})]}):a.jsxs("button",{onClick:D,disabled:p,className:"flex items-center gap-2 px-6 py-2 bg-white text-gray-900 hover:bg-gray-100 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all disabled:opacity-50",children:[p?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx(Sa,{size:16}),"Baixar Documento (A4)"]})]})]}),a.jsx("input",{type:"file",ref:r,onChange:y,className:"hidden",accept:".xlsx, .xls, .csv"}),v&&a.jsxs("div",{className:"bg-gray-800/90 p-8 rounded-[2.5rem] border border-white/10 backdrop-blur-xl animate-in slide-in-from-top duration-300 no-print shadow-2xl relative",children:[a.jsx("button",{onClick:()=>b(!1),className:"absolute top-6 right-6 text-gray-500 hover:text-white transition-colors",children:a.jsx(df,{size:24})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 border-b border-white/5 pb-4",children:[a.jsx(Xo,{className:"text-emerald-400",size:20}),a.jsx("h3",{className:"text-[11px] font-black text-white uppercase tracking-widest",children:"Instituio (Cabealho)"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.keys(w).map(L=>a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:L==="name"?"Unidade Escolar":L==="city"?"Municpio":L.toUpperCase()}),a.jsx("input",{value:w[L],onChange:B=>g({...w,[L]:B.target.value}),className:"w-full p-3 bg-gray-950/50 border border-white/10 rounded-2xl text-white text-xs font-bold outline-none focus:ring-2 focus:ring-emerald-500 transition-all",placeholder:`Ex: ${L==="name"?"EE Andr Maggi":"Sinop"}`})]},L))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 border-b border-white/5 pb-4",children:[a.jsx(P$,{className:"text-blue-400",size:20}),a.jsx("h3",{className:"text-[11px] font-black text-white uppercase tracking-widest",children:"Dados do Fornecedor / Empresa"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Razo Social / Nome da Empresa"}),a.jsx("input",{value:S.name,onChange:L=>k({...S,name:L.target.value}),className:"w-full p-3 bg-gray-950/50 border border-white/10 rounded-2xl text-white text-xs font-bold outline-none focus:ring-2 focus:ring-blue-500 transition-all font-mono",placeholder:"Digite o nome da empresa..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"CNPJ / CPF"}),a.jsx("input",{value:S.cnpj,onChange:L=>k({...S,cnpj:L.target.value}),className:"w-full p-3 bg-gray-950/50 border border-white/10 rounded-2xl text-white text-xs font-bold outline-none focus:ring-2 focus:ring-blue-500 transition-all",placeholder:"00.000.000/0000-00"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Telefone / Contato"}),a.jsx("input",{value:S.phone,onChange:L=>k({...S,phone:L.target.value}),className:"w-full p-3 bg-gray-950/50 border border-white/10 rounded-2xl text-white text-xs font-bold outline-none focus:ring-2 focus:ring-blue-500 transition-all",placeholder:"(00) 00000-0000"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Responsvel pela Cotao"}),a.jsx("input",{value:S.contactName,onChange:L=>k({...S,contactName:L.target.value}),className:"w-full p-3 bg-gray-950/50 border border-white/10 rounded-2xl text-white text-xs font-bold outline-none focus:ring-2 focus:ring-blue-500 transition-all",placeholder:"Nome do representante"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Validade da Proposta"}),a.jsx("input",{value:S.validity,onChange:L=>k({...S,validity:L.target.value}),className:"w-full p-3 bg-gray-950/50 border border-white/10 rounded-2xl text-white text-xs font-bold outline-none focus:ring-2 focus:ring-blue-500 transition-all",placeholder:"Ex: 15 dias"})]})]})]})]})]}),a.jsxs("div",{className:"relative",children:[u==="edit"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-800/30 p-6 rounded-[2rem] border border-white/5 relative overflow-hidden group",children:[a.jsx("div",{className:"absolute -right-4 -top-4 p-8 opacity-5 group-hover:opacity-10 transition-all duration-500 rotate-12",children:a.jsx(Qd,{size:120})}),a.jsxs("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-1.5 flex items-center gap-2",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white animate-pulse"}),"Total Geral do Oramento"]}),a.jsx("p",{className:"text-3xl font-black text-white font-mono tracking-tighter tabular-nums",children:M(F.total)})]}),a.jsxs("div",{className:"bg-blue-600/5 p-6 rounded-[2rem] border border-blue-500/10 relative overflow-hidden group",children:[a.jsxs("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest mb-1.5 flex items-center gap-2",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),"Alocado em RU"]}),a.jsx("p",{className:"text-3xl font-black text-blue-400 font-mono tracking-tighter tabular-nums",children:M(F.ru)})]}),a.jsxs("div",{className:"bg-emerald-600/5 p-6 rounded-[2rem] border border-emerald-500/10 relative overflow-hidden group",children:[a.jsxs("p",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest mb-1.5 flex items-center gap-2",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),"Alocado em PDDE"]}),a.jsx("p",{className:"text-3xl font-black text-emerald-400 font-mono tracking-tighter tabular-nums",children:M(F.pdde)})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative group",children:[a.jsx(Pt,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-600 group-focus-within:text-emerald-400 transition-colors",size:20}),a.jsx("input",{type:"text",value:i,onChange:L=>o(L.target.value),placeholder:"Procurar item na cotao...",className:"w-full pl-14 pr-6 py-4 bg-gray-800/40 border border-white/5 rounded-[1.5rem] text-white placeholder-gray-600 shadow-inner focus:ring-2 focus:ring-emerald-500/50 outline-none transition-all font-medium text-sm"})]}),a.jsx("div",{className:"flex bg-gray-900/40 p-1.5 rounded-[1.5rem] border border-white/5 shrink-0 backdrop-blur-sm shadow-xl",children:["ALL","RU","PDDE"].map(L=>a.jsx("button",{onClick:()=>d(L),className:`px-6 py-2.5 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all duration-300 ${l===L?"bg-gray-100 text-gray-950 shadow-lg scale-105":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:L==="ALL"?"Todos":L},L))})]}),a.jsx("div",{className:"bg-gray-800/20 rounded-[2.5rem] border border-white/5 overflow-hidden shadow-2xl backdrop-blur-sm",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"w-full text-left border-collapse table-fixed min-w-[1000px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-950/40 border-b border-white/5",children:[a.jsx("th",{className:"px-8 py-5 text-[9px] font-black text-gray-500 uppercase tracking-widest",children:"Descrio do Requisito / Servio"}),a.jsx("th",{className:"px-4 py-5 text-[9px] font-black text-gray-500 uppercase tracking-widest text-center w-24",children:"Unidade"}),a.jsx("th",{className:"px-4 py-5 text-[9px] font-black text-gray-500 uppercase tracking-widest text-right w-24",children:"Quant."}),a.jsx("th",{className:"px-4 py-5 text-[9px] font-black text-gray-500 uppercase tracking-widest text-right w-40",children:"V. Unitrio (Fornecedor)"}),a.jsx("th",{className:"px-4 py-5 text-[9px] font-black text-gray-500 uppercase tracking-widest text-right w-40",children:"Subtotal"}),a.jsx("th",{className:"px-4 py-5 text-[9px] font-black text-gray-500 uppercase tracking-widest text-center w-36",children:"Fonte"}),a.jsx("th",{className:"px-6 py-5 w-16"})]})}),a.jsxs("tbody",{className:"divide-y divide-white/5",children:[q.map(L=>a.jsxs("tr",{className:"hover:bg-white/[0.03] transition-all group/row",children:[a.jsx("td",{className:"px-8 py-4",children:a.jsx("textarea",{rows:1,value:L.description,onChange:B=>T(L.id,"description",B.target.value),className:"w-full bg-transparent border-none text-white focus:ring-0 p-0 text-sm font-bold resize-none min-h-[1.5rem] placeholder:text-gray-700 transition-all leading-tight",placeholder:"Ex: Instalao de ar-condicionado 12000 BTUS...",onInput:B=>{const X=B.target;X.style.height="auto",X.style.height=X.scrollHeight+"px"}})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("input",{value:L.unit,onChange:B=>T(L.id,"unit",B.target.value),className:"w-full bg-gray-950/40 border border-transparent group-hover/row:border-white/10 rounded-xl text-white/50 focus:text-white focus:border-emerald-500/50 py-1.5 text-center uppercase font-black text-[10px] outline-none transition-all",placeholder:"UN"})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("input",{type:"number",value:L.quantity||"",onChange:B=>T(L.id,"quantity",B.target.value),className:"w-full bg-gray-950/40 border border-transparent group-hover/row:border-white/10 rounded-xl text-white focus:border-emerald-500/50 py-1.5 text-right font-black text-xs outline-none transition-all placeholder:text-gray-800"})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center gap-2 bg-gray-950/40 border border-transparent group-hover/row:border-white/10 rounded-xl px-3 py-1.5 transition-all focus-within:ring-2 focus-within:ring-emerald-500/30",children:[a.jsx("span",{className:"text-[10px] font-black text-gray-600",children:"R$"}),a.jsx("input",{type:"number",step:"0.01",value:L.unitPrice||"",onChange:B=>T(L.id,"unitPrice",B.target.value),className:"w-full bg-transparent border-none text-white focus:ring-0 p-0 text-right text-xs font-black outline-none tabular-nums",placeholder:"0,00"})]})}),a.jsx("td",{className:"px-4 py-4 text-right",children:a.jsx("span",{className:"text-sm font-black text-emerald-400 font-mono tracking-tighter tabular-nums",children:M(L.totalPrice)})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("select",{value:L.resource,onChange:B=>T(L.id,"resource",B.target.value),className:`w-full p-2 rounded-xl text-[10px] font-black uppercase border-none focus:ring-2 focus:ring-emerald-500 cursor-pointer transition-all ${L.resource==="RU"?"bg-blue-600/20 text-blue-400":"bg-emerald-600/20 text-emerald-400"}`,children:[a.jsx("option",{value:"RU",className:"bg-gray-900 text-white",children:"RECURSO NICO"}),a.jsx("option",{value:"PDDE",className:"bg-gray-900 text-white",children:"PDDE"})]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("button",{onClick:()=>_(L.id),className:"p-2 text-gray-700 hover:text-red-500 hover:bg-red-500/10 rounded-xl transition-all opacity-0 group-hover/row:opacity-100",children:a.jsx(Lt,{size:16})})})]},L.id)),q.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-32 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4 text-gray-700 font-mono",children:[a.jsx("div",{className:"p-6 bg-white/5 rounded-full border border-white/5 shadow-inner",children:a.jsx(Xo,{size:64,className:"opacity-20 rotate-12"})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-white/50",children:"Cotao Vazia"}),a.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Lance os valores passados pelo fornecedor"})]}),a.jsxs("button",{onClick:j,className:"mt-4 px-8 py-3 bg-emerald-600 hover:bg-emerald-500 text-white text-[10px] font-black uppercase tracking-widest rounded-2xl shadow-xl shadow-emerald-900/20 transition-all flex items-center gap-3",children:[a.jsx(ot,{size:16})," Adicionar Item"]})]})})})]})]})})})]}),u==="preview"&&a.jsx("div",{className:"w-full flex justify-center animate-in zoom-in-95 duration-500 ease-out p-8 bg-gray-950/30 rounded-[3rem] border border-white/5",children:a.jsxs("div",{id:"budget-print-content",className:"w-[210mm] min-h-[297mm] bg-white text-gray-950 p-[20mm] shadow-[0_0_100px_rgba(0,0,0,0.5)] relative font-['Inter'] selection:bg-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-8 border-b-[3px] border-gray-950 pb-8 mb-5",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-50 border-2 border-gray-200 flex items-center justify-center rounded-xl overflow-hidden grayscale",children:a.jsxs("div",{className:"text-[7px] font-black text-gray-400 text-center leading-none uppercase",children:["BRASO",a.jsx("br",{}),"OFICIAL",a.jsx("br",{}),"MATO GROSSO"]})}),a.jsxs("div",{className:"flex-1 uppercase font-black text-gray-950",children:[a.jsx("h1",{className:"text-base tracking-tighter leading-tight",children:"Estado de Mato Grosso"}),a.jsx("h2",{className:"text-[11px] leading-tight text-gray-700",children:"Secretaria de Estado de Educao"}),a.jsx("div",{className:"mt-2 h-0.5 bg-gray-200 w-1/4"}),a.jsx("h3",{className:"text-[10px] text-gray-600 mt-2",children:w.dre}),a.jsx("h3",{className:"text-[10px] text-gray-600",children:w.name})]}),a.jsxs("div",{className:"text-right uppercase",children:[a.jsx("div",{className:"bg-gray-950 text-white px-4 py-2 rounded-lg inline-block",children:a.jsx("p",{className:"text-[10px] font-black tracking-widest",children:"Oramento de Servio / Material"})}),a.jsxs("p",{className:"text-sm font-black mt-3 text-gray-900",children:["N ",Math.floor(Math.random()*1e3).toString().padStart(4,"0")," / ",w.year]})]})]}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-5 rounded-xl mb-8 flex flex-col gap-4",children:[a.jsxs("header",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[a.jsx("h5",{className:"text-[10px] font-black uppercase text-gray-500 tracking-widest",children:"Dados do Proponente (Fornecedor)"}),S.validity&&a.jsxs("span",{className:"text-[9px] font-black bg-emerald-100 text-emerald-800 px-2 py-0.5 rounded-full uppercase",children:["Validade: ",S.validity]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-x-12 gap-y-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-tighter",children:"Razo Social"}),a.jsx("p",{className:"text-[11px] font-black text-gray-900 uppercase",children:S.name||"No informado"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-tighter",children:"CNPJ / CPF"}),a.jsx("p",{className:"text-[11px] font-black text-gray-900",children:S.cnpj||"No informado"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-tighter",children:"Representante / Contato"}),a.jsx("p",{className:"text-[11px] font-black text-gray-900 uppercase",children:S.contactName||"No informado"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-tighter",children:"Telefone / E-mail"}),a.jsx("p",{className:"text-[11px] font-black text-gray-900",children:S.phone||"No informado"})]})]})]}),a.jsxs("div",{className:"space-y-10",children:[a.jsxs("div",{children:[a.jsx("header",{className:"flex justify-between items-end mb-4",children:a.jsxs("h4",{className:"text-[12px] font-black uppercase flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-gray-950"}),"III. Detalhamento de Cotao de Preos"]})}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 uppercase font-black text-[9px] border-y-2 border-gray-950 text-gray-950",children:[a.jsx("th",{className:"py-3 pl-3 text-left border-r border-gray-200 w-10",children:"#"}),a.jsx("th",{className:"py-3 px-4 text-left border-r border-gray-200",children:"Especificao Detalhada do Objeto"}),a.jsx("th",{className:"py-3 px-3 text-center border-r border-gray-200 w-16",children:"U.M."}),a.jsx("th",{className:"py-3 px-3 text-center border-r border-gray-200 w-16",children:"Qtd."}),a.jsx("th",{className:"py-3 px-4 text-right border-r border-gray-200 w-28",children:"Val. Unitrio"}),a.jsx("th",{className:"py-3 pr-3 text-right w-28",children:"Subtotal"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100 font-medium text-[10px] text-gray-900",children:n.map((L,B)=>a.jsxs("tr",{className:"align-top hover:bg-gray-50/50 transition-colors",children:[a.jsx("td",{className:"py-2.5 px-3 text-center border-r border-gray-100 font-bold text-gray-400",children:B+1}),a.jsx("td",{className:"py-2.5 px-4 border-r border-gray-100 uppercase leading-snug font-bold",children:L.description}),a.jsx("td",{className:"py-2.5 px-3 text-center border-r border-gray-100 uppercase font-bold",children:L.unit}),a.jsx("td",{className:"py-2.5 px-3 text-center border-r border-gray-100 tabular-nums",children:L.quantity}),a.jsx("td",{className:"py-2.5 px-4 text-right border-r border-gray-100 tabular-nums",children:L.unitPrice.toLocaleString("pt-BR",{minimumFractionDigits:2})}),a.jsx("td",{className:"py-2.5 pr-3 text-right font-black tabular-nums",children:L.totalPrice.toLocaleString("pt-BR",{minimumFractionDigits:2})})]},L.id))}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"bg-gray-100 text-gray-950 font-black uppercase text-[11px] border-t-2 border-gray-950",children:[a.jsx("td",{colSpan:5,className:"py-4 pr-6 text-right border-r border-gray-200",children:"Valor Total da Proposta:"}),a.jsx("td",{className:"py-4 pr-3 text-right text-base tracking-tighter tabular-nums decoration-double underline underline-offset-4",children:M(F.total)})]})})]})]}),a.jsxs("div",{className:"pt-32 pb-8 grid grid-cols-3 gap-12 text-center uppercase tracking-tight",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-0.5 bg-gray-950 w-full mb-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black leading-none text-gray-950 tracking-tighter",children:"Assinatura Proponente"}),a.jsx("p",{className:"text-[7px] text-gray-400 font-bold mt-1",children:"(Empresa / Fornecedor)"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-0.5 bg-gray-950 w-full mb-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black leading-none text-gray-950 tracking-tighter",children:"Diretor(a) Escolar"}),a.jsx("p",{className:"text-[7px] text-gray-400 font-bold mt-1",children:"(Unidade Executora)"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-0.5 bg-gray-950 w-full mb-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black leading-none text-gray-950 tracking-tighter",children:"Tesoureiro(a) CDCE"}),a.jsx("p",{className:"text-[7px] text-gray-400 font-bold mt-1",children:"(Conselho Deliberativo)"})]})]})]}),a.jsxs("footer",{className:"pt-10 flex justify-between items-center border-t border-gray-100 text-[8px] font-black text-gray-300 uppercase letter-widest tracking-[0.2em]",children:[a.jsxs("span",{children:["Sistema Gerado em: ",new Date().toLocaleDateString("pt-BR")]}),a.jsx("span",{children:"Pgina 1 de 1"}),a.jsx("span",{children:"Portal de Gesto Andr Maggi"})]})]})]})})]})]})},kke=[{name:"ru",full_name:"Recurso nico (ESTADUAL)",budget_year:new Date().getFullYear().toString()},{name:"merenda",full_name:"Merenda Escolar (PNAE/ESTADUAL)",budget_year:new Date().getFullYear().toString()},{name:"pdde_basico",full_name:"PDDE Bsico (FEDERAL)",budget_year:new Date().getFullYear().toString()},{name:"pdde_qualidade",full_name:"PDDE Qualidade (FEDERAL)",budget_year:new Date().getFullYear().toString()}],_ke=({onExit:t,user:e})=>{const{addToast:r}=jn(),[n,s]=R.useState("dashboard"),[i,o]=R.useState(!1),[l,d]=R.useState(!1),u=R.useRef(null),[h,p]=R.useState({}),[x,v]=R.useState(!0),[b,w]=R.useState(null),[g,S]=R.useState({description:"",invoiceNumber:"",value:"",type:"EXPENSE",group:"CUSTEIO",category:"",integratedAction:"",fundingSource:"",isFamilyAgriculture:!1,isIndividualProducer:!1,date:new Date().toISOString().split("T")[0]}),k=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},y={ru:{color:"blue",icon:MO},merenda:{color:"emerald",icon:DO},pdde_basico:{color:"amber",icon:RO},pdde_qualidade:{color:"purple",icon:on}},j=async()=>{v(!0);try{const{data:P,error:U}=await ae.from("funds").select("*");if(U)throw U;const{data:z,error:V}=await ae.from("transactions").select("*").order("date",{ascending:!1});if(V)throw V;const Y={};P==null||P.forEach(se=>{var ee;const K=se.name,G=y[K]||{color:"gray",icon:FA},W=(z==null?void 0:z.filter(he=>he.fund_id===se.id).map(he=>({id:he.id,date:he.date,description:he.description,invoiceNumber:he.invoice_number,type:he.type,group:he.tx_group,value:Number(he.gross_value),taxValue:Number(he.tax_value),netValue:Number(he.net_value),category:he.category,integratedAction:he.integrated_action,fundingSource:he.funding_source,isFamilyAgriculture:he.is_family_agriculture,isIndividualProducer:he.is_individual_producer,receiptUrl:he.receipt_url})))||[];let Q=0;K==="ru"&&(Q=5e4),K==="merenda"&&(Q=3e4),K==="pdde_basico"&&(Q=15e3),K==="pdde_qualidade"&&(Q=2e4),Y[K]={id:K,dbId:se.id,name:((ee=se.full_name)==null?void 0:ee.split("(")[0].trim())||se.name,fullName:se.full_name||se.name,allocated:Q,color:G.color,icon:G.icon,transactions:W}}),p(Y)}catch(P){console.error("Erro ao carregar dados financeiros:",P)}finally{v(!1)}},T=async()=>{v(!0);try{const{error:P}=await ae.from("funds").insert(kke);if(P)throw P;r("Banco de dados do Financeiro inicializado com sucesso!","success"),await j()}catch(P){console.error("Erro ao inicializar banco:",P),r("Erro ao inicializar: "+(P.message||"Verifique as permisses de RLS"),"error")}finally{v(!1)}};R.useEffect(()=>{j()},[]);const _=R.useMemo(()=>{const P=[];return Object.values(h).forEach(U=>{U.transactions.forEach(z=>{z.invoiceNumber&&P.push({...z,fundName:U.name,fundColor:U.color})})}),P.sort((U,z)=>new Date(z.date).getTime()-new Date(U.date).getTime())},[h]),O=R.useMemo(()=>{const P=[];return Object.values(h).forEach(U=>{U.transactions.forEach(z=>{z.isFamilyAgriculture&&z.isIndividualProducer&&z.type==="EXPENSE"&&P.push({...z,fundName:U.name})})}),P},[h]),M=R.useMemo(()=>O.reduce((P,U)=>P+(U.taxValue||0),0),[O]),D=(P,U,z)=>{if(z==="ENTRY")return U==="merenda"?["Repasse Federal","Repasse Estadual"]:["Repasse Federal","Repasse Estadual","Rendimento de Aplicao","Saldo Exerccio Anterior"];if(P==="CAPITAL")return["Equipamentos e Material Permanente","Mobilirio Escolar","Equipamentos de Informtica","Utenslios de Cozinha (Bens Permanentes)","Eletrodomsticos","Mquinas e Equipamentos"];const V=["Material de Consumo","Servios de Terceiros - Pessoa Jurdica","Servios de Terceiros - Pessoa Fsica","Pequenos Reparos e Manuteno Predial","Material Pedaggico e Esportivo","Material de Expediente","Material de Limpeza e Higiene"];return U==="merenda"?["Aquisio de Gneros Alimentcios","Gs de Cozinha","Material de Higiene (Cozinha)",...V]:U==="pdde_qualidade"?["Material de Apoio Pedaggico","Conectividade e Internet","Capacitao e Formao",...V]:U==="ru"?["Manuteno de Ar Condicionado","Pequenas Reformas",...V]:V};R.useEffect(()=>{const P=D(g.group,n,g.type);P.includes(g.category)||S(U=>({...U,category:P[0]}))},[g.group,g.type,n]);const F=P=>{if(!P)return null;const U=P.transactions.filter(G=>G.type==="ENTRY").reduce((G,W)=>G+W.value,0),z=P.transactions.filter(G=>G.type==="ENTRY"&&G.fundingSource==="FEDERAL").reduce((G,W)=>G+W.value,0),V=P.transactions.filter(G=>G.type==="EXPENSE"),Y=V.reduce((G,W)=>G+W.value,0),se=V.filter(G=>G.isFamilyAgriculture&&G.fundingSource==="FEDERAL").reduce((G,W)=>G+W.value,0),K=z>0?se/z*100:0;return{balance:U-Y,totalEntries:U,federalEntries:z,totalExpenses:Y,afTotalFederal:se,afGoalPercent:K,execPercent:U>0?Y/U*100:0}},q=R.useMemo(()=>Object.values(h).reduce((U,z)=>{const V=F(z);return V?{balance:U.balance+V.balance,entries:U.entries+V.totalEntries,expenses:U.expenses+V.totalExpenses}:U},{balance:0,entries:0,expenses:0}),[h]),L=R.useMemo(()=>["ru","merenda","pdde_basico","pdde_qualidade"].includes(n)?F(h[n]):null,[h,n]),B=async P=>{if(P.preventDefault(),!g.description||!g.value){r("Preencha os campos obrigatrios.","warning");return}const U=parseFloat(g.value),z=g.type==="EXPENSE"&&g.isFamilyAgriculture&&g.isIndividualProducer?U*.015:0,V=U-z;let Y=null;try{const se=h[n];if(!se||!se.dbId)throw new Error("Fundo no identificado.");if(b){const G=b.name.split(".").pop(),Q=`receipts/${`${Date.now()}_${Math.random().toString(36).substring(7)}.${G}`}`,{error:ee}=await ae.storage.from("finance-documents").upload(Q,b);if(ee)throw ee;const{data:{publicUrl:he}}=ae.storage.from("finance-documents").getPublicUrl(Q);Y=he}const{error:K}=await ae.from("transactions").insert([{fund_id:se.dbId,date:g.date,description:g.description.toUpperCase(),invoice_number:g.invoiceNumber.toUpperCase(),type:g.type,tx_group:n==="merenda"&&g.type==="ENTRY"?"CUSTEIO":g.group,gross_value:U,tax_value:z,net_value:V,category:g.category,integrated_action:n==="pdde_qualidade"?g.integratedAction:null,funding_source:n==="merenda"?g.fundingSource:null,is_family_agriculture:n==="merenda"?g.isFamilyAgriculture:!1,is_individual_producer:n==="merenda"?g.isIndividualProducer:!1,receipt_url:Y}]);if(K)throw K;r("Lanamento realizado com sucesso!","success"),o(!1),w(null),S({description:"",invoiceNumber:"",value:"",type:"EXPENSE",group:"CUSTEIO",category:"",integratedAction:"",fundingSource:"",isFamilyAgriculture:!1,isIndividualProducer:!1,date:new Date().toISOString().split("T")[0]}),j()}catch(se){console.error("Erro ao salvar lanamento:",se),r("Erro ao salvar: "+(se.message||"Erro desconhecido"),"error")}},X=async P=>{var V;const U=(V=P.target.files)==null?void 0:V[0];if(!U)return;d(!0);const z=new FileReader;z.onload=async Y=>{var K;const se=((K=Y.target)==null?void 0:K.result).split(",")[1];try{const G=await a1e(se,U.type);G&&(w(U),S(W=>{var Q;return{...W,description:G.description||W.description,invoiceNumber:G.invoiceNumber||W.invoiceNumber,value:((Q=G.totalValue)==null?void 0:Q.toString())||W.value,date:G.invoiceDate||W.date}}))}catch{r("Erro ao ler nota fiscal com IA.","error")}finally{d(!1)}},z.readAsDataURL(U)};return a.jsxs("div",{className:"min-h-screen bg-gray-900 font-sans relative overflow-hidden text-white",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1541339907198-e08756dedf3f?q=80&w=2670&auto=format&fit=crop')] bg-cover bg-center opacity-20 fixed"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-indigo-950 to-black fixed opacity-90"}),a.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-indigo-600/20 rounded-full blur-[120px] animate-[pulse_8s_ease-in-out_infinite] fixed"}),a.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-600/20 rounded-full blur-[120px] animate-[pulse_10s_ease-in-out_infinite] fixed"})]}),a.jsxs("div",{className:"relative z-10 flex h-screen",children:[a.jsxs("aside",{className:"w-64 bg-white/5 backdrop-blur-xl border-r border-white/10 flex flex-col no-print",children:[a.jsx("div",{className:"p-6",children:a.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx("span",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 p-2 rounded-xl shadow-lg shadow-blue-500/20",children:""}),"Financeiro"]})}),a.jsxs("nav",{className:"flex-1 mt-6 px-4 space-y-2 overflow-y-auto custom-scrollbar",children:[a.jsxs("button",{onClick:()=>s("dashboard"),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${n==="dashboard"?"bg-blue-600 text-white shadow-[0_0_20px_rgba(37,99,235,0.3)] border border-blue-400/30":"text-white/60 hover:bg-white/10 hover:text-white"}`,children:[a.jsx(gL,{size:18})," Balano Global"]}),a.jsxs("button",{onClick:()=>s("budget"),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${n==="budget"?"bg-blue-600 text-white shadow-[0_0_20px_rgba(37,99,235,0.3)] border border-blue-400/30":"text-white/60 hover:bg-white/10 hover:text-white"}`,children:[a.jsx(Jd,{size:18})," Oramento / Planejamento"]}),a.jsxs("div",{className:"py-4",children:[a.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest px-4 mb-3",children:"Fontes de Recurso"}),a.jsx("div",{className:"space-y-1",children:[{id:"ru",label:"R.U (Recurso nico)",icon:MO},{id:"merenda",label:"Merenda Escolar",icon:DO},{id:"pdde_basico",label:"PDDE Bsico",icon:RO},{id:"pdde_qualidade",label:"PDDE Qualidade",icon:on}].map(P=>a.jsxs("button",{onClick:()=>s(P.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-xs font-bold transition-all ${n===P.id?"bg-blue-600/20 text-blue-200 border border-blue-500/30 shadow-lg":"text-white/50 hover:bg-white/5 hover:text-white"}`,children:[a.jsx(P.icon,{size:16})," ",P.label]},P.id))})]}),a.jsxs("button",{onClick:()=>s("reports"),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${n==="reports"?"bg-blue-600 text-white shadow-[0_0_20px_rgba(37,99,235,0.3)] border border-blue-400/30":"text-white/60 hover:bg-white/10 hover:text-white"}`,children:[a.jsx(zt,{size:18})," Prestao de Contas"]})]}),a.jsx("div",{className:"p-6 border-t border-white/10 space-y-3",children:a.jsxs("button",{onClick:t,className:"w-full flex items-center gap-2 px-4 py-3 bg-white/5 hover:bg-white/10 hover:text-white border border-white/5 rounded-xl text-xs font-black uppercase tracking-widest transition-all text-white/60",children:[a.jsx(cr,{size:16})," Voltar"]})})]}),a.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"h-20 bg-transparent border-b border-white/10 flex items-center justify-between px-10 shrink-0 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-white/5 text-blue-400 rounded-lg border border-white/10",children:a.jsx(FA,{size:20})}),a.jsx("h2",{className:"text-sm font-black text-white/80 uppercase tracking-widest",children:e.name})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("button",{onClick:k,className:"p-2.5 text-white/40 hover:bg-white/10 hover:text-white rounded-xl transition-all group flex items-center gap-2",title:"Alternar Tela Cheia",children:[a.jsx(nl,{size:18,className:"group-hover:text-blue-400"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest hidden xl:block",children:"Expandir"})]}),n==="merenda"&&L&&a.jsxs("div",{className:"flex items-center gap-4 bg-emerald-900/20 px-4 py-2 rounded-2xl border border-emerald-500/20 animate-in slide-in-from-right-4 backdrop-blur-md",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[8px] font-black text-emerald-400 uppercase tracking-widest leading-none",children:"Meta 45% (PNAE)"}),a.jsxs("p",{className:`text-sm font-black ${L.afGoalPercent>=45?"text-emerald-400":"text-red-400"}`,children:[L.afGoalPercent.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-24 bg-white/10 h-2 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full transition-all duration-1000 ${L.afGoalPercent>=45?"bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]":"bg-red-500"}`,style:{width:`${Math.min(L.afGoalPercent*2.22,100)}%`}})})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:a.jsx("div",{className:"max-w-7xl mx-auto space-y-6",children:x?a.jsxs("div",{className:"flex flex-col items-center justify-center py-40 gap-4 opacity-50",children:[a.jsx(vt,{className:"animate-spin text-blue-500",size:48}),a.jsx("p",{className:"text-xs font-black uppercase tracking-[0.3em]",children:"Carregando Informaes..."})]}):Object.keys(h).length===0&&n!=="budget"?a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center animate-in zoom-in-95 duration-500",children:[a.jsx("div",{className:"w-32 h-32 bg-amber-500/10 text-amber-500 rounded-[2.5rem] flex items-center justify-center mb-8 border border-amber-500/20 shadow-2xl",children:a.jsx(yL,{size:64,strokeWidth:1.5})}),a.jsx("h3",{className:"text-3xl font-black text-white uppercase tracking-tighter max-w-md",children:"Estrutura Financeira No Encontrada"}),a.jsx("p",{className:"text-white/40 font-medium max-w-sm mt-4 leading-relaxed",children:"Parece que as tabelas de recursos (RU, Merenda, PDDE) ainda no foram configuradas no seu banco de dados Supabase."}),a.jsxs("div",{className:"mt-10 flex flex-col gap-4",children:[a.jsx("button",{onClick:T,className:"px-10 py-5 bg-blue-600 text-white rounded-[2rem] text-sm font-black uppercase tracking-widest shadow-2xl shadow-blue-500/20 hover:scale-105 transition-all",children:"Inicializar Mdulos Padro"}),a.jsx("p",{className:"text-[10px] font-bold text-white/20 uppercase tracking-[0.2em]",children:"Isso criar as categorias RU, Merenda e PDDE automticamente."})]})]}):a.jsxs(a.Fragment,{children:[n==="budget"&&a.jsx(Ske,{user:e}),n!=="dashboard"&&n!=="reports"&&n!=="budget"&&h[n]&&a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[i&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm transition-all duration-300",children:a.jsxs("div",{className:"bg-gray-900/90 rounded-[3.5rem] w-full max-w-2xl shadow-[0_32px_64px_-12px_rgba(0,0,0,0.5)] animate-in zoom-in-95 duration-200 max-h-[95vh] overflow-hidden flex flex-col border border-white/10",children:[a.jsxs("div",{className:"px-10 pt-10 pb-6 flex justify-between items-start shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:`p-4 rounded-[1.5rem] shadow-xl ${h[n].color==="purple"?"bg-purple-600":h[n].color==="emerald"?"bg-emerald-600":"bg-blue-600"} text-white`,children:a.jsx(ot,{size:28,strokeWidth:3})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:"Novo Lanamento"}),a.jsxs("p",{className:"text-[11px] text-white/40 font-bold uppercase tracking-widest mt-1 flex items-center gap-1.5",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${h[n].color==="purple"?"bg-purple-500":h[n].color==="emerald"?"bg-emerald-500":"bg-blue-500"}`}),"Recurso: ",h[n].fullName]})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-3 bg-white/5 text-white/40 hover:text-red-400 hover:bg-red-500/10 rounded-2xl transition-all duration-200",children:a.jsx(Ze,{size:24})})]}),b&&a.jsx("div",{className:"px-10 mb-4",children:a.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-500/10 border border-blue-500/20 rounded-2xl animate-in fade-in slide-in-from-top-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Jl,{size:20,className:"text-blue-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest leading-none",children:"Arquivo em Anexo"}),a.jsx("p",{className:"text-xs font-bold text-white mt-1 truncate max-w-[200px]",children:b.name})]})]}),a.jsx("button",{type:"button",onClick:()=>w(null),className:"p-2 hover:bg-white/10 rounded-lg text-white/40 hover:text-red-400 transition-colors",children:a.jsx(Ze,{size:16})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto px-10 pb-10 custom-scrollbar",children:a.jsxs("form",{onSubmit:B,className:"space-y-8",children:[a.jsxs("div",{className:"relative group overflow-hidden p-6 rounded-[2.5rem] border-2 border-dashed border-gray-100 bg-gray-50/50 hover:border-blue-200 hover:bg-blue-50/30 transition-all duration-300",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity",children:a.jsx(Mr,{size:120,className:"text-blue-900"})}),l?a.jsxs("div",{className:"flex flex-col items-center gap-4 py-4 animate-pulse",children:[a.jsxs("div",{className:"relative",children:[a.jsx(vt,{className:"animate-spin text-blue-600",size:40,strokeWidth:2.5}),a.jsx(Mr,{className:"absolute inset-0 m-auto text-blue-400",size:16})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm font-black text-blue-900 uppercase tracking-widest",children:"Inteligncia Artificial Ativa"}),a.jsx("p",{className:"text-[10px] text-blue-400 font-bold uppercase tracking-widest",children:"Analisando dados da nota fiscal..."})]})]}):a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center text-blue-600 shadow-lg group-hover:scale-110 transition-transform duration-300",children:a.jsx(rK,{size:32})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase tracking-tight",children:"Importar via Nota Fiscal"}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mt-0.5",children:"Extrao instantnea de valores, datas e descries"}),a.jsx("button",{type:"button",onClick:()=>{var P;return(P=u.current)==null?void 0:P.click()},className:"mt-3 px-6 py-2 bg-gray-900 text-white rounded-xl text-[10px] font-black uppercase tracking-[0.2em] shadow-lg shadow-gray-900/20 hover:bg-blue-600 transition-all",children:"Selecionar PDF ou Foto"}),a.jsx("input",{type:"file",ref:u,onChange:X,className:"hidden",accept:"image/*,application/pdf"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-4",children:"Tipo de Movimento"}),a.jsxs("div",{className:"flex bg-gray-100 p-1.5 rounded-[1.5rem] shadow-inner",children:[a.jsx("button",{type:"button",onClick:()=>S({...g,type:"ENTRY"}),className:`flex-1 py-3 rounded-2xl text-[10px] font-black uppercase transition-all duration-300 ${g.type==="ENTRY"?"bg-white text-emerald-600 shadow-md ring-1 ring-black/5":"text-gray-400 hover:text-gray-600"}`,children:"Entrada"}),a.jsx("button",{type:"button",onClick:()=>S({...g,type:"EXPENSE"}),className:`flex-1 py-3 rounded-2xl text-[10px] font-black uppercase transition-all duration-300 ${g.type==="EXPENSE"?"bg-white text-red-600 shadow-md ring-1 ring-black/5":"text-gray-400 hover:text-gray-600"}`,children:"Despesa"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-4",children:n==="merenda"?"Origem do Recurso":"Natureza"}),a.jsx("div",{className:"flex bg-gray-100 p-1.5 rounded-[1.5rem] shadow-inner",children:n==="merenda"?a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",onClick:()=>S({...g,fundingSource:"ESTADUAL",group:"CUSTEIO"}),className:`flex-1 py-3 rounded-2xl text-[10px] font-black uppercase transition-all duration-300 ${g.fundingSource==="ESTADUAL"?"bg-white text-blue-600 shadow-md ring-1 ring-black/5":"text-gray-400 hover:text-gray-600"}`,children:"Estadual"}),a.jsx("button",{type:"button",onClick:()=>S({...g,fundingSource:"FEDERAL",group:"CUSTEIO"}),className:`flex-1 py-3 rounded-2xl text-[10px] font-black uppercase transition-all duration-300 ${g.fundingSource==="FEDERAL"?"bg-emerald-600 text-white shadow-md":"text-gray-400 hover:text-gray-600"}`,children:"Federal"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",disabled:n==="merenda"&&g.type==="ENTRY",onClick:()=>S({...g,group:"CUSTEIO"}),className:`flex-1 py-3 rounded-2xl text-[10px] font-black uppercase transition-all duration-300 ${g.group==="CUSTEIO"?"bg-white text-blue-600 shadow-md ring-1 ring-black/5":"text-gray-400 hover:text-gray-600 disabled:opacity-50"}`,children:"Custeio"}),a.jsx("button",{type:"button",disabled:n==="merenda"&&g.type==="ENTRY",onClick:()=>S({...g,group:"CAPITAL"}),className:`flex-1 py-3 rounded-2xl text-[10px] font-black uppercase transition-all duration-300 ${g.group==="CAPITAL"?"bg-white text-amber-600 shadow-md ring-1 ring-black/5":"text-gray-400 hover:text-gray-600 disabled:opacity-50"}`,children:"Capital"})]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-4",children:"Descrio do Lanamento"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",children:a.jsx(_L,{size:18})}),a.jsx("input",{type:"text",required:!0,value:g.description,onChange:P=>S({...g,description:P.target.value}),placeholder:"Ex: Aquisio de Gneros...",className:"w-full pl-12 pr-6 py-4 bg-gray-50 border border-gray-100 rounded-[1.5rem] text-sm font-bold focus:bg-white focus:ring-4 focus:ring-blue-500/10 focus:border-blue-400 outline-none transition-all"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-4",children:"Nmero da Nota Fiscal"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",children:a.jsx(IG,{size:18})}),a.jsx("input",{type:"text",value:g.invoiceNumber,onChange:P=>S({...g,invoiceNumber:P.target.value}),placeholder:"Opcional",className:"w-full pl-12 pr-6 py-4 bg-gray-50 border border-gray-100 rounded-[1.5rem] text-sm font-bold focus:bg-white focus:ring-4 focus:ring-blue-500/10 focus:border-blue-400 outline-none transition-all"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-4",children:"Valor Bruto (R$)"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400 font-black text-xs uppercase tracking-widest",children:"R$"}),a.jsx("input",{type:"number",step:"0.01",required:!0,value:g.value,onChange:P=>S({...g,value:P.target.value}),placeholder:"0,00",className:"w-full pl-12 pr-6 py-4 bg-gray-50 border border-gray-100 rounded-[1.5rem] text-lg font-black focus:bg-white focus:ring-4 focus:ring-blue-500/10 focus:border-blue-400 outline-none transition-all text-gray-900"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-4",children:"Data da Operao"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",children:a.jsx(kr,{size:18})}),a.jsx("input",{type:"date",value:g.date,onChange:P=>S({...g,date:P.target.value}),className:"w-full pl-12 pr-6 py-4 bg-gray-50 border border-gray-100 rounded-[1.5rem] text-sm font-bold focus:bg-white focus:ring-4 focus:ring-blue-500/10 focus:border-blue-400 outline-none transition-all"})]})]})]}),n!=="merenda"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-4",children:"Categoria Contbil"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",children:a.jsx(Jl,{size:18})}),a.jsx("select",{value:g.category,onChange:P=>S({...g,category:P.target.value}),className:"w-full pl-12 pr-6 py-4 bg-gray-50 border border-gray-100 rounded-[1.5rem] text-sm font-bold appearance-none outline-none focus:bg-white focus:ring-4 focus:ring-blue-500/10 focus:border-blue-400 transition-all uppercase",children:D(g.group,n,g.type).map(P=>a.jsx("option",{value:P,children:P},P))}),a.jsx("div",{className:"absolute right-5 top-1/2 -translate-y-1/2 pointer-events-none text-gray-300",children:a.jsx(ga,{size:18,className:"rotate-90"})})]})]})]}),n==="pdde_qualidade"&&a.jsxs("div",{className:"bg-purple-50/50 p-8 rounded-[2.5rem] border border-purple-100 space-y-6 animate-in slide-in-from-top-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-600 text-white rounded-lg",children:a.jsx(tu,{size:16})}),a.jsx("h4",{className:"text-[11px] font-black text-purple-900 uppercase tracking-widest",children:"Aes Integradas PDDE"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:["Escola das Adolescncias","Educao Conectada","Escola e Comunidade"].map(P=>a.jsx("button",{type:"button",onClick:()=>S({...g,integratedAction:P}),className:`py-3 px-4 rounded-xl text-[9px] font-black uppercase transition-all duration-300 border-2 ${g.integratedAction===P?"bg-purple-600 text-white border-purple-700 shadow-lg":"bg-white text-purple-400 border-purple-50 hover:border-purple-200"}`,children:P},P))})]}),n==="merenda"&&g.type==="EXPENSE"&&a.jsxs("div",{className:"bg-emerald-50/50 p-8 rounded-[2.5rem] border border-emerald-100 space-y-6 animate-in slide-in-from-top-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-emerald-600 text-white rounded-lg",children:a.jsx(xx,{size:16})}),a.jsx("span",{className:"text-[11px] font-black text-emerald-900 uppercase tracking-widest",children:"Agricultura Familiar"})]}),a.jsx("button",{type:"button",onClick:()=>S({...g,isFamilyAgriculture:!g.isFamilyAgriculture}),className:`w-14 h-7 rounded-full transition-all duration-300 relative ${g.isFamilyAgriculture?"bg-emerald-600":"bg-gray-200 shadow-inner"}`,children:a.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full shadow-md transition-all duration-300 ${g.isFamilyAgriculture?"left-8":"left-1"}`})})]}),g.isFamilyAgriculture&&a.jsxs("div",{className:"space-y-5 animate-in fade-in zoom-in-95 duration-300",children:[a.jsxs("div",{className:"bg-emerald-100/50 p-4 rounded-2xl border border-emerald-200",children:[a.jsxs("h5",{className:"text-[10px] font-black text-emerald-800 uppercase tracking-widest mb-3 flex items-center gap-2",children:[a.jsx(tu,{size:12})," Simulao de Meta PNAE (45%)"]}),(()=>{const P=F(h.merenda);if(!P)return null;const U=P.federalEntries||0,z=P.afTotalFederal||0,V=parseFloat(g.value||"0"),Y=g.fundingSource==="FEDERAL",se=z+(Y?V:0),K=U>0?z/U*100:0,G=U>0?se/U*100:0;return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-[9px] font-bold text-emerald-600 uppercase",children:"Atual"}),a.jsxs("p",{className:"text-lg font-black text-emerald-700",children:[K.toFixed(1),"%"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-[9px] font-bold text-emerald-600 uppercase",children:"Com este lanamento"}),a.jsxs("p",{className:`text-lg font-black ${G>=45?"text-emerald-600":"text-amber-600"}`,children:[G.toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"h-3 bg-emerald-200/50 rounded-full overflow-hidden relative",children:[a.jsx("div",{className:"absolute top-0 left-0 h-full bg-emerald-500 z-10",style:{width:`${Math.min(K*2.22,100)}%`}}),Y&&V>0&&a.jsx("div",{className:"absolute top-0 h-full bg-emerald-400/50 z-0 animate-pulse",style:{left:`${Math.min(K*2.22,100)}%`,width:`${Math.min((G-K)*2.22,100-K*2.22)}%`}})]}),!Y&&V>0&&a.jsx("p",{className:"text-[9px] text-amber-600 font-bold text-center bg-amber-50 py-1 rounded",children:'Ateno: Recurso "Estadual" no contabiliza para meta Federal (PNAE/FNDE).'}),G>=45&&K<45&&a.jsx("p",{className:"text-[9px] text-emerald-700 font-black text-center bg-emerald-200/50 py-1 rounded",children:" Parabns! Este lanamento atinge a meta de 45%!"})]})})()]}),a.jsxs("div",{className:"flex bg-white p-1.5 rounded-[1.2rem] border border-emerald-100 shadow-sm",children:[a.jsx("button",{type:"button",onClick:()=>S({...g,isIndividualProducer:!1}),className:`flex-1 py-2.5 rounded-xl text-[9px] font-black uppercase transition-all duration-300 ${g.isIndividualProducer?"text-gray-400":"bg-emerald-100 text-emerald-800"}`,children:"Cooperativa / Associao"}),a.jsx("button",{type:"button",onClick:()=>S({...g,isIndividualProducer:!0}),className:`flex-1 py-2.5 rounded-xl text-[9px] font-black uppercase transition-all duration-300 ${g.isIndividualProducer?"bg-amber-600 text-white shadow-md":"text-gray-400"}`,children:"Produtor Individual"})]}),g.isIndividualProducer&&a.jsxs("div",{className:"flex items-center justify-between bg-amber-50 p-4 rounded-2xl border border-amber-200 border-dashed animate-in slide-in-from-left-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-amber-800",children:[a.jsx("div",{className:"p-2 bg-white rounded-lg",children:a.jsx(Hn,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase tracking-tight leading-none",children:"Imposto Lei 15.226/25 (1,5%)"}),a.jsx("p",{className:"text-[8px] font-bold text-amber-600 uppercase mt-1",children:"Deduo Automtica de Auditoria"})]})]}),a.jsxs("span",{className:"text-sm font-black text-amber-800",children:["- R$ ",(parseFloat(g.value||"0")*.015).toFixed(2)]})]})]})]}),a.jsx("button",{type:"submit",className:`w-full py-5 rounded-[2rem] text-sm font-black uppercase tracking-[0.2em] shadow-2xl transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] ${h[n].color==="purple"?"bg-purple-700 shadow-purple-900/20":h[n].color==="emerald"?"bg-emerald-700 shadow-emerald-900/20":"bg-gray-900 shadow-gray-900/20"} text-white`,children:"Confirmar Lanamento Financeiro"})]})})]})}),a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between gap-6",children:[(()=>{const P=h[n].icon;return a.jsxs("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-white/10 shadow-xl backdrop-blur-md flex-1 flex items-center gap-6",children:[a.jsx("div",{className:`p-5 rounded-3xl ${h[n].color==="blue"?"bg-blue-600":h[n].color==="purple"?"bg-purple-600":"bg-emerald-600"} text-white shadow-xl`,children:a.jsx(P,{size:40})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-white uppercase tracking-tight",children:h[n].name}),a.jsx("p",{className:"text-white/50 font-bold text-xs uppercase tracking-widest mt-2",children:h[n].fullName})]})]})})(),n==="pdde_qualidade"?a.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 custom-scrollbar",children:["Escola das Adolescncias","Educao Conectada","Escola e Comunidade"].map(P=>{const z=h.pdde_qualidade.transactions.filter(V=>V.integratedAction===P).reduce((V,Y)=>V+(Y.type==="ENTRY"?Y.value:-Y.value),0);return a.jsxs("div",{className:"bg-purple-500/10 p-6 rounded-[2rem] border border-purple-500/20 backdrop-blur-md min-w-[200px] flex flex-col justify-between",children:[a.jsx("p",{className:"text-[9px] font-black text-purple-300 uppercase tracking-widest mb-2 line-clamp-1",title:P,children:P}),a.jsxs("p",{className:`text-xl font-black ${z<0?"text-red-600":"text-white"}`,children:["R$ ",z.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},P)})}):a.jsx("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-white/10 shadow-xl backdrop-blur-md flex items-center gap-12 px-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest mb-1",children:"Saldo Caixa"}),a.jsxs("p",{className:`text-3xl font-black ${(L==null?void 0:L.balance)<0?"text-red-600":"text-white"}`,children:["R$ ",L==null?void 0:L.balance.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})})]}),a.jsxs("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-white/10 shadow-xl space-y-6 backdrop-blur-md",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-white/5 pb-6",children:[a.jsxs("h3",{className:"text-lg font-black text-white uppercase tracking-tight flex items-center gap-2",children:[a.jsx(CA,{className:"text-blue-400",size:20})," Livro Caixa"]}),a.jsxs("button",{onClick:()=>o(!0),className:`px-6 py-2.5 ${h[n].color==="purple"?"bg-purple-600":h[n].color==="emerald"?"bg-emerald-600":"bg-blue-600"} text-white rounded-xl text-[10px] font-black uppercase flex items-center gap-2 hover:opacity-90 transition-all shadow-lg`,children:[a.jsx(ot,{size:16})," Novo Lanamento"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-[11px] border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-white/40 border-b border-white/5",children:[a.jsx("th",{className:"px-6 py-4 font-black uppercase tracking-widest",children:"Data"}),a.jsx("th",{className:"px-6 py-4 font-black uppercase tracking-widest",children:"Descrio / NF"}),a.jsx("th",{className:"px-6 py-4 font-black uppercase tracking-widest text-center",children:"Grupo / AF"}),a.jsx("th",{className:"px-6 py-4 font-black uppercase tracking-widest text-right",children:"Valor"}),a.jsx("th",{className:"px-6 py-4 font-black uppercase tracking-widest text-center",children:"Docs"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5",children:h[n].transactions.map(P=>a.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-bold text-white/50",children:new Date(P.date).toLocaleDateString("pt-BR")}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-black text-white uppercase leading-tight",children:P.description}),P.invoiceNumber&&a.jsxs("span",{className:"bg-white/10 text-white/60 px-1.5 py-0.5 rounded text-[8px] font-black border border-white/10",children:["NF: ",P.invoiceNumber]})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-[8px] text-white/30 font-bold uppercase",children:P.category}),P.integratedAction&&a.jsx("span",{className:"text-[8px] bg-purple-500/10 text-purple-300 px-1.5 py-0.5 rounded font-black uppercase border border-purple-500/20",children:P.integratedAction})]})]}),a.jsxs("td",{className:"px-6 py-4 text-center space-y-1",children:[a.jsx("span",{className:`px-2 py-0.5 rounded font-black text-[7px] uppercase border ${P.group==="CAPITAL"?"bg-amber-500/10 text-amber-300 border-amber-500/20":"bg-blue-500/10 text-blue-300 border-blue-500/20"}`,children:P.group}),P.isFamilyAgriculture&&a.jsx("span",{className:`px-2 py-0.5 rounded font-black text-[7px] uppercase border ml-1 ${P.isIndividualProducer?"bg-amber-500/10 text-amber-300 border-amber-500/20":"bg-emerald-500/10 text-emerald-300 border-emerald-500/20"}`,children:P.isIndividualProducer?"[AF-IND]":"[AF-COOP]"})]}),a.jsx("td",{className:"px-6 py-4 text-right font-black",children:a.jsxs("span",{className:P.type==="ENTRY"?"text-emerald-400":"text-red-400",children:["R$ ",P.value.toLocaleString("pt-BR",{minimumFractionDigits:2})]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:P.receiptUrl?a.jsx("a",{href:P.receiptUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-blue-500/10 text-blue-400 rounded-lg hover:bg-blue-600 hover:text-white transition-all inline-block",title:"Visualizar Nota Fiscal",children:a.jsx(zt,{size:14})}):a.jsx("span",{className:"text-white/10",children:a.jsx(zt,{size:14})})})]},P.id))})]})})]})]}),n==="dashboard"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 to-blue-800/50 backdrop-blur-xl p-10 rounded-[2.5rem] text-white flex flex-col md:flex-row items-center justify-between gap-8 relative overflow-hidden shadow-2xl border border-white/10",children:[a.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10",children:a.jsx(Ho,{size:180})}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsxs("h2",{className:"text-4xl font-black uppercase tracking-tighter leading-none",children:["Viso Global",a.jsx("br",{}),"Financeira"]}),a.jsx("p",{className:"text-blue-100/70 font-medium max-w-md",children:"Controle centralizado com auditoria de conformidade SEDUC/FNDE."})]}),a.jsxs("div",{className:"bg-white/10 p-8 rounded-3xl border border-white/10 backdrop-blur-sm text-center",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-300 uppercase tracking-widest mb-1",children:"Saldo Disponvel Total"}),a.jsxs("h3",{className:"text-4xl font-black",children:["R$ ",q.balance.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Object.values(h).map(P=>{const U=F(P),z=P.icon;return U?a.jsxs("button",{onClick:()=>s(P.id),className:"bg-white/5 backdrop-blur-md p-6 rounded-[2rem] border border-white/10 shadow-lg hover:bg-white/10 transition-all text-left group",children:[a.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center mb-4 transition-colors ${P.color==="blue"?"bg-blue-500/20 text-blue-400":P.color==="purple"?"bg-purple-500/20 text-purple-400":"bg-emerald-500/20 text-emerald-400"} text-white`,children:a.jsx(z,{size:24})}),a.jsx("h4",{className:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em] mb-1",children:P.name}),a.jsxs("p",{className:"text-xl font-black text-white leading-none",children:["R$ ",U.balance.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},P.id):null})})]}),n==="reports"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white/5 backdrop-blur-md p-10 rounded-[3rem] border border-white/10 shadow-xl flex flex-col md:flex-row items-center justify-between gap-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-20 h-20 bg-blue-500/10 text-blue-400 rounded-3xl flex items-center justify-center shadow-inner border border-blue-500/20",children:a.jsx(Jd,{size:40,strokeWidth:2.5})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:"Prestao de Contas"}),a.jsx("p",{className:"text-white/50 font-bold text-xs uppercase tracking-widest mt-1",children:"Consolidao para SIGPC & Auditoria Estadual"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{className:"px-8 py-3 bg-white/10 text-white rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] shadow-xl hover:bg-white/20 hover:scale-105 transition-all flex items-center gap-2 border border-white/5",children:[a.jsx(ni,{size:14})," Exportar SIGPC"]}),a.jsxs("button",{className:"px-8 py-3 bg-emerald-600/20 text-emerald-400 border border-emerald-500/20 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] shadow-xl hover:bg-emerald-600/30 hover:scale-105 transition-all flex items-center gap-2",children:[a.jsx(xx,{size:14})," Mapa de AF (PNAE)"]})]})]}),a.jsxs("div",{className:"bg-emerald-900 p-10 rounded-[3rem] text-white space-y-8 shadow-2xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-10",children:a.jsx(BH,{size:180})}),a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-white/10 rounded-2xl backdrop-blur-md",children:a.jsx(Hn,{size:32,className:"text-emerald-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black uppercase tracking-widest",children:"Retenes Tributrias AF"}),a.jsx("p",{className:"text-emerald-200/60 font-bold text-[10px] uppercase tracking-[0.2em]",children:"Lei Estadual 15.226/25 (Produtor Individual)"})]})]}),a.jsxs("div",{className:"bg-white/10 p-6 rounded-3xl border border-white/10 backdrop-blur-md text-center",children:[a.jsx("p",{className:"text-[10px] font-black text-emerald-300 uppercase tracking-widest mb-1",children:"Total Retido no Exerccio"}),a.jsxs("h4",{className:"text-3xl font-black",children:["R$ ",M.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),a.jsx("div",{className:"relative z-10 bg-black/20 rounded-[2rem] border border-white/5 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-[11px] border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-black/20 text-emerald-400",children:[a.jsx("th",{className:"px-8 py-4 font-black uppercase tracking-widest",children:"Data"}),a.jsx("th",{className:"px-8 py-4 font-black uppercase tracking-widest",children:"Produtor / NF"}),a.jsx("th",{className:"px-8 py-4 font-black uppercase tracking-widest text-center",children:"Recurso"}),a.jsx("th",{className:"px-8 py-4 font-black uppercase tracking-widest text-right",children:"Bruto"}),a.jsx("th",{className:"px-8 py-4 font-black uppercase tracking-widest text-right",children:"Taxa (1,5%)"}),a.jsx("th",{className:"px-8 py-4 font-black uppercase tracking-widest text-right",children:"Valor Lquido"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5",children:O.length>0?O.map(P=>a.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[a.jsx("td",{className:"px-8 py-5 font-bold text-emerald-100 opacity-70",children:new Date(P.date).toLocaleDateString("pt-BR")}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-black text-white uppercase leading-none",children:P.description}),a.jsxs("p",{className:"text-[9px] text-emerald-400 font-bold mt-1",children:["NF: ",P.invoiceNumber]})]}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:"bg-white/10 text-white px-2 py-1 rounded text-[9px] font-black uppercase",children:P.fundName})}),a.jsxs("td",{className:"px-8 py-5 text-right font-bold text-white/60 italic",children:["R$ ",P.value.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsxs("td",{className:"px-8 py-5 text-right font-black text-emerald-400",children:["- R$ ",(P.taxValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsxs("td",{className:"px-8 py-5 text-right font-black text-white text-sm",children:["R$ ",(P.netValue||P.value).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},P.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-12 text-center text-emerald-200/40 uppercase font-black text-[10px] tracking-[0.3em]",children:"Nenhuma reteno registrada"})})})]})})]}),a.jsxs("div",{className:"bg-white/5 backdrop-blur-md p-10 rounded-[3rem] border border-white/10 shadow-xl space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-white/5 pb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-blue-500/10 text-blue-400 rounded-2xl border border-blue-500/20",children:a.jsx(XH,{size:20})}),a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter leading-none",children:"Arquivo Digital de Notas Fiscais"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/30",size:16}),a.jsx("input",{type:"text",placeholder:"Filtrar por NF ou descrio...",className:"pl-12 pr-6 py-3 bg-white/5 border border-white/5 rounded-2xl text-[10px] font-black uppercase outline-none focus:ring-2 focus:ring-blue-500/50 w-64 text-white placeholder-white/20"})]}),a.jsx("button",{className:"p-3 bg-white/5 text-white/40 rounded-2xl hover:bg-white/10 hover:text-white border border-white/5 transition-all",children:a.jsx(Bg,{size:18})})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-[11px] border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-white/40 border-b border-white/5",children:[a.jsx("th",{className:"px-8 py-5 font-black uppercase tracking-widest",children:"Emisso"}),a.jsx("th",{className:"px-8 py-5 font-black uppercase tracking-widest",children:"Nmero da Nota"}),a.jsx("th",{className:"px-8 py-5 font-black uppercase tracking-widest",children:"Descrio do Material"}),a.jsx("th",{className:"px-8 py-5 font-black uppercase tracking-widest",children:"Fonte / Recurso"}),a.jsx("th",{className:"px-8 py-5 font-black uppercase tracking-widest text-right",children:"Valor Bruto"}),a.jsx("th",{className:"px-8 py-5 font-black uppercase tracking-widest text-center",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5",children:_.length>0?_.map(P=>a.jsxs("tr",{className:"hover:bg-white/5 transition-all group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(kr,{size:14,className:"text-white/30"}),a.jsx("span",{className:"font-bold text-white/50",children:new Date(P.date).toLocaleDateString("pt-BR")})]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsx("span",{className:"bg-white/5 text-white/80 px-3 py-1 rounded-xl font-black border border-white/10 shadow-sm uppercase",children:P.invoiceNumber})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("p",{className:"font-black text-white uppercase leading-tight group-hover:text-blue-400 transition-colors",children:P.description}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("p",{className:"text-[9px] text-white/40 font-bold uppercase tracking-tighter",children:P.category}),P.isFamilyAgriculture&&a.jsx("span",{className:"bg-emerald-500/10 text-emerald-400 text-[7px] font-black px-1 py-0.5 rounded border border-emerald-500/20 uppercase",children:"AF"})]})]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${P.fundColor==="blue"?"bg-blue-500":P.fundColor==="purple"?"bg-purple-500":P.fundColor==="emerald"?"bg-emerald-500":"bg-amber-500"} shadow-sm shadow-white/10`}),a.jsx("span",{className:"text-[10px] font-black text-white/50 uppercase",children:P.fundName})]})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:"font-black text-white text-sm",children:["R$ ",P.value.toLocaleString("pt-BR",{minimumFractionDigits:2})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:P.receiptUrl?a.jsxs("a",{href:P.receiptUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl text-[9px] font-black uppercase tracking-widest hover:scale-105 transition-all shadow-lg shadow-blue-500/20",children:[a.jsx(ni,{size:12})," Ver PDF"]}):a.jsx("span",{className:"text-white/10 text-[9px] font-black uppercase",children:"Sem Anexo"})})]},P.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"py-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4 opacity-20",children:[a.jsx(Jl,{size:64,className:"text-white"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-white",children:"Nenhuma nota fiscal registrada no sistema"})]})})})})]})})]})]})]})})})]}),a.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 10px; }
        .custom-scrollbar:hover::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2); }
      `})]})]})},Cke=({onExit:t})=>{const[e,r]=R.useState("dashboard"),[n,s]=R.useState([]),[i,o]=R.useState([]),[l,d]=R.useState([]),u=async()=>{try{const{data:re}=await ae.from("library_books").select("*").order("title");re&&s(re.map(J=>({id:J.id,title:J.title,author:J.author,category:J.category,isbn:J.isbn,totalCopies:J.total_copies,availableCopies:J.available_copies,location:J.location})));const{data:ge}=await ae.from("library_readers").select("*").order("name");ge&&o(ge.map(J=>({id:J.id,name:J.name,registration:J.registration,class:J.class_info,type:J.type})));const{data:Me}=await ae.from("library_loans").select(`
          *,
          library_books (title),
          library_readers (name)
        `).order("loan_date",{ascending:!1});Me&&d(Me.map(J=>{var Ae,ne;return{id:J.id,bookId:J.book_id,bookTitle:((Ae=J.library_books)==null?void 0:Ae.title)||"Livro Removido",readerId:J.reader_id,readerName:((ne=J.library_readers)==null?void 0:ne.name)||"Leitor Removido",loanDate:J.loan_date,dueDate:J.due_date,returnDate:J.return_date,status:J.status}}))}catch(re){console.error("Erro ao buscar dados da biblioteca:",re)}};R.useEffect(()=>{u()},[]);const[h,p]=R.useState([]),[x,v]=R.useState(!1),[b,w]=R.useState(""),g=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},[S,k]=R.useState(""),[y,j]=R.useState(!1),[T,_]=R.useState(null),[O,M]=R.useState(""),[D,F]=R.useState(!1),[q,L]=R.useState(null),[B,X]=R.useState({title:"",author:"",category:"Literatura Brasileira",isbn:"",totalCopies:1,location:""}),[P,U]=R.useState(!1),[z,V]=R.useState(null),[Y,se]=R.useState({readerId:"",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],readerSearch:""});R.useEffect(()=>{(()=>{const ge=localStorage.getItem("secretariat_detailed_students_v1"),Me=ge?JSON.parse(ge):$i,J=localStorage.getItem("secretariat_staff_v4"),Ae=J?JSON.parse(J):[],ne=[...Me.map(ve=>({id:ve.CodigoAluno,name:ve.Nome,type:"ALUNO",sub:ve.Turma,reg:ve.CodigoAluno})),...Ae.map(ve=>({id:ve.id,name:ve.name,type:"SERVIDOR",sub:ve.jobFunction,reg:ve.registration}))];p(ne)})()},[x]);const K=R.useMemo(()=>{const re=new Date().toISOString().split("T")[0],ge=l.filter(J=>J.status==="ATIVO"&&J.dueDate>=re&&J.dueDate<=new Date(Date.now()+2*864e5).toISOString().split("T")[0]),Me=l.filter(J=>J.status==="ATIVO"&&J.dueDate<re);return{totalBooks:n.reduce((J,Ae)=>J+Ae.totalCopies,0),activeLoans:l.filter(J=>J.status==="ATIVO").length,delayedLoans:Me.length,expiringSoon:ge,totalReaders:i.length,todayStr:re}},[n,l,i]),G=async re=>{if(i.some(ge=>ge.registration===re.reg)){alert("Este leitor j est cadastrado na biblioteca.");return}try{const{error:ge}=await ae.from("library_readers").insert([{name:re.name,registration:re.reg,type:re.type,class_info:re.sub}]);if(ge)throw ge;await u(),v(!1),w(""),alert(`${re.name} cadastrado como leitor!`)}catch(ge){console.error("Erro ao importar leitor:",ge),alert("Erro ao importar leitor.")}},W=async re=>{var ge,Me;re.preventDefault();try{const J={title:B.title,author:B.author,category:B.category,location:B.location,total_copies:B.totalCopies,available_copies:q?(((ge=n.find(Ae=>Ae.id===q))==null?void 0:ge.availableCopies)||0)+(B.totalCopies-(((Me=n.find(Ae=>Ae.id===q))==null?void 0:Me.totalCopies)||0)):B.totalCopies,isbn:B.isbn};if(q){const{error:Ae}=await ae.from("library_books").update(J).eq("id",q);if(Ae)throw Ae}else{const{error:Ae}=await ae.from("library_books").insert([J]);if(Ae)throw Ae}await u(),F(!1),alert("Obra salva com sucesso!")}catch(J){console.error("Erro ao salvar obra:",J),alert("Erro ao salvar obra.")}},Q=async re=>{re.preventDefault();const ge=i.find(Me=>Me.id===Y.readerId);if(!ge||!z)return alert("Selecione um leitor.");try{const{error:Me}=await ae.from("library_loans").insert([{book_id:z.id,reader_id:ge.id,loan_date:new Date().toISOString().split("T")[0],due_date:Y.dueDate,status:"ATIVO"}]);if(Me)throw Me;const{error:J}=await ae.rpc("decrement_book_copies",{book_id:z.id});J&&await ae.from("library_books").update({available_copies:z.availableCopies-1}).eq("id",z.id),await u(),U(!1),V(null),alert("Emprstimo registrado!")}catch(Me){console.error("Erro ao registrar emprstimo:",Me),alert("Erro ao registrar emprstimo.")}},ee=async re=>{if(window.confirm("Confirmar devoluo do livro?"))try{const{error:ge}=await ae.from("library_loans").update({status:"DEVOLVIDO",return_date:new Date().toISOString().split("T")[0]}).eq("id",re.id);if(ge)throw ge;const Me=n.find(J=>J.id===re.bookId);Me&&await ae.from("library_books").update({available_copies:Me.availableCopies+1}).eq("id",Me.id),await u(),alert("Devoluo registrada!")}catch(ge){console.error("Erro ao registrar devoluo:",ge),alert("Erro ao registrar devoluo.")}},he=async()=>{if(!O.trim())return alert("Informe os interesses ou temas para que o Bibliotecrio IA possa sugerir obras.");j(!0),_(null);try{const re=await e1e(O);_(re||"Nenhuma recomendao gerada pela IA neste momento.")}catch(re){console.error("Erro ao consultar IA de livros:",re),_("Ocorreu um erro ao processar a consulta com a IA. Tente novamente mais tarde.")}finally{j(!1)}},je=R.useMemo(()=>!b||b.length<2?[]:h.filter(re=>re.name.toLowerCase().includes(b.toLowerCase())||re.reg.includes(b)).slice(0,10),[h,b]),me=()=>{switch(e){case"dashboard":return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[K.delayedLoans>0&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-[2.5rem] p-6 shadow-sm flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-red-600 text-white rounded-2xl animate-pulse",children:a.jsx(Xt,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black text-red-900 uppercase",children:"Atrasos Crticos"}),a.jsxs("p",{className:"text-red-700 text-xs font-bold uppercase",children:[K.delayedLoans," Livros pendentes de devoluo"]})]})]}),a.jsx("button",{onClick:()=>r("loans"),className:"px-6 py-2 bg-red-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest",children:"Cobrar Leitores"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Obras no Acervo",value:K.totalBooks,icon:ia},{label:"Emprstimos Ativos",value:K.activeLoans,icon:e1},{label:"Vencendo em Breve",value:K.expiringSoon.length,icon:rr},{label:"Leitores Registrados",value:K.totalReaders,icon:mr}].map((re,ge)=>a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[a.jsx("div",{className:"p-3 w-12 h-12 rounded-xl bg-indigo-50 text-indigo-600 mb-4 flex items-center justify-center",children:a.jsx(re.icon,{size:24})}),a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:re.label}),a.jsx("p",{className:"text-3xl font-black text-gray-900 mt-1",children:re.value})]},ge))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-black text-gray-900 uppercase tracking-tight flex items-center gap-2 mb-8",children:[a.jsx(_t,{className:"text-indigo-600",size:20})," Histrico Recente"]}),a.jsxs("div",{className:"space-y-4",children:[l.slice(0,6).map(re=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl border border-transparent hover:border-indigo-100 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4 overflow-hidden",children:[a.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center text-indigo-600 shadow-sm shrink-0",children:a.jsx(e1,{size:18})}),a.jsxs("div",{className:"truncate",children:[a.jsx("p",{className:"text-xs font-black text-gray-900 uppercase truncate",children:re.bookTitle}),a.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase truncate",children:re.readerName})]})]}),a.jsx("span",{className:`text-[8px] font-black px-2 py-1 rounded-lg uppercase ${re.status==="ATIVO"?"bg-indigo-100 text-indigo-700":"bg-emerald-100 text-emerald-700"}`,children:re.status})]},re.id)),l.length===0&&a.jsx("p",{className:"text-center py-10 text-gray-300 font-black uppercase text-xs",children:"Nenhum registro"})]})]}),a.jsxs("div",{className:"bg-indigo-900 p-8 rounded-[3rem] text-white relative overflow-hidden shadow-xl flex flex-col justify-between",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 rotate-12",children:a.jsx(Fi,{size:140})}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("h3",{className:"text-2xl font-black uppercase tracking-widest mb-4",children:"Bibliotecrio IA"}),a.jsx("p",{className:"text-indigo-200 text-sm leading-relaxed mb-8 italic",children:'"O ndice de leitura do 9 Ano B aumentou 12% este ms. Sugiro destacar obras de Fico Cientfica no mural de entrada."'})]}),a.jsx("button",{onClick:()=>r("ai"),className:"relative z-10 w-full py-4 bg-white text-indigo-950 rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-indigo-50 transition-all",children:"Plano de Incentivo  Leitura"})]})]})]});case"catalog":return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-gray-100 shadow-sm flex items-center justify-between",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:"Pesquisar ttulo ou autor...",value:S,onChange:re=>k(re.target.value),className:"w-full pl-12 pr-6 py-3 bg-gray-50 border-none rounded-2xl text-xs font-bold outline-none"})]}),a.jsxs("button",{onClick:()=>{L(null),F(!0)},className:"px-6 py-3 bg-indigo-600 text-white rounded-2xl text-[10px] font-black uppercase flex items-center gap-2 shadow-lg hover:bg-indigo-700 transition-all",children:[a.jsx(ot,{size:16})," Adicionar Obra"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[n.filter(re=>re.title.toLowerCase().includes(S.toLowerCase())).map(re=>a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-gray-100 shadow-sm hover:border-indigo-200 transition-all group flex flex-col h-full",children:[a.jsxs("div",{className:"w-full aspect-[3/4] bg-indigo-50 rounded-2xl mb-4 flex items-center justify-center text-indigo-200 relative overflow-hidden",children:[a.jsx(ia,{size:48}),a.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-10 transition-opacity",children:[a.jsx("button",{onClick:()=>{X({...re}),L(re.id),F(!0)},className:"p-2 bg-white text-indigo-600 rounded-lg shadow-sm hover:bg-indigo-600 hover:text-white",children:a.jsx(sc,{size:14})}),a.jsx("button",{onClick:()=>{window.confirm("Apagar livro?")&&s(n.filter(ge=>ge.id!==re.id))},className:"p-2 bg-white text-red-600 rounded-lg shadow-sm hover:bg-red-600 hover:text-white",children:a.jsx(Lt,{size:14})})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase leading-tight line-clamp-1",children:re.title}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mt-1",children:re.author}),a.jsxs("div",{className:"mt-4 p-2 bg-gray-50 rounded-xl border border-gray-100 flex items-center gap-2",children:[a.jsx(Yi,{size:12,className:"text-indigo-500"}),a.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase",children:re.location})]})]}),a.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-gray-50 pt-4",children:[a.jsxs("p",{className:`text-xs font-black ${re.availableCopies>0?"text-emerald-600":"text-red-600"}`,children:[re.availableCopies," / ",re.totalCopies," ",a.jsx("span",{className:"text-[8px] text-gray-400 uppercase",children:"UN"})]}),a.jsx("button",{onClick:()=>{V(re),U(!0)},disabled:re.availableCopies<=0,className:`p-2.5 rounded-xl transition-all shadow-sm ${re.availableCopies>0?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-300 cursor-not-allowed"}`,children:a.jsx(e1,{size:18})})]})]},re.id)),n.length===0&&a.jsxs("div",{className:"col-span-full py-32 text-center bg-white rounded-[3rem] border-2 border-dashed border-gray-100 flex flex-col items-center",children:[a.jsx(Gg,{size:48,className:"text-gray-200 mb-4"}),a.jsx("p",{className:"text-gray-400 font-black uppercase text-xs tracking-widest",children:"O acervo est vazio. Comece a cadastrar as obras."})]})]})]});case"readers":return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-gray-100 shadow-sm flex items-center justify-between",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:"Filtrar leitores...",value:S,onChange:re=>k(re.target.value),className:"w-full pl-12 pr-6 py-3 bg-gray-50 border-none rounded-2xl text-xs font-bold outline-none"})]}),a.jsxs("button",{onClick:()=>v(!0),className:"px-6 py-3 bg-indigo-600 text-white rounded-2xl text-[10px] font-black uppercase flex items-center gap-2 shadow-lg hover:bg-indigo-700 transition-all",children:[a.jsx(lc,{size:16})," Importar da Base Escolar"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.filter(re=>re.name.toLowerCase().includes(S.toLowerCase())).map(re=>a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 flex flex-col group hover:border-indigo-300 hover:shadow-lg transition-all relative",children:[a.jsx("button",{onClick:()=>o(i.filter(ge=>ge.id!==re.id)),className:"absolute top-4 right-4 p-2 text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100",children:a.jsx(Lt,{size:16})}),a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-14 h-14 bg-indigo-50 rounded-2xl flex items-center justify-center text-indigo-600 shadow-sm font-black text-xl group-hover:bg-indigo-600 group-hover:text-white transition-colors",children:re.name[0]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase truncate",children:re.name}),a.jsxs("p",{className:"text-[10px] text-gray-400 font-bold uppercase mt-1",children:["Mat: ",re.registration]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl border border-gray-100 flex items-center gap-2",children:[a.jsx(on,{size:14,className:"text-indigo-400"}),a.jsx("span",{className:"text-[10px] font-black text-gray-600 uppercase tracking-widest",children:re.class})]})]},re.id)),i.length===0&&a.jsxs("div",{className:"col-span-full py-24 text-center border-2 border-dashed border-gray-100 rounded-[3rem] bg-white",children:[a.jsx(mr,{size:48,className:"mx-auto mb-4 text-gray-200"}),a.jsx("p",{className:"text-gray-400 font-black uppercase text-xs tracking-widest",children:"Nenhum leitor cadastrado. Use o boto acima para importar."})]})]})]});case"loans":return a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-gray-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-8 border-b border-gray-50 flex justify-between items-center bg-gray-50/50",children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Registro de Circulao"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-lg text-[9px] font-black uppercase border border-blue-100",children:[K.activeLoans," Ativos"]}),a.jsxs("span",{className:"px-3 py-1 bg-red-50 text-red-700 rounded-lg text-[9px] font-black uppercase border border-red-100",children:[K.delayedLoans," Atrasados"]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-[10px] font-black text-gray-400 uppercase tracking-widest border-b border-gray-100",children:[a.jsx("th",{className:"px-8 py-5",children:"Leitor / Aluno"}),a.jsx("th",{className:"px-8 py-5",children:"Obra / Exemplar"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Data Sada"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Vencimento"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Controle"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100 text-sm",children:l.map(re=>a.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-gray-900 uppercase",children:re.readerName}),a.jsxs("p",{className:"text-[9px] text-gray-400 font-bold uppercase",children:["ID: ",re.readerId]})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsx("p",{className:"font-bold text-indigo-600 uppercase leading-tight",children:re.bookTitle})}),a.jsx("td",{className:"px-8 py-6 text-center text-[10px] font-black text-gray-400",children:new Date(re.loanDate).toLocaleDateString("pt-BR")}),a.jsx("td",{className:`px-8 py-6 text-center font-black text-[10px] ${re.status==="ATIVO"&&re.dueDate<K.todayStr?"text-red-600 animate-pulse":"text-indigo-600"}`,children:new Date(re.dueDate).toLocaleDateString("pt-BR")}),a.jsx("td",{className:"px-8 py-6 text-right",children:re.status==="ATIVO"?a.jsx("button",{onClick:()=>ee(re),className:"px-5 py-2 bg-emerald-50 text-emerald-700 rounded-xl text-[9px] font-black uppercase border border-emerald-100 hover:bg-emerald-600 hover:text-white transition-all shadow-sm",children:"Confirmar Recebimento"}):a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsxs("span",{className:"text-[9px] font-black text-emerald-600 uppercase flex items-center gap-1",children:[a.jsx(Nt,{size:12})," Devolvido"]}),a.jsx("p",{className:"text-[8px] text-gray-400 uppercase",children:new Date(re.returnDate).toLocaleDateString("pt-BR")})]})})]},re.id))})]})})]});case"ai":return a.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"bg-indigo-900 p-12 rounded-[3rem] text-white relative overflow-hidden shadow-2xl",children:[a.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-10 rotate-12",children:a.jsx(Mr,{size:160})}),a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-white/10 rounded-3xl backdrop-blur-sm",children:a.jsx(Fi,{size:32,className:"text-indigo-400"})}),a.jsx("h2",{className:"text-3xl font-black uppercase tracking-tighter",children:"Consultoria de Leitura"})]}),a.jsx("p",{className:"text-indigo-200 text-lg font-medium leading-relaxed max-w-2xl",children:"O que o aluno gosta de ler? Digite temas para receber recomendaes estratgicas e atrair novos leitores."}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("input",{type:"text",value:O,onChange:re=>M(re.target.value),placeholder:"Ex: Astronomia, Fantasia medieval...",className:"flex-1 px-8 py-5 bg-white/5 border border-white/10 rounded-3xl text-white outline-none focus:bg-white/10 focus:border-indigo-400 transition-all font-bold placeholder:text-indigo-400"}),a.jsxs("button",{onClick:he,disabled:y,className:"px-10 py-5 bg-white text-indigo-900 rounded-3xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-indigo-50 active:scale-95 transition-all flex items-center gap-3",children:[y?a.jsx(vt,{className:"animate-spin",size:20}):a.jsx(Mr,{size:20})," Gerar Plano"]})]})]})]}),T&&a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-indigo-100 shadow-xl animate-in zoom-in-95 duration-500 prose prose-indigo max-w-none",children:[a.jsxs("div",{className:"flex items-center gap-3 text-indigo-600 mb-6 font-black uppercase text-xs tracking-[0.2em]",children:[a.jsx(Nt,{size:18})," Sugestes Estratgicas"]}),a.jsx("div",{className:"whitespace-pre-wrap text-gray-700 font-medium leading-relaxed",children:T})]})]});default:return null}};return a.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden font-sans",children:[a.jsxs("aside",{className:"w-64 bg-indigo-950 text-white flex flex-col no-print",children:[a.jsx("div",{className:"p-6",children:a.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx("span",{className:"bg-indigo-500 p-1.5 rounded-lg shadow-lg",children:""}),"Biblioteca"]})}),a.jsx("nav",{className:"flex-1 mt-6 px-4 space-y-1.5 overflow-y-auto",children:[{id:"dashboard",label:"Painel Geral",icon:Ki},{id:"catalog",label:"Acervo Digital",icon:ia},{id:"loans",label:"Emprstimos",icon:rr},{id:"readers",label:"Leitores (School)",icon:mr},{id:"ai",label:"IA Consultor",icon:Fi}].map(re=>a.jsxs("button",{onClick:()=>r(re.id),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${e===re.id?"bg-indigo-800 text-white shadow-lg":"text-indigo-100 hover:bg-indigo-800/50"}`,children:[a.jsx(re.icon,{size:18})," ",re.label]},re.id))}),a.jsx("div",{className:"p-6 border-t border-indigo-900 space-y-3",children:a.jsxs("button",{onClick:t,className:"w-full flex items-center gap-2 px-4 py-3 bg-white/10 hover:bg-white/20 rounded-xl text-xs font-black uppercase tracking-widest transition-all",children:[a.jsx(cr,{size:16})," Voltar"]})})]}),a.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"h-20 bg-white border-b border-gray-100 flex items-center justify-between px-10 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:a.jsx(ia,{size:20})}),a.jsx("h2",{className:"text-sm font-black text-gray-900 uppercase",children:"Biblioteca Andr Maggi"})]}),a.jsx("button",{onClick:g,className:"p-2.5 text-gray-400 hover:bg-gray-50 rounded-xl transition-colors",children:a.jsx(nl,{size:18})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:me()})]}),x&&a.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-indigo-950/60 backdrop-blur-md animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-2xl shadow-2xl border border-white/20 overflow-hidden flex flex-col max-h-[85vh]",children:[a.jsxs("div",{className:"p-8 bg-indigo-50 border-b border-indigo-100 flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-indigo-600 text-white rounded-3xl shadow-xl shadow-indigo-600/20",children:a.jsx(lc,{size:28})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Vincular Leitor"}),a.jsx("p",{className:"text-[10px] text-indigo-600 font-bold uppercase tracking-widest mt-1",children:"Busca Unificada: Alunos e Servidores"})]})]}),a.jsx("button",{onClick:()=>v(!1),className:"p-3 bg-white text-gray-300 hover:text-red-500 rounded-2xl shadow-sm transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsx("div",{className:"p-8 border-b border-gray-50 no-print",children:a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{autoFocus:!0,type:"text",placeholder:"Digite o nome ou matrcula (mn. 2 letras)...",value:b,onChange:re=>w(re.target.value),className:"w-full pl-12 pr-6 py-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:ring-4 focus:ring-indigo-500/5 focus:bg-white transition-all uppercase"})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:a.jsxs("div",{className:"space-y-2",children:[je.map(re=>a.jsxs("button",{onClick:()=>G(re),className:"w-full text-left p-6 bg-white hover:bg-indigo-50 border border-gray-100 rounded-3xl transition-all flex items-center justify-between group",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center font-black text-xs ${re.type==="ALUNO"?"bg-blue-50 text-blue-600":"bg-rose-50 text-rose-600"}`,children:re.type[0]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase group-hover:text-indigo-600",children:re.name}),a.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(oc,{size:10})," ",re.type]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(on,{size:10})," ",re.sub]}),a.jsxs("span",{children:["MAT: ",re.reg]})]})]})]}),a.jsx(ga,{size:20,className:"text-gray-300 group-hover:text-indigo-600 group-hover:translate-x-1 transition-all"})]},re.id)),b.length>=2&&je.length===0&&a.jsx("div",{className:"py-20 text-center opacity-30 font-black uppercase text-xs tracking-widest",children:"Nenhuma pessoa encontrada"}),b.length<2&&a.jsxs("div",{className:"py-20 text-center flex flex-col items-center gap-4 opacity-10",children:[a.jsx(Pt,{size:64}),a.jsx("p",{className:"font-black uppercase text-xs",children:"Aguardando busca..."})]})]})})]})}),D&&a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-indigo-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3rem] w-full max-w-2xl shadow-2xl border border-indigo-100 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-8 bg-indigo-50 border-b border-indigo-100 flex justify-between items-center",children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase",children:q?"Editar Obra":"Nova Obra"}),a.jsx("button",{onClick:()=>F(!1),children:a.jsx(Ze,{size:24})})]}),a.jsxs("form",{onSubmit:W,className:"p-10 space-y-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Ttulo"}),a.jsx("input",{required:!0,value:B.title,onChange:re=>X({...B,title:re.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Autor"}),a.jsx("input",{required:!0,value:B.author,onChange:re=>X({...B,author:re.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Localizao (Estante/Prat)"}),a.jsx("input",{required:!0,value:B.location,onChange:re=>X({...B,location:re.target.value.toUpperCase()}),placeholder:"EX: ESTANTE 01 - A",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Total Exemplares"}),a.jsx("input",{required:!0,type:"number",min:"1",value:B.totalCopies,onChange:re=>X({...B,totalCopies:parseInt(re.target.value)}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Categoria"}),a.jsxs("select",{value:B.category,onChange:re=>X({...B,category:re.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-[10px] uppercase outline-none focus:bg-white",children:[a.jsx("option",{children:"Literatura Brasileira"}),a.jsx("option",{children:"Infanto-Juvenil"}),a.jsx("option",{children:"Didtico"})]})]})]}),a.jsx("button",{type:"submit",className:"w-full py-5 bg-indigo-600 text-white rounded-3xl font-black uppercase text-xs tracking-widest shadow-xl",children:"Salvar Obra no Acervo"})]})]})}),P&&z&&a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-indigo-950/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-lg shadow-2xl border border-white/20 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-8 bg-indigo-50 border-b border-indigo-100 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-indigo-600 text-white rounded-2xl shadow-lg",children:a.jsx(ux,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase",children:"Check-out"}),a.jsx("p",{className:"text-[9px] text-indigo-400 font-black uppercase mt-1",children:"Registrar Emprstimo"})]})]}),a.jsx("button",{onClick:()=>U(!1),className:"p-2 text-gray-300 hover:text-red-500 transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsxs("form",{onSubmit:Q,className:"p-10 space-y-6",children:[a.jsxs("div",{className:"bg-gray-900 p-6 rounded-[2rem] text-white relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:a.jsx(ia,{size:64})}),a.jsx("p",{className:"text-[8px] font-black text-indigo-400 uppercase tracking-widest",children:"Obra"}),a.jsx("h4",{className:"text-lg font-black uppercase leading-tight",children:z.title})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Localizar Leitor Cadastrado"}),a.jsxs("select",{required:!0,value:Y.readerId,onChange:re=>se({...Y,readerId:re.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none uppercase",children:[a.jsx("option",{value:"",children:"Selecione o leitor..."}),i.map(re=>a.jsxs("option",{value:re.id,children:[re.name," (",re.class,")"]},re.id))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Data de Devoluo"}),a.jsx("input",{required:!0,type:"date",value:Y.dueDate,onChange:re=>se({...Y,dueDate:re.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none"})]}),a.jsx("button",{type:"submit",className:"w-full py-5 bg-indigo-600 text-white rounded-[2rem] font-black uppercase text-xs tracking-widest shadow-xl",children:"Confirmar Emprstimo"})]})]})})]})},tx=["Estao 01","Estao 02","Estao 03","Estao 04"],H8=["MATUTINO","VESPERTINO"],Oke=["1","2","3","4","5"],Dke=()=>{const[t,e]=R.useState("status"),[r,n]=R.useState(new Date().toISOString().split("T")[0]),[s,i]=R.useState([]),[o,l]=R.useState([]),[d,u]=R.useState(!1),[h,p]=R.useState({stationId:tx[0],shift:"MATUTINO",classes:[],teacherName:"",className:"",subject:"",observations:""}),x=async()=>{try{const{data:y,error:j}=await ae.from("bookings").select("*").eq("resource_type","CHROMEBOOKS").order("created_at",{ascending:!1});if(j)throw j;y&&i(y.map(T=>({id:T.id,date:T.date,shift:T.shift,classes:T.classes||[],teacherName:T.teacher_name,className:T.class_name,stationId:T.resource_id,subject:T.title||"",observations:T.description||"",timestamp:new Date(T.created_at).getTime()})))}catch(y){console.error("Erro ao buscar agendamentos de Chromebooks:",y)}};R.useEffect(()=>{(()=>{const T=localStorage.getItem("secretariat_staff_v4");if(T){const _=JSON.parse(T);l(_.filter(O=>O.status==="EM_ATIVIDADE"))}else l([{id:"f1",name:"PROF. CRISTIANO",role:"PROFESSOR"},{id:"f2",name:"PROF. ANDR",role:"PROFESSOR"},{id:"f3",name:"PROF. MARIA",role:"PROFESSOR"}])})(),x();const j=ae.channel("chromebook_bookings").on("postgres_changes",{event:"*",schema:"public",table:"bookings",filter:"resource_type=eq.CHROMEBOOKS"},x).subscribe();return()=>{j.unsubscribe()}},[]);const v=R.useMemo(()=>s.filter(y=>y.date===r),[s,r]),b=async y=>{if(y.preventDefault(),h.classes.length===0)return alert("Por favor, selecione ao menos uma aula (1 a 5).");if(!h.teacherName||!h.className||!h.subject)return alert("Preencha todos os campos obrigatrios.");const j=s.find(T=>T.date===r&&T.stationId===h.stationId&&T.shift===h.shift&&T.classes.some(_=>h.classes.includes(_)));if(j)return alert(`ERRO: Conflito de horrio! A ${h.stationId} j possui reserva para as aulas (${j.classes.join(", ")}) no turno ${h.shift} por ${j.teacherName}.`);try{const{error:T}=await ae.from("bookings").insert([{resource_type:"CHROMEBOOKS",date:r,shift:h.shift,classes:h.classes,teacher_name:h.teacherName,class_name:h.className,resource_id:h.stationId,title:h.subject,description:h.observations}]);if(T)throw T;u(!1),p({...h,classes:[],teacherName:"",className:"",subject:"",observations:""}),alert("Agendamento realizado com sucesso!")}catch(T){console.error("Erro ao agendar Chromebooks:",T),alert("Erro ao realizar agendamento.")}},w=y=>{p(j=>({...j,classes:j.classes.includes(y)?j.classes.filter(T=>T!==y):[...j.classes,y].sort()}))},g=async y=>{if(window.confirm("Deseja cancelar este agendamento permanentemente?"))try{const{error:j}=await ae.from("bookings").delete().eq("id",y);if(j)throw j}catch(j){console.error("Erro ao cancelar agendamento:",j),alert("Erro ao cancelar agendamento.")}},S=()=>a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-fuchsia-50 text-fuchsia-600 rounded-3xl",children:a.jsx(Nn,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Ocupao das Estaes"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Status para o dia selecionado"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"date",value:r,onChange:y=>n(y.target.value),className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm outline-none focus:ring-4 focus:ring-fuchsia-500/10 transition-all"}),a.jsxs("button",{onClick:()=>{p({...h,stationId:tx[0],classes:[],teacherName:"",className:"",subject:""}),u(!0)},className:"px-8 py-4 bg-fuchsia-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-fuchsia-600/20 hover:bg-fuchsia-700 active:scale-95 transition-all flex items-center gap-2",children:[a.jsx(ot,{size:18})," Novo Agendamento"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:tx.map(y=>a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col gap-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-900 text-white rounded-2xl flex items-center justify-center",children:a.jsx(eu,{size:24})}),a.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:y})]}),a.jsx("div",{className:"space-y-3",children:H8.map(j=>{const T=v.filter(_=>_.stationId===y&&_.shift===j);return a.jsxs("div",{className:`p-4 rounded-2xl border ${T.length>0?"bg-fuchsia-50 border-fuchsia-100":"bg-gray-50 border-transparent"} transition-all`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest ${T.length>0?"text-fuchsia-600":"text-gray-400"}`,children:j}),T.length>0?a.jsx(Nt,{size:12,className:"text-fuchsia-500"}):a.jsx(rr,{size:12,className:"text-gray-300"})]}),T.length>0?a.jsx("div",{className:"mt-2 space-y-2",children:T.map(_=>a.jsxs("div",{className:"border-t border-fuchsia-200/50 pt-2 first:border-t-0 first:pt-0",children:[a.jsx("p",{className:"text-[11px] font-black text-gray-900 uppercase truncate",children:_.teacherName}),a.jsxs("p",{className:"text-[9px] text-fuchsia-500 font-bold uppercase mt-0.5",children:[_.className,"  ",_.classes.join(", ")," aula"]})]},_.id))}):a.jsx("p",{className:"text-[10px] font-bold text-gray-300 uppercase italic mt-1",children:"Disponvel"})]},j)})})]},y))}),a.jsxs("button",{onClick:()=>e("history"),className:"w-full py-4 bg-gray-100 rounded-3xl border border-gray-200 text-gray-400 font-black uppercase text-[10px] tracking-[0.3em] hover:bg-gray-200 transition-all flex items-center justify-center gap-3",children:[a.jsx(_t,{size:16})," Ver Log de Uso Permanente"]})]}),k=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("button",{onClick:()=>e("status"),className:"flex items-center gap-2 text-fuchsia-700 font-black uppercase text-xs tracking-widest hover:text-fuchsia-800 transition-colors group mb-4",children:[a.jsx(cr,{size:18,className:"group-hover:-translate-x-1 transition-transform"})," Voltar ao Painel"]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-gray-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-8 border-b border-gray-50 flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Log de Agendamentos (Chromebooks)"}),a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-fuchsia-50 text-fuchsia-600 rounded-xl border border-fuchsia-100",children:[a.jsx(ft,{size:16}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Base de Dados Auditada"})]})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-gray-400",children:[a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Data / Turno"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Estao / Aulas"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Professor / Turma"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Atividade"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest text-right",children:"Ao"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50 text-sm",children:s.sort((y,j)=>new Date(j.date).getTime()-new Date(y.date).getTime()).map(y=>a.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-gray-900",children:new Date(y.date).toLocaleDateString("pt-BR")}),a.jsx("p",{className:"text-[9px] text-fuchsia-600 font-bold uppercase tracking-widest",children:y.shift})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("span",{className:"bg-gray-900 text-white px-3 py-1 rounded-lg text-[10px] font-black uppercase w-fit",children:y.stationId}),a.jsxs("p",{className:"text-[9px] font-black text-gray-400 uppercase",children:["Aulas: ",y.classes.join(", ")]})]})}),a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-gray-800 uppercase",children:y.teacherName}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:y.className})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsx("p",{className:"font-bold text-gray-600 uppercase italic line-clamp-1",children:y.subject})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsx("button",{onClick:()=>g(y.id),className:"p-3 text-gray-300 hover:text-red-500 transition-colors",children:a.jsx(Lt,{size:18})})})]},y.id))})]}),s.length===0&&a.jsxs("div",{className:"py-24 text-center",children:[a.jsx(_t,{size:48,className:"mx-auto mb-4 text-gray-200"}),a.jsx("p",{className:"text-gray-300 font-black uppercase text-xs tracking-widest",children:"Sem registros no banco de dados"})]})]})]})]});return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"max-w-7xl mx-auto",children:t==="status"?S():k()}),d&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-fuchsia-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsx("div",{className:"bg-white rounded-[3.5rem] w-full max-w-2xl shadow-2xl border border-fuchsia-100 overflow-hidden flex flex-col max-h-[90vh]",children:a.jsxs("form",{onSubmit:b,className:"flex flex-col h-full overflow-hidden",children:[a.jsxs("div",{className:"px-10 pt-10 pb-6 flex justify-between items-center border-b border-gray-50 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-fuchsia-600 text-white rounded-3xl shadow-xl shadow-fuchsia-600/20",children:a.jsx(ot,{size:28,strokeWidth:3})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Reservar Estao"}),a.jsxs("p",{className:"text-[10px] text-fuchsia-400 font-bold uppercase tracking-widest mt-1",children:["Data: ",new Date(r).toLocaleDateString("pt-BR")]})]})]}),a.jsx("button",{type:"button",onClick:()=>u(!1),className:"p-3 bg-gray-50 text-gray-400 hover:text-red-500 rounded-2xl transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsxs("div",{className:"px-10 py-8 space-y-6 overflow-y-auto custom-scrollbar flex-1",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Estao de Trabalho"}),a.jsx("select",{required:!0,value:h.stationId,onChange:y=>p({...h,stationId:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm uppercase outline-none focus:bg-white focus:ring-4 focus:ring-fuchsia-500/5 transition-all",children:tx.map(y=>a.jsx("option",{value:y,children:y},y))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turno de Uso"}),a.jsx("select",{required:!0,value:h.shift,onChange:y=>p({...h,shift:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm uppercase outline-none focus:bg-white focus:ring-4 focus:ring-fuchsia-500/5 transition-all",children:H8.map(y=>a.jsx("option",{value:y,children:y},y))})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 flex items-center gap-2",children:[a.jsx(Cu,{size:14,className:"text-fuchsia-600"})," Aulas que ir utilizar"]}),a.jsx("div",{className:"flex gap-2",children:Oke.map(y=>a.jsx("button",{type:"button",onClick:()=>w(y),className:`flex-1 py-3 rounded-xl text-xs font-black transition-all border-2 ${h.classes.includes(y)?"bg-fuchsia-600 border-fuchsia-700 text-white shadow-lg":"bg-gray-50 border-gray-100 text-gray-400 hover:border-fuchsia-200"}`,children:y},y))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Professor(a) Responsvel"}),a.jsxs("select",{required:!0,value:h.teacherName,onChange:y=>p({...h,teacherName:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all uppercase",children:[a.jsx("option",{value:"",children:"Selecione o professor..."}),o.map(y=>a.jsx("option",{value:y.name,children:y.name},y.id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turma"}),a.jsxs("select",{required:!0,value:h.className,onChange:y=>p({...h,className:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all uppercase",children:[a.jsx("option",{value:"",children:"Selecione..."}),cl.map(y=>a.jsx("option",{value:y,children:y},y))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Disciplina / Atividade"}),a.jsxs("select",{required:!0,value:h.subject,onChange:y=>p({...h,subject:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all uppercase",children:[a.jsx("option",{value:"",children:"Selecione..."}),UF.map(y=>a.jsx("option",{value:y,children:y},y))]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Observaes Tcnicas"}),a.jsx("textarea",{value:h.observations,onChange:y=>p({...h,observations:y.target.value}),placeholder:"Relate se algum Chromebook est com problema...",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-medium text-sm outline-none focus:bg-white transition-all h-20 resize-none"})]})]}),a.jsxs("div",{className:"p-8 bg-gray-50 border-t border-gray-100 shrink-0 flex gap-4",children:[a.jsxs("button",{type:"submit",className:"flex-1 py-5 bg-fuchsia-600 text-white rounded-3xl font-black uppercase text-sm tracking-[0.2em] shadow-2xl shadow-fuchsia-600/20 hover:bg-fuchsia-700 active:scale-95 transition-all flex items-center justify-center gap-3",children:[a.jsx(qr,{size:20})," Confirmar Agendamento"]}),a.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-10 py-5 bg-white border border-gray-200 text-gray-500 rounded-3xl font-black uppercase text-xs tracking-widest hover:bg-gray-200 transition-all",children:"Cancelar"})]})]})})})]})},K8=["MATUTINO","VESPERTINO"],Ike=["1","2","3","4","5"],Rke=()=>{const[t,e]=R.useState("status"),[r,n]=R.useState(new Date().toISOString().split("T")[0]),[s,i]=R.useState([]),[o,l]=R.useState([]),[d,u]=R.useState(!1),[h,p]=R.useState({shift:"MATUTINO",classes:[],teacherName:"",className:"",experimentName:"",needsTechnician:!1,observations:""}),x=async()=>{try{const{data:y,error:j}=await ae.from("bookings").select("*").eq("resource_type","SCIENCE_LAB").order("created_at",{ascending:!1});if(j)throw j;y&&i(y.map(T=>({id:T.id,date:T.date,shift:T.shift,classes:T.classes||[],teacherName:T.teacher_name,className:T.class_name,experimentName:T.title||"",needsTechnician:T.needs_technician,observations:T.description||"",timestamp:new Date(T.created_at).getTime()})))}catch(y){console.error("Erro ao buscar agendamentos do laboratrio:",y)}};R.useEffect(()=>{(()=>{const T=localStorage.getItem("secretariat_staff_v4");if(T){const _=JSON.parse(T);l(_.filter(O=>O.status==="EM_ATIVIDADE"))}else l([{id:"f1",name:"PROF. CRISTIANO",role:"PROFESSOR"},{id:"f2",name:"PROF. ANDR",role:"PROFESSOR"}])})(),x();const j=ae.channel("science_lab_bookings").on("postgres_changes",{event:"*",schema:"public",table:"bookings",filter:"resource_type=eq.SCIENCE_LAB"},x).subscribe();return()=>{j.unsubscribe()}},[]);const v=R.useMemo(()=>s.filter(y=>y.date===r),[s,r]),b=async y=>{if(y.preventDefault(),h.classes.length===0)return alert("Por favor, selecione ao menos uma aula (1 a 5).");if(!h.teacherName||!h.className)return alert("Preencha todos os campos obrigatrios.");const j=s.find(T=>T.date===r&&T.shift===h.shift&&T.classes.some(_=>h.classes.includes(_)));if(j)return alert(`ERRO: Conflito de horrio! O Laboratrio de Cincias j possui reserva para as aulas (${j.classes.join(", ")}) no turno ${h.shift} por ${j.teacherName}.`);try{const{error:T}=await ae.from("bookings").insert([{resource_type:"SCIENCE_LAB",date:r,shift:h.shift,classes:h.classes,teacher_name:h.teacherName,class_name:h.className,title:h.experimentName,description:h.observations,needs_technician:h.needsTechnician}]);if(T)throw T;u(!1),p({...h,classes:[],teacherName:"",className:"",experimentName:"",needsTechnician:!1,observations:""}),alert("Agendamento realizado com sucesso!")}catch(T){console.error("Erro ao agendar laboratrio:",T),alert("Erro ao realizar agendamento.")}},w=y=>{p(j=>({...j,classes:j.classes.includes(y)?j.classes.filter(T=>T!==y):[...j.classes,y].sort()}))},g=async y=>{if(window.confirm("Deseja cancelar este agendamento do laboratrio?"))try{const{error:j}=await ae.from("bookings").delete().eq("id",y);if(j)throw j}catch(j){console.error("Erro ao cancelar agendamento:",j),alert("Erro ao cancelar agendamento.")}},S=()=>a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-emerald-50 text-emerald-600 rounded-3xl",children:a.jsx(pL,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Agenda: Laboratrio de Cincias"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Clique para selecionar o dia de visualizao"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"date",value:r,onChange:y=>n(y.target.value),className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm outline-none focus:ring-4 focus:ring-emerald-500/10 transition-all"}),a.jsxs("button",{onClick:()=>u(!0),className:"px-8 py-4 bg-emerald-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-emerald-600/20 hover:bg-emerald-700 active:scale-95 transition-all flex items-center gap-2",children:[a.jsx(ot,{size:18})," Novo Agendamento"]})]})]}),a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-gray-100 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8 border-b border-gray-50 pb-6",children:[a.jsx(Nn,{className:"text-emerald-500"}),a.jsxs("h4",{className:"text-lg font-black text-gray-900 uppercase tracking-tight",children:["Ocupao do Dia: ",new Date(r).toLocaleDateString("pt-BR")]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:K8.map(y=>{const j=v.filter(T=>T.shift===y);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:y}),a.jsxs("span",{className:"text-[9px] font-bold text-emerald-600 uppercase bg-emerald-50 px-2 py-0.5 rounded-lg",children:[j.length," Reservas"]})]}),a.jsx("div",{className:"space-y-3",children:j.length>0?j.map(T=>a.jsxs("div",{className:"p-5 rounded-[2rem] bg-emerald-50 border border-emerald-100 relative group overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:a.jsx(NG,{size:60})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("span",{className:"text-[9px] font-black bg-emerald-600 text-white px-2 py-0.5 rounded-lg uppercase",children:["Aulas: ",T.classes.join(", ")]}),T.needsTechnician&&a.jsxs("span",{className:"text-[8px] font-black text-amber-600 uppercase flex items-center gap-1",children:[a.jsx(oc,{size:10})," C/ Tcnico"]})]}),a.jsx("p",{className:"text-xs font-black text-gray-900 uppercase leading-tight mb-1",children:T.teacherName}),a.jsx("p",{className:"text-[10px] text-emerald-700 font-bold uppercase",children:T.className}),a.jsxs("div",{className:"mt-4 pt-3 border-t border-emerald-200/50",children:[a.jsx("p",{className:"text-[9px] text-gray-400 font-black uppercase mb-1",children:"Prtica:"}),a.jsxs("p",{className:"text-[10px] text-gray-700 font-bold uppercase italic line-clamp-2",children:['"',T.experimentName,'"']})]})]})]},T.id)):a.jsxs("div",{className:"py-12 border-2 border-dashed border-gray-100 rounded-[2rem] flex flex-col items-center justify-center text-gray-300",children:[a.jsx(rr,{size:24,className:"mb-2 opacity-20"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Disponvel"})]})})]},y)})})]}),a.jsxs("button",{onClick:()=>e("history"),className:"w-full py-4 bg-gray-100 rounded-3xl border border-gray-200 text-gray-400 font-black uppercase text-[10px] tracking-[0.3em] hover:bg-gray-200 transition-all flex items-center justify-center gap-3",children:[a.jsx(_t,{size:16})," Ver Histrico de Experimentos"]})]}),k=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("button",{onClick:()=>e("status"),className:"flex items-center gap-2 text-emerald-700 font-black uppercase text-xs tracking-widest hover:text-emerald-800 transition-colors group mb-4",children:[a.jsx(cr,{size:18,className:"group-hover:-translate-x-1 transition-transform"})," Voltar  Agenda"]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-gray-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-8 border-b border-gray-50 flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Registro Histrico do Laboratrio"}),a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl border border-emerald-100",children:[a.jsx(ft,{size:16}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Base de Dados Auditada"})]})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-gray-400",children:[a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Data / Turno"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Professor / Turma"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Experimento / Prtica"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest text-center",children:"Tcnico"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest text-right",children:"Ao"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50 text-sm",children:s.sort((y,j)=>new Date(j.date).getTime()-new Date(y.date).getTime()).map(y=>a.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-gray-900",children:new Date(y.date).toLocaleDateString("pt-BR")}),a.jsxs("p",{className:"text-[9px] text-emerald-600 font-bold uppercase tracking-widest",children:[y.shift,"  Aulas: ",y.classes.join(", ")]})]}),a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-gray-800 uppercase",children:y.teacherName}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:y.className})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsx("p",{className:"font-bold text-gray-600 uppercase italic line-clamp-1",children:y.experimentName})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase ${y.needsTechnician?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-400"}`,children:y.needsTechnician?"SIM":"NO"})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsx("button",{onClick:()=>g(y.id),className:"p-3 text-gray-300 hover:text-red-500 transition-colors",children:a.jsx(Lt,{size:18})})})]},y.id))})]}),s.length===0&&a.jsxs("div",{className:"py-24 text-center",children:[a.jsx(_t,{size:48,className:"mx-auto mb-4 text-gray-200"}),a.jsx("p",{className:"text-gray-300 font-black uppercase text-xs tracking-widest",children:"Sem registros no banco de dados"})]})]})]})]});return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"max-w-7xl mx-auto",children:t==="status"?S():k()}),d&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-emerald-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsx("div",{className:"bg-white rounded-[3.5rem] w-full max-w-2xl shadow-2xl border border-emerald-100 overflow-hidden flex flex-col max-h-[90vh]",children:a.jsxs("form",{onSubmit:b,className:"flex flex-col h-full overflow-hidden",children:[a.jsxs("div",{className:"px-10 pt-10 pb-6 flex justify-between items-center shrink-0 border-b border-gray-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-emerald-600 text-white rounded-3xl shadow-xl shadow-emerald-600/20",children:a.jsx(ot,{size:28,strokeWidth:3})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Reservar Laboratrio"}),a.jsxs("p",{className:"text-[10px] text-emerald-400 font-bold uppercase tracking-widest mt-1",children:["Data: ",new Date(r).toLocaleDateString("pt-BR")]})]})]}),a.jsx("button",{type:"button",onClick:()=>u(!1),className:"p-3 bg-gray-50 text-gray-400 hover:text-red-500 rounded-2xl transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsxs("div",{className:"px-10 py-8 space-y-6 overflow-y-auto custom-scrollbar flex-1",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turno de Uso"}),a.jsx("select",{required:!0,value:h.shift,onChange:y=>p({...h,shift:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm uppercase outline-none focus:bg-white focus:ring-4 focus:ring-emerald-500/5 transition-all",children:K8.map(y=>a.jsx("option",{value:y,children:y},y))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 flex items-center gap-2",children:[a.jsx(Cu,{size:14,className:"text-emerald-600"})," Aulas Reservadas"]}),a.jsx("div",{className:"flex gap-2",children:Ike.map(y=>a.jsx("button",{type:"button",onClick:()=>w(y),className:`flex-1 py-3 rounded-xl text-xs font-black transition-all border-2 ${h.classes.includes(y)?"bg-emerald-600 border-emerald-700 text-white shadow-lg":"bg-gray-50 border-gray-100 text-gray-400 hover:border-emerald-200"}`,children:y},y))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Professor(a) Responsvel"}),a.jsxs("select",{required:!0,value:h.teacherName,onChange:y=>p({...h,teacherName:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all uppercase",children:[a.jsx("option",{value:"",children:"Selecione o professor..."}),o.map(y=>a.jsx("option",{value:y.name,children:y.name},y.id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turma"}),a.jsxs("select",{required:!0,value:h.className,onChange:y=>p({...h,className:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all uppercase",children:[a.jsx("option",{value:"",children:"Selecione a turma..."}),cl.map(y=>a.jsx("option",{value:y,children:y},y))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Experimento / Prtica"}),a.jsx("input",{required:!0,type:"text",placeholder:"EX: EXTRAO DE DNA",value:h.experimentName,onChange:y=>p({...h,experimentName:y.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-emerald-50 rounded-2xl border border-emerald-100",children:[a.jsx("input",{type:"checkbox",id:"needsTechnician",checked:h.needsTechnician,onChange:y=>p({...h,needsTechnician:y.target.checked}),className:"w-5 h-5 rounded border-emerald-300 text-emerald-600 focus:ring-emerald-500"}),a.jsx("label",{htmlFor:"needsTechnician",className:"text-xs font-black text-emerald-800 uppercase tracking-widest cursor-pointer select-none",children:"Solicitar auxlio do Tcnico de Laboratrio"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Materiais Necessrios / Observaes"}),a.jsx("textarea",{value:h.observations,onChange:y=>p({...h,observations:y.target.value}),placeholder:"Descreva reagentes ou vidrarias especiais...",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-medium text-sm outline-none focus:bg-white transition-all h-20 resize-none"})]})]}),a.jsxs("div",{className:"p-8 bg-gray-50 border-t border-gray-100 shrink-0 flex gap-4",children:[a.jsxs("button",{type:"submit",className:"flex-1 py-5 bg-emerald-600 text-white rounded-3xl font-black uppercase text-sm tracking-[0.2em] shadow-2xl hover:bg-emerald-700 active:scale-95 transition-all flex items-center justify-center gap-2",children:[a.jsx(qr,{size:20})," Salvar Reserva"]}),a.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-10 py-5 bg-white border border-gray-200 text-gray-500 rounded-3xl font-black uppercase text-xs tracking-widest hover:bg-gray-200 transition-all",children:"Cancelar"})]})]})})})]})},Y8=["MATUTINO","VESPERTINO"],Mke=["1","2","3","4","5"],Pke=()=>{const[t,e]=R.useState("status"),[r,n]=R.useState(new Date().toISOString().split("T")[0]),[s,i]=R.useState([]),[o,l]=R.useState([]),[d,u]=R.useState(!1),[h,p]=R.useState({shift:"MATUTINO",classes:[],teacherName:"",className:"",projectName:"",ingredientsRequested:"",observations:""}),x=async()=>{try{const{data:y,error:j}=await ae.from("bookings").select("*").eq("resource_type","PEDAGOGICAL_KITCHEN").order("created_at",{ascending:!1});if(j)throw j;y&&i(y.map(T=>({id:T.id,date:T.date,shift:T.shift,classes:T.classes||[],teacherName:T.teacher_name,className:T.class_name,projectName:T.title||"",ingredientsRequested:T.description||"",observations:"",timestamp:new Date(T.created_at).getTime()})))}catch(y){console.error("Erro ao buscar agendamentos da Cozinha:",y)}};R.useEffect(()=>{(()=>{const T=localStorage.getItem("secretariat_staff_v4");if(T){const _=JSON.parse(T);l(_.filter(O=>O.status==="EM_ATIVIDADE"))}else l([{id:"f1",name:"PROF. CRISTIANO",role:"PROFESSOR"},{id:"f2",name:"PROF. ANDR",role:"PROFESSOR"}])})(),x();const j=ae.channel("pedagogical_kitchen_bookings").on("postgres_changes",{event:"*",schema:"public",table:"bookings",filter:"resource_type=eq.PEDAGOGICAL_KITCHEN"},x).subscribe();return()=>{j.unsubscribe()}},[]);const v=R.useMemo(()=>s.filter(y=>y.date===r),[s,r]),b=async y=>{if(y.preventDefault(),h.classes.length===0)return alert("Por favor, selecione ao menos uma aula.");if(!h.teacherName||!h.className)return alert("Preencha todos os campos obrigatrios.");const j=s.find(T=>T.date===r&&T.shift===h.shift&&T.classes.some(_=>h.classes.includes(_)));if(j)return alert(`ERRO: Conflito de horrio! A Cozinha Pedaggica j est reservada para as aulas (${j.classes.join(", ")}) no turno ${h.shift} por ${j.teacherName}.`);try{const{error:T}=await ae.from("bookings").insert([{resource_type:"PEDAGOGICAL_KITCHEN",date:r,shift:h.shift,classes:h.classes,teacher_name:h.teacherName,class_name:h.className,title:h.projectName,description:h.ingredientsRequested}]);if(T)throw T;u(!1),p({...h,classes:[],teacherName:"",className:"",projectName:"",ingredientsRequested:"",observations:""}),alert("Agendamento realizado com sucesso!")}catch(T){console.error("Erro ao agendar Cozinha:",T),alert("Erro ao realizar agendamento.")}},w=y=>{p(j=>({...j,classes:j.classes.includes(y)?j.classes.filter(T=>T!==y):[...j.classes,y].sort()}))},g=async y=>{if(window.confirm("Deseja cancelar esta reserva da Cozinha Pedaggica?"))try{const{error:j}=await ae.from("bookings").delete().eq("id",y);if(j)throw j}catch(j){console.error("Erro ao cancelar agendamento:",j),alert("Erro ao cancelar agendamento.")}},S=()=>a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-3xl",children:a.jsx(OL,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Cozinha Pedaggica"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Gesto de uso para Projetos de Aprendizagem"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"date",value:r,onChange:y=>n(y.target.value),className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm outline-none focus:ring-4 focus:ring-orange-500/10 transition-all"}),a.jsxs("button",{onClick:()=>u(!0),className:"px-8 py-4 bg-orange-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-700 active:scale-95 transition-all flex items-center gap-2",children:[a.jsx(ot,{size:18})," Agendar Aula Prtica"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:Y8.map(y=>{const j=v.filter(T=>T.shift===y);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between px-4",children:[a.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.3em]",children:y}),j.length>0&&a.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"})]}),a.jsx("div",{className:"space-y-4",children:j.length>0?j.map(T=>a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-gray-100 shadow-sm hover:border-orange-200 transition-all relative overflow-hidden group",children:[a.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 transition-opacity",children:a.jsx(v$,{size:80,className:"text-orange-900"})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("span",{className:"text-[8px] font-black bg-orange-100 text-orange-700 px-2 py-1 rounded-lg uppercase",children:["Aulas: ",T.classes.join(", ")]}),a.jsx(Nt,{size:16,className:"text-orange-500"})]}),a.jsx("p",{className:"text-xs font-black text-gray-900 uppercase leading-tight mb-1",children:T.teacherName}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mb-4",children:T.className}),a.jsxs("div",{className:"bg-orange-50 p-4 rounded-2xl border border-orange-100/50",children:[a.jsx("p",{className:"text-[8px] font-black text-orange-600 uppercase tracking-widest mb-1.5",children:"Projeto/Receita:"}),a.jsxs("p",{className:"text-[11px] font-bold text-orange-900 uppercase italic",children:['"',T.projectName,'"']})]})]})]},T.id)):a.jsxs("div",{className:"py-16 border-2 border-dashed border-gray-100 rounded-[2.5rem] flex flex-col items-center justify-center text-gray-300",children:[a.jsx(rr,{size:28,className:"mb-3 opacity-20"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Horrio Livre"})]})})]},y)})}),a.jsxs("button",{onClick:()=>e("history"),className:"w-full py-4 bg-gray-100 rounded-3xl border border-gray-200 text-gray-400 font-black uppercase text-[10px] tracking-[0.3em] hover:bg-gray-200 transition-all flex items-center justify-center gap-3",children:[a.jsx(_t,{size:16})," Relatrio de Atividades Cozinha"]})]}),k=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("button",{onClick:()=>e("status"),className:"flex items-center gap-2 text-orange-700 font-black uppercase text-xs tracking-widest hover:text-orange-800 transition-colors group mb-4",children:[a.jsx(cr,{size:18,className:"group-hover:-translate-x-1 transition-transform"})," Voltar ao Calendrio"]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-gray-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-8 border-b border-gray-50 flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Histrico de Uso (Cozinha Pedaggica)"}),a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-orange-50 text-orange-600 rounded-xl border border-orange-100",children:[a.jsx(ft,{size:16}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Registro SEDUC"})]})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-gray-400",children:[a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Data / Turno"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Professor / Turma"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Projeto"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Insumos Merenda"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest text-right",children:"Ao"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50 text-sm",children:s.sort((y,j)=>new Date(j.date).getTime()-new Date(y.date).getTime()).map(y=>a.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-gray-900",children:new Date(y.date).toLocaleDateString("pt-BR")}),a.jsxs("p",{className:"text-[9px] text-orange-600 font-bold uppercase tracking-widest",children:[y.shift,"  ",y.classes.join(", ")," aulas"]})]}),a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-gray-800 uppercase",children:y.teacherName}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:y.className})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsx("p",{className:"font-bold text-gray-600 uppercase italic line-clamp-1",children:y.projectName})}),a.jsx("td",{className:"px-8 py-6",children:a.jsx("p",{className:"text-[10px] text-gray-400 font-medium truncate max-w-[200px]",children:y.ingredientsRequested||"Nenhum"})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsx("button",{onClick:()=>g(y.id),className:"p-3 text-gray-300 hover:text-red-500 transition-colors",children:a.jsx(Lt,{size:18})})})]},y.id))})]}),s.length===0&&a.jsxs("div",{className:"py-24 text-center",children:[a.jsx(_t,{size:48,className:"mx-auto mb-4 text-gray-200"}),a.jsx("p",{className:"text-gray-300 font-black uppercase text-xs tracking-widest",children:"Sem registros no sistema"})]})]})]})]});return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"max-w-7xl mx-auto",children:t==="status"?S():k()}),d&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-orange-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsx("div",{className:"bg-white rounded-[3.5rem] w-full max-w-2xl shadow-2xl border border-orange-100 overflow-hidden flex flex-col h-full max-h-[90vh]",children:a.jsxs("form",{onSubmit:b,className:"flex flex-col h-full",children:[a.jsxs("div",{className:"px-10 pt-10 pb-6 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-orange-600 text-white rounded-3xl shadow-xl shadow-orange-600/20",children:a.jsx(ot,{size:28,strokeWidth:3})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Reserva de Cozinha"}),a.jsxs("p",{className:"text-[10px] text-orange-400 font-bold uppercase tracking-widest mt-1",children:["Agenda Pedaggica: ",new Date(r).toLocaleDateString("pt-BR")]})]})]}),a.jsx("button",{type:"button",onClick:()=>u(!1),className:"p-3 bg-gray-50 text-gray-400 hover:text-red-500 rounded-2xl transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsxs("div",{className:"px-10 pb-10 space-y-6 overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turno de Uso"}),a.jsx("select",{required:!0,value:h.shift,onChange:y=>p({...h,shift:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm uppercase outline-none focus:bg-white focus:ring-4 focus:ring-orange-500/5 transition-all",children:Y8.map(y=>a.jsx("option",{value:y,children:y},y))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 flex items-center gap-2",children:[a.jsx(Cu,{size:14,className:"text-orange-600"})," Horrios da Atividade"]}),a.jsx("div",{className:"flex gap-2",children:Mke.map(y=>a.jsx("button",{type:"button",onClick:()=>w(y),className:`flex-1 py-3 rounded-xl text-xs font-black transition-all border-2 ${h.classes.includes(y)?"bg-orange-600 border-orange-700 text-white shadow-lg":"bg-gray-50 border-gray-100 text-gray-400 hover:border-orange-200"}`,children:y},y))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Professor(a) Responsvel"}),a.jsxs("select",{required:!0,value:h.teacherName,onChange:y=>p({...h,teacherName:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all uppercase",children:[a.jsx("option",{value:"",children:"Selecione o docente..."}),o.map(y=>a.jsx("option",{value:y.name,children:y.name},y.id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turma"}),a.jsxs("select",{required:!0,value:h.className,onChange:y=>p({...h,className:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all uppercase",children:[a.jsx("option",{value:"",children:"Selecione a turma..."}),cl.map(y=>a.jsx("option",{value:y,children:y},y))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nome da Receita / Projeto"}),a.jsx("input",{required:!0,type:"text",placeholder:"EX: PO DE QUEIJO CASEIRO",value:h.projectName,onChange:y=>p({...h,projectName:y.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 flex items-center gap-2",children:[a.jsx(pK,{size:14,className:"text-orange-600"})," Itens Solicitados da Merenda (Opcional)"]}),a.jsx("textarea",{value:h.ingredientsRequested,onChange:y=>p({...h,ingredientsRequested:y.target.value}),placeholder:"Ex: 1kg de polvilho, 10 ovos, 200g de queijo...",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-medium text-sm outline-none focus:bg-white transition-all h-20 resize-none"})]}),a.jsxs("div",{className:"pt-2 flex gap-4",children:[a.jsxs("button",{type:"submit",className:"flex-1 py-5 bg-orange-600 text-white rounded-3xl font-black uppercase text-xs tracking-[0.2em] shadow-2xl shadow-orange-600/20 hover:bg-orange-700 active:scale-95 transition-all flex items-center justify-center gap-2",children:[a.jsx(qr,{size:20})," Confirmar Agendamento"]}),a.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-10 py-5 bg-gray-100 text-gray-500 rounded-3xl font-black uppercase text-xs tracking-widest hover:bg-gray-200 transition-all",children:"Cancelar"})]})]})]})})})]})},W8=["MATUTINO","VESPERTINO"],Lke=["1","2","3","4","5"],Uke=["Leitura Livre","Pesquisa Orientada","Contao de Histrias","Exposio","Outros"],Fke=()=>{const[t,e]=R.useState("status"),[r,n]=R.useState(new Date().toISOString().split("T")[0]),[s,i]=R.useState([]),[o,l]=R.useState([]),[d,u]=R.useState(!1),[h,p]=R.useState({shift:"MATUTINO",classes:[],teacherName:"",className:"",activityType:"Leitura Livre",needsMediaProjector:!1,observations:""}),x=async()=>{try{const{data:y,error:j}=await ae.from("bookings").select("*").eq("resource_type","LIBRARY_ROOM").order("created_at",{ascending:!1});if(j)throw j;y&&i(y.map(T=>({id:T.id,date:T.date,shift:T.shift,classes:T.classes||[],teacherName:T.teacher_name,className:T.class_name,activityType:T.type||"Outros",needsMediaProjector:T.needs_projector,observations:T.description||"",timestamp:new Date(T.created_at).getTime()})))}catch(y){console.error("Erro ao buscar agendamentos da Biblioteca:",y)}};R.useEffect(()=>{(()=>{const T=localStorage.getItem("secretariat_staff_v4");if(T){const _=JSON.parse(T);l(_.filter(O=>O.status==="EM_ATIVIDADE"))}else l([{id:"f1",name:"PROF. CRISTIANO",role:"PROFESSOR"},{id:"f2",name:"PROF. ANDR",role:"PROFESSOR"}])})(),x();const j=ae.channel("library_room_bookings").on("postgres_changes",{event:"*",schema:"public",table:"bookings",filter:"resource_type=eq.LIBRARY_ROOM"},x).subscribe();return()=>{j.unsubscribe()}},[]);const v=R.useMemo(()=>s.filter(y=>y.date===r),[s,r]),b=async y=>{if(y.preventDefault(),h.classes.length===0)return alert("Por favor, selecione ao menos uma aula.");if(!h.teacherName||!h.className)return alert("Preencha todos os campos obrigatrios.");const j=s.find(T=>T.date===r&&T.shift===h.shift&&T.classes.some(_=>h.classes.includes(_)));if(j)return alert(`ERRO: Conflito de horrio! A Biblioteca j est reservada para as aulas (${j.classes.join(", ")}) no turno ${h.shift} por ${j.teacherName}.`);try{const{error:T}=await ae.from("bookings").insert([{resource_type:"LIBRARY_ROOM",date:r,shift:h.shift,classes:h.classes,teacher_name:h.teacherName,class_name:h.className,type:h.activityType,needs_projector:h.needsMediaProjector,description:h.observations}]);if(T)throw T;u(!1),p({...h,classes:[],teacherName:"",className:"",activityType:"Leitura Livre",needsMediaProjector:!1,observations:""}),alert("Agendamento realizado com sucesso!")}catch(T){console.error("Erro ao agendar Biblioteca:",T),alert("Erro ao realizar agendamento.")}},w=y=>{p(j=>({...j,classes:j.classes.includes(y)?j.classes.filter(T=>T!==y):[...j.classes,y].sort()}))},g=async y=>{if(window.confirm("Deseja cancelar esta reserva do espao da biblioteca?"))try{const{error:j}=await ae.from("bookings").delete().eq("id",y);if(j)throw j}catch(j){console.error("Erro ao cancelar agendamento:",j),alert("Erro ao cancelar agendamento.")}},S=()=>a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-indigo-50 text-indigo-600 rounded-3xl",children:a.jsx(ia,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Espao Biblioteca"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Agenda para Atividades Coletivas e Aulas"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"date",value:r,onChange:y=>n(y.target.value),className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm outline-none focus:ring-4 focus:ring-indigo-500/10 transition-all"}),a.jsxs("button",{onClick:()=>u(!0),className:"px-8 py-4 bg-indigo-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-indigo-600/20 hover:bg-indigo-700 active:scale-95 transition-all flex items-center gap-2",children:[a.jsx(ot,{size:18})," Reservar Espao"]})]})]}),a.jsxs("div",{className:"bg-white rounded-[3rem] border border-gray-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-8 border-b border-gray-50 bg-indigo-50/30 flex items-center gap-3",children:[a.jsx(Gg,{className:"text-indigo-600"}),a.jsxs("h4",{className:"text-lg font-black text-gray-900 uppercase tracking-tight",children:["Ocupao do Dia: ",new Date(r).toLocaleDateString("pt-BR")]})]}),a.jsx("div",{className:"p-8 grid grid-cols-1 md:grid-cols-2 gap-8",children:W8.map(y=>{const j=v.filter(T=>T.shift===y);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:y}),a.jsxs("span",{className:"text-[9px] font-bold text-indigo-600 uppercase bg-indigo-50 px-2 py-0.5 rounded-lg",children:[j.length," Atividade(s)"]})]}),a.jsx("div",{className:"space-y-4",children:j.length>0?j.map(T=>a.jsxs("div",{className:"p-6 rounded-[2.5rem] bg-gray-50 border border-gray-100 hover:border-indigo-200 hover:bg-white transition-all relative group shadow-sm",children:[a.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 transition-opacity",children:a.jsx(ia,{size:60,className:"text-indigo-900"})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("span",{className:"text-[8px] font-black bg-indigo-600 text-white px-2 py-1 rounded-lg uppercase",children:["Aulas: ",T.classes.join(", ")]}),T.needsMediaProjector&&a.jsx(NH,{size:14,className:"text-indigo-500"})]}),a.jsx("p",{className:"text-xs font-black text-gray-900 uppercase leading-tight mb-1",children:T.teacherName}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mb-4",children:T.className}),a.jsxs("div",{className:"flex items-center gap-2 text-[9px] font-black text-indigo-600 uppercase tracking-widest bg-indigo-50 w-fit px-3 py-1.5 rounded-full border border-indigo-100",children:[a.jsx(Mr,{size:10})," ",T.activityType]})]})]},T.id)):a.jsxs("div",{className:"py-20 border-2 border-dashed border-gray-100 rounded-[2.5rem] flex flex-col items-center justify-center text-gray-300",children:[a.jsx(rr,{size:32,className:"mb-3 opacity-20"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Livre para Leitura"})]})})]},y)})})]}),a.jsxs("button",{onClick:()=>e("history"),className:"w-full py-4 bg-gray-100 rounded-3xl border border-gray-200 text-gray-400 font-black uppercase text-[10px] tracking-[0.3em] hover:bg-gray-200 transition-all flex items-center justify-center gap-3",children:[a.jsx(_t,{size:16})," Relatrio Permanente de Uso da Biblioteca"]})]}),k=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("button",{onClick:()=>e("status"),className:"flex items-center gap-2 text-indigo-700 font-black uppercase text-xs tracking-widest hover:text-indigo-800 transition-colors group mb-4",children:[a.jsx(cr,{size:18,className:"group-hover:-translate-x-1 transition-transform"})," Voltar  Agenda"]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-gray-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-8 border-b border-gray-50 flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Histrico de Uso do Espao Biblioteca"}),a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 text-indigo-600 rounded-xl border border-indigo-100",children:[a.jsx(ft,{size:16}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Sincronizado com Mdulo Acervo"})]})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-gray-400",children:[a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Data / Turno"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Professor / Turma"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Tipo de Atividade"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest text-center",children:"Multimdia"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest text-right",children:"Ao"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50 text-sm",children:s.sort((y,j)=>new Date(j.date).getTime()-new Date(y.date).getTime()).map(y=>a.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-gray-900",children:new Date(y.date).toLocaleDateString("pt-BR")}),a.jsxs("p",{className:"text-[9px] text-indigo-600 font-bold uppercase tracking-widest",children:[y.shift,"  Aulas: ",y.classes.join(", ")]})]}),a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-gray-800 uppercase",children:y.teacherName}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:y.className})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsx("p",{className:"font-bold text-gray-600 uppercase italic line-clamp-1",children:y.activityType})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase ${y.needsMediaProjector?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-400"}`,children:y.needsMediaProjector?"SIM":"NO"})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsx("button",{onClick:()=>g(y.id),className:"p-3 text-gray-300 hover:text-red-500 transition-colors",children:a.jsx(Lt,{size:18})})})]},y.id))})]}),s.length===0&&a.jsxs("div",{className:"py-24 text-center",children:[a.jsx(_t,{size:48,className:"mx-auto mb-4 text-gray-200"}),a.jsx("p",{className:"text-gray-300 font-black uppercase text-xs tracking-widest",children:"Sem registros no sistema"})]})]})]})]});return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"max-w-7xl mx-auto",children:t==="status"?S():k()}),d&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-indigo-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsx("div",{className:"bg-white rounded-[3.5rem] w-full max-w-2xl shadow-2xl border border-indigo-100 overflow-hidden flex flex-col h-full max-h-[90vh]",children:a.jsxs("form",{onSubmit:b,className:"flex flex-col h-full",children:[a.jsxs("div",{className:"px-10 pt-10 pb-6 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-indigo-600 text-white rounded-3xl shadow-xl shadow-indigo-600/20",children:a.jsx(ot,{size:28,strokeWidth:3})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Reservar Biblioteca"}),a.jsxs("p",{className:"text-[10px] text-indigo-400 font-bold uppercase tracking-widest mt-1",children:["Espao Coletivo: ",new Date(r).toLocaleDateString("pt-BR")]})]})]}),a.jsx("button",{type:"button",onClick:()=>u(!1),className:"p-3 bg-gray-50 text-gray-400 hover:text-red-500 rounded-2xl transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsxs("div",{className:"px-10 pb-10 space-y-6 overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turno de Uso"}),a.jsx("select",{required:!0,value:h.shift,onChange:y=>p({...h,shift:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm uppercase outline-none focus:bg-white focus:ring-4 focus:ring-indigo-500/5 transition-all",children:W8.map(y=>a.jsx("option",{value:y,children:y},y))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 flex items-center gap-2",children:[a.jsx(Cu,{size:14,className:"text-indigo-600"})," Horrios da Atividade"]}),a.jsx("div",{className:"flex gap-2",children:Lke.map(y=>a.jsx("button",{type:"button",onClick:()=>w(y),className:`flex-1 py-3 rounded-xl text-xs font-black transition-all border-2 ${h.classes.includes(y)?"bg-indigo-600 border-indigo-700 text-white shadow-lg":"bg-gray-50 border-gray-100 text-gray-400 hover:border-indigo-200"}`,children:y},y))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Professor(a) Responsvel"}),a.jsxs("select",{required:!0,value:h.teacherName,onChange:y=>p({...h,teacherName:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all uppercase",children:[a.jsx("option",{value:"",children:"Selecione o docente..."}),o.map(y=>a.jsx("option",{value:y.name,children:y.name},y.id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turma"}),a.jsxs("select",{required:!0,value:h.className,onChange:y=>p({...h,className:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all uppercase",children:[a.jsx("option",{value:"",children:"Selecione a turma..."}),cl.map(y=>a.jsx("option",{value:y,children:y},y))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Tipo de Atividade"}),a.jsx("select",{value:h.activityType,onChange:y=>p({...h,activityType:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm uppercase outline-none focus:bg-white transition-all",children:Uke.map(y=>a.jsx("option",{value:y,children:y},y))})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-indigo-50 rounded-2xl border border-indigo-100",children:[a.jsx("input",{type:"checkbox",id:"needsMedia",checked:h.needsMediaProjector,onChange:y=>p({...h,needsMediaProjector:y.target.checked}),className:"w-5 h-5 rounded border-indigo-300 text-indigo-600 focus:ring-indigo-500"}),a.jsx("label",{htmlFor:"needsMedia",className:"text-xs font-black text-indigo-800 uppercase tracking-widest cursor-pointer select-none",children:"Solicitar DataShow / Equipamento de Projeo"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Observaes Adicionais"}),a.jsx("textarea",{value:h.observations,onChange:y=>p({...h,observations:y.target.value}),placeholder:"Ex: Necessrio organizar cadeiras em crculo...",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-medium text-sm outline-none focus:bg-white transition-all h-20 resize-none"})]}),a.jsxs("div",{className:"pt-2 flex gap-4",children:[a.jsx("button",{type:"submit",className:"flex-1 py-5 bg-indigo-600 text-white rounded-3xl font-black uppercase text-xs tracking-[0.2em] shadow-2xl shadow-indigo-600/20 hover:bg-indigo-700 active:scale-95 transition-all",children:"Confirmar Agendamento"}),a.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-10 py-5 bg-gray-100 text-gray-500 rounded-3xl font-black uppercase text-xs tracking-widest hover:bg-gray-200 transition-all",children:"Cancelar"})]})]})]})})})]})},X8=["MATUTINO","VESPERTINO"],Bke=["1","2","3","4","5"],zke=["Impressora 3D","Cortadora Laser","Kits Robtica","Bancada Eletrnica","Ferramentas Manuais"],qke=()=>{const[t,e]=R.useState("status"),[r,n]=R.useState(new Date().toISOString().split("T")[0]),[s,i]=R.useState([]),[o,l]=R.useState([]),[d,u]=R.useState(!1),[h,p]=R.useState({shift:"MATUTINO",classes:[],teacherName:"",className:"",projectName:"",equipmentUsed:[],observations:""}),x=async()=>{try{const{data:j,error:T}=await ae.from("bookings").select("*").eq("resource_type","MAKER_LAB").order("created_at",{ascending:!1});if(T)throw T;j&&i(j.map(_=>({id:_.id,date:_.date,shift:_.shift,classes:_.classes||[],teacherName:_.teacher_name,className:_.class_name,projectName:_.title||"",equipmentUsed:_.equipment_used||[],observations:_.description||"",timestamp:new Date(_.created_at).getTime()})))}catch(j){console.error("Erro ao buscar agendamentos do Maker Lab:",j)}};R.useEffect(()=>{(()=>{const _=localStorage.getItem("secretariat_staff_v4");if(_){const O=JSON.parse(_);l(O.filter(M=>M.status==="EM_ATIVIDADE"))}else l([{id:"f1",name:"PROF. CRISTIANO",role:"PROFESSOR"},{id:"f2",name:"PROF. ANDR",role:"PROFESSOR"}])})(),x();const T=ae.channel("maker_lab_bookings").on("postgres_changes",{event:"*",schema:"public",table:"bookings",filter:"resource_type=eq.MAKER_LAB"},x).subscribe();return()=>{T.unsubscribe()}},[]);const v=R.useMemo(()=>s.filter(j=>j.date===r),[s,r]),b=async j=>{if(j.preventDefault(),h.classes.length===0)return alert("Por favor, selecione ao menos uma aula.");if(!h.teacherName||!h.className)return alert("Preencha todos os campos obrigatrios.");const T=s.find(_=>_.date===r&&_.shift===h.shift&&_.classes.some(O=>h.classes.includes(O)));if(T)return alert(`ERRO: Conflito de horrio! O Laboratrio Maker j est reservado para as aulas (${T.classes.join(", ")}) no turno ${h.shift} por ${T.teacherName}.`);try{const{error:_}=await ae.from("bookings").insert([{resource_type:"MAKER_LAB",date:r,shift:h.shift,classes:h.classes,teacher_name:h.teacherName,class_name:h.className,title:h.projectName,equipment_used:h.equipmentUsed,description:h.observations}]);if(_)throw _;u(!1),p({...h,classes:[],teacherName:"",className:"",projectName:"",equipmentUsed:[],observations:""}),alert("Agendamento realizado com sucesso!")}catch(_){console.error("Erro ao agendar Maker Lab:",_),alert("Erro ao realizar agendamento.")}},w=j=>{p(T=>({...T,classes:T.classes.includes(j)?T.classes.filter(_=>_!==j):[...T.classes,j].sort()}))},g=j=>{p(T=>({...T,equipmentUsed:T.equipmentUsed.includes(j)?T.equipmentUsed.filter(_=>_!==j):[...T.equipmentUsed,j]}))},S=async j=>{if(window.confirm("Deseja cancelar esta reserva do Laboratrio Maker?"))try{const{error:T}=await ae.from("bookings").delete().eq("id",j);if(T)throw T}catch(T){console.error("Erro ao cancelar agendamento:",T),alert("Erro ao cancelar agendamento.")}},k=()=>a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-sky-50 text-sky-600 rounded-3xl",children:a.jsx(vL,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Laboratrio Maker"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Prottipos, Robtica e Criatividade"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"date",value:r,onChange:j=>n(j.target.value),className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm outline-none focus:ring-4 focus:ring-sky-500/10 transition-all"}),a.jsxs("button",{onClick:()=>u(!0),className:"px-8 py-4 bg-sky-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-sky-600/20 hover:bg-sky-700 active:scale-95 transition-all flex items-center gap-2",children:[a.jsx(ot,{size:18})," Agendar Oficina"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:X8.map(j=>{const T=v.filter(_=>_.shift===j);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between px-4",children:[a.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.3em]",children:j}),T.length>0&&a.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full animate-pulse"})]}),a.jsx("div",{className:"space-y-4",children:T.length>0?T.map(_=>a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-gray-100 shadow-sm hover:border-sky-200 transition-all relative overflow-hidden group",children:[a.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 transition-opacity",children:a.jsx(B$,{size:80,className:"text-sky-900"})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("span",{className:"text-[8px] font-black bg-sky-100 text-sky-700 px-2 py-1 rounded-lg uppercase",children:["Aulas: ",_.classes.join(", ")]}),a.jsx(Nt,{size:16,className:"text-sky-500"})]}),a.jsx("p",{className:"text-xs font-black text-gray-900 uppercase leading-tight mb-1",children:_.teacherName}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mb-4",children:_.className}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-sky-50 p-4 rounded-2xl border border-sky-100/50",children:[a.jsx("p",{className:"text-[8px] font-black text-sky-600 uppercase tracking-widest mb-1.5",children:"Projeto:"}),a.jsxs("p",{className:"text-[11px] font-bold text-sky-900 uppercase italic",children:['"',_.projectName,'"']})]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:_.equipmentUsed.map(O=>a.jsx("span",{className:"text-[7px] font-black bg-gray-100 text-gray-500 px-1.5 py-0.5 rounded-md uppercase",children:O},O))})]})]})]},_.id)):a.jsxs("div",{className:"py-16 border-2 border-dashed border-gray-100 rounded-[2.5rem] flex flex-col items-center justify-center text-gray-300",children:[a.jsx(rr,{size:28,className:"mb-3 opacity-20"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Espao Livre"})]})})]},j)})}),a.jsxs("button",{onClick:()=>e("history"),className:"w-full py-4 bg-gray-100 rounded-3xl border border-gray-200 text-gray-400 font-black uppercase text-[10px] tracking-[0.3em] hover:bg-gray-200 transition-all flex items-center justify-center gap-3",children:[a.jsx(_t,{size:16})," Relatrio de Atividades Maker"]})]}),y=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("button",{onClick:()=>e("status"),className:"flex items-center gap-2 text-sky-700 font-black uppercase text-xs tracking-widest hover:text-sky-800 transition-colors group mb-4",children:[a.jsx(cr,{size:18,className:"group-hover:-translate-x-1 transition-transform"})," Voltar ao Calendrio"]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-gray-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-8 border-b border-gray-50 flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Histrico de Uso (Laboratrio Maker)"}),a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-sky-50 text-sky-600 rounded-xl border border-sky-100",children:[a.jsx(ft,{size:16}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Base de Dados Auditada"})]})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-gray-400",children:[a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Data / Turno"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Professor / Turma"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Projeto / Prottipo"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Equipamentos"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest text-right",children:"Ao"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50 text-sm",children:s.sort((j,T)=>new Date(T.date).getTime()-new Date(j.date).getTime()).map(j=>a.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-gray-900",children:new Date(j.date).toLocaleDateString("pt-BR")}),a.jsxs("p",{className:"text-[9px] text-sky-600 font-bold uppercase tracking-widest",children:[j.shift,"  ",j.classes.join(", ")," aulas"]})]}),a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-gray-800 uppercase",children:j.teacherName}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:j.className})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsx("p",{className:"font-bold text-gray-600 uppercase italic line-clamp-1",children:j.projectName})}),a.jsx("td",{className:"px-8 py-6",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:j.equipmentUsed.map(T=>a.jsx("span",{className:"text-[8px] bg-gray-100 text-gray-500 px-1 py-0.5 rounded font-bold uppercase",children:T},T))})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsx("button",{onClick:()=>S(j.id),className:"p-3 text-gray-300 hover:text-red-500 transition-colors",children:a.jsx(Lt,{size:18})})})]},j.id))})]}),s.length===0&&a.jsxs("div",{className:"py-24 text-center",children:[a.jsx(_t,{size:48,className:"mx-auto mb-4 text-gray-200"}),a.jsx("p",{className:"text-gray-300 font-black uppercase text-xs tracking-widest",children:"Sem registros no sistema"})]})]})]})]});return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"max-w-7xl mx-auto",children:t==="status"?k():y()}),d&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-sky-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsx("div",{className:"bg-white rounded-[3.5rem] w-full max-w-2xl shadow-2xl border border-sky-100 overflow-hidden flex flex-col max-h-[90vh]",children:a.jsxs("form",{onSubmit:b,className:"flex flex-col h-full overflow-hidden",children:[a.jsxs("div",{className:"px-10 pt-10 pb-6 flex justify-between items-center shrink-0 border-b border-gray-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-sky-600 text-white rounded-3xl shadow-xl shadow-sky-600/20",children:a.jsx(ot,{size:28,strokeWidth:3})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Reservar Lab Maker"}),a.jsxs("p",{className:"text-[10px] text-sky-400 font-bold uppercase tracking-widest mt-1",children:["Data: ",new Date(r).toLocaleDateString("pt-BR")]})]})]}),a.jsx("button",{type:"button",onClick:()=>u(!1),className:"p-3 bg-gray-50 text-gray-400 hover:text-red-500 rounded-2xl transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsxs("div",{className:"px-10 py-8 space-y-6 overflow-y-auto custom-scrollbar flex-1",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turno de Uso"}),a.jsx("select",{required:!0,value:h.shift,onChange:j=>p({...h,shift:j.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm uppercase outline-none focus:bg-white focus:ring-4 focus:ring-sky-500/5 transition-all",children:X8.map(j=>a.jsx("option",{value:j,children:j},j))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 flex items-center gap-2",children:[a.jsx(Cu,{size:14,className:"text-sky-600"})," Aulas Reservadas"]}),a.jsx("div",{className:"flex gap-2",children:Bke.map(j=>a.jsx("button",{type:"button",onClick:()=>w(j),className:`flex-1 py-3 rounded-xl text-xs font-black transition-all border-2 ${h.classes.includes(j)?"bg-sky-600 border-sky-700 text-white shadow-lg":"bg-gray-50 border-gray-100 text-gray-400 hover:border-sky-200"}`,children:j},j))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Professor(a) Responsvel"}),a.jsxs("select",{required:!0,value:h.teacherName,onChange:j=>p({...h,teacherName:j.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all uppercase",children:[a.jsx("option",{value:"",children:"Selecione o professor..."}),o.map(j=>a.jsx("option",{value:j.name,children:j.name},j.id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turma"}),a.jsxs("select",{required:!0,value:h.className,onChange:j=>p({...h,className:j.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all uppercase",children:[a.jsx("option",{value:"",children:"Selecione a turma..."}),cl.map(j=>a.jsx("option",{value:j,children:j},j))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nome do Projeto"}),a.jsx("input",{required:!0,type:"text",placeholder:"EX: ROB SEGUIDOR DE LINHA",value:h.projectName,onChange:j=>p({...h,projectName:j.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Equipamentos Utilizados"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:zke.map(j=>a.jsx("button",{type:"button",onClick:()=>g(j),className:`px-4 py-2 rounded-xl text-[10px] font-black transition-all border-2 ${h.equipmentUsed.includes(j)?"bg-sky-50 border-sky-600 text-sky-700":"bg-gray-50 border-gray-100 text-gray-400"}`,children:j},j))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Observaes / Insumos Necessrios"}),a.jsx("textarea",{value:h.observations,onChange:j=>p({...h,observations:j.target.value}),placeholder:"Ex: Filamento PLA vermelho, resistores, servos...",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-medium text-sm outline-none focus:bg-white transition-all h-20 resize-none"})]})]}),a.jsxs("div",{className:"p-8 bg-gray-50 border-t border-gray-100 shrink-0 flex gap-4",children:[a.jsxs("button",{type:"submit",className:"flex-1 py-5 bg-sky-600 text-white rounded-3xl font-black uppercase text-sm tracking-[0.2em] shadow-2xl hover:bg-sky-700 active:scale-95 transition-all flex items-center justify-center gap-2",children:[a.jsx(qr,{size:20})," Salvar Agendamento"]}),a.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-10 py-5 bg-white border border-gray-200 text-gray-500 rounded-3xl font-black uppercase text-xs tracking-widest hover:bg-gray-200 transition-all",children:"Cancelar"})]})]})})})]})},J8=["MATUTINO","VESPERTINO"],Vke=["1","2","3","4","5"],$ke=["Palestra","Apresentao","Cinema","Ensaio","Reunio","Outros"],Gke=()=>{const[t,e]=R.useState("status"),[r,n]=R.useState(new Date().toISOString().split("T")[0]),[s,i]=R.useState([]),[o,l]=R.useState([]),[d,u]=R.useState(!1),[h,p]=R.useState({shift:"MATUTINO",classes:[],teacherName:"",className:"",eventName:"",eventType:"Palestra",needsSound:!1,needsProjector:!1,needsAc:!0,observations:""}),x=async()=>{try{const{data:y,error:j}=await ae.from("bookings").select("*").eq("resource_type","AUDITORIUM").order("created_at",{ascending:!1});if(j)throw j;y&&i(y.map(T=>({id:T.id,date:T.date,shift:T.shift,classes:T.classes||[],teacherName:T.teacher_name,className:T.class_name,eventName:T.title||"",eventType:T.type||"Outros",needsSound:T.needs_sound,needsProjector:T.needs_projector,needsAc:T.needs_ac,observations:T.description||"",timestamp:new Date(T.created_at).getTime()})))}catch(y){console.error("Erro ao buscar agendamentos:",y)}};R.useEffect(()=>{const y=localStorage.getItem("secretariat_staff_v4");y&&l(JSON.parse(y).filter(T=>T.status==="EM_ATIVIDADE")),x();const j=ae.channel("auditorium_bookings").on("postgres_changes",{event:"*",schema:"public",table:"bookings",filter:"resource_type=eq.AUDITORIUM"},x).subscribe();return()=>{j.unsubscribe()}},[]);const v=R.useMemo(()=>s.filter(y=>y.date===r),[s,r]),b=async y=>{if(y.preventDefault(),h.classes.length===0)return alert("Por favor, selecione ao menos uma aula.");if(!h.teacherName||!h.className)return alert("Preencha todos os campos obrigatrios.");const j=s.find(T=>T.date===r&&T.shift===h.shift&&T.classes.some(_=>h.classes.includes(_)));if(j)return alert(`ERRO: Conflito de horrio! O Auditrio j possui reserva para as aulas (${j.classes.join(", ")}) no turno ${h.shift} por ${j.teacherName}.`);try{const{error:T}=await ae.from("bookings").insert([{resource_type:"AUDITORIUM",date:r,shift:h.shift,classes:h.classes,teacher_name:h.teacherName,class_name:h.className,title:h.eventName,type:h.eventType,description:h.observations,needs_sound:h.needsSound,needs_projector:h.needsProjector,needs_ac:h.needsAc}]);if(T)throw T;u(!1),p({...h,classes:[],teacherName:"",className:"",eventName:"",eventType:"Palestra",needsSound:!1,needsProjector:!1,needsAc:!0,observations:""}),alert("Agendamento realizado com sucesso!")}catch(T){console.error("Erro ao agendar:",T),alert("Erro ao realizar agendamento.")}},w=y=>{p(j=>({...j,classes:j.classes.includes(y)?j.classes.filter(T=>T!==y):[...j.classes,y].sort()}))},g=async y=>{if(window.confirm("Deseja cancelar esta reserva do auditrio?"))try{const{error:j}=await ae.from("bookings").delete().eq("id",y);if(j)throw j}catch(j){console.error("Erro ao cancelar reserva:",j),alert("Erro ao cancelar reserva.")}},S=()=>a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-emerald-50 text-emerald-600 rounded-3xl",children:a.jsx(Xo,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Auditrio / Teatro Andr Maggi"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Gesto de Eventos, Reunies e Cinema Escolar"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"date",value:r,onChange:y=>n(y.target.value),className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm outline-none focus:ring-4 focus:ring-emerald-500/10 transition-all"}),a.jsxs("button",{onClick:()=>u(!0),className:"px-8 py-4 bg-emerald-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-emerald-600/20 hover:bg-emerald-700 active:scale-95 transition-all flex items-center gap-2",children:[a.jsx(ot,{size:18})," Novo Agendamento"]})]})]}),a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-gray-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8 border-b border-gray-50 pb-6",children:[a.jsx(r1,{className:"text-emerald-500"}),a.jsxs("h4",{className:"text-lg font-black text-gray-900 uppercase tracking-tight",children:["Disponibilidade: ",new Date(r).toLocaleDateString("pt-BR")]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:J8.map(y=>{const j=v.filter(T=>T.shift===y);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:y}),a.jsxs("span",{className:"text-[9px] font-bold text-emerald-600 uppercase bg-emerald-50 px-2 py-0.5 rounded-lg",children:[j.length," Atividade(s)"]})]}),a.jsx("div",{className:"space-y-4",children:j.length>0?j.map(T=>a.jsxs("div",{className:"p-6 rounded-[2.5rem] bg-emerald-50/50 border border-emerald-100 hover:bg-white transition-all relative group overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 transition-opacity",children:a.jsx(r1,{size:80,className:"text-emerald-900"})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("span",{className:"text-[8px] font-black bg-emerald-600 text-white px-2 py-1 rounded-lg uppercase",children:["Aulas: ",T.classes.join(", ")]}),a.jsxs("div",{className:"flex gap-1.5",children:[T.needsSound&&a.jsx(t1,{size:12,className:"text-emerald-600"}),T.needsProjector&&a.jsx(a1,{size:12,className:"text-emerald-600"}),T.needsAc&&a.jsx(s1,{size:12,className:"text-emerald-600"})]})]}),a.jsx("p",{className:"text-xs font-black text-gray-900 uppercase leading-tight mb-1",children:T.teacherName}),a.jsx("p",{className:"text-[10px] text-emerald-700 font-bold uppercase mb-4",children:T.className}),a.jsxs("div",{className:"bg-white/80 p-4 rounded-2xl border border-emerald-100",children:[a.jsxs("p",{className:"text-[8px] font-black text-emerald-600 uppercase tracking-widest mb-1.5",children:[T.eventType,":"]}),a.jsxs("p",{className:"text-[11px] font-bold text-emerald-900 uppercase italic",children:['"',T.eventName,'"']})]})]})]},T.id)):a.jsxs("div",{className:"py-20 border-2 border-dashed border-gray-100 rounded-[2.5rem] flex flex-col items-center justify-center text-gray-300",children:[a.jsx(rr,{size:32,className:"mb-3 opacity-20"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Horrio Livre"})]})})]},y)})})]}),a.jsxs("button",{onClick:()=>e("history"),className:"w-full py-4 bg-gray-100 rounded-3xl border border-gray-200 text-gray-400 font-black uppercase text-[10px] tracking-[0.3em] hover:bg-gray-200 transition-all flex items-center justify-center gap-3",children:[a.jsx(_t,{size:16})," Ver Relatrio Geral do Auditrio"]})]}),k=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("button",{onClick:()=>e("status"),className:"flex items-center gap-2 text-emerald-700 font-black uppercase text-xs tracking-widest hover:text-emerald-800 transition-colors group mb-4",children:[a.jsx(cr,{size:18,className:"group-hover:-translate-x-1 transition-transform"})," Voltar ao Calendrio"]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-gray-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-8 border-b border-gray-50 flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Log de Uso (Auditrio / Teatro)"}),a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl border border-emerald-100",children:[a.jsx(ft,{size:16}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Registros Oficiais"})]})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-gray-400",children:[a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Data / Turno"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Solicitante / Turma"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest",children:"Evento / Atividade"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest text-center",children:"Infraestrutura"}),a.jsx("th",{className:"px-8 py-5 text-[10px] font-black uppercase tracking-widest text-right",children:"Ao"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50 text-sm",children:s.sort((y,j)=>new Date(j.date).getTime()-new Date(y.date).getTime()).map(y=>a.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-gray-900",children:new Date(y.date).toLocaleDateString("pt-BR")}),a.jsxs("p",{className:"text-[9px] text-emerald-600 font-bold uppercase tracking-widest",children:[y.shift,"  ",y.classes.join(", ")," aulas"]})]}),a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-gray-800 uppercase",children:y.teacherName}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:y.className})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[8px] font-black bg-gray-100 px-2 py-0.5 rounded-lg uppercase",children:y.eventType}),a.jsx("p",{className:"font-bold text-gray-600 uppercase italic line-clamp-1",children:y.eventName})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("div",{className:"flex justify-center gap-2",children:[a.jsx("div",{className:`p-1.5 rounded-lg ${y.needsSound?"text-emerald-600 bg-emerald-50":"text-gray-200"}`,title:"Som",children:a.jsx(t1,{size:14})}),a.jsx("div",{className:`p-1.5 rounded-lg ${y.needsProjector?"text-emerald-600 bg-emerald-50":"text-gray-200"}`,title:"Projetor",children:a.jsx(a1,{size:14})}),a.jsx("div",{className:`p-1.5 rounded-lg ${y.needsAc?"text-emerald-600 bg-emerald-50":"text-gray-200"}`,title:"Ar Condicionado",children:a.jsx(s1,{size:14})})]})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsx("button",{onClick:()=>g(y.id),className:"p-3 text-gray-300 hover:text-red-500 transition-colors",children:a.jsx(Lt,{size:18})})})]},y.id))})]}),s.length===0&&a.jsxs("div",{className:"py-24 text-center",children:[a.jsx(r1,{size:48,className:"mx-auto mb-4 text-gray-200"}),a.jsx("p",{className:"text-gray-300 font-black uppercase text-xs tracking-widest",children:"Sem eventos registrados"})]})]})]})]});return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"max-w-7xl mx-auto",children:t==="status"?S():k()}),d&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-emerald-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsx("div",{className:"bg-white rounded-[3.5rem] w-full max-w-2xl shadow-2xl border border-emerald-100 overflow-hidden flex flex-col h-full max-h-[90vh]",children:a.jsxs("form",{onSubmit:b,className:"flex flex-col h-full",children:[a.jsxs("div",{className:"px-10 pt-10 pb-6 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-emerald-600 text-white rounded-3xl shadow-xl shadow-emerald-600/20",children:a.jsx(ot,{size:28,strokeWidth:3})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Reservar Auditrio"}),a.jsxs("p",{className:"text-[10px] text-emerald-400 font-bold uppercase tracking-widest mt-1",children:["Data do Evento: ",new Date(r).toLocaleDateString("pt-BR")]})]})]}),a.jsx("button",{type:"button",onClick:()=>u(!1),className:"p-3 bg-gray-50 text-gray-400 hover:text-red-500 rounded-2xl transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsxs("div",{className:"px-10 pb-10 space-y-6 overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turno de Uso"}),a.jsx("select",{required:!0,value:h.shift,onChange:y=>p({...h,shift:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm uppercase outline-none focus:bg-white focus:ring-4 focus:ring-emerald-500/5 transition-all",children:J8.map(y=>a.jsx("option",{value:y,children:y},y))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Tipo de Evento"}),a.jsx("select",{required:!0,value:h.eventType,onChange:y=>p({...h,eventType:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm uppercase outline-none focus:bg-white focus:ring-4 focus:ring-emerald-500/5 transition-all",children:$ke.map(y=>a.jsx("option",{value:y,children:y},y))})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 flex items-center gap-2",children:[a.jsx(Cu,{size:14,className:"text-emerald-600"})," Blocos de Aulas Reservados"]}),a.jsx("div",{className:"flex gap-2",children:Vke.map(y=>a.jsx("button",{type:"button",onClick:()=>w(y),className:`flex-1 py-3 rounded-xl text-xs font-black transition-all border-2 ${h.classes.includes(y)?"bg-emerald-600 border-emerald-700 text-white shadow-lg":"bg-gray-50 border-gray-100 text-gray-400 hover:border-emerald-200"}`,children:y},y))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Docente / Responsvel pela Chave"}),a.jsxs("select",{required:!0,value:h.teacherName,onChange:y=>p({...h,teacherName:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all uppercase",children:[a.jsx("option",{value:"",children:"Selecione o docente..."}),o.map(y=>a.jsx("option",{value:y.name,children:y.name},y.id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turma / Grupo"}),a.jsxs("select",{required:!0,value:h.className,onChange:y=>p({...h,className:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all uppercase",children:[a.jsx("option",{value:"",children:"Selecione a turma..."}),cl.map(y=>a.jsx("option",{value:y,children:y},y))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Ttulo do Evento"}),a.jsx("input",{required:!0,type:"text",placeholder:"EX: PALESTRA SOBRE MEIO AMBIENTE",value:h.eventName,onChange:y=>p({...h,eventName:y.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Recursos Necessrios"}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>p({...h,needsSound:!h.needsSound}),className:`flex items-center justify-center gap-2 p-3 rounded-xl text-[10px] font-black uppercase transition-all border-2 ${h.needsSound?"bg-emerald-50 border-emerald-600 text-emerald-700":"bg-gray-50 border-gray-100 text-gray-400"}`,children:[a.jsx(t1,{size:14})," Som"]}),a.jsxs("button",{type:"button",onClick:()=>p({...h,needsProjector:!h.needsProjector}),className:`flex items-center justify-center gap-2 p-3 rounded-xl text-[10px] font-black uppercase transition-all border-2 ${h.needsProjector?"bg-emerald-50 border-emerald-600 text-emerald-700":"bg-gray-50 border-gray-100 text-gray-400"}`,children:[a.jsx(a1,{size:14})," Projetor"]}),a.jsxs("button",{type:"button",onClick:()=>p({...h,needsAc:!h.needsAc}),className:`flex items-center justify-center gap-2 p-3 rounded-xl text-[10px] font-black uppercase transition-all border-2 ${h.needsAc?"bg-emerald-50 border-emerald-600 text-emerald-700":"bg-gray-50 border-gray-100 text-gray-400"}`,children:[a.jsx(s1,{size:14})," Ar Cond."]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Observaes de Layout / Apoio"}),a.jsx("textarea",{value:h.observations,onChange:y=>p({...h,observations:y.target.value}),placeholder:"Necessita de cadeiras extras, microfone sem fio...",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-medium text-sm outline-none focus:bg-white transition-all h-20 resize-none"})]}),a.jsxs("div",{className:"pt-2 flex gap-4",children:[a.jsx("button",{type:"submit",className:"flex-1 py-5 bg-emerald-600 text-white rounded-3xl font-black uppercase text-xs tracking-[0.2em] shadow-2xl shadow-emerald-600/20 hover:bg-emerald-700 active:scale-95 transition-all",children:"Confirmar Agendamento"}),a.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-10 py-5 bg-gray-100 text-gray-500 rounded-3xl font-black uppercase text-xs tracking-widest hover:bg-gray-200 transition-all",children:"Cancelar"})]})]})]})})})]})},Hke=({onExit:t})=>{var o;const[e,r]=R.useState("chromebooks"),n=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},s=[{id:"chromebooks",label:"Estaes Chromebook",icon:KG,color:"fuchsia"},{id:"science_lab",label:"Lab. de Cincias",icon:pL,color:"emerald"},{id:"maker_lab",label:"Laboratrio Maker",icon:vL,color:"sky"},{id:"pedagogical_kitchen",label:"Cozinha Pedaggica",icon:OL,color:"orange"},{id:"library_room",label:"Espao Biblioteca",icon:ia,color:"indigo"},{id:"auditorium",label:"Auditrio / Teatro",icon:Xo,color:"emerald"}],i=()=>{switch(e){case"chromebooks":return a.jsx(Dke,{});case"science_lab":return a.jsx(Rke,{});case"maker_lab":return a.jsx(qke,{});case"pedagogical_kitchen":return a.jsx(Pke,{});case"library_room":return a.jsx(Fke,{});case"auditorium":return a.jsx(Gke,{});default:return a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 bg-white rounded-[3rem] border-2 border-dashed border-gray-100",children:[a.jsx(yn,{size:64,className:"mb-6 opacity-20"}),a.jsx("h3",{className:"text-xl font-black uppercase tracking-widest",children:"Mdulo em Implementao"}),a.jsx("p",{className:"text-sm font-medium mt-2",children:"Esta agenda ser liberada na prxima atualizao da SEDUC."})]})}};return a.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden font-sans",children:[a.jsxs("aside",{className:"w-64 bg-fuchsia-950 text-white flex flex-col no-print",children:[a.jsx("div",{className:"p-6",children:a.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx("span",{className:"bg-fuchsia-600 p-1.5 rounded-lg shadow-lg",children:""}),"Agendas"]})}),a.jsx("nav",{className:"flex-1 mt-6 px-4 space-y-1.5 overflow-y-auto custom-scrollbar",children:s.map(l=>a.jsx("button",{onClick:()=>r(l.id),className:`w-full flex items-center justify-between px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${e===l.id?"bg-fuchsia-900 text-white shadow-lg":"text-fuchsia-100/50 hover:bg-fuchsia-900/30"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(l.icon,{size:18}),l.label]})},l.id))}),a.jsxs("div",{className:"p-6 border-t border-fuchsia-900 space-y-3",children:[a.jsxs("button",{onClick:t,className:"w-full flex items-center gap-2 px-4 py-3 bg-white/10 hover:bg-white/20 rounded-xl text-xs font-black uppercase tracking-widest transition-all",children:[a.jsx(cr,{size:16})," Voltar ao Hub"]}),a.jsxs("div",{className:"bg-fuchsia-900/50 p-4 rounded-2xl border border-fuchsia-800/50",children:[a.jsxs("p",{className:"text-[10px] text-fuchsia-300 font-black uppercase tracking-widest mb-1.5 flex items-center gap-1.5",children:[a.jsx(ft,{size:10})," Central de Reservas"]}),a.jsx("div",{className:"text-xs font-black uppercase tracking-tight text-fuchsia-400",children:"Blindado & Sincronizado"})]})]})]}),a.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"h-20 bg-white border-b border-gray-100 flex items-center justify-between px-10 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-fuchsia-50 text-fuchsia-600 rounded-lg",children:a.jsx(Nn,{size:20})}),a.jsxs("h2",{className:"text-sm font-black text-gray-900 uppercase tracking-tight",children:["Mdulo de Agendamentos: ",(o=s.find(l=>l.id===e))==null?void 0:o.label]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("button",{onClick:n,className:"p-2.5 text-gray-400 hover:bg-gray-50 rounded-xl transition-colors group flex items-center gap-2",title:"Alternar Tela Cheia",children:[a.jsx(nl,{size:18,className:"group-hover:text-fuchsia-600"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest hidden xl:block",children:"Expandir"})]}),a.jsxs("div",{className:"hidden lg:flex items-center gap-2 bg-fuchsia-50 px-3 py-1.5 rounded-full border border-fuchsia-100",children:[a.jsx("div",{className:"w-2 h-2 bg-fuchsia-500 rounded-full animate-ping"}),a.jsx("span",{className:"text-[10px] font-black text-fuchsia-700 uppercase tracking-widest",children:"Base de Dados SEDUC"})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:i()})]}),a.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.05); border-radius: 10px; }
        .custom-scrollbar:hover::-webkit-scrollbar-thumb { background: rgba(192, 38, 211, 0.2); }
      `})]})},Kke=["6 ANO A","6 ANO B","6 ANO D","6 ANO E","7 ANO A","7 ANO B","7 ANO D","7 ANO E","8 ANO A","8 ANO B","8 ANO D","9 ANO A","9 ANO B","9 ANO C"],Q8=["MATEMTICA","LNGUA PORTUGUESA","CINCIAS","HISTRIA","GEOGRAFIA","ARTE","EDUCAO FSICA","LNGUA INGLESA","ENSINO RELIGIOSO"],Yke=({user:t})=>{const[e,r]=R.useState(""),[n,s]=R.useState(Q8[0]),[i,o]=R.useState("MATUTINO"),[l,d]=R.useState(new Date().toISOString().split("T")[0]),[u,h]=R.useState(!1),[p,x]=R.useState([]),[v,b]=R.useState({}),[w,g]=R.useState({}),[S,k]=R.useState({}),[y,j]=R.useState({});R.useEffect(()=>{e?(T(e),_(e)):(x([]),g({}),k({}))},[e,l]);const T=async L=>{try{const{data:B,error:X}=await ae.from("classrooms").select("id").eq("name",L).single();if(X||!B){x([]);return}const{data:P,error:U}=await ae.from("enrollments").select(`
          students (
            id,
            name,
            registration_number,
            paed,
            school_transport
          )
        `).eq("classroom_id",B.id);if(U)throw U;if(P){const z=P.map(Y=>({CodigoAluno:Y.students.registration_number,Nome:Y.students.name,Turma:L,id:Y.students.id,PAED:Y.students.paed?"Sim":"No",TransporteEscolar:Y.students.school_transport?"Sim":"No"})).sort((Y,se)=>Y.Nome.localeCompare(se.Nome));x(z);const V={};z.forEach(Y=>{V[Y.CodigoAluno]=!0}),b(V),M(L,l),O(z.map(Y=>Y.id))}}catch(B){console.error("Error fetching students:",B),alert("Erro ao buscar alunos da turma. Verifique a conexo.")}},_=async L=>{const{data:B}=await ae.from("class_attendance_students").select("student_id, is_present, class_attendance_records!inner(classroom_name)").eq("class_attendance_records.classroom_name",L);if(B){const X={};B.forEach(U=>{X[U.student_id]||(X[U.student_id]={total:0,present:0}),X[U.student_id].total++,U.is_present&&X[U.student_id].present++});const P={};Object.keys(X).forEach(U=>{const z=X[U],V=z.present/z.total*100;V<85&&(P[U]={total:z.total,absences:z.total-z.present,percentage:V})}),k(P)}},O=async L=>{try{const{data:B,error:X}=await ae.from("student_movements").select("*").in("student_id",L);if(X)throw X;const P={};B==null||B.forEach(U=>{P[U.student_id]||(P[U.student_id]=[]),P[U.student_id].push(U)}),j(P)}catch(B){console.error("Error fetching movements:",B)}},M=async(L,B)=>{const{data:X}=await ae.from("class_attendance_records").select(`
        id,
        subject,
        teacher_name,
        class_attendance_students (
          student_id,
          is_present
        )
      `).eq("classroom_name",L).eq("date",B);if(X){const P={};X.forEach(U=>{U.class_attendance_students.forEach(z=>{P[z.student_id]||(P[z.student_id]=[]),P[z.student_id].push({subject:U.subject,teacher:U.teacher_name,isPresent:z.is_present})})}),g(P)}},D=L=>{b(B=>({...B,[L]:!B[L]}))},F=L=>{const B={...v};p.forEach(X=>{B[X.CodigoAluno]=L}),b(B)},q=async()=>{if(!e)return alert("Selecione uma turma.");h(!0);try{const{data:L,error:B}=await ae.from("class_attendance_records").insert([{classroom_name:e,teacher_name:t.name,date:l,shift:i,subject:n}]).select().single();if(B)throw B;const X=p.map(U=>({attendance_record_id:L.id,student_id:U.CodigoAluno,student_name:U.Nome,is_present:v[U.CodigoAluno]})),{error:P}=await ae.from("class_attendance_students").insert(X);if(P)throw P;alert("Chamada realizada e salva com sucesso!"),r("")}catch(L){console.error("Erro ao salvar chamada:",L),alert("Erro ao salvar chamada. Tente novamente.")}finally{h(!1)}};return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-3xl md:rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col lg:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 w-full",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turma"}),a.jsxs("select",{value:e,onChange:L=>r(L.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase outline-none focus:bg-white focus:ring-4 focus:ring-amber-500/5 transition-all",children:[a.jsx("option",{value:"",children:"Selecionar Turma..."}),Kke.map(L=>a.jsx("option",{value:L,children:L},L))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Disciplina"}),a.jsx("select",{value:n,onChange:L=>s(L.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase outline-none",children:Q8.map(L=>a.jsx("option",{value:L,children:L},L))})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Data"}),a.jsx("input",{type:"date",value:l,onChange:L=>d(L.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turno"}),a.jsxs("select",{value:i,onChange:L=>o(L.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase outline-none",children:[a.jsx("option",{value:"MATUTINO",children:"Matutino"}),a.jsx("option",{value:"VESPERTINO",children:"Vespertino"})]})]})]}),a.jsxs("button",{onClick:q,disabled:u||p.length===0,className:"w-full lg:w-auto px-8 py-4 bg-amber-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-amber-600/20 hover:bg-amber-700 active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-50 shrink-0",children:[u?a.jsx(vt,{size:18,className:"animate-spin"}):a.jsx(qr,{size:18}),"Salvar Dirio"]})]}),p.length>0?a.jsxs("div",{className:"bg-white rounded-3xl md:rounded-[3rem] border border-gray-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 md:p-8 border-b border-gray-50 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-gray-50/50",children:[a.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[a.jsx("div",{className:"p-2 md:p-3 bg-amber-50 text-amber-600 rounded-xl shadow-sm",children:a.jsx(mr,{size:20})}),a.jsxs("h3",{className:"text-sm md:text-lg font-black text-gray-900 uppercase tracking-tight",children:[e,"  ",a.jsxs("span",{className:"text-amber-600",children:[p.length," Estudantes"]})]})]}),a.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[a.jsx("button",{onClick:()=>F(!0),className:"flex-1 md:flex-none px-4 py-2 bg-emerald-50 text-emerald-700 rounded-xl text-[9px] font-black uppercase hover:bg-emerald-100 transition-all",children:"Presente Todos"}),a.jsx("button",{onClick:()=>F(!1),className:"flex-1 md:flex-none px-4 py-2 bg-red-50 text-red-700 rounded-xl text-[9px] font-black uppercase hover:bg-red-100 transition-all",children:"Falta Todos"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-px bg-gray-100",children:p.map((L,B)=>{var z;const X=y[L.id]||[],P=X.some(V=>V.movement_type==="TRANSFERENCIA"),U=X.some(V=>V.movement_type==="ATESTADO"&&V.movement_date===l);return a.jsxs("div",{className:`bg-white p-6 flex items-center justify-between hover:bg-gray-50 transition-all group ${P?"opacity-50 grayscale select-none":""}`,children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("span",{className:"text-[10px] font-black text-gray-200 group-hover:text-amber-600 transition-colors",children:["#",B+1]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:`text-sm font-black uppercase leading-none ${P?"text-gray-400 line-through":"text-gray-900"}`,children:L.Nome}),P&&a.jsx("div",{className:"px-1.5 py-0.5 bg-red-600 text-white rounded text-[7px] font-black uppercase tracking-wider border border-red-700",children:"Transferido"}),U&&a.jsx("div",{className:"px-1.5 py-0.5 bg-indigo-600 text-white rounded text-[7px] font-black uppercase tracking-wider border border-indigo-700",children:"Atestado Mdico"}),S[L.CodigoAluno]&&!P&&a.jsxs("div",{className:"flex items-center gap-1 px-1.5 py-0.5 bg-red-100 text-red-600 rounded text-[7px] font-black uppercase tracking-wider animate-pulse border border-red-200",children:[a.jsx(Xt,{size:8})," Risco Evaso"]})]}),a.jsxs("p",{className:"text-[9px] text-gray-400 font-bold uppercase mt-1.5",children:["Matrcula: ",L.CodigoAluno]}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(z=w[L.CodigoAluno])==null?void 0:z.map((V,Y)=>a.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded border text-[7px] font-black uppercase tracking-wider ${V.isPresent?"bg-emerald-50 border-emerald-100 text-emerald-600":"bg-red-50 border-red-100 text-red-600"}`,children:[a.jsx("span",{children:V.subject.substring(0,3)}),V.isPresent?a.jsx(fx,{size:8,strokeWidth:3}):a.jsx(Ze,{size:8,strokeWidth:3})]},Y))})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>!P&&D(L.CodigoAluno),disabled:P,className:`w-12 h-12 rounded-2xl flex items-center justify-center transition-all ${P?"bg-gray-100 text-gray-300 cursor-not-allowed":v[L.CodigoAluno]?"bg-emerald-50 text-emerald-600 shadow-inner":"bg-red-50 text-red-600 shadow-inner"}`,children:P?a.jsx(Ze,{size:24,strokeWidth:2}):v[L.CodigoAluno]?a.jsx(fx,{size:24,strokeWidth:3}):a.jsx(Ze,{size:24,strokeWidth:3})}),a.jsx("div",{className:"text-right w-16",children:a.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest ${P?"text-gray-300":v[L.CodigoAluno]?"text-emerald-500":"text-red-500"}`,children:P?"Inativo":v[L.CodigoAluno]?"Presente":"Ausente"})})]})]},L.CodigoAluno)})})]}):a.jsxs("div",{className:"py-32 text-center bg-white rounded-[3rem] border-2 border-dashed border-gray-100",children:[a.jsx(oc,{size:64,className:"mx-auto mb-4 text-gray-100"}),a.jsx("p",{className:"text-gray-400 font-black uppercase text-xs tracking-widest",children:"Selecione uma turma para iniciar a chamada"})]})]})},PS=()=>{const[t,e]=R.useState([]),[r,n]=R.useState(!0),[s,i]=R.useState(null),o=async()=>{try{n(!0);const{data:l,error:d}=await ae.from("students").select(`
          *,
          enrollments (
            classrooms (name, shift)
          )
        `);if(d)throw d;if(l){const u=l.map(h=>{var x,v;const p=(v=(x=h.enrollments)==null?void 0:x[0])==null?void 0:v.classrooms;return{id:h.id,name:h.name,class:(p==null?void 0:p.name)||"SEM TURMA",shift:(p==null?void 0:p.shift)||"---",birth_date:h.birth_date,registration_number:h.registration_number,guardian_name:h.guardian_name,contact_phone:h.contact_phone}});u.sort((h,p)=>h.name.localeCompare(p.name)),e(u)}}catch(l){console.error("Error fetching students:",l),i(l.message)}finally{n(!1)}};return R.useEffect(()=>{o()},[]),{students:t,loading:r,error:s,refetch:o}},Wke=["DISCIPLINAR","PEDAGGICO","MDICO","ELOGIO","OUTRO"],Xke=["BAIXA","MDIA","ALTA","CRTICA"],Jke=({user:t})=>{const[e,r]=R.useState(!1),[n,s]=R.useState(""),[i,o]=R.useState(!1),[l,d]=R.useState([]),[u,h]=R.useState(!1),[p,x]=R.useState(!1),[v,b]=R.useState({date:new Date().toISOString().split("T")[0],teacherName:t.name,className:"",studentName:"",type:"DISCIPLINAR",severity:"MDIA",description:"",notifiedParents:!1,forwardToPsychosocial:!1}),[w,g]=R.useState([]),S=async()=>{h(!0);const{data:D,error:F}=await ae.from("occurrences").select("*").eq("responsible_name",t.name).order("date",{ascending:!1});if(F)console.error("Error fetching occurrences:",F);else{const q=D.map(L=>({id:L.id,date:L.date,teacherName:L.responsible_name,className:L.classroom_name,studentName:L.student_name,type:L.category,severity:L.severity,description:L.description,notifiedParents:!1,timestamp:new Date(L.created_at||L.date).getTime()}));g(q)}h(!1)};R.useEffect(()=>{S()},[]);const k=()=>{b({date:new Date().toISOString().split("T")[0],teacherName:t.name,className:"",studentName:"",type:"DISCIPLINAR",severity:"MDIA",description:"",notifiedParents:!1,forwardToPsychosocial:!1}),s("")},{students:y}=PS();R.useEffect(()=>{y&&d(y)},[y,e]),R.useEffect(()=>{const D=ae.channel("occurrences_changes").on("postgres_changes",{event:"*",schema:"public",table:"occurrences"},()=>{S()}).subscribe();return()=>{D.unsubscribe()}},[]);const j=R.useMemo(()=>{if(!n||n.length<2)return[];const D=v.className;return l.filter(F=>F.Nome&&F.Nome.toLowerCase().includes(n.toLowerCase())&&(!D||F.Turma===D)).slice(0,6)},[n,l,v.className]),T=D=>{b(F=>({...F,studentName:D.Nome,className:D.Turma})),s(D.Nome),o(!1)},_=async D=>{if(D.preventDefault(),!v.studentName)return alert("Selecione um aluno da lista de busca.");if(!v.description.trim())return alert("Descreva o que ocorreu.");x(!0);try{const{error:F}=await ae.from("occurrences").insert([{date:v.date,time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),responsible_name:v.teacherName,classroom_name:v.className,student_name:v.studentName,category:v.type,severity:v.severity,description:v.description,status:"REGISTRADO",location:"SALA DE AULA"}]);if(F)throw F;if(v.forwardToPsychosocial){const{error:q}=await ae.from("psychosocial_referrals").insert([{student_name:v.studentName,class_name:v.className,teacher_name:v.teacherName,school_unit:"ESCOLA ANDR MAGGI",date:v.date,report:`[VIA OCORRNCIA] ${v.description}`,status:"AGUARDANDO_TRIAGEM",student_age:"No informado",attendance_frequency:"0",previous_strategies:"Encaminhamento direto via Oocorrncia",adopted_procedures:["ENCAMINHAMENTO_DIRETO"],observations:{learning:[],behavioral:[],emotional:[]}}]);q?(console.error("Erro ao encaminhar para psicossocial:",q),alert("Ocorrncia salva, mas erro ao encaminhar para Equipe Multi.")):await ae.from("psychosocial_notifications").insert([{title:"Encaminhamento via Ocorrncia",message:`O professor(a) ${v.teacherName} encaminhou o aluno ${v.studentName} atravs de um registro de ocorrncia.`,is_read:!1}])}r(!1),k(),alert("Ocorrncia registrada e enviada para coordenao!")}catch(F){console.error(F),alert("Erro ao salvar ocorrncia.")}finally{x(!1)}},O=async D=>{if(window.confirm("Deseja remover este registro do seu histrico?")){const{error:F}=await ae.from("occurrences").delete().eq("id",D);F&&(console.error(F),alert("Erro ao excluir ocurrencia"))}},M=D=>{switch(D){case"CRTICA":return"bg-red-100 text-red-700 border-red-200";case"ALTA":return"bg-rose-50 text-rose-600 border-rose-100";case"MDIA":return"bg-amber-50 text-amber-600 border-amber-100";default:return"bg-blue-50 text-blue-600 border-blue-100"}};return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-3xl shadow-lg",children:a.jsx(ln,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight leading-none",children:"Registro de Fatos Escolares"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-2",children:"Escriturao disciplinar sincronizada com a coordenao"})]})]}),a.jsxs("button",{onClick:()=>{k(),r(!0)},className:"px-8 py-4 bg-red-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-red-600/20 hover:bg-red-700 active:scale-95 transition-all flex items-center gap-2",children:[a.jsx(ot,{size:18})," Novo Registro"]})]}),a.jsxs("div",{className:"bg-white rounded-[3rem] border border-gray-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-8 border-b border-gray-50 flex items-center justify-between bg-gray-50/50",children:[a.jsxs("h4",{className:"text-lg font-black text-gray-900 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(_t,{className:"text-gray-400",size:20})," Meus Registros Recentes"]}),a.jsx("span",{className:"text-[10px] font-black bg-white text-gray-400 px-3 py-1 rounded-lg border border-gray-100 uppercase tracking-widest",children:"Dirio Docente"})]}),a.jsx("div",{className:"divide-y divide-gray-50",children:u?a.jsx("div",{className:"p-12 flex justify-center",children:a.jsx(vt,{className:"animate-spin text-gray-300",size:32})}):w.length>0?w.map(D=>a.jsxs("div",{className:"p-8 flex flex-col lg:flex-row lg:items-center justify-between gap-8 hover:bg-gray-50/50 transition-all group relative",children:[a.jsxs("div",{className:"flex items-center gap-6 flex-1",children:[a.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center border-2 ${M(D.severity)} shadow-sm`,children:a.jsx(Ta,{size:24})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h4",{className:"text-lg font-black text-gray-900 uppercase tracking-tight",children:D.studentName}),a.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase border ${M(D.severity)}`,children:D.type})]}),a.jsxs("p",{className:"text-xs text-gray-500 font-medium italic mt-1 line-clamp-1",children:['"',D.description,'"']}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-3",children:[a.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[a.jsx(rr,{size:12})," ",new Date(D.date).toLocaleDateString("pt-BR")]}),a.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[a.jsx(Gj,{size:12})," Turma: ",D.className]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>O(D.id),className:"p-3 bg-gray-50 text-gray-300 hover:text-red-500 rounded-xl transition-all",children:a.jsx(Lt,{size:20})}),a.jsx("div",{className:"p-3 bg-gray-50 text-gray-300 group-hover:bg-red-600 group-hover:text-white rounded-xl transition-all shadow-sm",children:a.jsx(ga,{size:24})})]})]},D.id)):a.jsxs("div",{className:"py-24 text-center",children:[a.jsx(wn,{size:48,className:"mx-auto mb-4 text-gray-100"}),a.jsx("p",{className:"text-gray-300 font-black uppercase text-xs tracking-widest",children:"Nenhum registro encontrado no seu histrico"})]})})]}),e&&a.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-red-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-2xl shadow-2xl border border-red-100 overflow-hidden flex flex-col max-h-[95vh]",children:[a.jsxs("div",{className:"p-8 bg-red-50 flex justify-between items-center border-b border-red-100 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-red-600 text-white rounded-3xl shadow-lg",children:a.jsx(ot,{size:28,strokeWidth:3})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Novo Registro de Fato"}),a.jsx("p",{className:"text-[10px] text-red-600 font-bold uppercase tracking-widest mt-1",children:"Escriturao Disciplinar Docente"})]})]}),a.jsx("button",{onClick:()=>r(!1),className:"p-3 bg-white text-gray-400 hover:text-red-500 rounded-2xl shadow-sm transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:a.jsxs("form",{onSubmit:_,className:"space-y-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turma do Aluno"}),a.jsxs("select",{required:!0,value:v.className,onChange:D=>b({...v,className:D.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all uppercase",children:[a.jsx("option",{value:"",children:"Selecione a turma..."}),cl.map(D=>a.jsx("option",{value:D,children:D},D))]})]}),a.jsxs("div",{className:"space-y-1.5 relative",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Identificar Estudante"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",value:n,onFocus:()=>o(!0),onChange:D=>{s(D.target.value),o(!0)},placeholder:"Nome (mn. 2 letras)...",className:"w-full pl-12 pr-6 py-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:ring-4 focus:ring-red-500/5 focus:bg-white transition-all uppercase"})]}),i&&j.length>0&&a.jsx("div",{className:"absolute z-50 left-0 right-0 mt-2 bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden divide-y divide-gray-50 animate-in slide-in-from-top-2",children:j.map(D=>a.jsxs("button",{type:"button",onClick:()=>T(D),className:"w-full text-left p-4 hover:bg-red-50 transition-colors flex justify-between items-center",children:[a.jsx("span",{className:"text-xs font-black uppercase text-gray-800",children:D.Nome}),a.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:D.Turma})]},D.CodigoAluno))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Data"}),a.jsx("input",{type:"date",value:v.date,onChange:D=>b({...v,date:D.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Classificao"}),a.jsx("select",{value:v.type,onChange:D=>b({...v,type:D.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-[10px] uppercase outline-none focus:bg-white transition-all",children:Wke.map(D=>a.jsx("option",{value:D,children:D},D))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Severidade"}),a.jsx("select",{value:v.severity,onChange:D=>b({...v,severity:D.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-[10px] uppercase outline-none focus:bg-white transition-all",children:Xke.map(D=>a.jsx("option",{value:D,children:D},D))})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Descrio Detalhada do Ocorrido"}),a.jsx("textarea",{required:!0,value:v.description,onChange:D=>b({...v,description:D.target.value}),placeholder:"Relate os fatos de forma objetiva e profissional...",className:"w-full p-6 bg-gray-50 border border-gray-100 rounded-[2rem] text-sm font-medium h-40 resize-none outline-none focus:bg-white focus:ring-4 focus:ring-red-500/5 transition-all"})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-red-50 rounded-2xl border border-red-100",children:[a.jsx("input",{type:"checkbox",id:"notif_parents",checked:v.notifiedParents,onChange:D=>b({...v,notifiedParents:D.target.checked}),className:"w-5 h-5 rounded border-red-300 text-red-600 focus:ring-red-500"}),a.jsx("label",{htmlFor:"notif_parents",className:"text-xs font-black text-red-800 uppercase tracking-widest cursor-pointer select-none",children:"Confirmo que os responsveis foram comunicados"})]})]}),a.jsxs("button",{type:"submit",disabled:p,className:"w-full py-5 bg-red-600 text-white rounded-3xl font-black uppercase text-sm tracking-[0.2em] shadow-2xl shadow-red-900/20 hover:bg-red-700 active:scale-95 transition-all flex items-center justify-center gap-3",children:[p?a.jsx(vt,{className:"animate-spin"}):a.jsx(qr,{size:24}),"Efetivar Registro no Dirio"]})]})})]})}),a.jsxs("div",{className:"bg-gray-900 p-8 rounded-[3rem] text-white flex flex-col md:flex-row items-center justify-between gap-8 shadow-2xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10 rotate-12",children:a.jsx(ft,{size:140})}),a.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[a.jsx("div",{className:"p-4 bg-white/10 rounded-3xl backdrop-blur-md",children:a.jsx(Xt,{size:32,className:"text-red-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-400 text-[10px] font-black uppercase tracking-widest mb-1",children:"Ateno Docente"}),a.jsx("h4",{className:"text-xl font-black uppercase",children:"Escriturao Permanente"}),a.jsx("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-tight",children:"Estes registros so sincronizados com o Livro de Ocorrncia da Gesto Escolar."})]})]})]})]})},Z8=["#d97706","#10b981","#ef4444","#3b82f6","#8b5cf6"],Qke=({user:t})=>{var h;const[e,r]=R.useState([]),[n,s]=R.useState([]),[i,o]=R.useState([]),[l,d]=R.useState(!0);R.useEffect(()=>{(async()=>{d(!0);try{const{data:x,error:v}=await ae.from("class_attendance_records").select(`
            *,
            presences:class_attendance_students(*)
          `).eq("teacher_name",t.name).order("date",{ascending:!1});if(v)throw v;const b=x.map(k=>({id:k.id,date:k.date,shift:k.shift,className:k.classroom_name,teacherName:k.teacher_name,subject:k.subject,timestamp:new Date(k.created_at).getTime(),presences:k.presences.map(y=>({studentId:y.student_id,studentName:y.student_name,isPresent:y.is_present}))}));r(b);const{data:w,error:g}=await ae.from("occurrences").select("*").or(`responsible_name.eq."${t.name}",teacher_id.eq."${t.id}"`);if(g)throw g;const S=w.map(k=>({id:k.id,date:k.date,teacherName:k.responsible_name,className:k.classroom_name,studentName:k.student_name,type:k.category,severity:k.severity,description:k.description,notifiedParents:!1,timestamp:new Date(k.created_at||k.date).getTime()}));s(S)}catch(x){console.error("Error fetching performance data:",x)}finally{d(!1)}})()},[]);const u=R.useMemo(()=>{if(e.length===0&&n.length===0)return null;const p={};e.forEach(k=>{p[k.className]||(p[k.className]={total:0,present:0}),k.presences.forEach(y=>{p[k.className].total++,y.isPresent&&p[k.className].present++})});const x=Object.entries(p).map(([k,y])=>({name:k,percentage:y.total>0?y.present/y.total*100:0})),v={};n.forEach(k=>{v[k.type]=(v[k.type]||0)+1});const b=Object.entries(v).map(([k,y])=>({name:k,value:y})),w=e.reduce((k,y)=>{const j=y.presences.filter(T=>T.isPresent).length;return{total:k.total+y.presences.length,present:k.present+j}},{total:0,present:0}),g={};e.forEach(k=>{k.presences.forEach(y=>{!y.isPresent&&y.studentName&&(g[y.studentName]=(g[y.studentName]||0)+1)})});const S=Object.entries(g).sort((k,y)=>y[1]-k[1]).slice(0,5).map(([k,y])=>({name:k,absences:y}));return{attendanceChartData:x,occurrenceChartData:b,globalPresencePercent:w.total>0?w.present/w.total*100:0,totalOccurrences:n.length,mostAbsent:S}},[e,n]);return l?a.jsx("div",{className:"flex justify-center items-center py-32",children:a.jsx(vt,{className:"animate-spin text-gray-300",size:48})}):u?a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[a.jsx("div",{className:"p-3 w-12 h-12 rounded-xl bg-amber-50 text-amber-600 mb-4 flex items-center justify-center",children:a.jsx(mr,{size:24})}),a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Mdia de Presena"}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsxs("p",{className:"text-3xl font-black text-gray-900 mt-1",children:[u.globalPresencePercent.toFixed(1),"%"]}),a.jsxs("span",{className:`text-[10px] font-bold mb-1 flex items-center gap-0.5 ${u.globalPresencePercent>=90?"text-emerald-500":"text-amber-500"}`,children:[u.globalPresencePercent>=90?a.jsx(Vn,{size:10}):a.jsx(CL,{size:10}),u.globalPresencePercent>=90?"Excelente":"Ateno"]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[a.jsx("div",{className:"p-3 w-12 h-12 rounded-xl bg-red-50 text-red-600 mb-4 flex items-center justify-center",children:a.jsx(Xt,{size:24})}),a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Fatos Lanados"}),a.jsx("p",{className:"text-3xl font-black text-gray-900 mt-1",children:u.totalOccurrences})]}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[a.jsx("div",{className:"p-3 w-12 h-12 rounded-xl bg-emerald-50 text-emerald-600 mb-4 flex items-center justify-center",children:a.jsx(Nt,{size:24})}),a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Elogios (Foco Positivo)"}),a.jsx("p",{className:"text-3xl font-black text-gray-900 mt-1",children:((h=u.occurrenceChartData.find(p=>p.name==="ELOGIO"))==null?void 0:h.value)||0})]}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[a.jsx("div",{className:"p-3 w-12 h-12 rounded-xl bg-indigo-50 text-indigo-600 mb-4 flex items-center justify-center",children:a.jsx(kr,{size:24})}),a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Dirios Processados"}),a.jsx("p",{className:"text-3xl font-black text-gray-900 mt-1",children:e.length})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black text-gray-900 uppercase tracking-tight",children:"Assiduidade por Turma"}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Frequncia mdia acumulada"})]}),a.jsx("div",{className:"p-2 bg-amber-50 text-amber-600 rounded-lg",children:a.jsx(Vn,{size:20})})]}),a.jsx("div",{className:"h-72",children:a.jsx(ou,{width:"100%",height:"100%",children:a.jsxs(jb,{data:u.attendanceChartData,children:[a.jsx(Fu,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),a.jsx(so,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:10,fontWeight:700}}),a.jsx(io,{domain:[0,100],axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:10,fontWeight:700}}),a.jsx(Qa,{cursor:{fill:"#f9fafb"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),a.jsx(ui,{dataKey:"percentage",radius:[12,12,0,0],barSize:40,children:u.attendanceChartData.map((p,x)=>a.jsx(Qo,{fill:p.percentage>=90?"#10b981":p.percentage>=75?"#f59e0b":"#ef4444"},`cell-${x}`))})]})})})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black text-gray-900 uppercase tracking-tight",children:"Perfil Comportamental"}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Tipificao de ocorrncias no perodo"})]}),a.jsx("div",{className:"p-2 bg-amber-50 text-amber-600 rounded-lg",children:a.jsx(Gj,{size:20})})]}),a.jsx("div",{className:"h-72 flex flex-col md:flex-row items-center",children:a.jsx(ou,{width:"100%",height:"100%",children:a.jsxs(Fde,{children:[a.jsx(no,{data:u.occurrenceChartData,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:u.occurrenceChartData.map((p,x)=>a.jsx(Qo,{fill:Z8[x%Z8.length]},`cell-${x}`))}),a.jsx(Qa,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),a.jsx(dc,{verticalAlign:"bottom",height:36})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("h3",{className:"text-lg font-black text-gray-900 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Xt,{size:20,className:"text-red-500"})," Alerta de Evaso / Infrequncia"]})}),a.jsxs("div",{className:"space-y-4",children:[u.mostAbsent.map((p,x)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl border border-transparent hover:border-red-100 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center text-red-600 shadow-sm shrink-0 font-black text-xs",children:[x+1,""]}),a.jsx("p",{className:"text-xs font-black text-gray-800 uppercase tracking-tight",children:p.name})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-[10px] font-black text-red-600 uppercase",children:[p.absences," Faltas acumuladas"]}),a.jsx("p",{className:"text-[8px] text-gray-400 font-bold uppercase",children:"ltimos 30 dias"})]}),a.jsx("button",{className:"px-4 py-2 bg-white text-[10px] font-black text-red-600 uppercase rounded-xl border border-red-100 hover:bg-red-600 hover:text-white transition-all shadow-sm",children:"Notificar"})]})]},x)),u.mostAbsent.length===0&&a.jsx("p",{className:"text-center py-10 text-gray-300 font-black uppercase text-xs",children:"Nenhum alerta de frequncia crtico"})]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2.5 bg-violet-50 rounded-xl",children:a.jsx(wn,{size:20,className:"text-violet-600"})}),a.jsx("h3",{className:"text-lg font-black uppercase tracking-tight text-gray-900",children:"Feedbacks Recentes"})]}),a.jsxs("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:[i.map((p,x)=>a.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl border border-transparent hover:border-violet-100 transition-all",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("span",{className:"text-[8px] font-black bg-violet-100 text-violet-600 px-2 py-0.5 rounded uppercase",children:p.type}),a.jsx("span",{className:"text-[8px] font-bold text-gray-400",children:p.date})]}),a.jsx("h4",{className:"text-[10px] font-black text-gray-800 uppercase mb-1",children:p.title}),a.jsxs("p",{className:"text-[11px] text-gray-500 leading-relaxed line-clamp-3 italic",children:['"',p.content,'"']})]},x)),i.length===0&&a.jsx("p",{className:"text-center py-10 text-gray-300 font-black uppercase text-[10px]",children:"Nenhum feedback registrado"})]})]}),a.jsxs("div",{className:"bg-amber-900 p-8 rounded-[2.5rem] text-white relative overflow-hidden flex flex-col shadow-xl",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 rotate-12",children:a.jsx(Mr,{size:140})}),a.jsxs("div",{className:"relative z-10 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2.5 bg-white/10 rounded-xl backdrop-blur-sm",children:a.jsx(Mr,{size:20,className:"text-amber-400"})}),a.jsx("h3",{className:"text-lg font-black uppercase tracking-widest",children:"Insight do Dia"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-amber-100/80 text-sm font-medium leading-relaxed italic",children:u.globalPresencePercent>=90?'"Sua mdia de presena est excelente! Continue aplicando metodologias ativas para manter o engajamento elevado."':'"Identificamos uma queda na frequncia. Considere diversificar os recursos didticos para reconectar os alunos ausentes."'}),a.jsxs("div",{className:"pt-6 border-t border-white/10 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase text-amber-400",children:[a.jsx("span",{children:"Meta de Engajamento"}),a.jsx("span",{children:"85%"})]}),a.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-amber-500",style:{width:`${u.globalPresencePercent}%`}})})]})]})]}),a.jsx("button",{className:"relative z-10 mt-8 w-full py-4 bg-white text-amber-900 rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-amber-50 active:scale-95 transition-all",children:"Plano de Interveno IA"})]})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-gray-400 bg-white rounded-[3rem] border-2 border-dashed border-gray-100",children:[a.jsx(Vn,{size:64,className:"mb-6 opacity-20"}),a.jsx("h3",{className:"text-xl font-black uppercase tracking-widest text-gray-300",children:"Sem dados pedaggicos"}),a.jsx("p",{className:"text-sm font-medium mt-2",children:"Realize a chamada e registre ocorrncias para gerar o painel."})]})},Zke=["LNGUA PORTUGUESA","MATEMTICA","HISTRIA","GEOGRAFIA","CINCIAS","ARTE","EDUCAO FSICA","LNGUA INGLESA","ENSINO RELIGIOSO","PROJETO DE VIDA","PRTICAS EXPERIMENTAIS"],e_e=["6 ANO A","6 ANO B","6 ANO D","6 ANO E","7 ANO A","7 ANO B","8 ANO A","8 ANO B","9 ANO A","9 ANO B"],t_e=({user:t})=>{const[e,r]=R.useState("list"),[n,s]=R.useState([]),[i,o]=R.useState(!1),[l,d]=R.useState(!1),[u,h]=R.useState(null),[p,x]=R.useState({bimestre:"1 BIMESTRE",subject:"",teacher:t.name,year:new Date().getFullYear().toString(),className:"",weeklyClasses:"6",skills:[],recompositionSkills:[],themes:"",rows:[{weekOrDate:"1 semana",content:"",activities:"",methodology:"",evaluation:""}],status:"RASCUNHO",coordinationFeedback:""}),[v,b]=R.useState(null),[w,g]=R.useState(!1),[S,k]=R.useState("");R.useRef(null);const y=async()=>{o(!0);try{const{data:P,error:U}=await ae.from("lesson_plans").select("*").or(`teacher_id.eq.${t.id},content_json->>teacher.eq.${t.name}`).order("created_at",{ascending:!1});if(U)console.error("Error fetching plans:",U);else{const z=(P||[]).map(V=>{const Y=V.content_json||{};return{id:V.id,bimestre:V.bimestre,subject:V.subject,teacher:Y.teacher||t.name,year:Y.year||new Date().getFullYear().toString(),className:Y.className||"",weeklyClasses:Y.weeklyClasses||"0",skills:Y.skills||[],recompositionSkills:Y.recompositionSkills||[],themes:V.themes||"",rows:Y.rows||[],status:V.status,coordinationFeedback:V.teacher_id===t.id?V.coordination_feedback:"",timestamp:V.created_at?new Date(V.created_at).getTime():Date.now()}});s(z)}}catch(P){console.error("Unexpected error:",P)}finally{o(!1)}};R.useEffect(()=>{y();const P=ae.channel("lesson_plans_changes").on("postgres_changes",{event:"*",schema:"public",table:"lesson_plans"},()=>{y()}).subscribe();return()=>{P.unsubscribe()}},[]);const j=()=>{x(P=>{const U=P.rows.length+1;return{...P,rows:[...P.rows,{weekOrDate:`${U} semana`,content:"",activities:"",methodology:"",evaluation:""}]}})},T=P=>{x(U=>({...U,rows:U.rows.filter((z,V)=>V!==P)}))},_=(P,U,z)=>{x(V=>{const Y=[...V.rows];return Y[P]={...Y[P],[U]:z},{...V,rows:Y}})},O=async()=>{if(!p.subject||!p.className)return alert("Selecione o Componente e a Turma primeiro.");g(!0),b(null),k("");try{const P=await d1e(p.subject,p.className),U=await r1e(p.subject,p.className);P&&P.length>0?(b({skills:P,recomposition:(U==null?void 0:U.recomposition)||[]}),U!=null&&U.themes&&x(z=>({...z,themes:U.themes}))):U&&(b({skills:U.skills||[],recomposition:U.recomposition||[]}),x(z=>({...z,themes:U.themes||z.themes})))}catch(P){console.error("Erro na busca de habilidades:",P),alert(`Erro ao consultar as habilidades: ${P.message||P}`)}finally{g(!1)}},M=(P,U)=>{x(z=>{const V=z[U];return V.find(se=>se.code===P.code)?{...z,[U]:V.filter(se=>se.code!==P.code)}:{...z,[U]:[...V,P]}})},D=(P,U)=>{if(!v)return;const z=P==="skills"?v.skills:v.recomposition;x(V=>({...V,[P]:U?z:[]}))},F=R.useMemo(()=>v?v.skills.filter(P=>P.code.toLowerCase().includes(S.toLowerCase())||P.description.toLowerCase().includes(S.toLowerCase())):[],[v,S]),q=async P=>{if(!p.subject)return alert("Selecione a disciplina");d(!0);const U=P||p.status,z={teacher:p.teacher,year:p.year,className:p.className,weeklyClasses:p.weeklyClasses,skills:p.skills,recompositionSkills:p.recompositionSkills,rows:p.rows};try{if(u){const{error:V}=await ae.from("lesson_plans").update({subject:p.subject,bimestre:p.bimestre,themes:p.themes,content_json:z,status:U,teacher_id:t.id}).eq("id",u);if(V)throw V}else{const{error:V}=await ae.from("lesson_plans").insert([{subject:p.subject,bimestre:p.bimestre,themes:p.themes,content_json:z,status:U,teacher_id:t.id}]);if(V)throw V}alert(U==="EM_ANALISE"?"Roteiro enviado para a Coordenao!":"Roteiro salvo!"),r("list"),x({bimestre:"1 BIMESTRE",subject:"",teacher:t.name,year:new Date().getFullYear().toString(),className:"",weeklyClasses:"6",skills:[],recompositionSkills:[],themes:"",rows:[{weekOrDate:"1 semana",content:"",activities:"",methodology:"",evaluation:""}],status:"RASCUNHO",coordinationFeedback:""}),h(null)}catch(V){console.error(V),alert("Erro ao salvar roteiro.")}finally{d(!1)}},L=async P=>{if(window.confirm("Tem certeza que deseja excluir este roteiro?")){const{error:U}=await ae.from("lesson_plans").delete().eq("id",P);U&&alert("Erro ao excluir.")}},B=()=>{h(null),x({bimestre:"1 BIMESTRE",subject:"",teacher:t.name,year:new Date().getFullYear().toString(),className:"",weeklyClasses:"6",skills:[],recompositionSkills:[],themes:"",rows:[{weekOrDate:"1 semana",content:"",activities:"",methodology:"",evaluation:""}],status:"RASCUNHO"}),b(null),r("form")},X=P=>{switch(P){case"RASCUNHO":return{label:"Rascunho",color:"bg-gray-100 text-gray-500",icon:hx};case"EM_ANALISE":return{label:"Aguardando Validao",color:"bg-amber-100 text-amber-700",icon:rr};case"VALIDADO":return{label:"Validado pela Coordenao",color:"bg-emerald-100 text-emerald-700",icon:Nt};case"CORRECAO_SOLICITADA":return{label:"Correo Solicitada",color:"bg-red-100 text-red-700",icon:Ta};default:return{label:P,color:"bg-gray-100",icon:zt}}};return e==="list"?a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tight",children:"Meus Roteiros"}),a.jsx("p",{className:"text-gray-500 font-bold text-xs uppercase tracking-widest",children:"Acompanhamento Pedaggico (6 ao 9 Ano)"})]}),a.jsxs("button",{onClick:B,className:"px-8 py-4 bg-amber-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-amber-600/20 hover:bg-amber-700 transition-all flex items-center gap-2",children:[a.jsx(ot,{size:18})," Novo Roteiro"]})]}),i?a.jsx("div",{className:"flex justify-center p-12",children:a.jsx(vt,{className:"animate-spin text-gray-300"})}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.map(P=>{const{label:U,color:z,icon:V}=X(P.status);return a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-gray-100 shadow-sm hover:border-amber-200 transition-all group flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-amber-50 text-amber-600 rounded-2xl",children:a.jsx(zt,{size:24})}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-[8px] font-black uppercase tracking-widest ${z} flex items-center gap-1.5`,children:[a.jsx(V,{size:10})," ",U]})]}),a.jsx("h4",{className:"text-lg font-black text-gray-900 uppercase leading-tight line-clamp-1",children:P.subject}),a.jsxs("p",{className:"text-[10px] text-gray-400 font-bold uppercase mt-1",children:["Turma: ",P.className,"  ",P.year]}),P.status==="CORRECAO_SOLICITADA"&&a.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-100 rounded-xl",children:[a.jsxs("p",{className:"text-[9px] font-black text-red-600 uppercase flex items-center gap-1.5 mb-1",children:[a.jsx(Ph,{size:10})," Feedback da Coordenao:"]}),a.jsxs("p",{className:"text-[10px] text-red-800 font-medium italic",children:['"',P.coordinationFeedback,'"']})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>{x(P),h(P.id),r("form")},className:"text-amber-600 font-black uppercase text-[10px] tracking-widest flex items-center gap-1",children:["Editar ",a.jsx(ga,{size:12})]}),a.jsx("button",{onClick:()=>L(P.id),className:"text-gray-300 hover:text-red-500 transition-colors",children:a.jsx(Lt,{size:16})})]})]},P.id)}),n.length===0&&a.jsxs("div",{className:"col-span-full py-24 text-center border-2 border-dashed border-gray-100 rounded-[3rem]",children:[a.jsx(hx,{size:48,className:"mx-auto mb-4 text-gray-200"}),a.jsx("p",{className:"text-gray-400 font-black uppercase text-xs tracking-widest",children:"Nenhum roteiro cadastrado"})]})]})]}):a.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6 no-print",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("button",{onClick:()=>r("list"),className:"p-3 bg-gray-50 text-gray-400 hover:text-amber-600 rounded-2xl transition-all",children:a.jsx(cr,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Editor de Roteiro Curricular"}),a.jsxs("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-1 flex items-center gap-1.5",children:[a.jsx(ft,{size:12})," Padro SEDUC-MT / Referencial de Mato Grosso"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>q("RASCUNHO"),disabled:l,className:"px-6 py-4 bg-gray-100 text-gray-500 rounded-xl font-black uppercase text-[10px] tracking-widest hover:bg-gray-200 transition-all flex items-center gap-2",children:[l&&a.jsx(vt,{className:"animate-spin",size:14})," Salvar Rascunho"]}),a.jsxs("button",{onClick:()=>q("EM_ANALISE"),disabled:l,className:"px-8 py-4 bg-indigo-600 text-white rounded-xl font-black uppercase text-[10px] tracking-widest shadow-xl shadow-indigo-600/20 hover:bg-indigo-700 transition-all flex items-center gap-2",children:[l?a.jsx(vt,{className:"animate-spin",size:16}):a.jsx(Wi,{size:16})," Enviar para Coordenao"]})]})]}),p.status==="CORRECAO_SOLICITADA"&&a.jsxs("div",{className:"bg-red-50 border-2 border-red-200 p-6 rounded-[2.5rem] animate-in slide-in-from-top-4 duration-500 flex items-start gap-5",children:[a.jsx("div",{className:"p-3 bg-red-600 text-white rounded-2xl shadow-lg",children:a.jsx(Ta,{size:28})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-black text-red-900 uppercase tracking-tight",children:"Ajustes Solicitados"}),a.jsx("p",{className:"text-red-700 font-medium text-sm mt-1",children:"Sua coordenao pedaggica solicitou alteraes neste roteiro:"}),a.jsx("div",{className:"mt-4 p-4 bg-white/60 rounded-2xl border border-red-100",children:a.jsxs("p",{className:"text-red-900 font-bold italic",children:['"',p.coordinationFeedback,'"']})})]})]}),a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-gray-100 shadow-sm space-y-10 no-print",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-6",children:[a.jsxs("div",{className:"md:col-span-1 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Bimestre"}),a.jsx("select",{value:p.bimestre,onChange:P=>x({...p,bimestre:P.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs outline-none",children:["1 BIMESTRE","2 BIMESTRE","3 BIMESTRE","4 BIMESTRE"].map(P=>a.jsx("option",{children:P},P))})]}),a.jsxs("div",{className:"md:col-span-2 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Componente Curricular"}),a.jsxs("select",{value:p.subject,onChange:P=>x({...p,subject:P.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs outline-none",children:[a.jsx("option",{value:"",children:"Selecione a disciplina..."}),Zke.map(P=>a.jsx("option",{value:P,children:P},P))]})]}),a.jsxs("div",{className:"md:col-span-2 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Ano/Turma"}),a.jsxs("select",{value:p.className,onChange:P=>x({...p,className:P.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs outline-none",children:[a.jsx("option",{value:"",children:"Selecione a turma..."}),e_e.map(P=>a.jsx("option",{value:P,children:P},P))]})]}),a.jsxs("div",{className:"md:col-span-1 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Aulas/Sem"}),a.jsx("input",{value:p.weeklyClasses,onChange:P=>x({...p,weeklyClasses:P.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs outline-none text-center"})]})]}),p.subject&&p.className&&a.jsx("div",{className:"p-1 bg-gradient-to-r from-amber-500 to-indigo-600 rounded-[2.5rem] animate-in zoom-in-95 duration-500",children:a.jsxs("button",{onClick:O,disabled:w,className:"w-full h-full py-6 bg-white hover:bg-gray-50 transition-all rounded-[2.3rem] flex items-center justify-center gap-4 group",children:[w?a.jsx(vt,{size:24,className:"animate-spin text-indigo-600"}):a.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-xl group-hover:scale-110 transition-transform",children:a.jsx(Mr,{size:24})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase tracking-tight",children:"Buscar Habilidades BNCC"}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:w?"Buscando no banco de dados...":"Base de dados BNCC / DRC-MT integrada"})]}),!w&&a.jsx(Ho,{size:18,className:"text-amber-500 fill-amber-500"})]})}),v&&a.jsxs("div",{className:"space-y-12 animate-in slide-in-from-top-4 duration-500",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 px-2",children:[a.jsxs("h4",{className:"text-xs font-black text-gray-900 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(RA,{size:18,className:"text-amber-600"})," Matriz de Habilidades Encontradas"]}),a.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[a.jsxs("div",{className:"relative flex-1 md:w-64",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-300",size:14}),a.jsx("input",{type:"text",placeholder:"Filtrar por cdigo ou texto...",value:S,onChange:P=>k(P.target.value),className:"w-full pl-9 pr-4 py-2 bg-gray-50 border border-gray-100 rounded-xl text-[10px] font-bold outline-none"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>D("skills",!0),className:"px-3 py-2 bg-emerald-50 text-emerald-700 rounded-lg text-[8px] font-black uppercase flex items-center gap-1 border border-emerald-100 hover:bg-emerald-100 transition-all",children:[a.jsx(gx,{size:12})," Tudo"]}),a.jsxs("button",{onClick:()=>D("skills",!1),className:"px-3 py-2 bg-gray-50 text-gray-400 rounded-lg text-[8px] font-black uppercase flex items-center gap-1 border border-gray-100 hover:bg-gray-100 transition-all",children:[a.jsx(LA,{size:12})," Limpar"]})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar p-1",children:F.map(P=>{const U=p.skills.find(z=>z.code===P.code);return a.jsxs("div",{onClick:()=>M(P,"skills"),className:`p-6 rounded-3xl border-2 transition-all cursor-pointer flex items-start gap-4 ${U?"bg-amber-50 border-amber-500 shadow-md scale-[0.98]":"bg-gray-50 border-gray-100 hover:border-amber-200"}`,children:[a.jsx("div",{className:"mt-1 shrink-0",children:U?a.jsx(Nt,{className:"text-amber-600",size:24}):a.jsx(IA,{className:"text-gray-300",size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-amber-700 uppercase mb-1",children:P.code}),a.jsx("p",{className:"text-[11px] font-medium text-gray-600 leading-relaxed",children:P.description})]})]},P.code)})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center px-2",children:[a.jsxs("h4",{className:"text-xs font-black text-gray-900 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Mr,{size:18,className:"text-indigo-600"})," Sugestes para Recomposio"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>D("recompositionSkills",!0),className:"px-3 py-2 bg-indigo-50 text-indigo-700 rounded-lg text-[8px] font-black uppercase flex items-center gap-1 border border-indigo-100 hover:bg-indigo-100 transition-all",children:[a.jsx(gx,{size:12})," Tudo"]}),a.jsxs("button",{onClick:()=>D("recompositionSkills",!1),className:"px-3 py-2 bg-gray-50 text-gray-400 rounded-lg text-[8px] font-black uppercase flex items-center gap-1 border border-gray-100 hover:bg-gray-100 transition-all",children:[a.jsx(LA,{size:12})," Limpar"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar p-1",children:v.recomposition.map(P=>{const U=p.recompositionSkills.find(z=>z.code===P.code);return a.jsxs("div",{onClick:()=>M(P,"recompositionSkills"),className:`p-6 rounded-3xl border-2 transition-all cursor-pointer flex items-start gap-4 ${U?"bg-indigo-50 border-indigo-500 shadow-md scale-[0.98]":"bg-gray-50 border-gray-100 hover:border-indigo-200"}`,children:[a.jsx("div",{className:"mt-1 shrink-0",children:U?a.jsx(Nt,{className:"text-indigo-600",size:24}):a.jsx(IA,{className:"text-gray-300",size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-indigo-700 uppercase mb-1",children:P.code}),a.jsx("p",{className:"text-[11px] font-medium text-gray-600 leading-relaxed",children:P.description})]})]},P.code)})})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Unidades Temticas Sugeridas"}),a.jsx("textarea",{value:p.themes,onChange:P=>x({...p,themes:P.target.value}),className:"w-full p-6 bg-gray-50 border border-gray-100 rounded-[2rem] text-sm font-medium h-28 resize-none outline-none focus:bg-white transition-all",placeholder:"Liste as unidades que sero abordadas..."})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center px-2",children:[a.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Descrio das Aulas (Dirio de Bordo)"}),a.jsx("button",{type:"button",onClick:j,className:"p-2 bg-amber-50 text-amber-600 rounded-lg hover:bg-amber-600 hover:text-white transition-all",children:a.jsx(ot,{size:18})})]}),a.jsx("div",{className:"border border-gray-100 rounded-[2.5rem] overflow-hidden shadow-inner overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse min-w-[800px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-[9px] font-black text-gray-400 uppercase tracking-widest border-b border-gray-100",children:[a.jsx("th",{className:"px-6 py-4 w-40",children:"Data/Durao"}),a.jsx("th",{className:"px-6 py-4",children:"Contedo"}),a.jsx("th",{className:"px-6 py-4",children:"Atividades"}),a.jsx("th",{className:"px-6 py-4",children:"Metodologia"}),a.jsx("th",{className:"px-6 py-4",children:"Avaliao"}),a.jsx("th",{className:"px-4 py-4 w-12"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50",children:p.rows.map((P,U)=>a.jsxs("tr",{className:"group hover:bg-gray-50/50",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{value:P.weekOrDate,onChange:z=>_(U,"weekOrDate",z.target.value),className:"w-full p-2 bg-transparent font-bold text-xs outline-none"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("textarea",{value:P.content,onChange:z=>_(U,"content",z.target.value),className:"w-full p-2 bg-transparent text-xs resize-none outline-none h-16"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("textarea",{value:P.activities,onChange:z=>_(U,"activities",z.target.value),className:"w-full p-2 bg-transparent text-xs resize-none outline-none h-16"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("textarea",{value:P.methodology,onChange:z=>_(U,"methodology",z.target.value),className:"w-full p-2 bg-transparent text-xs resize-none outline-none h-16"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("textarea",{value:P.evaluation,onChange:z=>_(U,"evaluation",z.target.value),className:"w-full p-2 bg-transparent text-xs resize-none outline-none h-16"})}),a.jsx("td",{className:"px-2 py-3",children:a.jsx("button",{type:"button",onClick:()=>T(U),className:"p-2 text-gray-200 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all",children:a.jsx(Ze,{size:14})})})]},U))})]})})]})]}),a.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.1); border-radius: 10px; }
      `})]})},eL=["1 BIMESTRE","2 BIMESTRE","3 BIMESTRE","4 BIMESTRE"],r_e=["6 ANO A","6 ANO B","6 ANO D","6 ANO E","7 ANO A","7 ANO B","7 ANO D","7 ANO E","8 ANO A","8 ANO B","8 ANO D","9 ANO A","9 ANO B","9 ANO C"],tL=["MATEMTICA","LNGUA PORTUGUESA","CINCIAS","HISTRIA","GEOGRAFIA","ARTE","EDUCAO FSICA","LNGUA INGLESA","ENSINO RELIGIOSO"],a_e=({user:t})=>{const[e,r]=R.useState(""),[n,s]=R.useState(eL[0]),[i,o]=R.useState(tL[0]),[l,d]=R.useState(!1),[u,h]=R.useState(!1),[p,x]=R.useState([]),[v,b]=R.useState({}),[w,g]=R.useState(null);R.useEffect(()=>{const _=localStorage.getItem("secretariat_detailed_students_v1"),O=_?JSON.parse(_):$i;if(e){const M=O.filter(D=>D.Turma.toUpperCase()===e.toUpperCase());x(M),M.length>0&&S(e,i,n,M)}else x([]),b({}),g(null)},[e,i,n]);const S=async(_,O,M,D)=>{h(!0);try{const{data:F}=await ae.from("classrooms").select("id").eq("name",_).single();if(!F){b(k(D)),g(null);return}const q=F.id,{data:L}=await ae.from("assessments").select("id").eq("classroom_id",q).eq("subject",O).eq("bimestre",M).single();if(L){g(L.id);const{data:B}=await ae.from("grades").select("student_code, score").eq("assessment_id",L.id),X={};D.forEach(P=>X[P.CodigoAluno]=0),B&&B.forEach(P=>{P.student_code&&(X[P.student_code]=P.score)}),b(X)}else g(null),b(k(D))}catch(F){console.error(F),b(k(D))}finally{h(!1)}},k=_=>{const O={};return _.forEach(M=>O[M.CodigoAluno]=0),O},y=(_,O)=>{let M=parseFloat(O.replace(",","."));isNaN(M)&&(M=0),M>10&&(M=10),M<0&&(M=0),b(D=>({...D,[_]:M}))},j=_=>_>=8?"ALTO":_>=6?"MDIO":_>=4?"BAIXO":"MUITO_BAIXO",T=async()=>{if(!(!e||p.length===0)){d(!0);try{let _="";const{data:O}=await ae.from("classrooms").select("id").eq("name",e).single();if(O)_=O.id;else{const{data:L,error:B}=await ae.from("classrooms").insert([{name:e,year:new Date().getFullYear().toString(),shift:"MATUTINO"}]).select("id").single();if(B)throw B;_=L.id}let M=w;if(!M){const{data:L}=await ae.from("assessments").select("id").eq("classroom_id",_).eq("subject",i).eq("bimestre",n).single();L&&(M=L.id)}if(!M){const{data:L,error:B}=await ae.from("assessments").insert([{classroom_id:_,subject:i,bimestre:n,date:new Date().toISOString(),type:"AVALIACAO_BIMESTRAL",max_score:10,teacher_id:t.id}]).select("id").single();if(B)throw B;M=L.id,g(M)}const D=p.map(L=>({assessment_id:M,student_code:L.CodigoAluno,student_name:L.Nome,score:v[L.CodigoAluno],proficiency_level:j(v[L.CodigoAluno])})),{error:F}=await ae.from("grades").delete().eq("assessment_id",M);if(F)throw F;const{error:q}=await ae.from("grades").insert(D);if(q)throw q;alert("Notas lanadas e sincronizadas com a coordenao!")}catch(_){console.error("Error saving grades:",_),alert("Erro ao salvar notas. Tente novamente.")}finally{d(!1)}}};return a.jsxs("div",{className:"space-y-6 md:space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-3xl md:rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col lg:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4 w-full",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turma"}),a.jsxs("select",{value:e,onChange:_=>r(_.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase outline-none focus:ring-4 focus:ring-amber-500/5 transition-all",children:[a.jsx("option",{value:"",children:"Selecionar Turma..."}),r_e.map(_=>a.jsx("option",{value:_,children:_},_))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Bimestre"}),a.jsx("select",{value:n,onChange:_=>s(_.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase outline-none",children:eL.map(_=>a.jsx("option",{value:_,children:_},_))})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Componente Curricular"}),a.jsx("select",{value:i,onChange:_=>o(_.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase outline-none",children:tL.map(_=>a.jsx("option",{value:_,children:_},_))})]})]}),a.jsxs("button",{onClick:T,disabled:l||p.length===0,className:"w-full lg:w-auto px-8 py-4 bg-indigo-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-indigo-600/20 hover:bg-indigo-700 active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-50 shrink-0",children:[l?a.jsx(vt,{size:18,className:"animate-spin"}):a.jsx(GV,{size:18}),"Finalizar Boletim"]})]}),p.length>0?a.jsxs("div",{className:"bg-white rounded-3xl md:rounded-[3rem] border border-gray-100 shadow-sm overflow-hidden",children:[u&&a.jsx("div",{className:"absolute inset-0 bg-white/50 z-10 flex items-center justify-center backdrop-blur-sm",children:a.jsx(vt,{className:"animate-spin text-indigo-600",size:32})}),a.jsxs("div",{className:"p-6 md:p-8 border-b border-gray-50 flex flex-col md:flex-row justify-between items-start md:items-center bg-gray-50/50 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[a.jsx("div",{className:"p-2 md:p-3 bg-indigo-50 text-indigo-600 rounded-xl shadow-sm",children:a.jsx(hx,{size:18,"md:size":20})}),a.jsxs("h3",{className:"text-sm md:text-lg font-black text-gray-900 uppercase tracking-tight",children:["Notas  ",a.jsx("span",{className:"text-indigo-600",children:i})]})]}),a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 md:px-4 md:py-2 bg-white rounded-xl border border-gray-100 shadow-sm",children:[a.jsx(ft,{size:14,"md:size":16,className:"text-indigo-400"}),a.jsx("span",{className:"text-[8px] md:text-[10px] font-black text-gray-400 uppercase tracking-widest text-nowrap",children:"Base Auditada"})]})]}),a.jsx("div",{className:"hidden md:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50/50 text-[10px] font-black text-gray-400 uppercase tracking-widest border-b border-gray-100",children:[a.jsx("th",{className:"px-8 py-4",children:"Estudante"}),a.jsx("th",{className:"px-8 py-4 text-center",children:"Nota (0-10)"}),a.jsx("th",{className:"px-8 py-4 text-center",children:"Proficincia"}),a.jsx("th",{className:"px-8 py-4 text-right",children:"Ao"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50",children:p.map(_=>{const O=v[_.CodigoAluno]||0,M=j(O);return a.jsxs("tr",{className:"hover:bg-gray-50 transition-all",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase leading-none",children:_.Nome}),a.jsxs("p",{className:"text-[9px] text-gray-400 font-bold mt-1.5 uppercase tracking-tighter",children:["Cdigo: ",_.CodigoAluno]})]}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("input",{type:"number",step:"0.1",min:"0",max:"10",value:v[_.CodigoAluno]||"",onChange:D=>y(_.CodigoAluno,D.target.value),className:"w-20 p-3 bg-gray-50 border border-gray-200 rounded-xl font-black text-center text-lg outline-none focus:bg-white focus:border-indigo-500 transition-all",placeholder:"0.0"})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:`px-3 py-1 rounded-lg text-[8px] font-black uppercase border ${M==="ALTO"?"bg-emerald-50 text-emerald-700 border-emerald-100":M==="MDIO"?"bg-blue-50 text-blue-700 border-blue-100":M==="BAIXO"?"bg-amber-50 text-amber-700 border-amber-100":"bg-red-50 text-red-700 border-red-100"}`,children:M.replace("_"," ")})}),a.jsx("td",{className:"px-8 py-6 text-right",children:O>=6?a.jsx(Nt,{size:18,className:"text-emerald-500 inline-block"}):a.jsx(Xt,{size:18,className:"text-red-400 inline-block"})})]},_.CodigoAluno)})})]})}),a.jsx("div",{className:"md:hidden divide-y divide-gray-100",children:p.map(_=>{const O=v[_.CodigoAluno]||0,M=j(O);return a.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-gray-900 uppercase leading-tight",children:_.Nome}),a.jsxs("p",{className:"text-[8px] text-gray-400 font-bold mt-1 uppercase",children:["Cdigo: ",_.CodigoAluno]})]}),a.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[7px] font-black uppercase border ${M==="ALTO"?"bg-emerald-50 text-emerald-700 border-emerald-100":M==="MDIO"?"bg-blue-50 text-blue-700 border-blue-100":M==="BAIXO"?"bg-amber-50 text-amber-700 border-amber-100":"bg-red-50 text-red-700 border-red-100"}`,children:M.replace("_"," ")})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("label",{className:"absolute -top-2 left-3 bg-white px-1 text-[7px] font-black text-gray-400 uppercase tracking-widest",children:"Nota do Aluno"}),a.jsx("input",{type:"number",step:"0.1",min:"0",max:"10",value:v[_.CodigoAluno]||"",onChange:D=>y(_.CodigoAluno,D.target.value),className:"w-full p-3.5 bg-gray-50 border border-gray-200 rounded-xl font-black text-center text-xl outline-none focus:bg-white focus:border-indigo-500 transition-all",placeholder:"0.0"})]}),a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-50 border border-gray-100 flex items-center justify-center",children:O>=6?a.jsx(Nt,{size:18,className:"text-emerald-500"}):a.jsx(Xt,{size:18,className:"text-red-400"})})]})]},_.CodigoAluno)})})]}):a.jsxs("div",{className:"py-32 text-center bg-white rounded-[3rem] border-2 border-dashed border-gray-100",children:[a.jsx(on,{size:64,className:"mx-auto mb-4 text-gray-100"}),a.jsx("p",{className:"text-gray-400 font-black uppercase text-xs tracking-widest",children:"Selecione uma turma para carregar a lista de notas"})]})]})},rL=[{id:"fone-01",name:"KIT FONE 01",units:30},{id:"fone-02",name:"KIT FONE 02",units:30},{id:"fone-03",name:"KIT FONE 03",units:30}],n_e=[{id:"m1",name:"PAPEL SULFITE A4 BRANCO",category:"PAPELARIA",unit:"PCT",current:50,min:10},{id:"m2",name:"COLA BRANCA 500G",category:"PAPELARIA",unit:"FRASCO",current:20,min:5},{id:"m3",name:"TESOURA ESCOLAR SEM PONTA",category:"PAPELARIA",unit:"UNID",current:30,min:10},{id:"m4",name:"TINTA GUACHE 250ML (CORES MISTAS)",category:"ARTE",unit:"FRASCO",current:15,min:5},{id:"m5",name:"CARTOLINA BRANCA",category:"ARTE",unit:"UNID",current:100,min:20},{id:"m6",name:"CANETA HIDROGRFICA 12 CORES",category:"ARTE",unit:"CX",current:25,min:5},{id:"m7",name:"LPIS DE COR 12 CORES",category:"PAPELARIA",unit:"CX",current:40,min:10},{id:"m8",name:"GRAMPEADOR DE MESA 26/6",category:"ESCRITRIO",unit:"UNID",current:10,min:2}],s_e=["MATUTINO","VESPERTINO"],i_e=()=>{const[t,e]=R.useState("consumables"),[r,n]=R.useState(""),[s,i]=R.useState("TODOS"),[o]=R.useState(n_e),[l,d]=R.useState([]),[u,h]=R.useState(""),[p,x]=R.useState([]),[v,b]=R.useState(new Date().toISOString().split("T")[0]),[w,g]=R.useState([]),[S,k]=R.useState(null),[y,j]=R.useState(""),[T,_]=R.useState(""),[O,M]=R.useState(!1),[D,F]=R.useState(""),[q,L]=R.useState(1);R.useEffect(()=>{B(),X();const W=ae.channel("requests-changes").on("postgres_changes",{event:"*",schema:"public",table:"pedagogical_requests"},B).subscribe(),Q=ae.channel("bookings-changes").on("postgres_changes",{event:"*",schema:"public",table:"bookings"},X).subscribe();return()=>{W.unsubscribe(),Q.unsubscribe()}},[]);const B=async()=>{const{data:W}=await ae.from("pedagogical_requests").select("*").or(`teacher_name.eq."${user.name}",teacher_id.eq."${user.id}"`).order("created_at",{ascending:!1});if(W){const Q=W.map(ee=>({id:ee.id,date:ee.created_at,teacherName:ee.teacher_name,status:ee.status,reason:ee.reason,timestamp:new Date(ee.created_at).getTime(),items:ee.items_json}));x(Q)}},X=async()=>{const{data:W}=await ae.from("bookings").select("*").eq("resource_type","EQUIPMENT").or(`user_name.eq."${user.name}",user_id.eq."${user.id}"`);if(W){const Q=W.map(ee=>{var he;return{id:ee.id,equipmentId:ee.resource_id,equipmentName:((he=rL.find(je=>je.id===ee.resource_id))==null?void 0:he.name)||ee.resource_id,date:ee.date,shift:ee.shift,teacherName:ee.user_name,className:ee.purpose,status:ee.status,timestamp:new Date(ee.created_at).getTime(),studentList:ee.description}});g(Q)}},P=R.useMemo(()=>o.filter(W=>{const Q=W.name.toLowerCase().includes(r.toLowerCase()),ee=s==="TODOS"||W.category===s;return Q&&ee}),[o,r,s]),U=R.useMemo(()=>{const W=new Set(o.map(Q=>Q.category));return["TODOS",...Array.from(W)]},[o]),z=W=>{d(Q=>Q.find(he=>he.materialId===W.id)?Q.map(he=>he.materialId===W.id?{...he,quantity:he.quantity+1}:he):[...Q,{materialId:W.id,materialName:W.name,quantity:1,unit:W.unit}])},V=W=>{d(Q=>Q.filter(ee=>ee.materialId!==W))},Y=(W,Q)=>{d(ee=>ee.map(he=>he.materialId===W?{...he,quantity:Math.max(1,Q)}:he))},se=async()=>{if(l.length===0)return alert("Selecione ao menos um item.");if(!u.trim())return alert("Por favor, informe o motivo da solicitao.");try{const{error:W}=await ae.from("pedagogical_requests").insert([{teacher_name:user.name,teacher_id:user.id,items_json:l,reason:u,status:"PENDENTE"}]);if(W)throw W;d([]),h(""),alert("Solicitao de materiais enviada com sucesso!"),e("history")}catch(W){console.error(W),alert("Erro ao enviar solicitao.")}},K=async W=>{if(W.preventDefault(),!S||!y)return;const Q=w.find(ee=>ee.date===v&&ee.shift===S.shift&&ee.equipmentId===S.kitId&&ee.status!=="RECUSADO");if(Q)return alert(`Este kit j est reservado por ${Q.teacherName} para este dia e turno.`);try{const{error:ee}=await ae.from("bookings").insert([{resource_id:S.kitId,resource_type:"EQUIPMENT",date:v,shift:S.shift,user_name:user.name,user_id:user.id,purpose:y.toUpperCase(),description:T,status:"SOLICITADO"}]);if(ee)throw ee;k(null),j(""),_(""),alert("Reserva de kit solicitada ao Almoxarifado!")}catch(ee){console.error(ee),alert("Erro ao realizar reserva.")}},G=()=>{if(!D.trim())return alert("Informe o nome do material.");if(q<1)return alert("Quantidade invlida.");d(W=>[...W,{materialId:`custom-${Date.now()}`,materialName:D.toUpperCase(),quantity:q,unit:"UNID",isCustom:!0}]),F(""),L(1),M(!1)};return a.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6 no-print",children:[a.jsxs("div",{className:"flex bg-gray-100 p-1.5 rounded-2xl",children:[a.jsx("button",{onClick:()=>e("consumables"),className:`px-8 py-3 rounded-xl text-[10px] font-black uppercase transition-all ${t==="consumables"?"bg-amber-600 text-white shadow-lg":"text-gray-400 hover:text-gray-600"}`,children:"Materiais de Consumo"}),a.jsx("button",{onClick:()=>e("equipment"),className:`px-8 py-3 rounded-xl text-[10px] font-black uppercase transition-all ${t==="equipment"?"bg-amber-600 text-white shadow-lg":"text-gray-400 hover:text-gray-600"}`,children:"Kits de T.I."}),a.jsx("button",{onClick:()=>e("history"),className:`px-8 py-3 rounded-xl text-[10px] font-black uppercase transition-all ${t==="history"?"bg-amber-600 text-white shadow-lg":"text-gray-400 hover:text-gray-600"}`,children:"Minhas Requisies"})]}),a.jsxs("div",{className:"hidden lg:flex items-center gap-2 bg-amber-50 px-4 py-2 rounded-xl border border-amber-100",children:[a.jsx(ln,{size:14,className:"text-amber-600"}),a.jsx("span",{className:"text-[10px] font-black text-amber-700 uppercase tracking-widest",children:"Requisio Direta Almoxarifado"})]})]}),t==="consumables"&&a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[a.jsx("div",{className:"xl:col-span-2 space-y-6",children:a.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-gray-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 w-full md:w-auto",children:[a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 w-full md:w-auto",children:U.map(W=>a.jsx("button",{onClick:()=>i(W),className:`px-5 py-2.5 rounded-xl text-[9px] font-black uppercase transition-all whitespace-nowrap ${s===W?"bg-amber-600 text-white shadow-md":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:W},W))}),a.jsxs("button",{onClick:()=>M(!0),className:"w-full md:w-auto px-4 py-2 bg-amber-100 text-amber-700 rounded-xl text-[10px] font-black uppercase hover:bg-amber-200 transition-colors flex items-center justify-center gap-2",children:[a.jsx(ot,{size:14})," Solicitar Outro Material"]})]}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-300",size:16}),a.jsx("input",{type:"text",placeholder:"Filtrar por nome...",value:r,onChange:W=>n(W.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border-none rounded-xl text-xs font-bold outline-none focus:ring-4 focus:ring-amber-500/5 transition-all"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:P.map(W=>a.jsxs("div",{className:"group p-5 bg-gray-50 rounded-[2rem] border border-transparent hover:border-amber-200 hover:bg-white transition-all flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-2xl shadow-sm text-gray-400 group-hover:text-amber-600 transition-colors",children:a.jsx(Us,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-gray-900 uppercase leading-tight",children:W.name}),a.jsxs("p",{className:"text-[9px] text-gray-400 font-bold uppercase mt-1",children:[W.category," | ",W.unit]})]})]}),a.jsx("button",{onClick:()=>z(W),className:"p-2.5 bg-white text-gray-300 hover:bg-amber-600 hover:text-white rounded-xl shadow-sm transition-all",children:a.jsx(ot,{size:18})})]},W.id))})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm space-y-8 sticky top-8",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-50 pb-4",children:[a.jsxs("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(PA,{size:18,className:"text-amber-600"})," Resumo do Pedido"]}),a.jsxs("span",{className:"text-[10px] font-black bg-amber-50 text-amber-600 px-3 py-1 rounded-full uppercase",children:[l.length," Itens"]})]}),a.jsxs("div",{className:"space-y-4 max-h-[350px] overflow-y-auto pr-2 custom-scrollbar",children:[l.map(W=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-2xl border border-gray-100",children:[a.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[a.jsxs("p",{className:"text-[10px] font-black text-gray-900 uppercase truncate",children:[W.materialName,W.isCustom&&a.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-amber-100 text-amber-700 rounded text-[7px]",children:"EXTRA"})]}),a.jsx("p",{className:"text-[8px] text-gray-400 font-bold uppercase",children:W.unit})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"number",min:"1",value:W.quantity,onChange:Q=>Y(W.materialId,parseInt(Q.target.value)),className:"w-12 text-center bg-white border border-gray-200 rounded-lg py-1 text-[10px] font-black outline-none focus:border-amber-500"}),a.jsx("button",{onClick:()=>V(W.materialId),className:"text-gray-300 hover:text-red-500 transition-colors",children:a.jsx(Lt,{size:16})})]})]},W.materialId)),l.length===0&&a.jsxs("div",{className:"py-12 text-center text-gray-300",children:[a.jsx(ac,{size:40,className:"mx-auto mb-2 opacity-20"}),a.jsx("p",{className:"text-[10px] font-black uppercase",children:"Nenhum item selecionado"})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-50",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Motivo da Solicitao"}),a.jsx("textarea",{value:u,onChange:W=>h(W.target.value),placeholder:"Informe para qual atividade pedaggica estes materiais sero destinados...",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl text-[11px] font-bold outline-none h-24 resize-none focus:bg-white focus:ring-4 focus:ring-amber-500/5 transition-all"})]}),a.jsxs("button",{onClick:se,disabled:l.length===0,className:"w-full py-4 bg-amber-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-amber-600/20 hover:bg-amber-700 active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[a.jsx(Wi,{size:16})," Solicitar Materiais"]})]})]})})]}),t==="equipment"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-3xl shadow-lg",children:a.jsx(px,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:"Kits Eletrnicos (T.I.)"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Gesto de fones e kits de apoio  aprendizagem"})]})]}),a.jsxs("div",{className:"space-y-1.5 w-full md:w-64",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Data da Reserva"}),a.jsx("input",{type:"date",value:v,onChange:W=>b(W.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm outline-none focus:ring-4 focus:ring-blue-500/10"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:rL.map(W=>a.jsx("div",{className:"bg-white p-8 rounded-[3rem] border border-gray-100 shadow-sm flex flex-col justify-between group overflow-hidden relative",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"text-2xl font-black text-gray-900",children:W.name}),a.jsxs("span",{className:"px-3 py-1 bg-blue-50 text-blue-600 rounded-lg text-[9px] font-black uppercase border border-blue-100",children:[W.units," UNIDADES"]})]}),a.jsx("div",{className:"space-y-3",children:s_e.map(Q=>{const ee=w.find(he=>he.date===v&&he.shift===Q&&he.equipmentId===W.id&&he.status!=="RECUSADO");return a.jsxs("button",{disabled:!!ee,onClick:()=>k({kitId:W.id,kitName:W.name,shift:Q}),className:`w-full p-4 rounded-2xl border-2 transition-all flex items-center justify-between ${ee?"bg-red-50 border-red-100 opacity-70 cursor-not-allowed":"bg-gray-50 border-transparent hover:border-blue-500 hover:bg-white group/slot"}`,children:[a.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${ee?"text-red-400":"text-gray-400 group-hover/slot:text-blue-600"}`,children:Q}),ee?a.jsx("span",{className:"text-[10px] font-black text-red-600 uppercase",children:"Ocupado"}):a.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-black text-emerald-600 uppercase",children:[a.jsx(Nt,{size:12})," Disponvel"]})]},Q)})})]})},W.id))})]}),t==="history"&&a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-gray-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-8 border-b border-gray-50 flex justify-between items-center bg-gray-50/50",children:a.jsxs("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(_t,{size:20,className:"text-amber-600"})," Histrico de Materiais"]})}),a.jsxs("div",{className:"divide-y divide-gray-50",children:[p.map(W=>a.jsxs("div",{className:"p-6 flex flex-col md:flex-row md:items-center justify-between gap-6 hover:bg-gray-50/50 transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`p-4 rounded-2xl ${W.status==="PENDENTE"?"bg-amber-100 text-amber-600":W.status==="APROVADO"?"bg-emerald-100 text-emerald-700":W.status==="ENTREGUE"?"bg-blue-100 text-blue-700":"bg-red-100 text-red-600"}`,children:a.jsx(ac,{size:24})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase",children:new Date(W.date).toLocaleDateString("pt-BR")}),a.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase border ${W.status==="PENDENTE"?"bg-amber-50 border-amber-100 text-amber-600":W.status==="APROVADO"?"bg-emerald-50 border-emerald-100 text-emerald-700":W.status==="ENTREGUE"?"bg-blue-50 border-blue-100 text-blue-700":"bg-red-50 border-red-100 text-red-600"}`,children:W.status})]}),a.jsxs("p",{className:"text-[10px] text-gray-400 font-bold uppercase mt-1",children:[W.items.length," itens no pedido"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[9px] font-bold text-gray-300 uppercase",children:"Finalidade:"}),a.jsxs("p",{className:"text-xs text-gray-600 italic",children:['"',W.reason,'"']})]})]},W.id)),p.length===0&&a.jsxs("div",{className:"py-24 text-center",children:[a.jsx(zt,{size:48,className:"mx-auto mb-4 text-gray-200"}),a.jsx("p",{className:"text-gray-300 font-black uppercase text-xs tracking-widest",children:"Sem registros no histrico"})]})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-gray-100 shadow-sm overflow-hidden",children:[a.jsxs("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight mb-8 flex items-center gap-3",children:[a.jsx(eu,{size:20,className:"text-blue-600"})," Reservas de Equipamentos"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.filter(W=>W.teacherName===user.name).map(W=>a.jsxs("div",{className:"p-5 bg-gray-50 rounded-3xl border border-gray-100 flex items-center justify-between group hover:bg-white hover:border-blue-200 transition-all",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest",children:W.equipmentName}),a.jsxs("p",{className:"text-sm font-bold text-gray-800 uppercase",children:[new Date(W.date).toLocaleDateString("pt-BR"),"  ",W.shift]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("span",{className:"text-[8px] font-black bg-gray-200 text-gray-500 px-2 py-0.5 rounded uppercase",children:W.className}),a.jsx("span",{className:`text-[8px] font-black uppercase ${W.status==="RETIRADO"?"text-blue-600":W.status==="DEVOLVIDO"?"text-emerald-600":"text-amber-600"}`,children:W.status})]})]}),a.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm group-hover:bg-blue-50 transition-colors",children:W.status==="DEVOLVIDO"?a.jsx(Nt,{className:"text-emerald-500",size:20}):a.jsx(rr,{className:"text-amber-500",size:20})})]},W.id)),w.filter(W=>W.teacherName===user.name).length===0&&a.jsx("div",{className:"col-span-full py-12 text-center text-gray-300",children:a.jsx("p",{className:"text-[10px] font-black uppercase",children:"Nenhum agendamento realizado"})})]})]})]}),S&&a.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-blue-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-lg shadow-2xl border border-blue-100 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-8 bg-blue-50 border-b border-blue-100 flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-blue-600 text-white rounded-3xl shadow-lg",children:a.jsx(kr,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tighter",children:"Reservar Kit T.I."}),a.jsxs("p",{className:"text-[10px] text-blue-600 font-bold uppercase tracking-widest mt-1",children:[S.kitName,"  ",S.shift]})]})]}),a.jsx("button",{onClick:()=>k(null),className:"p-2 text-gray-400 hover:text-red-500 rounded-2xl transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsxs("form",{onSubmit:K,className:"p-10 space-y-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turma de Destino"}),a.jsx("input",{required:!0,type:"text",placeholder:"EX: 8 ANO B",value:y,onChange:W=>j(W.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white focus:ring-4 focus:ring-blue-500/5 transition-all uppercase"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Mapeamento de Fones (Opcional)"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-[40vh] overflow-y-auto p-4 bg-gray-50 rounded-[2rem] border border-gray-100 custom-scrollbar",children:Array.from({length:30}).map((W,Q)=>{const ee=Q+1;let he={};try{he=JSON.parse(T)}catch{}return a.jsxs("div",{className:"flex items-center gap-2 bg-white p-2.5 rounded-xl border border-gray-100",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-50 text-blue-600 rounded-lg flex items-center justify-center font-black text-[10px] shrink-0",children:ee<10?`0${ee}`:ee}),a.jsx("input",{type:"text",placeholder:"Nome do Aluno...",value:he[ee]||"",onChange:je=>{const me={...he,[ee]:je.target.value.toUpperCase()};_(JSON.stringify(me))},className:"flex-1 bg-transparent font-bold text-[10px] outline-none uppercase placeholder:text-gray-300"})]},ee)})}),a.jsx("p",{className:"text-[9px] text-gray-400 font-medium italic ml-2",children:"Relacione cada aluno ao nmero do fone que ele ir utilizar."})]}),a.jsxs("div",{className:"p-6 bg-blue-900 rounded-[2rem] text-white space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-blue-400",children:[a.jsx(Ta,{size:16}),a.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest",children:"Compromisso do Docente"})]}),a.jsx("p",{className:"text-[10px] font-medium text-blue-100/70 leading-relaxed italic",children:'"Ao reservar, declaro estar ciente de que a integridade fsica dos equipamentos  de minha inteira responsabilidade durante o perodo de uso em sala."'})]})]}),a.jsx("button",{type:"submit",className:"w-full py-5 bg-blue-600 text-white rounded-[1.5rem] font-black uppercase text-xs tracking-[0.2em] shadow-2xl hover:bg-blue-700 active:scale-95 transition-all",children:"Finalizar Agendamento"})]})]})}),O&&a.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-amber-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-md shadow-2xl border border-amber-100 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-8 bg-amber-50 border-b border-amber-100 flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-amber-500 text-white rounded-3xl shadow-lg",children:a.jsx(ot,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tighter",children:"Item Extra"}),a.jsx("p",{className:"text-[10px] text-amber-600 font-bold uppercase tracking-widest mt-1",children:"Solicitar material no listado"})]})]}),a.jsx("button",{onClick:()=>M(!1),className:"p-2 text-gray-400 hover:text-red-500 rounded-2xl transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsxs("div",{className:"p-10 space-y-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nome do Material"}),a.jsx("input",{autoFocus:!0,type:"text",placeholder:"Ex: Cartolina Laminada Dourada",value:D,onChange:W=>F(W.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white focus:ring-4 focus:ring-amber-500/5 transition-all uppercase"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Quantidade"}),a.jsx("input",{type:"number",min:"1",value:q,onChange:W=>L(parseInt(W.target.value)),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white focus:ring-4 focus:ring-amber-500/5 transition-all"})]}),a.jsx("button",{onClick:G,className:"w-full py-5 bg-amber-600 text-white rounded-[1.5rem] font-black uppercase text-xs tracking-[0.2em] shadow-xl hover:bg-amber-700 active:scale-95 transition-all",children:"Adicionar ao Pedido"})]})]})}),a.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(217, 119, 6, 0.2); border-radius: 10px; }
      `})]})},Id={unidade_escolar:"158330 - EE ANDR ANTONIO MAGGI",meses:[{mes:"Janeiro",eventos:[{dia:1,tipo:"FN - Feriado Nacional",categoria:"FERIADO"},{dia:2,tipo:"PF - Perodo de Frias",categoria:"FERIAS"},{dia:18,tipo:"PF - Frias",categoria:"FERIAS"},{dia:19,tipo:"SP - Semana Pedaggica",categoria:"PEDAGOGICO"},{dia:26,tipo:"SP - Semana Pedaggica",categoria:"PEDAGOGICO"}]},{mes:"Fevereiro",orientativo:"001/2026 - Paz em Ao na Escola",eventos:[{dia:2,tipo:"IAL - Incio do Ano Letivo",categoria:"LETIVO"},{dia:9,tipo:"RPM - Reunio de Pais e Mestres",categoria:"PEDAGOGICO"},{dia:17,tipo:"PFA - Ponto Facultativo",categoria:"FERIADO"},{dia:23,tipo:"CD - Reunio do CDCE",categoria:"ADMINISTRATIVO"}]},{mes:"Maro",orientativo:"002/2026 - Semana Escolar de Combate  Violncia Contra a Mulher",eventos:[{dia:2,tipo:"RA - Reunio Administrativa",categoria:"ADMINISTRATIVO"},{dia:9,tipo:"Semana Letiva",categoria:"LETIVO"},{dia:16,tipo:"Semana Letiva",categoria:"LETIVO"},{dia:23,tipo:"Semana Letiva",categoria:"LETIVO"},{dia:30,tipo:"Semana Letiva",categoria:"LETIVO"}]},{mes:"Abril",orientativo:"003/2026 - Semana Nacional da Convivncia Escolar e Preveno ao Bullying",eventos:[{dia:3,tipo:"FN - Feriado Nacional",categoria:"FERIADO"},{dia:10,tipo:"RA - Reunio Administrativa",categoria:"ADMINISTRATIVO"},{dia:17,tipo:"RP - Reunio Pedaggica",categoria:"PEDAGOGICO"},{dia:21,tipo:"FN - Feriado Nacional",categoria:"FERIADO"},{dia:22,tipo:"LR - Limite para Reclassificao",categoria:"ADMINISTRATIVO"}]},{mes:"Maio",orientativo:"004/2026 - Maio Laranja",eventos:[{dia:1,tipo:"FN - Feriado Nacional",categoria:"FERIADO"},{dia:4,tipo:"RPM - Reunio de Pais e Mestres",categoria:"PEDAGOGICO"},{dia:11,tipo:"RA - Reunio Administrativa",categoria:"ADMINISTRATIVO"}]},{mes:"Junho",orientativo:"005/2026 - Preveno e Erradicao do Trabalho Infantil",eventos:[{dia:4,tipo:"FN - Feriado Nacional",categoria:"FERIADO"},{dia:7,tipo:"RA - Reunio Administrativa",categoria:"ADMINISTRATIVO"},{dia:23,tipo:"FM - Feriado Municipal",categoria:"FERIADO"}]},{mes:"Julho",orientativo:"006/2026 - Educao para Direitos Humanos, Ambientais e Climticos",eventos:[{dia:6,tipo:"PF - Frias",categoria:"FERIAS"},{dia:13,tipo:"PF - Frias",categoria:"FERIAS"},{dia:20,tipo:"PF - Frias",categoria:"FERIAS"},{dia:27,tipo:"RPM - Reunio de Pais e Mestres",categoria:"PEDAGOGICO"}]},{mes:"Agosto",orientativo:"007/2026 - Agosto Lils",eventos:[{dia:3,tipo:"RA - Reunio Administrativa",categoria:"ADMINISTRATIVO"},{dia:10,tipo:"Semana Letiva",categoria:"LETIVO"},{dia:17,tipo:"Semana Letiva",categoria:"LETIVO"}]},{mes:"Setembro",orientativo:"008/2026 - Setembro Amarelo",eventos:[{dia:7,tipo:"FN - Feriado Nacional",categoria:"FERIADO"},{dia:14,tipo:"RA - Reunio Administrativa",categoria:"ADMINISTRATIVO"},{dia:28,tipo:"RP - Reunio Pedaggica",categoria:"PEDAGOGICO"}]},{mes:"Outubro",orientativo:"009/2026 - Outubro Rosa",eventos:[{dia:1,tipo:"FB - Fim do Bimestre",categoria:"LETIVO"},{dia:2,tipo:"IB - Incio do Bimestre",categoria:"LETIVO"},{dia:12,tipo:"FN - Feriado Nacional",categoria:"FERIADO"},{dia:19,tipo:"RPM - Reunio de Pais e Mestres",categoria:"PEDAGOGICO"}]},{mes:"Novembro",orientativo:"010/2026 - Novembro Azul",eventos:[{dia:2,tipo:"FN - Feriado Nacional",categoria:"FERIADO"},{dia:15,tipo:"FN - Feriado Nacional",categoria:"FERIADO"}]},{mes:"Dezembro",eventos:[{dia:19,tipo:"FM - Feriado Municipal",categoria:"FERIADO"},{dia:20,tipo:"PF - Frias",categoria:"FERIAS"},{dia:26,tipo:"PF - Frias",categoria:"FERIAS"},{dia:31,tipo:"PF - Frias",categoria:"FERIAS"}]}]},sp=()=>{var g,S,k;const[t,e]=R.useState(()=>new Date().getMonth()),{addToast:r}=jn(),[n,s]=R.useState({}),[i,o]=R.useState([]),[l,d]=R.useState(!1),[u,h]=R.useState(!1),p=Id.meses[t];R.useEffect(()=>{x()},[]);const x=async()=>{d(!0);try{const{data:y}=await ae.from("calendar_tracking").select("*").eq("event_type","MONTHLY_REPORT");if(y){const M={};y.forEach(D=>{try{const F=D.description?JSON.parse(D.description):{};F.monthName&&(M[F.monthName]=F)}catch(F){console.error("Error parsing calendar tracking",F)}}),s(M)}const{data:j}=await ae.from("assessments").select("date, subject, type, description"),{data:T}=await ae.from("pedagogical_projects").select("name, date_start, date_end, status"),{data:_}=await ae.from("school_events").select("title, date, type"),O=[];j&&j.forEach(M=>{O.push({date:new Date(M.date),tipo:"AVALIAO",categoria:"PEDAGOGICO",descricao:`${M.subject} - ${M.type}`})}),T&&T.forEach(M=>{M.date_start&&O.push({date:new Date(M.date_start),tipo:"PROJETO",categoria:"PEDAGOGICO",descricao:`Incio: ${M.name}`}),M.date_end&&O.push({date:new Date(M.date_end),tipo:"PROJETO",categoria:"PEDAGOGICO",descricao:`Fim: ${M.name}`})}),_&&_.forEach(M=>{O.push({date:new Date(M.date),tipo:"EVENTO",categoria:M.type==="FESTIVO"?"FERIAS":"ADMINISTRATIVO",descricao:M.title})}),o(O)}catch(y){console.error("Error fetching data:",y)}finally{d(!1)}},v=(y,j)=>{s(T=>({...T,[p.mes]:{...T[p.mes],[y]:j}}))},b=async()=>{h(!0);const y=p.mes,j=n[y]||{},T=2026,_=Id.meses.findIndex(D=>D.mes===y),O=`${T}-${String(_+1).padStart(2,"0")}-01`,M={monthName:y,campanha_realizada:j.campanha_realizada||"",campanha_a_realizar:j.campanha_a_realizar||"",observacoes:j.observacoes||""};try{const{data:D}=await ae.from("calendar_tracking").select("id").eq("event_type","MONTHLY_REPORT").eq("date",O).single();if(D){const{error:F}=await ae.from("calendar_tracking").update({description:JSON.stringify(M)}).eq("id",D.id);if(F)throw F}else{const{error:F}=await ae.from("calendar_tracking").insert([{event_type:"MONTHLY_REPORT",date:O,description:JSON.stringify(M),created_by:"PROF. CRISTIANO"}]);if(F)throw F}r("Monitoramento salvo com sucesso!","success")}catch(D){console.error(D),r("Erro ao salvar monitoramento.","error")}finally{h(!1)}},w=y=>{switch(y){case"FERIADO":return"bg-red-50 text-red-600 border-red-100";case"PEDAGOGICO":return"bg-violet-50 text-violet-600 border-violet-100";case"ADMINISTRATIVO":return"bg-blue-50 text-blue-600 border-blue-100";case"FERIAS":return"bg-amber-50 text-amber-600 border-amber-100";default:return"bg-emerald-50 text-emerald-600 border-emerald-100"}};return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700 pb-20 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-xl flex items-center justify-between no-print",children:[a.jsx("button",{onClick:()=>e(y=>Math.max(0,y-1)),disabled:t===0,className:"p-4 bg-gray-50 text-gray-400 hover:text-indigo-600 disabled:opacity-30 rounded-2xl transition-all shadow-sm border border-gray-100 hover:bg-white",children:a.jsx(w$,{size:28})}),a.jsxs("div",{className:"text-center space-y-1",children:[a.jsxs("h2",{className:"text-4xl font-black text-indigo-950 uppercase tracking-tighter leading-none",children:[p.mes," 2026"]}),a.jsx("p",{className:"text-[10px] text-indigo-600 font-bold uppercase tracking-[0.3em]",children:Id.unidade_escolar})]}),a.jsx("button",{onClick:()=>e(y=>Math.min(Id.meses.length-1,y+1)),disabled:t===Id.meses.length-1,className:"p-4 bg-gray-50 text-gray-400 hover:text-indigo-600 disabled:opacity-30 rounded-2xl transition-all shadow-sm border border-gray-100 hover:bg-white",children:a.jsx(ga,{size:28})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[a.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-gray-100 shadow-xl space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-50 pb-6",children:[a.jsxs("h3",{className:"text-xl font-black text-indigo-950 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(kr,{size:24,className:"text-indigo-600"})," Datas e Eventos"]}),a.jsx("span",{className:"text-[9px] font-black bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full uppercase border border-indigo-100",children:"Oficial SEDUC"})]}),a.jsx("div",{className:"space-y-4",children:(()=>{const y=t,j=2026,T=p.eventos.map(M=>({...M,dateObj:new Date(j,y,M.dia),source:"STATIC"})),_=i.filter(M=>M.date.getMonth()===y&&M.date.getFullYear()===j).map(M=>({dia:M.date.getDate(),tipo:M.tipo,categoria:M.categoria,descricao:M.descricao,dateObj:M.date,source:"DYNAMIC"})),O=[...T,..._].sort((M,D)=>M.dateObj.getTime()-D.dateObj.getTime());return O.length===0?a.jsx("p",{className:"text-center py-20 text-gray-400 font-black uppercase text-xs tracking-widest",children:"Nenhum evento registrado"}):O.map((M,D)=>a.jsxs("div",{className:"flex gap-6 items-center group p-4 rounded-2xl hover:bg-indigo-50/50 transition-all border border-transparent hover:border-indigo-100",children:[a.jsxs("div",{className:`w-14 h-14 rounded-2xl flex flex-col items-center justify-center font-black shrink-0 shadow-sm border ${w(M.categoria||"")}`,children:[a.jsx("span",{className:"text-lg leading-none",children:M.dia}),a.jsx("span",{className:"text-[8px] uppercase",children:p.mes.substring(0,3)})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase tracking-tight leading-snug",children:M.tipo==="EVENTO"?M.descricao:M.tipo}),a.jsxs("p",{className:"text-[9px] text-gray-400 font-bold uppercase mt-1 tracking-widest",children:[M.categoria||"LETIVO",M.source==="DYNAMIC"&&M.descricao&&M.tipo!=="EVENTO"?`  ${M.descricao}`:""]})]})]},`${M.source}-${D}`))})()})]}),p.orientativo&&a.jsxs("div",{className:"bg-gradient-to-br from-rose-500 to-pink-600 p-8 rounded-[3rem] text-white shadow-xl relative overflow-hidden animate-in slide-in-from-left duration-500",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 rotate-12",children:a.jsx(Gj,{size:120})}),a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-sm border border-white/30",children:a.jsx(ft,{size:20,className:"text-white"})}),a.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-white/90",children:"Ncleo de Mediao"})]}),a.jsx("p",{className:"text-lg font-black leading-tight uppercase",children:p.orientativo}),a.jsx("button",{className:"px-6 py-2 bg-white/20 hover:bg-white/30 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all border border-white/20",children:"Ver Diretrizes 2026"})]})]})]}),a.jsxs("div",{className:"lg:col-span-7 space-y-6",children:[a.jsxs("div",{className:"bg-white p-10 rounded-[3.5rem] border border-gray-100 shadow-xl space-y-10",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-50 pb-6",children:[a.jsxs("h3",{className:"text-xl font-black text-indigo-950 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(_t,{size:24,className:"text-indigo-600"})," Registro de Execuo"]}),a.jsx("div",{className:"flex gap-2",children:a.jsx("div",{className:"p-3 bg-gray-50 text-gray-400 rounded-2xl border border-gray-100",children:a.jsx(al,{size:20})})})]}),l?a.jsx("div",{className:"py-24 flex justify-center",children:a.jsx(vt,{className:"animate-spin text-indigo-600"})}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Campanhas Realizadas"}),a.jsx("textarea",{value:((g=n[p.mes])==null?void 0:g.campanha_realizada)||"",onChange:y=>v("campanha_realizada",y.target.value),placeholder:"Quais aes foram concludas neste ms?",className:"w-full p-5 bg-gray-50 border border-gray-100 rounded-3xl text-sm font-medium h-32 text-gray-900 placeholder-gray-400 outline-none focus:bg-white focus:ring-4 focus:ring-indigo-500/10 transition-all custom-scrollbar resize-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Planejamento Prximo Ms"}),a.jsx("textarea",{value:((S=n[p.mes])==null?void 0:S.campanha_a_realizar)||"",onChange:y=>v("campanha_a_realizar",y.target.value),placeholder:"O que est previsto para o futuro?",className:"w-full p-5 bg-gray-50 border border-gray-100 rounded-3xl text-sm font-medium h-32 text-gray-900 placeholder-gray-400 outline-none focus:bg-white focus:ring-4 focus:ring-indigo-500/10 transition-all custom-scrollbar resize-none"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Observaes da Gesto"}),a.jsx("textarea",{value:((k=n[p.mes])==null?void 0:k.observacoes)||"",onChange:y=>v("observacoes",y.target.value),placeholder:"Relate ocorrncias fora do calendrio, sucessos ou dificuldades...",className:"w-full p-5 bg-gray-50 border border-gray-100 rounded-3xl text-sm font-medium h-24 text-gray-900 placeholder-gray-400 outline-none focus:bg-white focus:ring-4 focus:ring-indigo-500/10 transition-all custom-scrollbar resize-none"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 no-print",children:[a.jsxs("button",{className:"flex-1 py-4 bg-gray-50 text-gray-600 border border-gray-100 rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-gray-100 hover:text-indigo-600 transition-all flex items-center justify-center gap-3",children:[a.jsx(nc,{size:18})," Fotos do Ms"]}),a.jsxs("button",{className:"flex-1 py-4 bg-gray-50 text-gray-600 border border-gray-100 rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-gray-100 hover:text-indigo-600 transition-all flex items-center justify-center gap-3",children:[a.jsx(zt,{size:18})," Relatrios Anexos"]}),a.jsxs("button",{onClick:b,disabled:u,className:"flex-1 py-4 bg-indigo-600 text-white rounded-2xl font-black uppercase text-[10px] tracking-[0.2em] shadow-xl hover:bg-indigo-700 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[u?a.jsx(vt,{className:"animate-spin",size:18}):a.jsx(qr,{size:18})," Salvar Monitoramento"]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-indigo-900 to-indigo-950 p-8 rounded-[3rem] text-white flex items-center justify-between shadow-2xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:a.jsx(Mr,{size:80})}),a.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[a.jsx("div",{className:"p-4 bg-white/10 rounded-2xl backdrop-blur-md border border-white/20",children:a.jsx(Nn,{size:32,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-indigo-200 text-[10px] font-black uppercase tracking-widest mb-1",children:"Status Sincronismo"}),a.jsx("h4",{className:"text-sm font-black uppercase text-white",children:"Calendrio v2026.4 Ativo"}),a.jsx("p",{className:"text-white/60 text-[10px] font-medium leading-relaxed mt-1",children:"Este calendrio  compartilhado entre Secretaria, Professores e Equipe Psicossocial."})]})]})]})]})]})]})},Ub=({role:t})=>{const[e,r]=R.useState([]),[n,s]=R.useState(!1),[i,o]=R.useState(null),[l,d]=R.useState(""),[u,h]=R.useState(!1),[p,x]=R.useState({student_name:"",class_name:"",reason:"",priority:"MEDIA",status:"AGUARDANDO",observations:"",student_age:"",school_unit:"Unidade Escolar",teacher_name:"COORDENAO",previous_strategies:"",attendance_frequency:"",adopted_procedures:[],report:""}),v=async()=>{try{const{data:k,error:y}=await ae.from("psychosocial_referrals").select("*").order("date",{ascending:!1});if(k){const j=k.map(T=>({id:T.id,schoolUnit:T.school_unit,studentName:T.student_name,studentAge:T.student_age,className:T.class_name,teacherName:T.teacher_name,priority:T.priority||"MEDIA",previousStrategies:T.previous_strategies||"",attendanceFrequency:T.attendance_frequency||"0",adoptedProcedures:T.adopted_procedures||[],observedAspects:T.observations||{learning:[],behavioral:[],emotional:[]},report:T.report||"",status:T.status,date:T.date,observations:typeof T.observations=="string"?T.observations:JSON.stringify(T.observations),timestamp:new Date(T.created_at).getTime(),reason:T.reason||T.report||"Sem motivo especificado"}));r(j)}}catch(k){console.error("Erro ao buscar encaminhamentos:",k)}};R.useEffect(()=>{v();const k=ae.channel("psychosocial_referrals_changes").on("postgres_changes",{event:"*",schema:"public",table:"psychosocial_referrals"},v).subscribe();return()=>{k.unsubscribe()}},[]);const b=async k=>{k.preventDefault(),h(!0);try{const y={student_name:p.student_name,class_name:p.class_name,reason:p.reason,priority:p.priority,status:p.status,observations:p.observations,school_unit:p.school_unit,teacher_name:p.teacher_name,date:new Date().toISOString().split("T")[0]};if(i){const{error:j}=await ae.from("psychosocial_referrals").update(y).eq("id",i);if(j)throw j}else{const{error:j,data:T}=await ae.from("psychosocial_referrals").insert([y]).select();if(j)throw j;await ae.from("psychosocial_notifications").insert([{title:"Novo Encaminhamento",message:`Aluno ${p.student_name} encaminhado.`,is_read:!1}])}await v(),s(!1),w()}catch(y){console.error("Erro ao salvar:",y),alert("Erro ao salvar encaminhamento.")}finally{h(!1)}},w=()=>{x({student_name:"",class_name:"",reason:"",priority:"MEDIA",status:"AGUARDANDO",observations:"",student_age:"",school_unit:"Unidade Escolar",teacher_name:"COORDENAO",previous_strategies:"",attendance_frequency:"",adopted_procedures:[],report:""}),o(null)},g=async(k,y)=>{if(y&&y.stopPropagation(),window.confirm("Confirmar excluso?")){const{error:j}=await ae.from("psychosocial_referrals").delete().eq("id",k);j?alert("Erro ao excluir."):r(T=>T.filter(_=>_.id!==k))}},S=e.filter(k=>k.studentName.toLowerCase().includes(l.toLowerCase())||k.className.toLowerCase().includes(l.toLowerCase()));return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-black uppercase text-blue-950",children:"Guia de Encaminhamento Psicossocial"}),a.jsx("p",{className:"text-[10px] font-bold uppercase text-blue-900/60 tracking-widest",children:"Rede de Proteo  Criana e ao Adolescente"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/20",size:14}),a.jsx("input",{type:"text",placeholder:"Buscar...",value:l,onChange:k=>d(k.target.value),className:"pl-9 pr-4 py-2 bg-white/5 border border-white/10 rounded-xl text-xs font-bold text-white outline-none focus:bg-white/10 transition-all w-48 placeholder:text-white/20"})]}),a.jsxs("button",{onClick:()=>{w(),s(!0)},className:"px-6 py-3 bg-violet-600 text-white rounded-xl font-black uppercase text-xs tracking-widest shadow-lg shadow-violet-600/20 hover:bg-violet-700 transition-all flex items-center gap-2 border border-violet-500/20",children:[a.jsx(qn,{size:18})," Novo"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[S.map(k=>a.jsxs("div",{className:"bg-white/5 p-6 rounded-[2rem] border border-white/10 shadow-sm hover:border-violet-500/30 hover:bg-white/10 transition-all group backdrop-blur-md flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase border ${k.priority==="ALTA"?"bg-red-500/10 text-red-400 border-red-500/20":k.priority==="MEDIA"?"bg-amber-500/10 text-amber-400 border-amber-500/20":"bg-emerald-500/10 text-emerald-400 border-emerald-500/20"}`,children:["Prioridade ",k.priority]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:y=>{y.stopPropagation(),o(k.id),x({student_name:k.studentName,class_name:k.className,reason:k.reason||"",priority:k.priority,status:k.status,observations:typeof k.observations=="string"?k.observations:"",student_age:k.studentAge||"",school_unit:k.schoolUnit||"Unidade Escolar",teacher_name:k.teacherName||"",previous_strategies:k.previousStrategies||"",attendance_frequency:k.attendanceFrequency||"",adopted_procedures:k.adoptedProcedures||[],report:k.report||""}),s(!0)},className:"p-2 hover:bg-white/10 rounded-lg text-white/40 hover:text-violet-400 transition-all",children:a.jsx(SL,{size:16})}),a.jsx("button",{onClick:y=>g(k.id,y),className:"p-2 hover:bg-white/10 rounded-lg text-white/40 hover:text-red-400 transition-all",children:a.jsx(Lt,{size:16})})]})]}),a.jsx("h3",{className:"text-lg font-black text-white uppercase tracking-tight mb-1",children:k.studentName}),a.jsx("p",{className:"text-xs font-bold text-white/40 uppercase mb-4",children:k.className}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"bg-black/20 p-3 rounded-xl border border-white/5",children:[a.jsx("p",{className:"text-[10px] font-black text-white/30 uppercase mb-1",children:"Motivo do Encaminhamento"}),a.jsx("p",{className:"text-xs text-white/80 font-medium line-clamp-2",children:k.reason})]})})]}),a.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${k.status==="CONCLUDO"?"bg-emerald-500":k.status==="EM_ANDAMENTO"||k.status==="EM_ACOMPANHAMENTO"?"bg-blue-500":"bg-amber-500"}`}),a.jsx("span",{className:"text-[10px] font-black text-white/60 uppercase",children:k.status.replace("_"," ")})]}),a.jsx("span",{className:"text-[10px] font-bold text-white/20",children:new Date(k.date).toLocaleDateString("pt-BR")})]})]},k.id)),S.length===0&&a.jsxs("div",{className:"col-span-full py-20 text-center border-2 border-dashed border-white/10 rounded-[3rem] bg-white/5 backdrop-blur-sm",children:[a.jsx(Vg,{size:48,className:"mx-auto mb-4 text-white/10"}),a.jsx("p",{className:"text-white/30 font-black uppercase text-xs tracking-widest",children:"Nenhum encaminhamento registrado"})]})]}),n&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-[#1a1a1a] rounded-[2.5rem] w-full max-w-lg shadow-2xl border border-white/10 overflow-hidden",children:[a.jsx("div",{className:"p-8 border-b border-white/10 bg-white/5",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-violet-500/10 text-violet-400 rounded-xl border border-violet-500/20",children:a.jsx(ft,{size:20})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black text-white uppercase tracking-tight",children:i?"Editar Encaminhamento":"Novo Encaminhamento"}),a.jsx("p",{className:"text-[10px] font-bold text-white/40 uppercase",children:"Preencha os dados do estudante"})]})]}),a.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-white/10 rounded-xl text-white/40 transition-all",children:a.jsx(Ze,{size:20})})]})}),a.jsxs("form",{onSubmit:b,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"col-span-2 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Nome do Estudante"}),a.jsx("input",{required:!0,value:p.student_name,onChange:k=>x({...p,student_name:k.target.value.toUpperCase()}),className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm text-white uppercase outline-none focus:bg-white/10 transition-all placeholder:text-white/20",placeholder:"NOME COMPLETO"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Turma"}),a.jsx("input",{required:!0,value:p.class_name,onChange:k=>x({...p,class_name:k.target.value.toUpperCase()}),className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm text-white uppercase outline-none focus:bg-white/10 transition-all placeholder:text-white/20",placeholder:"EX: 3 A"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Prioridade"}),a.jsxs("select",{value:p.priority,onChange:k=>x({...p,priority:k.target.value}),className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm text-white uppercase outline-none focus:bg-white/10 transition-all [&>option]:bg-gray-900",children:[a.jsx("option",{value:"BAIXA",children:"BAIXA"}),a.jsx("option",{value:"MEDIA",children:"MDIA"}),a.jsx("option",{value:"ALTA",children:"ALTA"})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Motivo do Encaminhamento"}),a.jsx("textarea",{required:!0,value:p.reason,onChange:k=>x({...p,reason:k.target.value}),className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-medium text-sm text-white outline-none focus:bg-white/10 transition-all h-24 resize-none placeholder:text-white/20",placeholder:"Descreva o motivo..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Observaes Adicionais"}),a.jsx("textarea",{value:p.observations,onChange:k=>x({...p,observations:k.target.value}),className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-medium text-sm text-white outline-none focus:bg-white/10 transition-all h-24 resize-none placeholder:text-white/20",placeholder:"Observaes extras..."})]}),i&&a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Status"}),a.jsxs("select",{value:p.status,onChange:k=>x({...p,status:k.target.value}),className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm text-white uppercase outline-none focus:bg-white/10 transition-all [&>option]:bg-gray-900",children:[a.jsx("option",{value:"AGUARDANDO",children:"AGUARDANDO"}),a.jsx("option",{value:"EM_ANDAMENTO",children:"EM ANDAMENTO"}),a.jsx("option",{value:"CONCLUIDO",children:"CONCLUDO"})]})]}),a.jsx("button",{type:"submit",disabled:u,className:"w-full py-4 bg-violet-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-lg shadow-violet-600/20 hover:bg-violet-700 transition-all border border-violet-500/20 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Salvando...":i?"Salvar Alteraes":"Criar Encaminhamento"})]})]})})]})},o_e=({user:t,onExit:e})=>{var g;const[r,n]=R.useState("attendance"),[s,i]=R.useState(!1),[o,l]=R.useState([]),[d,u]=R.useState(!1),[h,p]=R.useState(!1);R.useEffect(()=>{const S=()=>{i(localStorage.getItem("system_shield_lock")==="true")},k=()=>{try{const y=localStorage.getItem("secretariat_notifications_v1");if(y){const j=JSON.parse(y);l(j.filter(T=>!T.isRead)),j.some(T=>!T.isRead)&&u(!0)}}catch(y){console.error("Error parsing TeacherModule notifications:",y)}};S(),k(),window.addEventListener("storage",()=>{S(),k()})},[]);const x=S=>{const k=localStorage.getItem("secretariat_notifications_v1");if(k){const j=JSON.parse(k).map(T=>T.id===S?{...T,isRead:!0}:T);localStorage.setItem("secretariat_notifications_v1",JSON.stringify(j)),l(j.filter(T=>!T.isRead))}},v=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},b=[{id:"attendance",label:"Dirio de Presena",icon:oc},{id:"grades",label:"Lanar Notas",icon:on},{id:"referrals",label:"Encaminhamentos",icon:Qd},{id:"calendar",label:"Calendrio Letivo",icon:Vj},{id:"material_requests",label:"Solicitar Materiais",icon:Us},{id:"occurrences",label:"Lanar Ocorrncia",icon:Ta},{id:"lesson_plan",label:"Roteiro Pedaggico",icon:hx},{id:"dashboard",label:"Desempenho Turma",icon:Ki},{id:"history",label:"Histrico de Aula",icon:_t}],w=()=>{switch(r){case"attendance":return a.jsx(Yke,{user:t});case"calendar":return a.jsx(sp,{user:t});case"grades":return a.jsx(a_e,{user:t});case"referrals":return a.jsx(Ub,{role:"PROFESSOR",user:t});case"material_requests":return a.jsx(i_e,{user:t});case"occurrences":return a.jsx(Jke,{user:t});case"lesson_plan":return a.jsx(t_e,{user:t});case"dashboard":return a.jsx(Qke,{user:t});case"history":return a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 bg-white rounded-[3rem] border-2 border-dashed border-gray-100",children:[a.jsx(rl,{size:64,className:"mb-6 opacity-20"}),a.jsx("h3",{className:"text-xl font-black uppercase tracking-widest",children:"Registros de Aula"}),a.jsx("p",{className:"text-sm font-medium mt-2",children:"Os dirios salvos sero listados aqui em breve."})]});default:return a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 bg-white rounded-[3rem] border-2 border-dashed border-gray-100",children:[a.jsx(yn,{size:64,className:"mb-6 opacity-20"}),a.jsx("h3",{className:"text-xl font-black uppercase tracking-widest",children:"Mdulo Pedaggico"}),a.jsx("p",{className:"text-sm font-medium mt-2",children:"Esta funcionalidade est sendo homologada pela Direo."})]})}};return a.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden font-sans relative",children:[a.jsxs("aside",{className:`fixed lg:static inset-y-0 left-0 z-50 w-64 bg-amber-950 text-white flex flex-col no-print transition-transform duration-300 transform ${h?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[a.jsxs("div",{className:"p-6 flex items-center justify-between",children:[a.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx("span",{className:"bg-amber-500 p-1.5 rounded-lg shadow-lg",children:""}),"rea Docente"]}),a.jsx("button",{onClick:()=>p(!1),className:"lg:hidden p-2 text-white/50 hover:text-white",children:a.jsx(Ze,{size:20})})]}),a.jsx("nav",{className:"flex-1 mt-6 px-4 space-y-1.5 overflow-y-auto custom-scrollbar",children:b.map(S=>a.jsx("button",{onClick:()=>{n(S.id),p(!1)},className:`w-full flex items-center justify-between px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${r===S.id?"bg-amber-900 text-white shadow-lg":"text-amber-100/50 hover:bg-amber-900/30"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(S.icon,{size:18}),S.label]})},S.id))}),a.jsxs("div",{className:"p-6 border-t border-amber-900 space-y-3",children:[a.jsxs("button",{onClick:e,className:"w-full flex items-center gap-2 px-4 py-3 bg-white/10 hover:bg-white/20 rounded-xl text-xs font-black uppercase tracking-widest transition-all",children:[a.jsx(cr,{size:16})," Voltar ao Hub"]}),a.jsxs("div",{className:"bg-amber-900/50 p-4 rounded-2xl border border-amber-800/50",children:[a.jsxs("p",{className:"text-[10px] text-amber-300 font-black uppercase tracking-widest mb-1.5 flex items-center gap-1.5",children:[a.jsx(ft,{size:10})," Dirio Digital"]}),a.jsx("div",{className:"text-xs font-black uppercase tracking-tight text-amber-400",children:"Escola Andr Maggi"})]})]})]}),h&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm",onClick:()=>p(!1)}),a.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[d&&o.length>0&&a.jsxs("div",{className:"bg-indigo-600 text-white px-10 py-3 flex items-center justify-between animate-in slide-in-from-top duration-500 no-print",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-1.5 bg-white/20 rounded-lg animate-pulse",children:a.jsx(Lg,{size:16})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest leading-none",children:"Aviso da Secretaria"}),a.jsxs("p",{className:"text-sm font-bold",children:[o[0].title,": ",o[0].message]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>x(o[0].id),className:"px-4 py-1.5 bg-white/10 hover:bg-white/20 rounded-lg text-[9px] font-black uppercase tracking-widest transition-all",children:"Marcar Ciente"}),a.jsx("button",{onClick:()=>u(!1),children:a.jsx(Ze,{size:18})})]})]}),a.jsxs("header",{className:"h-20 bg-white border-b border-gray-100 flex items-center justify-between px-4 lg:px-10 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[a.jsx("button",{onClick:()=>p(!0),className:"lg:hidden p-2.5 bg-amber-50 text-amber-600 rounded-xl",children:a.jsx(xH,{size:20})}),a.jsx("div",{className:"p-2 bg-amber-50 text-amber-600 rounded-lg hidden sm:block",children:a.jsx(on,{size:20})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xs lg:text-sm font-black text-gray-900 uppercase tracking-tight leading-none",children:(g=b.find(S=>S.id===r))==null?void 0:g.label}),s&&a.jsxs("span",{className:"text-[8px] font-black text-amber-600 uppercase tracking-[0.2em] mt-1.5 flex items-center gap-1",children:[a.jsx(yn,{size:8,strokeWidth:3})," Blindagem Ativa"]})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("button",{onClick:v,className:"p-2.5 text-gray-400 hover:bg-gray-50 rounded-xl transition-colors group flex items-center gap-2",title:"Alternar Tela Cheia",children:[a.jsx(nl,{size:18,className:"group-hover:text-amber-600"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest hidden xl:block",children:"Expandir"})]}),a.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-black text-gray-900",children:(t==null?void 0:t.name)||"Professor"}),a.jsx("p",{className:"text-[9px] text-amber-600 font-black uppercase tracking-widest",children:"Matutino / Vespertino"})]}),a.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500 flex items-center justify-center text-white font-black text-sm",children:t!=null&&t.name?t.name.substring(0,2).toUpperCase():"CP"})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:w()})]}),a.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.05); border-radius: 10px; }
        .custom-scrollbar:hover::-webkit-scrollbar-thumb { background: rgba(217, 119, 6, 0.2); }
      `})]})},l_e=["CAED","SISTEMA ESTRUTURADO"],rx=["MATEMTICA","LNGUA PORTUGUESA","CINCIAS","HISTRIA","GEOGRAFIA","LNGUA INGLESA"],aL=[{label:"Muito Baixo",value:"MUITO_BAIXO",color:"text-red-600 bg-red-50"},{label:"Baixo",value:"BAIXO",color:"text-orange-600 bg-orange-50"},{label:"Mdio",value:"MDIO",color:"text-amber-600 bg-amber-50"},{label:"Alto",value:"ALTO",color:"text-emerald-600 bg-emerald-50"}],c_e=()=>{var z;const{addToast:t}=jn(),[e,r]=R.useState("list"),[n,s]=R.useState(!1),[i,o]=R.useState(!1),l=R.useRef(null),[d,u]=R.useState([]),[h,p]=R.useState([]),[x,v]=R.useState([]),[b,w]=R.useState(null),[g,S]=R.useState(null),[k,y]=R.useState(!1),[j,T]=R.useState(rx[0]),[_,O]=R.useState({date:new Date().toISOString().split("T")[0],bimestre:"1 BIMESTRE",className:"",subject:rx[0],teacherName:"COORDENAO",type:"CAED",description:"",max_score:100,grades:[]}),M=async()=>{const{data:V}=await ae.from("assessments").select(`
        *,
        grades (score, proficiency_level, students(name)),
        classrooms (name)
      `).in("type",["CAED","SISTEMA ESTRUTURADO"]).order("date",{ascending:!1});if(V){const se=V.map(K=>{var G;return{id:K.id,date:K.date,bimestre:K.bimestre,className:((G=K.classrooms)==null?void 0:G.name)||"N/A",subject:K.subject,teacherName:"COORDENAO",type:K.type,description:K.type+" - "+K.date,max_score:K.max_score,grades:K.grades.map(W=>{var Q;return{studentId:"N/A",studentName:((Q=W.students)==null?void 0:Q.name)||"Aluno",score:W.score,proficiencyLevel:W.proficiency_level}}),timestamp:new Date(K.date).getTime()}});u(se)}const{data:Y}=await ae.from("classrooms").select("name").order("name");if(Y){const se=Y.map(K=>K.name);v(se),!_.className&&se.length>0&&O(K=>({...K,className:se[0]}))}};R.useEffect(()=>{M()},[]),R.useEffect(()=>{e==="form"&&(async()=>{if(_.className){o(!0);try{const{data:Y,error:se}=await ae.from("classrooms").select("id").eq("name",_.className).single();if(se||!Y){console.error("Class not found",se),o(!1);return}const{data:K,error:G}=await ae.from("students").select("id, name").eq("classroom_id",Y.id).order("name");if(G){console.error("Error fetching students",G),o(!1);return}if(K){const W=K.map(Q=>({id:Q.id,name:Q.name}));p(W),O(Q=>({...Q,grades:W.map(ee=>({studentId:ee.id,studentName:ee.name,score:0,proficiencyLevel:"MUITO_BAIXO"}))}))}}catch(Y){console.error("Unexpected error loading students",Y)}finally{o(!1)}}})()},[_.className,e]);const D=R.useMemo(()=>{const V=d.filter(se=>se.subject===j),Y={"1 BIMESTRE":{name:"1 BIMESTRE"},"2 BIMESTRE":{name:"2 BIMESTRE"},"3 BIMESTRE":{name:"3 BIMESTRE"},"4 BIMESTRE":{name:"4 BIMESTRE"}};return V.forEach(se=>{const K=se.grades.reduce((G,W)=>G+W.score,0)/(se.grades.length||1);Y[se.bimestre]&&(Y[se.bimestre][se.className]=parseFloat(K.toFixed(1)))}),Object.values(Y)},[d,j]),F=R.useMemo(()=>{const V=new Set;return d.filter(Y=>Y.subject===j).forEach(Y=>V.add(Y.className)),Array.from(V).sort()},[d,j]),q=["#8884d8","#82ca9d","#ffc658","#ff7300","#0088FE","#00C49F","#A05195","#F95D6A"],L=async V=>{V.preventDefault();try{const{data:Y}=await ae.from("classrooms").select("id").eq("name",_.className).single();if(!Y)throw new Error("Turma no encontrada");const{data:se,error:K}=await ae.from("assessments").insert([{classroom_id:Y.id,date:_.date,bimestre:_.bimestre,subject:_.subject,type:_.type,max_score:_.max_score,teacher_id:null}]).select().single();if(K)throw K;const G=_.grades.map(Q=>({assessment_id:se.id,student_id:Q.studentId,score:Q.score,proficiency_level:Q.proficiencyLevel})),{error:W}=await ae.from("grades").insert(G);if(W)throw W;t("Resultado de avaliao externa registrado!","success"),M(),r("list")}catch(Y){console.error("Erro ao salvar:",Y),t("Erro ao salvar avaliao.","error")}},B=(V,Y)=>{let se="MUITO_BAIXO";Y>=80?se="ALTO":Y>=60?se="MDIO":Y>=40&&(se="BAIXO"),O(K=>({...K,grades:K.grades.map(G=>G.studentId===V?{...G,score:Y,proficiencyLevel:se}:G)}))},X=async V=>{var K;const Y=(K=V.target.files)==null?void 0:K[0];if(!Y)return;s(!0);const se=new FileReader;se.onload=async G=>{var W;try{const Q=((W=G.target)==null?void 0:W.result).split(",")[1],ee=await n1e(Q,Y.type);ee&&ee.students&&(O(he=>{const je=[...he.grades];return ee.students.forEach(me=>{const re=je.findIndex(ge=>ge.studentName.toUpperCase().includes(me.name.toUpperCase())||me.name.toUpperCase().includes(ge.studentName.toUpperCase()));if(re!==-1){const ge=me.score;let Me="MUITO_BAIXO";ge>=80?Me="ALTO":ge>=60?Me="MDIO":ge>=40&&(Me="BAIXO"),je[re]={...je[re],score:ge,proficiencyLevel:Me}}}),{...he,grades:je}}),t(`Importao concluda! ${ee.students.length} resultados processados.`,"success"))}catch{t("Erro ao processar o arquivo com a IA.","error")}finally{s(!1),l.current&&(l.current.value="")}},se.readAsDataURL(Y)},P=async V=>{if(window.confirm("Deseja excluir este registro de avaliao externa?")){await ae.from("grades").delete().eq("assessment_id",V);const{error:Y}=await ae.from("assessments").delete().eq("id",V);Y?t("Erro ao excluir.","error"):(u(se=>se.filter(K=>K.id!==V)),t("Registro excludo com sucesso.","success"))}},U=async V=>{w(V),y(!0),S(null);const Y=V.grades.reduce((W,Q)=>W+Q.score,0)/(V.grades.length||1),se=V.grades.filter(W=>W.score<60).map(W=>`${W.studentName} (${W.score}%)`),K={subject:V.subject,className:V.className,bimestre:V.bimestre,averageScore:Y.toFixed(1),lowPerformers:se},G=await o1e(K);S(G),y(!1)};return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[e==="list"?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-white uppercase tracking-tight",children:"Avaliaes de Sistema"}),a.jsx("p",{className:"text-white/60 font-bold text-xs uppercase tracking-widest",children:"Resultados CAED / Sistema Estruturado"})]}),a.jsxs("button",{onClick:()=>r("form"),className:"px-8 py-4 bg-violet-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-violet-600/20 hover:bg-violet-700 transition-all flex items-center gap-2 border border-violet-500/20",children:[a.jsx(ot,{size:18})," Lanar Resultados"]})]}),a.jsxs("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-white/10 shadow-lg backdrop-blur-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-xl font-black text-white uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Vn,{size:20,className:"text-violet-400"})," Evoluo Bimestral"]}),a.jsx("select",{value:j,onChange:V=>T(V.target.value),className:"p-2 bg-white/5 border border-white/10 rounded-xl text-xs font-black uppercase outline-none focus:bg-white/10 focus:ring-2 focus:ring-violet-500/50 text-white/80 [&>option]:bg-gray-900",children:rx.map(V=>a.jsx("option",{value:V,children:V},V))})]}),a.jsx("div",{className:"h-[300px] w-full",children:a.jsx(ou,{width:"100%",height:"100%",children:a.jsxs(Ude,{data:D,margin:{top:5,right:30,left:20,bottom:5},children:[a.jsx(Fu,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(255,255,255,0.1)"}),a.jsx(so,{dataKey:"name",tick:{fontSize:10,fontWeight:"bold",fill:"rgba(255,255,255,0.5)"},stroke:"rgba(255,255,255,0.1)"}),a.jsx(io,{domain:[0,100],tick:{fontSize:10,fontWeight:"bold",fill:"rgba(255,255,255,0.5)"},stroke:"rgba(255,255,255,0.1)"}),a.jsx(Qa,{contentStyle:{borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 4px 12px rgba(0,0,0,0.5)",backgroundColor:"#1e1b4b",color:"#fff"},itemStyle:{fontSize:"11px",fontWeight:"bold",color:"#ccc"},labelStyle:{fontSize:"10px",fontWeight:"900",color:"#fff",marginBottom:"4px",textTransform:"uppercase"}}),a.jsx(dc,{wrapperStyle:{fontSize:"10px",fontWeight:"bold",paddingTop:"10px",color:"#fff"}}),F.map((V,Y)=>a.jsx(Wh,{type:"monotone",dataKey:V,stroke:q[Y%q.length],strokeWidth:3,dot:{r:4,strokeWidth:2,fill:"#1e1b4b"},activeDot:{r:6}},V))]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.map(V=>{const Y=V.grades.reduce((K,G)=>K+G.score,0)/(V.grades.length||1),se=V.grades.filter(K=>K.proficiencyLevel==="BAIXO"||K.proficiencyLevel==="MUITO_BAIXO").length;return a.jsxs("div",{className:"bg-white/5 p-6 rounded-[2.5rem] border border-white/10 shadow-sm hover:border-violet-500/30 hover:bg-white/10 transition-all flex flex-col justify-between group backdrop-blur-md",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-violet-500/10 text-violet-400 rounded-2xl border border-violet-500/20",children:a.jsx(nx,{size:24})}),a.jsx("span",{className:`text-[8px] font-black uppercase px-2 py-1 rounded-lg border ${V.type==="CAED"?"bg-blue-500/10 text-blue-400 border-blue-500/20":"bg-emerald-500/10 text-emerald-400 border-emerald-500/20"}`,children:V.type})]}),a.jsx("h4",{className:"text-lg font-black text-white uppercase leading-tight",children:V.subject}),a.jsxs("p",{className:"text-[10px] text-white/40 font-bold uppercase mt-1",children:[V.className,"  ",V.bimestre]}),a.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white/5 p-3 rounded-2xl border border-white/5",children:[a.jsx("p",{className:"text-[8px] font-black text-white/40 uppercase",children:"Proficincia Mdia"}),a.jsxs("p",{className:"text-xl font-black text-violet-300",children:[Y.toFixed(1),"%"]})]}),a.jsxs("div",{className:"bg-red-500/10 p-3 rounded-2xl border border-red-500/20",children:[a.jsx("p",{className:"text-[8px] font-black text-red-400 uppercase",children:"Ateno (Baixo)"}),a.jsxs("p",{className:"text-xl font-black text-red-500",children:[se," ",a.jsx("span",{className:"text-[10px] text-red-300/60 uppercase",children:"Alunos"})]})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10 flex items-center justify-between",children:[a.jsx("button",{onClick:()=>P(V.id),className:"text-white/20 hover:text-red-400 transition-colors",children:a.jsx(Lt,{size:16})}),a.jsxs("button",{onClick:()=>U(V),className:"px-3 py-2 bg-violet-500/10 text-violet-300 rounded-xl font-black uppercase text-[9px] tracking-widest hover:bg-violet-500/20 transition-all flex items-center gap-2 border border-violet-500/20",children:[a.jsx(Mr,{size:12}),"Plano de Ao (IA)"]})]})]},V.id)}),d.length===0&&a.jsxs("div",{className:"col-span-full py-24 text-center border-2 border-dashed border-white/10 rounded-[3rem] bg-white/5 backdrop-blur-sm",children:[a.jsx(xL,{size:48,className:"mx-auto mb-4 text-white/10"}),a.jsx("p",{className:"text-white/30 font-black uppercase text-xs tracking-widest",children:"Nenhuma avaliao externa registrada"})]})]})]}):a.jsx("div",{className:"max-w-4xl mx-auto animate-in slide-in-from-bottom-4 duration-500 pb-20",children:a.jsxs("form",{onSubmit:L,className:"bg-white/5 p-10 rounded-[3rem] border border-white/10 shadow-xl space-y-10 backdrop-blur-md",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-white/10 pb-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("button",{type:"button",onClick:()=>r("list"),className:"p-3 bg-white/5 text-white/40 hover:text-violet-400 rounded-2xl transition-all border border-white/10",children:a.jsx(cr,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Lanamento de Resultados de Sistema"}),a.jsx("p",{className:"text-white/40 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Dados de proficincia da SEDUC/DRE"})]})]}),a.jsx("div",{className:"p-3 bg-violet-500/10 text-violet-400 rounded-2xl shadow-sm border border-violet-500/20",children:a.jsx(tu,{size:24})})]}),a.jsxs("div",{className:"p-1 bg-gradient-to-r from-violet-600 to-indigo-600 rounded-[2.5rem] shadow-lg shadow-violet-900/40",children:[a.jsxs("button",{type:"button",disabled:n,onClick:()=>{var V;return(V=l.current)==null?void 0:V.click()},className:"w-full py-6 bg-[#0f1016] hover:bg-[#161821] transition-all rounded-[2.3rem] flex items-center justify-center gap-4 group overflow-hidden relative",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity",children:a.jsx(Mr,{size:120,className:"text-violet-500"})}),n?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(vt,{size:24,className:"animate-spin text-violet-500"}),a.jsx("span",{className:"text-sm font-black text-violet-200 uppercase tracking-widest",children:"IA Analisando Documento..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-3 bg-violet-500/10 text-violet-400 rounded-2xl group-hover:scale-110 transition-transform border border-violet-500/20",children:a.jsx(AL,{size:24})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-sm font-black text-white uppercase tracking-tight leading-none",children:"Importar Relatrio (PDF/XLS)"}),a.jsx("p",{className:"text-[10px] text-white/40 font-bold uppercase tracking-widest mt-1",children:"Extrao inteligente de nomes e notas via IA"})]}),a.jsx(Mr,{size:18,className:"text-amber-400 animate-pulse"})]})]}),a.jsx("input",{type:"file",ref:l,onChange:X,className:"hidden",accept:".pdf,.xls,.xlsx,image/*"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Sistema de Avaliao"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:l_e.map(V=>a.jsx("button",{type:"button",onClick:()=>O({..._,type:V}),className:`py-3 rounded-xl text-[10px] font-black uppercase transition-all ${_.type===V?"bg-violet-600 text-white shadow-lg shadow-violet-600/20":"bg-white/5 text-white/40 border border-white/10 hover:bg-white/10"}`,children:V},V))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Componente Curricular"}),a.jsx("select",{value:_.subject,onChange:V=>O({..._,subject:V.target.value}),className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-black text-sm text-white uppercase outline-none focus:bg-white/10 transition-all [&>option]:bg-gray-900",children:rx.map(V=>a.jsx("option",{children:V},V))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Turma"}),a.jsxs("select",{value:_.className,onChange:V=>O({..._,className:V.target.value}),className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-black text-sm text-white uppercase outline-none focus:bg-white/10 transition-all [&>option]:bg-gray-900",children:[x.map(V=>a.jsx("option",{children:V},V)),x.length===0&&a.jsx("option",{value:"",children:"Sem turmas cadastradas"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Bimestre"}),a.jsx("select",{value:_.bimestre,onChange:V=>O({..._,bimestre:V.target.value}),className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-black text-sm text-white uppercase outline-none focus:bg-white/10 transition-all [&>option]:bg-gray-900",children:["1 BIMESTRE","2 BIMESTRE","3 BIMESTRE","4 BIMESTRE"].map(V=>a.jsx("option",{children:V},V))})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Descrio do Perodo/Avaliao"}),a.jsx("input",{required:!0,type:"text",value:_.description,onChange:V=>O({..._,description:V.target.value.toUpperCase()}),placeholder:"EX: AVALIAO DIAGNSTICA DE ENTRADA",className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm text-white uppercase outline-none focus:bg-white/10 transition-all placeholder:text-white/20"})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-white/10 pb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h4",{className:"text-xs font-black text-white uppercase tracking-widest",children:"Notas de Proficincia (%)"}),i&&a.jsx("span",{className:"text-[9px] text-violet-400 font-bold animate-pulse",children:"Carregando alunos..."})]}),a.jsxs("span",{className:"text-[9px] font-bold text-violet-400 uppercase flex items-center gap-1",children:[a.jsx(ft,{size:12})," Dados Auditveis"]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:[_.grades.map(V=>{var Y,se;return a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-2xl border border-transparent hover:border-violet-500/30 transition-all",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-white uppercase",children:V.studentName}),a.jsx("div",{className:"flex items-center gap-2 mt-1",children:a.jsxs("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase ${(Y=aL.find(K=>K.value===V.proficiencyLevel))==null?void 0:Y.color}`,children:["Nvel: ",(se=aL.find(K=>K.value===V.proficiencyLevel))==null?void 0:se.label]})})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"number",step:"1",min:"0",max:"100",value:V.score,onChange:K=>B(V.studentId,parseInt(K.target.value)||0),className:"w-20 p-2 text-center bg-black/20 rounded-xl font-black text-sm text-white outline-none border-2 border-transparent focus:border-violet-500/50 transition-all"}),a.jsx("span",{className:"text-[10px] font-black text-white/30",children:"%"})]})]},V.studentId)}),!i&&_.grades.length===0&&a.jsx("div",{className:"p-8 text-center bg-white/5 rounded-2xl border-2 border-dashed border-white/10",children:a.jsx("p",{className:"text-white/30 font-bold text-xs",children:"Nenhum aluno encontrado nesta turma."})})]})]}),a.jsx("button",{type:"submit",disabled:i||_.grades.length===0,className:`w-full py-5 text-white rounded-[2rem] font-black uppercase text-xs tracking-[0.2em] shadow-2xl transition-all ${i||_.grades.length===0?"bg-white/5 cursor-not-allowed text-white/20":"bg-violet-600 hover:bg-violet-700 shadow-violet-600/30"}`,children:"Finalizar Lanamento Externo"})]})}),b&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300 font-sans",children:a.jsxs("div",{className:"bg-[#1a1a1a] rounded-[3rem] w-full max-w-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col border border-white/10",children:[a.jsxs("div",{className:"p-8 bg-violet-900/50 text-white flex justify-between items-center shrink-0 border-b border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white/10 rounded-2xl",children:a.jsx(Fi,{size:28})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:"Plano de Interveno Estratgica"}),a.jsxs("p",{className:"text-violet-200 text-xs font-bold uppercase tracking-widest",children:[b.subject,"  ",b.className]})]})]}),a.jsx("button",{onClick:()=>w(null),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsx("div",{className:"p-10 overflow-y-auto custom-scrollbar space-y-8 flex-1 bg-gradient-to-b from-[#1a1a1a] to-[#0f0f0f]",children:k?a.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-center space-y-6",children:[a.jsx(vt,{size:48,className:"animate-spin text-violet-500"}),a.jsx("p",{className:"text-white/40 font-black uppercase text-xs tracking-widest",children:"A Inteligncia Artificial est analisando os dados da turma..."})]}):g?a.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-xs font-black text-violet-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[a.jsx(tu,{size:14})," Diagnstico Identificado"]}),a.jsx("p",{className:"text-white/80 font-medium leading-relaxed bg-white/5 p-6 rounded-3xl border border-white/10 text-sm",children:g.diagnosis})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-xs font-black text-violet-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[a.jsx(Hj,{size:14})," Habilidades Foco (BNCC/DRC-MT)"]}),a.jsx("div",{className:"bg-amber-500/10 p-6 rounded-3xl border border-amber-500/20",children:a.jsx("p",{className:"text-amber-200 font-bold text-sm",children:g.skillsToReinforce})})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-xs font-black text-violet-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[a.jsx(Nt,{size:14})," Metodologias Ativas Sugeridas"]}),a.jsx("div",{className:"space-y-3",children:(z=g.actions)==null?void 0:z.map((V,Y)=>a.jsxs("div",{className:"flex gap-4 p-4 bg-white/5 rounded-2xl border border-transparent hover:border-white/10 transition-all",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-violet-600/50 text-white flex items-center justify-center font-bold text-xs shrink-0 border border-violet-500/30",children:Y+1}),a.jsx("p",{className:"text-white/80 text-sm font-medium",children:V})]},Y))})]})]}):a.jsx("div",{className:"text-center py-10 text-white/30",children:"No foi possvel gerar o relatrio."})}),a.jsx("div",{className:"p-6 border-t border-white/10 bg-white/5 flex justify-end shrink-0",children:a.jsx("button",{onClick:()=>window.print(),className:"px-8 py-3 bg-white/10 hover:bg-white/20 text-white rounded-xl font-black uppercase text-xs tracking-widest transition-all",children:"Imprimir Relatrio"})})]})})]})},nL={escola:"Unidade Escolar",teacher:"",subject:"MATEMTICA",className:"",date:new Date().toISOString().split("T")[0],observador:"COORDENADOR ANDR",cargo:"Coordenador Pedaggico",organizacional:{inicioPontual:1,ritmoAdequado:1,usoEficienteTempo:1,minimizacaoInterrupcoes:1,clarezaTomVoz:1},pedagogico:{clarezaObjetivos:1,usoRecursos:1,interacaoAlunos:1,avaliacaoFormativa:1},evidencias:"",avaliacaoGeral:"Adequado",feedback:{pontosFortes:"",pontosMelhorar:"",sugestoesPraticas:[],planoAcao:"",escalaFeedback:"Bom"}},d_e=({user:t})=>{const[e,r]=R.useState("list"),[n,s]=R.useState(null),[i,o]=R.useState([]),[l,d]=R.useState([]),[u,h]=R.useState(!1),p=r,x=async()=>{let j=ae.from("classroom_observations").select("*");(t==null?void 0:t.role)==="PROFESSOR"&&(j=j.eq("teacher_id",t.id));const{data:T}=await j;T&&o(T.map(_=>({..._,teacher:_.teacher_name,criteria_scores:JSON.stringify({..._.organizational_criteria,..._.pedagogical_criteria}),organizational:_.organizational_criteria,pedagogico:_.pedagogical_criteria,avaliacaoGeral:_.general_rating,timestamp:new Date(_.created_at).getTime(),teacher_name:_.teacher_name,class_name:_.classroom_name,subject:_.subject,date:_.date})))},v=async()=>{const{data:j}=await ae.from("users").select("*").eq("role","PROFESSOR");j&&d(j.map(T=>({id:T.id,name:T.name,role:T.role,code:"",registration:"",cpf:"",birthDate:"",entryProfile:"",serverType:"Professor",jobFunction:"",shift:"MATUTINO",qualification:"",email:T.email||"",status:"EM_ATIVIDADE",leaveHistory:[],movementHistory:[],notifyAlerts:!1,photos:[]})))};R.useEffect(()=>{x(),v()},[]);const[b,w]=R.useState(nL);R.useRef(null);const g=async j=>{var _;const T=typeof j=="boolean"?j:!1;typeof j!="boolean"&&j.preventDefault(),h(!0);try{if(b.id){const{error:O}=await ae.from("classroom_observations").update({teacher_name:b.teacher,subject:b.subject,classroom_name:b.className,date:b.date,observer_name:b.observador,role:b.cargo,organizational_criteria:b.organizational,pedagogical_criteria:b.pedagogico,evidences:b.evidencias,general_rating:b.avaliacaoGeral,teacher_id:n,feedback:{...b.feedback,enviadoEm:T?Date.now():(_=b.feedback)==null?void 0:_.enviadoEm}}).eq("id",b.id);if(O)throw O}else{const{error:O}=await ae.from("classroom_observations").insert([{teacher_name:b.teacher,subject:b.subject,classroom_name:b.className,date:b.date,observer_name:b.observador,role:b.cargo,organizational_criteria:b.organizational,pedagogical_criteria:b.pedagogico,evidences:b.evidencias,general_rating:b.avaliacaoGeral,teacher_id:n,feedback:{...b.feedback,enviadoEm:T?Date.now():void 0}}]);if(O)throw O}await x(),alert(T?"Feedback enviado ao professor com sucesso!":"Registro salvo no banco de dados!"),p("list")}catch(O){console.error("Erro ao salvar observao:",O),alert("Erro ao salvar observao.")}finally{h(!1)}},S=async j=>{alert(`Baixando PDF da observao de ${j.teacher_name}...`)},k=async(j,T)=>{if(T&&T.stopPropagation(),window.confirm("Deseja remover este registro permanentemente?")){const{error:_}=await ae.from("classroom_observations").delete().eq("id",j);_?alert("Erro ao excluir observao."):o(O=>O.filter(M=>M.id!==j))}},y=({value:j,onChange:T,label:_})=>a.jsxs("div",{className:"flex flex-col gap-3 p-4 bg-white/5 rounded-2xl border border-white/10 group hover:border-violet-500/30 transition-all",children:[a.jsx("span",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest leading-none",children:_}),a.jsx("div",{className:"flex justify-between gap-1",children:[1,2,3,4,5].map(O=>a.jsx("button",{type:"button",onClick:()=>T(O),className:`w-10 h-10 rounded-xl font-black text-sm transition-all ${j===O?"bg-violet-600 text-white shadow-lg shadow-violet-600/20":"bg-black/20 text-white/30 border border-transparent hover:bg-white/10"}`,children:O},O))})]});return a.jsx("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:e==="list"?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-white/10 shadow-lg backdrop-blur-md flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Observaes de Aula"}),a.jsx("p",{className:"text-white/40 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Acompanhamento e Mentoria Docente"})]}),a.jsxs("button",{onClick:()=>{w(nL),r("form")},className:"px-8 py-4 bg-violet-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-violet-600/20 hover:bg-violet-700 transition-all flex items-center gap-2 border border-violet-500/20",children:[a.jsx(ot,{size:18})," Nova Observao"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.map(j=>a.jsxs("div",{onClick:()=>{w(j),r("form")},className:"bg-white/5 p-6 rounded-[2.5rem] border border-white/10 shadow-sm hover:border-violet-500/30 hover:bg-white/10 transition-all cursor-pointer flex flex-col justify-between group backdrop-blur-md",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-violet-500/10 text-violet-400 rounded-2xl border border-violet-500/20",children:a.jsx(Bi,{size:24})}),a.jsx("span",{className:"text-[10px] font-black text-white/40 uppercase px-2 py-1 rounded-lg border border-white/10 bg-white/5",children:j.date})]}),a.jsx("h4",{className:"text-lg font-black text-white uppercase leading-tight",children:j.teacher}),a.jsxs("p",{className:"text-[10px] text-white/40 font-bold uppercase mt-1",children:[j.class_name,"  ",j.subject]}),a.jsx("div",{className:"mt-6 space-y-2",children:j.criteria_scores&&(()=>{try{const T=JSON.parse(j.criteria_scores);return Object.entries(T).slice(0,3).map(([_,O])=>a.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold uppercase",children:[a.jsx("span",{className:"text-white/40 truncate w-2/3",children:_.replace(/([A-Z])/g," $1").trim()}),a.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(M=>a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${M<=O?"bg-violet-500":"bg-white/10"}`},M))})]},_))}catch{return null}})()})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:T=>k(j.id,T),className:"text-white/20 hover:text-red-400 transition-colors",children:a.jsx(Lt,{size:16})}),a.jsx("button",{onClick:T=>{T.stopPropagation(),S(j)},className:"text-white/20 hover:text-violet-400 transition-colors",children:a.jsx(ni,{size:16})})]}),a.jsxs("button",{className:"px-3 py-2 bg-white/5 text-white/60 rounded-xl font-black uppercase text-[9px] tracking-widest hover:bg-violet-500/20 hover:text-violet-300 transition-all flex items-center gap-2 border border-white/10",children:["Ver Detalhes ",a.jsx(rc,{size:12})]})]})]},j.id)),i.length===0&&a.jsxs("div",{className:"col-span-full py-24 text-center bg-white/5 rounded-[3rem] border-2 border-dashed border-white/10 backdrop-blur-md",children:[a.jsx(Bi,{size:48,className:"mx-auto mb-4 text-white/10"}),a.jsx("p",{className:"text-white/30 font-black uppercase text-xs tracking-widest",children:"Nenhuma observao registrada"})]})]})]}):a.jsx("div",{className:"max-w-4xl mx-auto space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:a.jsxs("div",{className:"bg-white/5 p-10 rounded-[3rem] border border-white/10 shadow-xl space-y-10 backdrop-blur-md",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-white/10 pb-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("button",{onClick:()=>r("list"),className:"p-3 bg-white/5 text-white/40 hover:text-violet-400 rounded-2xl transition-all border border-white/10",children:a.jsx(cr,{size:24})}),a.jsx("h1",{className:"text-2xl font-black uppercase text-emerald-950",children:"Registro de Observao em Sala de Aula"}),a.jsx("p",{className:"text-[10px] font-bold uppercase text-emerald-900/60 tracking-widest",children:"Acompanhamento e Suporte  Prtica Pedaggica Conforme orientaes da SEDUC/MT"})]}),a.jsx("div",{className:"p-3 bg-violet-500/10 text-violet-400 rounded-2xl shadow-sm border border-violet-500/20",children:a.jsx(Bi,{size:24})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Professor"}),a.jsxs("select",{value:b.teacher,onChange:j=>{const T=l.find(_=>_.name===j.target.value);w({...b,teacher:j.target.value}),s((T==null?void 0:T.id)||null)},className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm outline-none focus:bg-white/10 uppercase text-white [&>option]:bg-gray-900",children:[a.jsx("option",{value:"",children:"Selecione o professor..."}),l.map(j=>a.jsx("option",{value:j.name,children:j.name},j.id))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Componente Curricular"}),a.jsx("select",{value:b.subject,onChange:j=>w({...b,subject:j.target.value}),className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-black text-xs uppercase outline-none focus:bg-white/10 text-white [&>option]:bg-gray-900",children:UF.map(j=>a.jsx("option",{value:j,children:j},j))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Turma"}),a.jsxs("select",{value:b.className,onChange:j=>w({...b,className:j.target.value}),className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-black text-xs uppercase outline-none focus:bg-white/10 text-white [&>option]:bg-gray-900",children:[a.jsx("option",{value:"",children:"Selecione a turma..."}),cl.map(j=>a.jsx("option",{value:j,children:j},j))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Data da Observao"}),a.jsx("input",{type:"date",value:b.date,onChange:j=>w({...b,date:j.target.value}),className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm outline-none text-white focus:bg-white/10"})]})]}),a.jsxs("div",{className:"space-y-12",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("h4",{className:"text-lg font-black text-white uppercase tracking-tight flex items-center gap-3",children:[a.jsx("span",{className:"w-8 h-8 rounded-xl bg-violet-600 flex items-center justify-center text-white text-sm",children:"1"}),"Aspectos Organizacionais"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(b.organizational||{}).map(([j,T])=>a.jsx(y,{label:j,value:T,onChange:_=>w({...b,organizational:{...b.organizational,[j]:_}})},j))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("h4",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest mb-2 flex items-center gap-2",children:[a.jsx(ia,{size:14,className:"text-violet-500"})," Critrios Pedaggicos"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(b.pedagogico||{}).map(([j,T])=>a.jsx(y,{label:j,value:T,onChange:_=>w({...b,pedagogico:{...b.pedagogico,[j]:_}})},j))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"text-xs font-black text-white uppercase tracking-widest ml-1",children:"Evidncias / Pontos Observados"}),a.jsx("textarea",{value:b.evidencias,onChange:j=>w({...b,evidencias:j.target.value}),placeholder:"Relate o que foi observado durante a aula...",className:"w-full p-6 bg-white/5 border border-white/10 rounded-3xl font-medium text-sm text-white outline-none focus:bg-white/10 transition-all h-40 resize-none placeholder:text-white/20"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 py-5 bg-white/5 text-white/60 rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-white/10 transition-all border border-white/5",children:"Salvar Rascunho"}),a.jsx("button",{type:"button",onClick:()=>g(!0),className:"flex-1 py-5 bg-violet-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-violet-600/20 hover:bg-violet-700 transition-all border border-violet-500/20",children:"Finalizar e Enviar Feedback"})]})]})})})},u_e=({onCancel:t,onSave:e,initialData:r})=>{const[n,s]=R.useState(r||{id:`occ-${Date.now()}`,date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),involvedStudents:"",className:"",location:"",report:"",responsible:"COORDENADOR ANDR",category:"INDISCIPLINA",attachments:[],status:"REGISTRADO",timestamp:Date.now()}),[i,o]=R.useState(null),[l,d]=R.useState(""),[u,h]=R.useState(!1),{students:p}=PS(),x=xe.useMemo(()=>!l||l.length<2?[]:p.filter(S=>S.name.toLowerCase().includes(l.toLowerCase())).slice(0,5),[l,p]),v=S=>{s({...n,involvedStudents:S.name,className:S.class}),d(""),h(!1)},b=S=>{if(S.preventDefault(),!n.involvedStudents||!n.report)return alert("Preencha os campos obrigatrios.");e(n)},w=S=>{var y;const k=(y=S.target.files)==null?void 0:y[0];if(k){const j=new FileReader;j.onloadend=()=>{const T=j.result;o(T),s(_=>({..._,attachments:[..._.attachments,T]}))},j.readAsDataURL(k)}},g=["INDISCIPLINA","CONFLITO","ATRASO","VIOLNCIA","DESCUMPRIMENTO_REGRAS","OUTRO"];return a.jsx("div",{className:"max-w-4xl mx-auto animate-in slide-in-from-bottom-4 duration-500 pb-20",children:a.jsxs("div",{className:"bg-white p-10 rounded-[3.5rem] border border-gray-100 shadow-xl space-y-10",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-50 pb-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("button",{onClick:t,className:"p-3 bg-gray-50 text-gray-400 hover:text-violet-600 rounded-2xl transition-all",children:a.jsx(cr,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Registro de Ocorrncia"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Instrumento Formal de Acompanhamento"})]})]}),a.jsx("div",{className:"p-3 bg-violet-50 text-violet-600 rounded-2xl border border-violet-100",children:a.jsx(Xt,{size:24})})]}),a.jsxs("form",{onSubmit:b,className:"space-y-10",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Data e Hora do Fato"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("input",{required:!0,type:"date",value:n.date,onChange:S=>s({...n,date:S.target.value}),className:"flex-1 p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"}),a.jsx("input",{required:!0,type:"time",value:n.time,onChange:S=>s({...n,time:S.target.value}),className:"w-32 p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white text-center"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Local da Ocorrncia"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yi,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{required:!0,type:"text",placeholder:"EX: PTIO, SALA 04, REFEITRIO...",value:n.location,onChange:S=>s({...n,location:S.target.value.toUpperCase()}),className:"w-full pl-12 pr-6 py-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Estudante(s) Envolvido(s)"}),a.jsxs("div",{className:"relative",children:[a.jsx(la,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{required:!0,type:"text",placeholder:"DIGITE O NOME...",value:n.involvedStudents||l,onChange:S=>{s({...n,involvedStudents:S.target.value.toUpperCase()}),d(S.target.value),h(!0)},onFocus:()=>h(!0),className:"w-full pl-12 pr-6 py-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"}),u&&x.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-xl border border-gray-100 z-50 overflow-hidden",children:x.map(S=>a.jsxs("button",{type:"button",onClick:()=>v(S),className:"w-full text-left px-6 py-3 hover:bg-violet-50 transition-colors flex justify-between items-center group",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-gray-800 uppercase",children:S.name}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase group-hover:text-violet-500",children:S.class})]}),a.jsx(ot,{size:16,className:"text-gray-300 group-hover:text-violet-500"})]},S.id))})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Ano / Turma"}),a.jsx("input",{required:!0,type:"text",placeholder:"EX: 9 ANO B",value:n.className,onChange:S=>s({...n,className:S.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white uppercase"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Classificao do Fato"}),a.jsxs("div",{className:"relative",children:[a.jsx(_L,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("select",{value:n.category,onChange:S=>s({...n,category:S.target.value}),className:"w-full pl-12 pr-6 py-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase outline-none focus:bg-white",children:g.map(S=>a.jsx("option",{value:S,children:S.replace("_"," ")},S))})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Servidor Responsvel pelo Registro"}),a.jsx("input",{disabled:!0,type:"text",value:n.responsible,className:"w-full p-4 bg-gray-100 border border-gray-100 rounded-2xl font-black text-xs text-gray-500 outline-none"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Relato Descritivo dos Fatos"}),a.jsxs("div",{className:"relative",children:[a.jsx(wn,{className:"absolute left-6 top-6 text-gray-300",size:20}),a.jsx("textarea",{required:!0,value:n.report,onChange:S=>s({...n,report:S.target.value}),placeholder:"Descreva de forma imparcial e objetiva o ocorrido...",className:"w-full p-8 pl-16 bg-gray-50 border border-gray-100 rounded-[2.5rem] font-medium text-sm leading-relaxed h-48 resize-none outline-none focus:bg-white focus:ring-4 focus:ring-violet-500/5 transition-all"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Evidncias e Documentos (Opcional)"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{onClick:()=>{var S;return(S=document.getElementById("occ-upload"))==null?void 0:S.click()},className:"aspect-square bg-gray-50 border-2 border-dashed border-gray-200 rounded-3xl flex flex-col items-center justify-center cursor-pointer hover:bg-white hover:border-violet-300 hover:text-violet-600 transition-all group",children:[a.jsx(nc,{size:32,className:"text-gray-300 group-hover:scale-110 transition-transform"}),a.jsx("p",{className:"text-[8px] font-black uppercase mt-3 tracking-widest text-gray-400 group-hover:text-violet-600 text-center px-4",children:"Anexar Foto ou Documento"}),a.jsx("input",{id:"occ-upload",type:"file",className:"hidden",accept:"image/*,.pdf",onChange:w})]}),n.attachments.map((S,k)=>a.jsxs("div",{className:"aspect-square bg-gray-900 rounded-3xl overflow-hidden relative group",children:[a.jsx("img",{src:S,className:"w-full h-full object-cover opacity-80",alt:"Anexo"}),a.jsx("button",{type:"button",onClick:()=>s({...n,attachments:n.attachments.filter((y,j)=>j!==k)}),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Ze,{size:14})})]},k))]})]}),a.jsxs("button",{type:"submit",className:"w-full py-6 bg-violet-600 text-white rounded-[2rem] font-black uppercase text-sm tracking-[0.2em] shadow-2xl hover:bg-violet-700 active:scale-95 transition-all flex items-center justify-center gap-3",children:[a.jsx(qr,{size:24})," Efetivar Registro no Livro"]})]})]})})},f_e=({occurrence:t,onBack:e,onUpdateStatus:r})=>{const[n,s]=R.useState(!1),[i,o]=R.useState(null),[l,d]=R.useState(!1),u=R.useRef(null),h=async()=>{s(!0);try{const x=await Zye(t);x&&o(x)}catch{alert("Erro ao gerar ata via IA.")}finally{s(!1)}},p=async()=>{if(!i)return;d(!0);const x=u.current;if(!x)return d(!1);try{await window.html2pdf().set({margin:[10,10,10,10],filename:`Ata_Ocorrencia_${t.involvedStudents.replace(/\s/g,"_")}_${t.date}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).from(x).save(),r(t.id,"ATA_GERADA")}catch(v){console.error(v)}finally{d(!1)}};return a.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6 no-print",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("button",{onClick:e,className:"p-3 bg-gray-50 text-gray-400 hover:text-violet-600 rounded-2xl transition-all",children:a.jsx(cr,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Escriturao de Ocorrncia"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Gerao de Documento Oficial via IA"})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:i?a.jsxs("button",{onClick:p,disabled:l,className:"px-8 py-4 bg-emerald-600 text-white rounded-xl font-black uppercase text-[10px] tracking-widest shadow-xl hover:bg-emerald-700 active:scale-95 transition-all flex items-center gap-3",children:[l?a.jsx(vt,{size:18,className:"animate-spin"}):a.jsx(Sa,{size:18}),"Exportar PDF & Assinar"]}):a.jsxs("button",{onClick:h,disabled:n,className:"px-8 py-4 bg-violet-600 text-white rounded-xl font-black uppercase text-[10px] tracking-widest shadow-xl hover:bg-violet-700 active:scale-95 transition-all flex items-center gap-3",children:[n?a.jsx(vt,{size:18,className:"animate-spin"}):a.jsx(Mr,{size:18}),"Gerar Ata Formal (IA)"]})})]}),!i&&a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-gray-100 shadow-sm space-y-10 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 text-center",children:[a.jsxs("div",{className:"p-5 bg-gray-50 rounded-3xl",children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Envolvido(s)"}),a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase truncate",children:t.involvedStudents})]}),a.jsxs("div",{className:"p-5 bg-gray-50 rounded-3xl",children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Turma"}),a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase",children:t.className})]}),a.jsxs("div",{className:"p-5 bg-gray-50 rounded-3xl",children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Data/Hora"}),a.jsxs("p",{className:"text-sm font-black text-gray-900 uppercase",children:[new Date(t.date).toLocaleDateString("pt-BR")," ",t.time]})]}),a.jsxs("div",{className:"p-5 bg-gray-50 rounded-3xl",children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Categoria"}),a.jsx("p",{className:"text-sm font-black text-violet-600 uppercase",children:t.category.replace("_"," ")})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(wn,{size:14,className:"text-violet-600"})," Relato Original do Registro"]}),a.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed font-medium bg-gray-50 p-8 rounded-[2.5rem] italic border border-gray-100",children:['"',t.report,'"']})]})]}),i&&a.jsxs("div",{className:"space-y-8 animate-in zoom-in-95 duration-500",children:[a.jsxs("div",{className:"bg-violet-900 p-8 rounded-[3rem] text-white flex items-center justify-between shadow-2xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 rotate-12",children:a.jsx(Mr,{size:140})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("h4",{className:"text-xl font-black uppercase tracking-widest mb-1 flex items-center gap-3",children:[a.jsx(Nt,{size:24,className:"text-emerald-400"})," Ata Administrativa Gerada"]}),a.jsx("p",{className:"text-violet-200 text-sm font-medium opacity-80",children:"Documento estruturado pronto para exportao e coleta de assinaturas fsicas."})]}),a.jsx("button",{onClick:()=>o(null),className:"relative z-10 p-3 bg-white/10 hover:bg-white/20 rounded-2xl transition-all",children:a.jsx(Ze,{size:20})})]}),a.jsx("div",{id:"printable-area",className:"bg-white p-12 md:p-16 rounded-[3rem] border-2 border-violet-100 shadow-2xl space-y-12",children:a.jsxs("div",{ref:u,className:"space-y-12 text-gray-900 font-sans pdf-export-view",children:[a.jsxs("div",{className:"text-center border-b-2 border-black pb-8 space-y-2",children:[a.jsx("h1",{className:"text-2xl font-black uppercase text-red-950",children:"Ata de Ocorrncia Pedaggica"}),a.jsx("p",{className:"text-[10px] font-bold uppercase text-red-900/60 tracking-widest",children:"Registro Oficial de Fatos e Deliberaes"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-10 text-[10px]",children:[a.jsxs("div",{className:"p-4 border-2 border-black rounded-xl space-y-2",children:[a.jsx("h4",{className:"font-black uppercase tracking-widest border-b border-black/10 pb-1",children:"Identificao do Fato"}),a.jsxs("p",{children:[a.jsx("strong",{children:"DATA:"})," ",new Date(t.date).toLocaleDateString("pt-BR")]}),a.jsxs("p",{children:[a.jsx("strong",{children:"HORRIO:"})," ",t.time]}),a.jsxs("p",{children:[a.jsx("strong",{children:"LOCAL:"})," ",t.location]}),a.jsxs("p",{children:[a.jsx("strong",{children:"TURMA:"})," ",t.className]})]}),a.jsxs("div",{className:"p-4 border-2 border-black rounded-xl space-y-2",children:[a.jsx("h4",{className:"font-black uppercase tracking-widest border-b border-black/10 pb-1",children:"Emisso do Documento"}),a.jsxs("p",{children:[a.jsx("strong",{children:"CLASSIFICAO:"})," ",t.category.replace("_"," ")]}),a.jsxs("p",{children:[a.jsx("strong",{children:"RELATOR:"})," ",t.responsible]}),a.jsxs("p",{children:[a.jsx("strong",{children:"DATA EMISSO:"})," ",new Date().toLocaleDateString("pt-BR")]}),a.jsxs("p",{children:[a.jsx("strong",{children:"ORIGEM:"})," ESCRITURAO DIGITAL"]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-xs font-black uppercase tracking-widest bg-black text-white px-3 py-1 w-fit",children:"Narrativa dos Fatos"}),a.jsx("p",{className:"text-sm leading-relaxed text-justify font-serif",children:i.formalText})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-xs font-black uppercase tracking-widest bg-black text-white px-3 py-1 w-fit",children:"Envolvidos"}),a.jsx("p",{className:"text-sm font-black uppercase tracking-tight",children:i.involvedParties})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-xs font-black uppercase tracking-widest bg-black text-white px-3 py-1 w-fit",children:"Resumo Executivo"}),a.jsx("p",{className:"text-sm italic font-medium border-l-4 border-black pl-6 py-2 bg-gray-50 rounded-r-xl",children:i.summary})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-xs font-black uppercase tracking-widest bg-black text-white px-3 py-1 w-fit",children:"Encaminhamentos e Medidas Sugeridas"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.suggestedReferrals.map((x,v)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 border border-black rounded-lg text-[10px] font-bold",children:[a.jsx("div",{className:"w-5 h-5 border-2 border-black rounded flex items-center justify-center font-black",children:"X"}),x]},v))})]}),a.jsxs("div",{className:"pt-24 grid grid-cols-2 gap-20 text-center",children:[a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"border-t-2 border-black pt-4",children:[a.jsx("p",{className:"text-xs font-black uppercase",children:t.responsible}),a.jsx("p",{className:"text-[9px] uppercase text-gray-500 font-bold",children:"Servidor Responsvel pelo Relato"})]})}),a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"border-t-2 border-black pt-4",children:[a.jsx("p",{className:"text-xs font-black uppercase",children:"Direo / Coordenao"}),a.jsx("p",{className:"text-[9px] uppercase text-gray-500 font-bold",children:"Ciente e Validado em: ____/____/____"})]})})]}),a.jsxs("div",{className:"pt-10 flex items-center justify-center gap-2 opacity-30",children:[a.jsx(ft,{size:16}),a.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.4em]",children:"Documento Autenticado via Portal Gesto Pedaggica Andr Maggi"})]})]})})]}),a.jsx("style",{children:`
        .pdf-export-view { font-family: 'Inter', sans-serif; }
        @media print {
          .no-print { display: none !important; }
        }
      `})]})},h_e=()=>{const[t,e]=R.useState("list"),{addToast:r}=jn(),[n,s]=R.useState([]),[i,o]=R.useState(null),[l,d]=R.useState(""),[u,h]=R.useState("TODOS"),p=async()=>{const{data:g}=await ae.from("occurrences").select("*").order("date",{ascending:!1});g&&s(g.map(S=>({id:S.id,date:S.date,time:S.time,involvedStudents:S.student_name||"N/A",className:S.classroom_name||"N/A",location:S.location,report:S.description,responsible:S.responsible_name||"COORDENAO",category:S.category,attachments:S.attachments||[],status:S.status,timestamp:new Date(S.date+"T"+S.time).getTime()})))};R.useEffect(()=>{p();const g=ae.channel("occurrences_updates").on("postgres_changes",{event:"*",schema:"public",table:"occurrences"},p).subscribe();return()=>{g.unsubscribe()}},[]);const x=R.useMemo(()=>n.filter(g=>{const S=g.involvedStudents.toLowerCase().includes(l.toLowerCase())||g.className.toLowerCase().includes(l.toLowerCase()),k=u==="TODOS"||g.category===u;return S&&k}).sort((g,S)=>S.timestamp-g.timestamp),[n,l,u]),v=async(g,S)=>{if(S.stopPropagation(),window.confirm("Deseja excluir este registro de ocorrncia permanentemente?")){const{error:k}=await ae.from("occurrences").delete().eq("id",g);k?r("Erro ao excluir ocorrncia.","error"):(s(y=>y.filter(j=>j.id!==g)),r("Ocorrncia excluda com sucesso.","success"))}},b=async g=>{try{const S={date:g.date,time:g.time,student_name:g.involvedStudents,classroom_name:g.className,location:g.location,description:g.report,responsible_name:g.responsible,category:g.category,attachments:g.attachments,status:g.status};let k=g.id;if(g.id.startsWith("occ-")){const{data:y,error:j}=await ae.from("occurrences").insert([S]).select().single();if(j)throw j;y&&(k=y.id)}else{const{error:y}=await ae.from("occurrences").update(S).eq("id",g.id);if(y)throw y}await p(),o(k),e("ata")}catch(S){console.error("Erro ao salvar ocorrncia:",S),r("Erro ao salvar ocorrncia.","error")}},w=["INDISCIPLINA","CONFLITO","ATRASO","VIOLNCIA","DESCUMPRIMENTO_REGRAS","OUTRO"];return t==="form"?a.jsx(u_e,{onCancel:()=>e("list"),onSave:b,initialData:n.find(g=>g.id===i)}):t==="ata"&&i?a.jsx(f_e,{occurrence:n.find(g=>g.id===i),onBack:()=>e("list"),onUpdateStatus:async(g,S)=>{const{error:k}=await ae.from("occurrences").update({status:S}).eq("id",g);k?r("Erro ao atualizar status.","error"):(s(y=>y.map(j=>j.id===g?{...j,status:S}:j)),r("Status atualizado com sucesso.","success"))}}):a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-white/10 shadow-lg backdrop-blur-md flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-violet-500/10 text-violet-400 rounded-3xl border border-violet-500/20",children:a.jsx(ia,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Livro de Ocorrncia Digital"}),a.jsx("p",{className:"text-white/40 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Escriturao Escolar e Mediao de Conflitos"})]})]}),a.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[a.jsxs("div",{className:"relative flex-1 md:w-64",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/30",size:18}),a.jsx("input",{type:"text",placeholder:"Aluno ou Turma...",value:l,onChange:g=>d(g.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white/5 border border-white/10 rounded-xl text-xs font-bold text-white placeholder-white/30 outline-none focus:ring-2 focus:ring-violet-500/50"})]}),a.jsxs("button",{onClick:()=>{o(null),e("form")},className:"px-6 py-3 bg-violet-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest shadow-xl hover:bg-violet-700 active:scale-95 transition-all flex items-center gap-2 shrink-0 border border-white/10",children:[a.jsx(ot,{size:16})," Novo Registro"]})]})]}),a.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 no-print custom-scrollbar",children:[a.jsx("button",{onClick:()=>h("TODOS"),className:`px-5 py-2 rounded-xl text-[9px] font-black uppercase transition-all whitespace-nowrap border ${u==="TODOS"?"bg-violet-600 text-white border-violet-500 shadow-lg":"bg-white/5 text-white/60 border-white/10 hover:bg-white/10 hover:text-white"}`,children:"Tudo"}),w.map(g=>a.jsx("button",{onClick:()=>h(g),className:`px-5 py-2 rounded-xl text-[9px] font-black uppercase transition-all whitespace-nowrap border ${u===g?"bg-violet-600 text-white border-violet-500 shadow-lg":"bg-white/5 text-white/60 border-white/10 hover:bg-white/10 hover:text-white"}`,children:g.replace("_"," ")},g))]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:x.length>0?x.map(g=>a.jsxs("div",{onClick:()=>{o(g.id),e("ata")},className:"bg-white/5 p-6 rounded-[2.5rem] border border-white/10 shadow-lg hover:border-violet-500/30 hover:bg-white/10 transition-all cursor-pointer group flex flex-col md:flex-row items-center justify-between gap-8 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center gap-6 flex-1",children:[a.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center border ${g.status==="ATA_GERADA"?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-amber-500/10 text-amber-400 border-amber-500/20"}`,children:g.status==="ATA_GERADA"?a.jsx(Nt,{size:24}):a.jsx(zt,{size:24})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h4",{className:"text-lg font-black text-white uppercase leading-none",children:g.involvedStudents}),a.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase border ${g.category==="VIOLNCIA"?"bg-red-500/10 text-red-400 border-red-500/20":"bg-white/5 text-white/40 border-white/10"}`,children:g.category.replace("_"," ")})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsxs("span",{className:"text-[10px] font-bold text-white/40 uppercase flex items-center gap-1",children:[a.jsx(rr,{size:12})," ",new Date(g.date).toLocaleDateString("pt-BR")," s ",g.time]}),a.jsxs("span",{className:"text-[10px] font-bold text-white/40 uppercase flex items-center gap-1",children:[a.jsx(mr,{size:12})," ",g.className]}),a.jsxs("span",{className:"text-[10px] font-bold text-white/40 uppercase flex items-center gap-1",children:[a.jsx(Yi,{size:12})," ",g.location]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[a.jsxs("div",{className:"text-right mr-4",children:[a.jsx("p",{className:"text-[9px] font-black text-white/30 uppercase",children:"Status"}),a.jsx("p",{className:`text-[10px] font-black uppercase ${g.status==="ATA_GERADA"?"text-emerald-400":"text-amber-400"}`,children:g.status.replace("_"," ")})]}),a.jsx("button",{onClick:S=>v(g.id,S),className:"p-3 text-white/30 hover:text-red-400 transition-colors",children:a.jsx(Lt,{size:20})}),a.jsx("div",{className:"p-3 bg-white/5 text-white/40 group-hover:bg-violet-600 group-hover:text-white rounded-xl transition-all shadow-sm border border-white/5",children:a.jsx(ga,{size:24})})]})]},g.id)):a.jsxs("div",{className:"py-32 text-center bg-white/5 rounded-[3rem] border-2 border-dashed border-white/10",children:[a.jsx(_t,{size:48,className:"mx-auto mb-4 text-white/20"}),a.jsx("p",{className:"text-white/30 font-black uppercase text-xs tracking-widest",children:"Nenhuma ocorrncia encontrada"})]})}),a.jsxs("div",{className:"bg-gradient-to-br from-indigo-900/80 to-violet-900/80 p-10 rounded-[3.5rem] text-white flex flex-col md:flex-row items-center justify-between gap-8 shadow-2xl relative overflow-hidden border border-white/10 backdrop-blur-md",children:[a.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-10 rotate-12",children:a.jsx(ft,{size:180})}),a.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[a.jsx("div",{className:"p-4 bg-white/10 rounded-3xl backdrop-blur-md border border-white/20",children:a.jsx(ft,{size:32,className:"text-emerald-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-emerald-300 text-[10px] font-black uppercase tracking-widest mb-1",children:"Base Legal SEDUC-MT"}),a.jsx("h4",{className:"text-xl font-black uppercase",children:"Documentao Blindada"}),a.jsx("p",{className:"text-indigo-200/60 text-xs font-medium uppercase tracking-tight",children:"Ocorrncias registradas com integridade temporal e backup IA."})]})]})]})]})},p_e=(t,e)=>{const r=t.includes("6")||t.includes("7")||t.includes("6")||t.includes("7"),n=e==="MATUTINO";return r?n?{slots:["07:00 - 07:45","07:45 - 08:30","08:30 - 08:50 (Recreio)","08:50 - 09:35","09:35 - 10:20","10:20 - 11:10"],breakIndex:2}:{slots:["13:00 - 13:45","13:45 - 14:30","14:30 - 14:50 (Recreio)","14:50 - 15:35","15:35 - 16:20","16:20 - 17:10"],breakIndex:2}:n?{slots:["07:00 - 07:55","07:55 - 08:55","08:55 - 09:15 (Recreio)","09:15 - 09:55","09:55 - 10:35","10:35 - 11:10"],breakIndex:2}:{slots:["13:00 - 13:55","13:55 - 14:55","14:55 - 15:15 (Recreio)","15:15 - 15:55","15:55 - 16:35","16:35 - 17:10"],breakIndex:2}},kA=[{id:1,label:"Segunda-feira",short:"Seg"},{id:2,label:"Tera-feira",short:"Ter"},{id:3,label:"Quarta-feira",short:"Qua"},{id:4,label:"Quinta-feira",short:"Qui"},{id:5,label:"Sexta-feira",short:"Sex"}],sL=["PORTUGUS","MATEMTICA","HISTRIA","GEOGRAFIA","CINCIAS","ARTE","ED. FSICA","INGLS","ENSINO RELIGIOSO","PROJETO DE VIDA"],m_e=()=>{const[t,e]=R.useState([]),[r,n]=R.useState(""),[s,i]=R.useState([]),[o,l]=R.useState([]),[d,u]=R.useState(!1),[h,p]=R.useState(!1),[x,v]=R.useState(!1),[b,w]=R.useState(1),{addToast:g}=jn();R.useEffect(()=>{S(),k()},[]),R.useEffect(()=>{r?y(r):i([])},[r]);const S=async()=>{const{data:q}=await ae.from("classrooms").select("*").order("name");q&&e(q)},k=async()=>{const{data:q}=await ae.from("staff").select("*").eq("role","PROFESSOR").eq("status","EM_ATIVIDADE").order("name");q&&l(q)},y=async q=>{u(!0);const{data:L}=await ae.from("class_schedules").select("*").eq("classroom_id",q);L&&i(L),u(!1)},j=t.find(q=>q.id===r),{slots:T,breakIndex:_}=R.useMemo(()=>j?p_e(j.name,j.shift):{slots:[],breakIndex:-1},[j]),O=(q,L,B,X)=>{i(P=>{const U=P.findIndex(z=>z.day_of_week===q&&z.time_slot===L);if(U>=0){const z=[...P];return z[U]={...z[U],[B]:X},z}else return[...P,{id:`temp-${Date.now()}`,classroom_id:r,day_of_week:q,time_slot:L,subject:B==="subject"?X:"",teacher_id:B==="teacher_id"?X:void 0,teacher_name:""}]})},M=async()=>{if(r){p(!0);try{await ae.from("class_schedules").delete().eq("classroom_id",r);const q=s.filter(B=>B.subject||B.teacher_id).map(B=>({classroom_id:r,day_of_week:B.day_of_week,time_slot:B.time_slot,subject:B.subject,teacher_id:B.teacher_id})),{error:L}=await ae.from("class_schedules").insert(q);if(L)throw L;g("Horrio salvo com sucesso!","success"),y(r)}catch(q){console.error("Erro ao salvar horrio:",q),g("Erro ao salvar horrio.","error")}finally{p(!1)}}},D=async()=>{if(!(!r||!j)){o.length===0&&g("Aviso: Nenhum professor encontrado no sistema com status 'EM_ATIVIDADE' e funo 'PROFESSOR'. A IA no conseguir atribuir aulas.","warning"),v(!0);try{const q=await i1e(j,o.map(L=>({id:L.id,name:L.name,subjects:L.assignedSubjects})),T);if(q&&Array.isArray(q.schedule)&&q.schedule.length>0){const L=[];let B=0;if(q.schedule.forEach(X=>{var U,z;const P=T.find(V=>V===X.time||V.startsWith(X.time)||X.time&&X.time.startsWith(V.split(" ")[0]));P&&(L.push({id:`ai-${Math.random()}`,classroom_id:r,day_of_week:X.day,time_slot:P,subject:(U=X.subject)==null?void 0:U.toUpperCase(),teacher_id:((z=o.find(V=>{var Y;return(Y=V.assignedSubjects)==null?void 0:Y.some(se=>{var K;return se.toUpperCase()===((K=X.subject)==null?void 0:K.toUpperCase())})}))==null?void 0:z.id)||""}),B++)}),B<5){L.length=0;const X=T.filter(U=>!U.includes("Recreio")),P={};q.schedule.forEach(U=>{P[U.day]||(P[U.day]=[]),P[U.day].push(U)}),[1,2,3,4,5].forEach(U=>{(P[U]||[]).forEach((V,Y)=>{var se,K;Y<X.length&&L.push({id:`ai-seq-${Math.random()}`,classroom_id:r,day_of_week:U,time_slot:X[Y],subject:(se=V.subject)==null?void 0:se.toUpperCase(),teacher_id:((K=o.find(G=>{var W;return(W=G.assignedSubjects)==null?void 0:W.some(Q=>{var ee;return Q.toUpperCase()===((ee=V.subject)==null?void 0:ee.toUpperCase())})}))==null?void 0:K.id)||""})})})}L.length>0?(i(L),g(`Sugesto gerada com sucesso! (${L.length} aulas)`,"success")):g("A IA retornou dados, mas no foi possvel mapear para a grade horria.","warning")}else g("A IA no retornou nenhuma sugesto. Verifique se h professores com disciplinas atribudas.","warning")}catch(q){console.error("Erro na IA:",q),g("Erro ao comunicar com a IA.","error")}finally{v(!1)}}},F=(q,L)=>s.find(B=>B.day_of_week===q&&B.time_slot===L);return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-white/10 shadow-lg backdrop-blur-md flex flex-col xl:flex-row justify-between items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-6 w-full xl:w-auto",children:[a.jsx("div",{className:"p-4 bg-violet-500/10 text-violet-400 rounded-3xl border border-violet-500/20",children:a.jsx(Nn,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:'Grade Horria "Cronos"'}),a.jsx("p",{className:"text-white/40 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Gesto Inteligente de Aulas e Professores"})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 w-full xl:w-auto",children:[a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsxs("select",{value:r,onChange:q=>n(q.target.value),className:"w-full p-4 pl-12 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm text-white outline-none focus:bg-white/10 focus:ring-2 focus:ring-violet-500/50 appearance-none uppercase [&>option]:bg-gray-900",children:[a.jsx("option",{value:"",children:"Selecione uma Turma"}),t.map(q=>a.jsxs("option",{value:q.id,children:[q.name," (",q.shift,")"]},q.id))]}),a.jsx(Pt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/40"})]}),a.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[a.jsxs("button",{onClick:D,disabled:!r||x,className:`flex-1 md:flex-none px-6 py-4 rounded-2xl font-black uppercase text-xs tracking-widest transition-all flex items-center justify-center gap-2 border border-white/10 ${r?x?"bg-violet-500/20 text-violet-300":"bg-violet-600 text-white hover:bg-violet-700 shadow-xl shadow-violet-600/20":"bg-white/5 text-white/20 cursor-not-allowed"}`,children:[x?a.jsx(vt,{className:"animate-spin",size:16}):a.jsx(Fi,{size:16}),x?"Gerando...":"Sugesto IA"]}),a.jsxs("button",{onClick:M,disabled:!r||h,className:`flex-1 md:flex-none px-8 py-4 rounded-2xl font-black uppercase text-xs tracking-widest transition-all flex items-center justify-center gap-2 border border-white/10 ${r?h?"bg-emerald-500/20 text-emerald-300":"bg-emerald-600 text-white hover:bg-emerald-700 shadow-xl shadow-emerald-600/20":"bg-white/5 text-white/20 cursor-not-allowed"}`,children:[h?a.jsx(vt,{className:"animate-spin",size:16}):a.jsx(qr,{size:16}),"Salvar"]})]})]})]}),r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden lg:block overflow-x-auto pb-4 custom-scrollbar",children:a.jsxs("div",{className:"min-w-[1000px] bg-white/5 rounded-[2.5rem] border border-white/10 shadow-xl overflow-hidden backdrop-blur-md",children:[a.jsxs("div",{className:"grid grid-cols-6 bg-violet-900/80 text-white divide-x divide-white/10 border-b border-white/10",children:[a.jsxs("div",{className:"p-6 flex items-center justify-center font-black uppercase text-xs tracking-widest",children:[a.jsx(rr,{size:16,className:"mr-2 opacity-50"})," Horrio"]}),kA.map(q=>a.jsx("div",{className:"p-6 text-center",children:a.jsx("span",{className:"block font-black uppercase text-xs tracking-widest",children:q.label})},q.id))]}),a.jsx("div",{className:"divide-y divide-white/10",children:T.map((q,L)=>{const B=L===_;return a.jsxs("div",{className:`grid grid-cols-6 divide-x divide-white/10 ${B?"bg-amber-500/10":"hover:bg-white/5"}`,children:[a.jsx("div",{className:"p-4 flex flex-col items-center justify-center text-center",children:a.jsx("span",{className:`font-black text-xs uppercase ${B?"text-amber-400":"text-white/60"}`,children:q})}),kA.map(X=>{if(B)return a.jsx("div",{className:"p-4 flex items-center justify-center",children:a.jsx("span",{className:"text-[10px] font-black text-amber-400 tracking-[0.2em] uppercase",children:"Intervalo"})},X.id);const P=F(X.id,q);return a.jsxs("div",{className:"p-2 space-y-2 relative group",children:[a.jsxs("select",{value:(P==null?void 0:P.subject)||"",onChange:U=>O(X.id,q,"subject",U.target.value),className:"w-full text-[10px] font-black uppercase bg-violet-500/10 border border-violet-500/20 rounded-lg text-violet-300 focus:ring-1 focus:ring-violet-400 cursor-pointer outline-none [&>option]:bg-gray-900",children:[a.jsx("option",{value:"",children:"- Disciplina -"}),sL.map(U=>a.jsx("option",{value:U,children:U},U))]}),a.jsxs("select",{value:(P==null?void 0:P.teacher_id)||"",onChange:U=>O(X.id,q,"teacher_id",U.target.value),className:"w-full text-[9px] font-bold uppercase text-white/40 border-none bg-transparent focus:ring-0 cursor-pointer text-center outline-none [&>option]:bg-gray-900",children:[a.jsx("option",{value:"",children:"- Professor -"}),o.map(U=>a.jsx("option",{value:U.id,children:U.name},U.id))]})]},X.id)})]},L)})})]})}),a.jsxs("div",{className:"lg:hidden space-y-6",children:[a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-4 pt-2 no-scrollbar",children:kA.map(q=>a.jsx("button",{onClick:()=>w(q.id),className:`px-6 py-3 rounded-2xl font-black uppercase text-xs tracking-widest whitespace-nowrap transition-all border ${b===q.id?"bg-violet-600 text-white border-violet-500 shadow-lg":"bg-white/5 text-white/40 border-white/5 hover:bg-white/10"}`,children:q.label},q.id))}),a.jsx("div",{className:"space-y-4",children:T.map((q,L)=>{const B=L===_,X=F(b,q);return B?a.jsxs("div",{className:"p-6 bg-amber-500/10 rounded-2xl border border-amber-500/20 text-center",children:[a.jsx("p",{className:"text-amber-400 font-black uppercase tracking-widest text-xs mb-1",children:"Intervalo"}),a.jsx("p",{className:"text-amber-400/60 text-[10px] font-bold uppercase",children:q})]},L):a.jsxs("div",{className:"bg-white/5 p-5 rounded-3xl border border-white/10 backdrop-blur-md",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4 opacity-50",children:[a.jsx(rr,{size:14}),a.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:q})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("select",{value:(X==null?void 0:X.subject)||"",onChange:P=>O(b,q,"subject",P.target.value),className:"w-full p-3 bg-white/5 border border-white/10 rounded-xl text-xs font-black uppercase text-white outline-none focus:bg-white/10 focus:ring-2 focus:ring-violet-500/50 [&>option]:bg-gray-900",children:[a.jsx("option",{value:"",children:"- Selecione a Disciplina -"}),sL.map(P=>a.jsx("option",{value:P,children:P},P))]}),a.jsxs("select",{value:(X==null?void 0:X.teacher_id)||"",onChange:P=>O(b,q,"teacher_id",P.target.value),className:"w-full p-3 bg-white/5 border border-white/10 rounded-xl text-xs font-bold uppercase text-white/60 outline-none focus:bg-white/10 focus:ring-2 focus:ring-violet-500/50 [&>option]:bg-gray-900",children:[a.jsx("option",{value:"",children:"- Selecione o Professor -"}),o.map(P=>a.jsx("option",{value:P.id,children:P.name},P.id))]})]})]},L)})})]})]}):a.jsxs("div",{className:"py-32 flex flex-col items-center justify-center text-center border-2 border-dashed border-white/10 rounded-[3rem] bg-white/5 backdrop-blur-sm",children:[a.jsx("div",{className:"w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mb-6 text-white/20 border border-white/10",children:a.jsx(Nn,{size:48})}),a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-widest",children:"Nenhuma Turma Selecionada"}),a.jsx("p",{className:"text-white/40 text-xs mt-2 max-w-md",children:"Selecione uma turma acima para visualizar ou editar a grade horria semanal."})]})]})};function x_e(){const[t,e]=R.useState([]),[r,n]=R.useState(!0),[s,i]=R.useState(!1),[o,l]=R.useState(null),[d,u]=R.useState({name:"",coordinator_name:"",bimestre:"1 BIMESTRE",status:"PLANEJAMENTO",impact_level:"MDIO",description:""}),h=async()=>{try{n(!0);const{data:S,error:k}=await ae.from("pedagogical_projects").select("*").order("created_at",{ascending:!1});if(k)throw k;S&&e(S.map(y=>({id:y.id,name:y.name,coordinator:y.coordinator_name,bimestre:y.bimestre,status:y.status,impactLevel:y.impact_level,description:y.description})))}catch(S){console.error("Erro ao buscar projetos:",S)}finally{n(!1)}};R.useEffect(()=>{h()},[]);const p=async S=>{S.preventDefault();try{if(o){const{error:k}=await ae.from("pedagogical_projects").update({name:d.name,coordinator_name:d.coordinator_name,bimestre:d.bimestre,status:d.status,impact_level:d.impact_level,description:d.description}).eq("id",o.id);if(k)throw k;alert("Projeto atualizado com sucesso!")}else{const{error:k}=await ae.from("pedagogical_projects").insert([{name:d.name,coordinator_name:d.coordinator_name,bimestre:d.bimestre,status:d.status,impact_level:d.impact_level,description:d.description}]);if(k)throw k;alert("Projeto criado com sucesso!")}i(!1),b(),h()}catch(k){console.error("Erro ao salvar projeto:",k),alert("Erro ao salvar o projeto. Verifique os dados e tente novamente.")}},x=async S=>{if(confirm("Tem certeza que deseja excluir este projeto?"))try{const{error:k}=await ae.from("pedagogical_projects").delete().eq("id",S);if(k)throw k;h()}catch(k){console.error("Erro ao excluir projeto:",k)}},v=S=>{l(S),u({name:S.name,coordinator_name:S.coordinator,bimestre:S.bimestre,status:S.status,impact_level:S.impactLevel,description:S.description||""}),i(!0)},b=()=>{l(null),u({name:"",coordinator_name:"",bimestre:"1 BIMESTRE",status:"PLANEJAMENTO",impact_level:"MDIO",description:""})},w=S=>{switch(S){case"CONCLUDO":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"EM_ANDAMENTO":return"bg-blue-100 text-blue-700 border-blue-200";default:return"bg-amber-100 text-amber-700 border-amber-200"}},g=S=>{switch(S){case"ALTO":return"bg-red-50 text-red-700 border-red-100";case"BAIXO":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-violet-50 text-violet-700 border-violet-100"}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-white/10 shadow-lg backdrop-blur-md flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Projetos Institucionais"}),a.jsx("p",{className:"text-white/40 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Planejamento e Acompanhamento de Impacto"})]}),a.jsxs("button",{onClick:()=>{b(),i(!0)},className:"px-8 py-4 bg-violet-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-violet-600/20 hover:bg-violet-700 transition-all flex items-center gap-2 border border-white/10",children:[a.jsx(ot,{size:18})," Novo Projeto"]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:r?a.jsx("div",{className:"text-center py-20 text-white/40",children:"Carregando projetos..."}):t.length===0?a.jsxs("div",{className:"py-24 text-center border-2 border-dashed border-white/10 rounded-[2.5rem] bg-white/5",children:[a.jsx(zd,{size:48,className:"mx-auto mb-4 text-violet-400/50"}),a.jsx("p",{className:"text-white/30 font-black uppercase text-xs tracking-widest",children:"Nenhum projeto cadastrado"})]}):t.map(S=>a.jsx("div",{className:"bg-white/5 p-6 rounded-[2rem] border border-white/10 hover:border-violet-500/30 hover:bg-white/10 hover:shadow-lg transition-all group backdrop-blur-sm",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsx("div",{className:"w-16 h-16 bg-violet-500/10 text-violet-400 rounded-2xl flex items-center justify-center shrink-0 border border-violet-500/20",children:a.jsx(zd,{size:32})}),a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-black text-white uppercase",children:S.name}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-lg text-[9px] font-black uppercase border ${w(S.status).replace("bg-","bg-opacity-10 bg-").replace("text-","text-").replace("border-","border-opacity-20 border-")}`,children:S.status.replace("_"," ")}),a.jsxs("span",{className:`px-3 py-1 rounded-lg text-[9px] font-black uppercase border ${g(S.impactLevel).replace("bg-","bg-opacity-10 bg-").replace("text-","text-").replace("border-","border-opacity-20 border-")}`,children:["Impacto ",S.impactLevel]}),a.jsxs("span",{className:"px-3 py-1 bg-white/5 border border-white/10 rounded-lg text-[9px] font-black text-white/60 uppercase flex items-center gap-1",children:[a.jsx(la,{size:10})," ",S.coordinator]}),a.jsxs("span",{className:"px-3 py-1 bg-white/5 border border-white/10 rounded-lg text-[9px] font-black text-white/60 uppercase flex items-center gap-1",children:[a.jsx(kr,{size:10})," ",S.bimestre]})]})]}),a.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>v(S),className:"p-2 bg-indigo-500/10 text-indigo-400 rounded-xl hover:bg-indigo-500/20 transition-colors border border-indigo-500/20",title:"Editar",children:a.jsx(SL,{size:16})}),a.jsx("button",{onClick:()=>x(S.id),className:"p-2 bg-red-500/10 text-red-400 rounded-xl hover:bg-red-500/20 transition-colors border border-red-500/20",title:"Excluir",children:a.jsx(Lt,{size:16})})]})]}),a.jsx("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/5",children:a.jsx("p",{className:"text-xs text-white/70 font-medium leading-relaxed",children:S.description||"Sem descrio detalhada."})})]})]})},S.id))}),s&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-[#0f172a] rounded-[3rem] w-full max-w-2xl shadow-2xl border border-white/10 overflow-hidden max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"px-10 pt-10 pb-6 flex justify-between items-center bg-[#0f172a] shrink-0 border-b border-white/5",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-violet-600 text-white rounded-3xl shadow-xl shadow-violet-600/20",children:a.jsx(zd,{size:28,strokeWidth:3})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:o?"Editar Projeto":"Novo Projeto"}),a.jsx("p",{className:"text-xs text-white/40 font-bold uppercase tracking-widest",children:o?"Atualize os dados do projeto":"Cadastre uma nova iniciativa"})]})]}),a.jsx("button",{onClick:()=>i(!1),className:"p-3 bg-white/5 text-white/40 hover:text-red-400 rounded-2xl transition-all border border-white/5",children:a.jsx(Ze,{size:24})})]}),a.jsxs("form",{onSubmit:p,className:"flex-1 overflow-y-auto px-10 pb-10 space-y-6 custom-scrollbar pt-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5 step-1",children:[a.jsxs("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(tu,{size:12})," Ttulo do Projeto"]}),a.jsx("input",{required:!0,type:"text",value:d.name,onChange:S=>u({...d,name:S.target.value.toUpperCase()}),placeholder:"EX: FEIRA DE CINCIAS 2024",className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm text-white placeholder-white/20 outline-none focus:bg-white/10 focus:ring-2 focus:ring-violet-500/50 transition-all"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(la,{size:12})," Coordenador"]}),a.jsx("input",{required:!0,type:"text",value:d.coordinator_name,onChange:S=>u({...d,coordinator_name:S.target.value.toUpperCase()}),placeholder:"NOME DO RESPONSVEL",className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm text-white placeholder-white/20 outline-none focus:bg-white/10 focus:ring-2 focus:ring-violet-500/50 transition-all"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(kr,{size:12})," Perodo"]}),a.jsxs("select",{value:d.bimestre,onChange:S=>u({...d,bimestre:S.target.value}),className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm text-white outline-none focus:bg-white/10 focus:ring-2 focus:ring-violet-500/50 transition-all appearance-none [&>option]:bg-gray-900",children:[a.jsx("option",{value:"1 BIMESTRE",children:"1 BIMESTRE"}),a.jsx("option",{value:"2 BIMESTRE",children:"2 BIMESTRE"}),a.jsx("option",{value:"3 BIMESTRE",children:"3 BIMESTRE"}),a.jsx("option",{value:"4 BIMESTRE",children:"4 BIMESTRE"}),a.jsx("option",{value:"ANUAL",children:"ANUAL"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Status"}),a.jsx("div",{className:"flex gap-2",children:["PLANEJAMENTO","EM_ANDAMENTO","CONCLUDO"].map(S=>a.jsx("button",{type:"button",onClick:()=>u({...d,status:S}),className:`flex-1 py-3 rounded-xl text-[9px] font-black uppercase border transition-all ${d.status===S?"bg-violet-600 text-white border-violet-600 shadow-lg":"bg-white/5 text-white/40 border-white/10 hover:bg-white/10 hover:text-white"}`,children:S.replace("_"," ")},S))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Impacto"}),a.jsx("div",{className:"flex gap-2",children:["BAIXO","MDIO","ALTO"].map(S=>a.jsx("button",{type:"button",onClick:()=>u({...d,impact_level:S}),className:`flex-1 py-3 rounded-xl text-[9px] font-black uppercase border transition-all ${d.impact_level===S?"bg-violet-600 text-white border-violet-600 shadow-lg":"bg-white/5 text-white/40 border-white/10 hover:bg-white/10 hover:text-white"}`,children:S},S))})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(zt,{size:12})," Detalhes do Projeto"]}),a.jsx("textarea",{value:d.description,onChange:S=>u({...d,description:S.target.value}),placeholder:"Descreva os objetivos, metodologia e recursos necessrios...",rows:6,className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-medium text-sm text-white placeholder-white/20 outline-none focus:bg-white/10 focus:ring-2 focus:ring-violet-500/50 transition-all resize-none"})]})]}),a.jsx("button",{type:"submit",className:"w-full py-5 bg-violet-600 text-white rounded-3xl font-black uppercase text-xs tracking-[0.2em] shadow-2xl hover:bg-violet-700 transition-all border border-white/10",children:o?"Salvar Alteraes":"Lanar Projeto"})]})]})})]})}const g_e=({onExit:t,user:e})=>{const{addToast:r}=jn(),[n,s]=R.useState("dashboard"),[i,o]=R.useState([]),[l,d]=R.useState([]),[u,h]=R.useState([]),[p,x]=R.useState(null),[v,b]=R.useState(""),[w,g]=R.useState([]),[S,k]=R.useState([]),[y,j]=R.useState(null),[T,_]=R.useState(!1),[O,M]=R.useState({}),D=async()=>{try{const{data:U,error:z}=await ae.from("assessments").select(`
          *,
          users (name),
          classrooms (name),
          grades (
            score,
            students (name, classroom_id, classrooms(name))
          )
        `);if(U){const W=U.map(Q=>{var ee,he;return{id:Q.id,date:Q.date,bimestre:Q.bimestre,className:((ee=Q.classrooms)==null?void 0:ee.name)||"N/A",subject:Q.subject,teacherName:((he=Q.users)==null?void 0:he.name)||"N/A",type:Q.type,description:Q.type,max_score:Q.max_score,grades:Q.grades.map(je=>{var me;return{studentId:"N/A",studentName:((me=je.students)==null?void 0:me.name)||"Aluno",score:je.score,proficiencyLevel:je.score<6?"BAIXO":"ALTO"}}),timestamp:new Date(Q.date).getTime()}});o(W.filter(Q=>!["CAED","SISTEMA ESTRUTURADO"].includes(Q.type))),d(W.filter(Q=>["CAED","SISTEMA ESTRUTURADO"].includes(Q.type)))}const{data:V}=await ae.from("lesson_plans").select("*, users(name), classrooms(name)");V&&h(V.map(W=>{var ee,he;const Q=W.content_json||{};return{id:W.id,bimestre:W.bimestre,subject:W.subject,teacher:Q.teacher||((ee=W.users)==null?void 0:ee.name)||"Professor",year:Q.year||"N/A",className:Q.className||((he=W.classrooms)==null?void 0:he.name)||"N/A",weeklyClasses:Q.weeklyClasses||"4",skills:Q.skills||[],recompositionSkills:Q.recompositionSkills||[],themes:W.themes||Q.themes||"",rows:Q.rows||[],status:W.status,coordinationFeedback:W.coordination_feedback,timestamp:new Date(W.created_at).getTime()}}));const{data:Y}=await ae.from("classroom_observations").select("*");Y&&g(Y.map(W=>({...W,teacher:W.teacher_name,organizational:W.organizational_criteria,pedagogico:W.pedagogical_criteria,avaliacaoGeral:W.general_rating,timestamp:new Date(W.created_at).getTime()})));const{data:se}=await ae.from("pedagogical_projects").select("*");se&&k(se.map(W=>({id:W.id,name:W.name,coordinator:W.coordinator_name,bimestre:W.bimestre,status:W.status,impactLevel:W.impact_level,description:W.description})));const{data:K}=await ae.from("class_attendance_students").select("student_id, is_present, students(name, classroom_id, classrooms(name))"),G={};K&&K.forEach(W=>{var ee,he,je;const Q=W.student_id;G[Q]||(G[Q]={total:0,present:0,name:((ee=W.students)==null?void 0:ee.name)||"Aluno",className:((je=(he=W.students)==null?void 0:he.classrooms)==null?void 0:je.name)||"N/A"}),G[Q].total++,W.is_present&&G[Q].present++}),M(G)}catch(U){console.error("Error fetching pedagogical data:",U)}};R.useEffect(()=>{D();const U=[ae.channel("pedagogical_updates").on("postgres_changes",{event:"*",schema:"public",table:"assessments"},D).on("postgres_changes",{event:"*",schema:"public",table:"lesson_plans"},D).on("postgres_changes",{event:"*",schema:"public",table:"classroom_observations"},D).on("postgres_changes",{event:"*",schema:"public",table:"pedagogical_projects"},D).on("postgres_changes",{event:"*",schema:"public",table:"class_attendance_students"},D).subscribe()];return()=>{U.forEach(z=>z.unsubscribe())}},[]);const F=R.useMemo(()=>{const U=i;let z=0,V=0;const Y={};U.forEach(K=>{K.grades.forEach(G=>{Y[K.className]||(Y[K.className]={name:K.className,gradeRiskCount:0,attendanceRiskCount:0,totalStudents:0}),G.score<6&&(z++,Y[K.className].gradeRiskCount++)})}),Object.values(O).forEach(K=>{(K.total>0?K.present/K.total*100:100)<85&&(V++,K.className&&K.className!=="N/A"&&(Y[K.className]||(Y[K.className]={name:K.className,gradeRiskCount:0,attendanceRiskCount:0,totalStudents:0}),Y[K.className].attendanceRiskCount++))});const se=Object.values(Y).map(K=>({...K,riskScore:K.gradeRiskCount+K.attendanceRiskCount})).sort((K,G)=>G.riskScore-K.riskScore);return{totalBelowAverage:z,totalHighAbsence:V,criticalClasses:se,externalCount:l.length}},[i,l,O]),q=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(U=>{console.error(`Erro ao tentar ativar modo tela cheia: ${U.message}`)})},L=async(U,z)=>{const{error:V}=await ae.from("lesson_plans").update({status:z,coordination_feedback:v}).eq("id",U);if(V){r("Erro ao atualizar status do roteiro.","error");return}h(Y=>Y.map(se=>se.id===U?{...se,status:z,coordinationFeedback:v,timestamp:Date.now()}:se)),x(null),b(""),r(z==="VALIDADO"?"Roteiro Validado!":z==="CORRECAO_SOLICITADA"?"Correo solicitada ao professor!":"Feedback enviado!","success")},B=async()=>{_(!0);try{const U={observations:w.slice(0,5),stats:F,plansCount:u.length,assessments:i.slice(0,3),externalAssessments:l.slice(0,3)},z=await s1e(U);j(z||"No foi possvel gerar anlise no momento.")}catch{j("Erro na comunicao com a Inteligncia Artificial.")}finally{_(!1)}},X=[{id:"dashboard",label:"Monitor Pedaggico",icon:Ki},{id:"calendar",label:"Calendrio Escolar",icon:Nn},{id:"schedules",label:"Horrios (Cronos)",icon:rr},{id:"referrals",label:"Encaminhamentos",icon:Qd},{id:"performance",label:"Alunos em Risco",icon:Xt},{id:"external_grades",label:"Avaliaes Externas",icon:nx},{id:"plans",label:"Validar Roteiros",icon:Jl},{id:"occurrences",label:"Livro de Ocorrncia",icon:ia},{id:"observations",label:"Observao de Aula",icon:Bi},{id:"projects",label:"Projetos da Escola",icon:zd},{id:"ia_insights",label:"IA Estratgica",icon:Fi}],P=()=>{switch(n){case"dashboard":return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/10 shadow-lg backdrop-blur-md",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-red-500/20 text-red-400 flex items-center justify-center mb-4 border border-red-500/20",children:a.jsx(n1,{size:24})}),a.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Notas Abaixo Mdia"}),a.jsx("p",{className:"text-3xl font-black text-red-500 mt-1",children:(F==null?void 0:F.totalBelowAverage)||0})]}),a.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/10 shadow-lg backdrop-blur-md",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-violet-500/20 text-violet-400 flex items-center justify-center mb-4 border border-violet-500/20",children:a.jsx(nx,{size:24})}),a.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Avaliaes de Sistema"}),a.jsx("p",{className:"text-3xl font-black text-white mt-1",children:(F==null?void 0:F.externalCount)||0})]}),a.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/10 shadow-lg backdrop-blur-md",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500/20 text-emerald-400 flex items-center justify-center mb-4 border border-emerald-500/20",children:a.jsx(Bi,{size:24})}),a.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Observaes Salvas"}),a.jsx("p",{className:"text-3xl font-black text-white mt-1",children:w.length})]}),a.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/10 shadow-lg backdrop-blur-md",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-500/20 text-amber-400 flex items-center justify-center mb-4 border border-amber-500/20",children:a.jsx(zd,{size:24})}),a.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Projetos Ativos"}),a.jsx("p",{className:"text-3xl font-black text-white mt-1",children:S.filter(U=>U.status!=="CONCLUDO").length})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-white/10 shadow-xl backdrop-blur-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-xl font-black text-white uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Xt,{size:20,className:"text-red-500"})," Turmas em Alerta"]}),a.jsx("button",{onClick:()=>s("performance"),className:"text-[10px] font-black text-blue-400 uppercase hover:underline",children:"Ver tudo"})]}),a.jsx("div",{className:"space-y-4",children:F==null?void 0:F.criticalClasses.slice(0,4).map(U=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-2xl border border-white/5 hover:bg-white/10 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center text-red-400 shadow-sm font-black text-xs border border-white/10",children:U.name.split(" ")[0]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-white uppercase",children:U.name}),a.jsxs("p",{className:"text-[9px] text-white/40 font-bold uppercase",children:["Risco: ",U.riskScore," (N:",U.gradeRiskCount," F:",U.attendanceRiskCount,")"]})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:`text-sm font-black ${U.riskScore>5?"text-red-400":"text-amber-400"}`,children:U.riskScore>0?"ATENO":"OK"})})]},U.name))})]}),a.jsxs("div",{className:"bg-gradient-to-br from-violet-900/80 to-indigo-900/80 p-8 rounded-[2.5rem] text-white relative overflow-hidden flex flex-col justify-between shadow-2xl border border-white/10 backdrop-blur-md",children:[a.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10 rotate-12",children:a.jsx(Mr,{size:160})}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter mb-2",children:"Diagnstico IA"}),a.jsx("p",{className:"text-violet-200 text-sm leading-relaxed mb-8 italic",children:'"Os resultados do CAED mostram uma divergncia de 15% em relao s notas internas de Matemtica no 9 Ano. Recomenda-se alinhamento de critrios avaliativos."'})]}),a.jsx("button",{className:"relative z-10 w-full py-4 bg-white/10 border border-white/20 text-white rounded-2xl font-black uppercase text-xs tracking-widest hover:bg-white/20 transition-all",children:"Relatrio IA Completo"})]})]})]});case"external_grades":return a.jsx(c_e,{});case"calendar":return a.jsx(sp,{});case"referrals":return a.jsx(Ub,{role:"GESTAO"});case"schedules":return a.jsx(m_e,{});case"performance":return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-white/10 shadow-xl backdrop-blur-md flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Monitoramento Integrado de Risco"}),a.jsx("p",{className:"text-white/50 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Viso Unificada: Baixo Desempenho (Notas) + Infrequncia (Faltas)"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"px-5 py-3 bg-red-500/10 text-red-400 rounded-2xl border border-red-500/20 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/10 rounded-xl shadow-sm",children:a.jsx(nx,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-black uppercase leading-none opacity-60",children:"Notas Crticas"}),a.jsx("p",{className:"text-xl font-black",children:(F==null?void 0:F.totalBelowAverage)||0})]})]}),a.jsxs("div",{className:"px-5 py-3 bg-orange-500/10 text-orange-400 rounded-2xl border border-orange-500/20 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/10 rounded-xl shadow-sm",children:a.jsx(n1,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-black uppercase leading-none opacity-60",children:"Infrequentes"}),a.jsx("p",{className:"text-xl font-black",children:(F==null?void 0:F.totalHighAbsence)||0})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[F.totalHighAbsence>0&&a.jsxs("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-orange-500/20 shadow-xl backdrop-blur-md relative overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6 relative z-10",children:[a.jsx("div",{className:"p-3 bg-orange-500/10 text-orange-400 rounded-2xl border border-orange-500/20",children:a.jsx(n1,{size:24})}),a.jsx("h4",{className:"text-lg font-black text-white uppercase",children:"Alerta de Evaso (Frequncia < 85%)"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 relative z-10",children:Object.values(O).filter(U=>U.present/U.total<.85).map((U,z)=>a.jsxs("div",{className:"p-4 bg-orange-500/5 rounded-2xl border border-orange-500/10 flex justify-between items-center hover:bg-orange-500/10 transition-all",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-white uppercase",children:U.name}),a.jsx("p",{className:"text-[10px] font-bold text-white/40 uppercase",children:U.className})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-black text-orange-400",children:[(U.present/U.total*100).toFixed(0),"%"]}),a.jsx("p",{className:"text-[8px] font-black text-orange-400/60 uppercase",children:"Presena"})]})]},z))})]}),a.jsxs("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-red-500/20 shadow-xl backdrop-blur-md",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"p-3 bg-red-500/10 text-red-400 rounded-2xl border border-red-500/20",children:a.jsx(Vn,{size:24})}),a.jsx("h4",{className:"text-lg font-black text-white uppercase",children:"Alerta de Desempenho (Notas < 6.0)"})]}),a.jsx("div",{className:"grid grid-cols-1 gap-3",children:i.map(U=>{const z=U.grades.filter(V=>V.score<6);return z.length===0?null:a.jsxs("div",{className:"p-5 border border-white/5 rounded-3xl hover:bg-white/5 transition-all bg-white/5",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{children:[a.jsxs("h5",{className:"text-sm font-black text-white uppercase",children:[U.subject," ",a.jsx("span",{className:"text-white/20 mx-2",children:""})," ",U.className]}),a.jsx("p",{className:"text-[10px] font-bold text-white/40 uppercase",children:U.description})]}),a.jsxs("span",{className:"px-3 py-1 bg-red-500/10 text-red-400 border border-red-500/20 rounded-full text-[10px] font-black uppercase",children:[z.length," Crticos"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:z.map((V,Y)=>a.jsxs("span",{className:"px-3 py-1 bg-red-500/5 border border-red-500/10 rounded-lg text-[10px] font-bold text-red-300 uppercase flex items-center gap-2",children:[V.studentName," ",a.jsx("span",{className:"w-5 h-5 rounded bg-white/10 flex items-center justify-center text-[9px] font-black border border-white/5",children:V.score})]},Y))})]},U.id)})})]})]})]});case"plans":return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-white/10 shadow-xl backdrop-blur-md flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Validao de Roteiros Pedaggicos"}),a.jsx("p",{className:"text-white/50 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Reviso e Feedback para Roteiros Docentes"})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("span",{className:"px-4 py-2 bg-amber-500/10 text-amber-400 rounded-xl text-[9px] font-black uppercase border border-amber-500/20 flex items-center gap-2",children:[a.jsx(rr,{size:12})," ",u.filter(U=>U.status==="EM_ANALISE").length," Aguardando"]})})]}),p?a.jsxs("div",{className:"bg-white/5 p-10 rounded-[3rem] border border-white/10 shadow-xl space-y-8 animate-in zoom-in-95 duration-300 backdrop-blur-md",children:[a.jsx("div",{className:"flex justify-between items-start border-b border-white/5 pb-6",children:a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>x(null),className:"text-violet-400 font-black uppercase text-[9px] flex items-center gap-1 mb-4 hover:text-white transition-all",children:[a.jsx(cr,{size:10})," Voltar para lista"]}),a.jsx("h3",{className:"text-2xl font-black text-white uppercase",children:p.subject}),a.jsxs("p",{className:"text-[10px] text-white/40 font-black uppercase tracking-widest mt-1",children:[p.teacher,"  ",p.className,"  ",p.bimestre]})]})}),a.jsxs("div",{className:"space-y-10",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white/5 p-6 rounded-[2rem] border border-white/5",children:[a.jsxs("h4",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest mb-4 flex items-center gap-2",children:[a.jsx(RA,{size:14,className:"text-violet-500"})," Detalhes do Roteiro"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-white/40 font-bold uppercase tracking-widest",children:"Unidades Temticas"}),a.jsx("p",{className:"text-sm text-white/80 font-medium mt-1",children:p.themes||"No informado"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-white/40 font-bold uppercase tracking-widest",children:"Aulas Semanais"}),a.jsxs("p",{className:"text-sm text-white/80 font-black mt-1",children:[p.weeklyClasses," aulas"]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Mr,{size:14,className:"text-amber-500"})," Habilidades BNCC/MT"]}),a.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2 custom-scrollbar",children:[p.skills.map(U=>a.jsxs("div",{className:"p-3 bg-white/5 rounded-xl border border-white/10",children:[a.jsx("p",{className:"text-[10px] font-black text-violet-400",children:U.code}),a.jsx("p",{className:"text-[10px] text-white/70 leading-relaxed",children:U.description})]},U.code)),p.recompositionSkills.length>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5",children:[a.jsx("p",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest mb-2",children:"Recomposio"}),p.recompositionSkills.map(U=>a.jsxs("div",{className:"p-3 bg-white/5 rounded-xl border border-white/10 mb-2",children:[a.jsx("p",{className:"text-[10px] font-black text-indigo-400",children:U.code}),a.jsx("p",{className:"text-[10px] text-white/70 leading-relaxed",children:U.description})]},U.code))]})]})]})]}),a.jsxs("div",{className:"bg-violet-900/20 p-8 rounded-[2.5rem] border border-violet-500/20 flex flex-col gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-violet-600 text-white rounded-lg shadow-md",children:a.jsx(wn,{size:18})}),a.jsx("h4",{className:"text-xs font-black text-violet-300 uppercase tracking-widest",children:"Feedback da Coordenao"})]}),a.jsx("textarea",{value:v,onChange:U=>b(U.target.value),placeholder:"Escreva elogios ou aponte os ajustes necessrios aqui...",className:"flex-1 w-full min-h-[150px] p-6 bg-white/5 border border-white/10 rounded-3xl text-sm font-medium outline-none focus:ring-4 focus:ring-violet-600/20 transition-all resize-none text-white placeholder-white/20"}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("button",{onClick:()=>L(p.id,"VALIDADO"),className:"w-full py-4 bg-emerald-600 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl hover:bg-emerald-700 transition-all flex items-center justify-center gap-2",children:[a.jsx(VO,{size:16})," Validar Roteiro"]}),a.jsxs("button",{onClick:()=>{if(!v.trim())return alert("Por favor, fornea um feedback para solicitar correo.");L(p.id,"CORRECAO_SOLICITADA")},className:"w-full py-4 bg-red-600/20 text-red-400 border border-red-500/30 rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-red-600/30 transition-all flex items-center justify-center gap-2",children:[a.jsx(Ta,{size:16})," Solicitar Ajustes"]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(RA,{size:14})," Cronograma das Aulas"]}),a.jsx("div",{className:"border border-white/10 rounded-[2rem] overflow-hidden bg-white/5 overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse min-w-[800px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-white/5 text-[9px] font-black text-white/40 uppercase tracking-widest border-b border-white/10",children:[a.jsx("th",{className:"px-6 py-4 w-40",children:"Semana/Data"}),a.jsx("th",{className:"px-6 py-4",children:"Contedo"}),a.jsx("th",{className:"px-6 py-4",children:"Atividades"}),a.jsx("th",{className:"px-6 py-4",children:"Metodologia"}),a.jsx("th",{className:"px-6 py-4",children:"Avaliao"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5",children:p.rows.map((U,z)=>a.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 text-xs font-black text-violet-400",children:U.weekOrDate}),a.jsx("td",{className:"px-6 py-4 text-xs text-white/70 whitespace-pre-wrap",children:U.content}),a.jsx("td",{className:"px-6 py-4 text-xs text-white/70 whitespace-pre-wrap",children:U.activities}),a.jsx("td",{className:"px-6 py-4 text-xs text-white/70 whitespace-pre-wrap",children:U.methodology}),a.jsx("td",{className:"px-6 py-4 text-xs text-white/70 whitespace-pre-wrap",children:U.evaluation})]},z))})]})})]})]})]}):a.jsx("div",{className:"grid grid-cols-1 gap-4",children:u.filter(U=>U.status==="EM_ANALISE").length>0?u.filter(U=>U.status==="EM_ANALISE").map(U=>a.jsxs("div",{onClick:()=>x(U),className:"group bg-white/5 p-6 rounded-[2rem] border border-white/10 hover:bg-white/10 hover:shadow-xl transition-all cursor-pointer flex flex-col md:flex-row items-center justify-between gap-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-16 h-16 bg-amber-500/20 text-amber-400 rounded-2xl flex items-center justify-center shrink-0 shadow-sm border border-amber-500/20",children:a.jsx(Jl,{size:32})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-black text-white uppercase",children:U.subject}),a.jsxs("p",{className:"text-[10px] text-white/40 font-bold uppercase tracking-widest",children:[U.teacher,"  Turma: ",U.className]})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase",children:"Enviado em"}),a.jsx("p",{className:"text-[11px] font-bold text-white/80",children:new Date(U.timestamp).toLocaleDateString("pt-BR")})]}),a.jsx(ga,{size:24,className:"text-white/20 group-hover:text-violet-400 transition-all"})]})]},U.id)):a.jsxs("div",{className:"py-24 text-center border-2 border-dashed border-white/10 rounded-[2.5rem] bg-white/5",children:[a.jsx(VO,{size:48,className:"mx-auto mb-4 text-emerald-500/50"}),a.jsx("p",{className:"text-white/40 font-black uppercase text-xs tracking-widest",children:"Nenhum roteiro aguardando validao"})]})})]});case"observations":return a.jsx(d_e,{user:e});case"occurrences":return a.jsx(h_e,{});case"projects":return a.jsx(x_e,{});case"ia_insights":return a.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[a.jsxs("div",{className:"bg-gradient-to-br from-violet-900/80 to-indigo-900/80 p-12 rounded-[3rem] text-white relative overflow-hidden shadow-2xl border border-white/10 backdrop-blur-md",children:[a.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-10",children:a.jsx(Fi,{size:160})}),a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-white/10 rounded-3xl backdrop-blur-sm border border-white/10",children:a.jsx(Mr,{size:32,className:"text-violet-400"})}),a.jsx("h2",{className:"text-3xl font-black uppercase tracking-tighter",children:"IA Coordenador Estratgico"})]}),a.jsx("p",{className:"text-violet-200 text-lg font-medium leading-relaxed max-w-2xl",children:"Diagnstico automatizado correlacionando notas internas e resultados do CAED/Estruturado para fortalecer a aprendizagem."}),a.jsxs("button",{onClick:B,disabled:T,className:"px-10 py-5 bg-white/10 border border-white/20 text-white rounded-3xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-white/20 active:scale-95 transition-all flex items-center gap-3",children:[T?a.jsx(vt,{className:"animate-spin",size:20}):a.jsx(Hj,{size:20})," Gerar Plano de Interveno Global"]})]})]}),y&&a.jsxs("div",{className:"bg-white/5 p-10 rounded-[3rem] border border-white/10 shadow-xl animate-in zoom-in-95 duration-500 backdrop-blur-md",children:[a.jsxs("div",{className:"flex items-center gap-3 text-violet-400 mb-8 font-black uppercase text-xs tracking-[0.2em]",children:[a.jsx(Nt,{size:18})," Anlise Pedaggica Multidimensional"]}),a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsx("div",{className:"whitespace-pre-wrap text-white/80 font-medium leading-relaxed",children:y})})]})]});default:return null}};return a.jsxs("div",{className:"min-h-screen bg-gray-900 font-sans relative overflow-hidden text-white",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1503676260728-1c00da094a0b?q=80&w=2622&auto=format&fit=crop')] bg-cover bg-center opacity-20 fixed"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-violet-950 to-black fixed opacity-90"}),a.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-violet-600/20 rounded-full blur-[120px] animate-[pulse_8s_ease-in-out_infinite] fixed"}),a.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-indigo-600/20 rounded-full blur-[120px] animate-[pulse_10s_ease-in-out_infinite] fixed"})]}),a.jsxs("div",{className:"relative z-10 flex h-screen",children:[a.jsxs("aside",{className:"w-64 bg-white/5 backdrop-blur-xl border-r border-white/10 flex flex-col no-print",children:[a.jsx("div",{className:"p-6",children:a.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx("span",{className:"bg-gradient-to-br from-violet-500 to-indigo-600 p-2 rounded-xl shadow-lg shadow-violet-500/20",children:""}),"Gesto Ped."]})}),a.jsx("nav",{className:"flex-1 mt-6 px-4 space-y-2 overflow-y-auto custom-scrollbar",children:X.map(U=>a.jsxs("button",{onClick:()=>s(U.id),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${n===U.id?"bg-violet-600 text-white shadow-[0_0_20px_rgba(139,92,246,0.3)] border border-violet-500/30":"text-white/60 hover:bg-white/10 hover:text-white"}`,children:[a.jsx(U.icon,{size:18})," ",U.label]},U.id))}),a.jsxs("div",{className:"p-6 border-t border-white/10 space-y-3",children:[a.jsxs("button",{onClick:t,className:"w-full flex items-center gap-2 px-4 py-3 bg-white/5 hover:bg-white/10 border border-white/5 hover:text-white rounded-xl text-xs font-black uppercase tracking-widest transition-all text-white/60",children:[a.jsx(cr,{size:16})," Voltar ao Hub"]}),a.jsxs("div",{className:"bg-violet-900/40 p-4 rounded-2xl border border-violet-500/20 backdrop-blur-sm",children:[a.jsxs("p",{className:"text-[10px] text-violet-300 font-black uppercase tracking-widest mb-1.5 flex items-center gap-1.5",children:[a.jsx(ft,{size:10})," Coordenao Ativa"]}),a.jsx("div",{className:"text-xs font-black uppercase tracking-tight text-white/80",children:"Padro SEDUC-MT"})]})]})]}),a.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"h-20 bg-transparent border-b border-white/10 flex items-center justify-between px-10 shrink-0 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-white/5 text-violet-400 rounded-lg border border-white/10",children:a.jsx(Mr,{size:20})}),a.jsx("h2",{className:"text-sm font-black text-white/80 uppercase tracking-tight leading-none",children:"Mdulo: Coordenao Pedaggica"})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("button",{onClick:q,className:"p-2.5 text-white/40 hover:bg-white/10 hover:text-white rounded-xl transition-all group flex items-center gap-2",title:"Alternar Tela Cheia",children:[a.jsx(nl,{size:18,className:"group-hover:text-violet-400"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest hidden xl:block",children:"Expandir"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-black text-white",children:"Coordenador Andr"}),a.jsx("p",{className:"text-[9px] text-violet-400 font-black uppercase tracking-widest",children:"Gesto de Ensino"})]}),a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-600 to-indigo-600 flex items-center justify-center text-white font-black text-sm shadow-lg shadow-violet-500/20 border border-white/10",children:"CA"})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:P()})]}),a.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 10px; }
        .custom-scrollbar:hover::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2); }
      `})]})]})},b_e=()=>{const{addToast:t}=jn(),[e,r]=R.useState([]),[n,s]=R.useState(""),[i,o]=R.useState(!1),[l,d]=R.useState(!1),[u,h]=R.useState("inventory"),[p,x]=R.useState([]),[v,b]=R.useState({}),[w,g]=R.useState(!1),[S,k]=R.useState({name:"",category:"PEDAGOGICO",unit:"UN",current:0,min:5}),[y,j]=R.useState({itemId:"",itemName:"",category:"PEDAGOGICO",unit:"UN",isNewItem:!1,quantity:1,supplier:"",invoice:"",date:new Date().toISOString().split("T")[0]}),T=async()=>{try{const{data:L,error:B}=await ae.from("almoxarifado_items").select("*").order("name");L&&r(L.map(X=>({id:X.id,name:X.name,category:X.category||"GERAL",unit:X.unit,current:X.quantity,min:X.min_quantity})))}catch(L){console.error("Erro ao buscar estoque:",L)}},_=async()=>{try{const{data:L,error:B}=await ae.from("almoxarifado_movements").select("*, almoxarifado_items(name, unit)").order("created_at",{ascending:!1});L&&x(L)}catch(L){console.error("Erro ao buscar histrico:",L)}},O=async()=>{g(!0);try{const{data:L,error:B}=await ae.from("classrooms").select(`
               name,
               enrollments (count)
            `);if(L){const X={};L.forEach(P=>{var z,V;const U=P.name.match(/(\d+\s*ANO)/i);if(U){const Y=U[1].toUpperCase();X[Y]=(X[Y]||0)+(((V=(z=P.enrollments)==null?void 0:z[0])==null?void 0:V.count)||0)}}),b(X)}}catch(L){console.error("Erro ao buscar contagem de alunos:",L)}finally{g(!1)}};R.useEffect(()=>{T(),_(),O();const L=ae.channel("warehouse_stock_sync").on("postgres_changes",{event:"*",schema:"public",table:"almoxarifado_items"},T).on("postgres_changes",{event:"*",schema:"public",table:"almoxarifado_movements"},_).subscribe();return()=>{L.unsubscribe()}},[]);const M=async(L,B)=>{const X=e.find(U=>U.id===L);if(!X)return;const P=Math.max(0,X.current+B);try{const{error:U}=await ae.from("almoxarifado_items").update({quantity:P}).eq("id",L);if(U)throw U;await ae.from("almoxarifado_movements").insert([{item_id:L,type:B>0?"ENTRADA":"SAIDA",quantity:Math.abs(B),requester:"ALMOXARIFE (AJUSTE RPIDO)",observations:"Ajuste manual no inventrio"}])}catch(U){console.error("Erro ao atualizar estoque:",U),t("Erro ao atualizar estoque.","error")}},D=async L=>{L.preventDefault();try{const{error:B}=await ae.from("almoxarifado_items").insert([{name:S.name.toUpperCase(),category:S.category,unit:S.unit,quantity:S.current,min_quantity:S.min}]);if(B)throw B;o(!1),k({name:"",category:"PEDAGOGICO",unit:"UN",current:0,min:5}),t("Item adicionado com sucesso!","success"),T()}catch(B){console.error("Erro ao adicionar item:",B),t("Erro ao adicionar item.","error")}},F=async L=>{L.preventDefault();let B=y.itemId;try{if(y.isNewItem){const{data:z,error:V}=await ae.from("almoxarifado_items").insert([{name:y.itemName.toUpperCase(),category:y.category,unit:y.unit,quantity:0,min_quantity:5}]).select().single();if(V)throw V;B=z.id}if(!B){t("Selecione ou crie um produto.","warning");return}const X=e.find(z=>z.id===B)||{current:0},{error:P}=await ae.from("almoxarifado_items").update({quantity:(X.current||0)+y.quantity}).eq("id",B);if(P)throw P;const{error:U}=await ae.from("almoxarifado_movements").insert([{item_id:B,type:"ENTRADA",quantity:y.quantity,requester:`FORNECEDOR: ${y.supplier.toUpperCase()}`,observations:`Doc: ${y.invoice.toUpperCase()||"S/ NF"}`}]);if(U)throw U;d(!1),j({itemId:"",itemName:"",category:"PEDAGOGICO",unit:"UN",isNewItem:!1,quantity:1,supplier:"",invoice:"",date:new Date().toISOString().split("T")[0]}),t("Entrada registrada com sucesso!","success"),T(),_()}catch(X){console.error("Erro ao registrar entrada:",X),t("Erro ao registrar entrada.","error")}},q=R.useMemo(()=>e.filter(L=>L.current<L.min),[e]);return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/10 shadow-lg backdrop-blur-md",children:[a.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Total de Itens"}),a.jsx("p",{className:"text-3xl font-black text-white mt-1",children:e.length})]}),a.jsxs("div",{className:"bg-red-500/10 p-6 rounded-3xl border border-red-500/20 shadow-lg backdrop-blur-md",children:[a.jsx("p",{className:"text-[10px] font-black text-red-400 uppercase tracking-widest",children:"Reposio Urgente"}),a.jsx("p",{className:"text-3xl font-black text-red-400 mt-1",children:q.length})]}),a.jsxs("div",{className:"bg-gradient-to-br from-orange-600 to-amber-600 p-6 rounded-3xl shadow-xl border border-white/10",children:[a.jsx("p",{className:"text-[10px] font-black text-white/60 uppercase tracking-widest",children:"Consumo Estimado Ms"}),a.jsx("p",{className:"text-3xl font-black text-white mt-1",children:"ALTO"})]})]}),a.jsxs("div",{className:"flex gap-4 p-1.5 bg-white/5 rounded-2xl w-fit border border-white/10 backdrop-blur-md",children:[a.jsxs("button",{onClick:()=>h("inventory"),className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-[10px] font-black uppercase transition-all ${u==="inventory"?"bg-orange-600 text-white shadow-lg":"text-white/40 hover:text-white"}`,children:[a.jsx(ac,{size:14})," Inventrio Fsico"]}),a.jsxs("button",{onClick:()=>h("history"),className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-[10px] font-black uppercase transition-all ${u==="history"?"bg-orange-600 text-white shadow-lg":"text-white/40 hover:text-white"}`,children:[a.jsx(_t,{size:14})," Histrico de Entradas"]}),a.jsxs("button",{onClick:()=>h("reports"),className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-[10px] font-black uppercase transition-all ${u==="reports"?"bg-orange-600 text-white shadow-lg":"text-white/40 hover:text-white"}`,children:[a.jsx(zt,{size:14})," Relatrio de Atendimento"]})]}),u==="inventory"&&a.jsxs("div",{className:"bg-white/5 p-6 rounded-[2.5rem] border border-white/10 shadow-lg backdrop-blur-md flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"relative flex-1 w-full max-w-md",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/20",size:18}),a.jsx("input",{type:"text",placeholder:"Pesquisar material no estoque...",value:n,onChange:L=>s(L.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/5 border border-white/5 rounded-2xl font-bold text-sm text-white outline-none focus:bg-white/10 focus:border-orange-500/50 transition-all placeholder-white/20"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>d(!0),className:"px-6 py-3 bg-emerald-600 text-white rounded-xl text-[10px] font-black uppercase flex items-center gap-2 hover:bg-emerald-700 shadow-lg border border-white/10",children:[a.jsx(ot,{size:16})," Registrar Entrada"]}),a.jsxs("button",{onClick:()=>o(!0),className:"px-6 py-3 bg-orange-600 text-white rounded-xl text-[10px] font-black uppercase flex items-center gap-2 hover:bg-orange-700 shadow-lg border border-white/10",children:[a.jsx(kH,{size:16})," Novo Item"]})]})]}),u==="inventory"&&a.jsx("div",{className:"bg-white/5 rounded-[3rem] border border-white/10 shadow-lg overflow-hidden backdrop-blur-md",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-white/5 text-[10px] font-black text-white/40 uppercase tracking-widest border-b border-white/5",children:[a.jsx("th",{className:"px-8 py-5",children:"Descrio do Material"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Categoria"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Saldo Atual"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Mnimo"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Ajuste Rpido"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5",children:e.filter(L=>L.name.toLowerCase().includes(n.toLowerCase())).map(L=>{const B=L.current<L.min;return a.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${B?"bg-red-500/10 text-red-400":"bg-orange-500/10 text-orange-400"}`,children:a.jsx(ac,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-black text-white uppercase",children:L.name}),a.jsx("p",{className:"text-[9px] text-white/40 font-bold uppercase",children:L.unit})]})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:"px-3 py-1 bg-white/10 text-white/60 rounded-lg text-[9px] font-black uppercase",children:L.category})}),a.jsxs("td",{className:"px-8 py-6 text-center",children:[a.jsx("p",{className:`text-lg font-black ${B?"text-red-400":"text-emerald-400"}`,children:L.current}),B&&a.jsx("p",{className:"text-[7px] font-black text-red-300 uppercase tracking-tighter animate-pulse",children:"Crtico"})]}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("p",{className:"text-sm font-bold text-white/30",children:L.min})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>M(L.id,-1),className:"p-2 bg-white/5 text-white/40 hover:text-red-400 hover:bg-white/10 rounded-lg border border-white/5 transition-all",children:a.jsx(Wj,{size:14})}),a.jsx("button",{onClick:()=>M(L.id,1),className:"p-2 bg-white/5 text-white/40 hover:text-emerald-400 hover:bg-white/10 rounded-lg border border-white/5 transition-all",children:a.jsx(ot,{size:14})})]})})]},L.id)})})]})}),u==="history"&&a.jsx("div",{className:"bg-white/5 rounded-[3rem] border border-white/10 shadow-lg overflow-hidden animate-in slide-in-from-bottom-4 duration-500 backdrop-blur-md",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-white/5 text-[10px] font-black text-white/40 uppercase tracking-widest border-b border-white/5",children:[a.jsx("th",{className:"px-8 py-5",children:"Data / Hora"}),a.jsx("th",{className:"px-8 py-5",children:"Material"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Quantidade"}),a.jsx("th",{className:"px-8 py-5",children:"Fornecedor / Origem"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Documento"})]})}),a.jsxs("tbody",{className:"divide-y divide-white/5",children:[p.filter(L=>L.type==="ENTRADA").map(L=>{var B,X;return a.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsx("p",{className:"text-xs font-bold text-white/80",children:new Date(L.created_at).toLocaleString("pt-BR")})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-emerald-500/10 text-emerald-400 rounded-lg",children:a.jsx(zt,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-white uppercase",children:(B=L.almoxarifado_items)==null?void 0:B.name}),a.jsx("p",{className:"text-[9px] text-white/40 font-bold uppercase",children:(X=L.almoxarifado_items)==null?void 0:X.unit})]})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("span",{className:"px-3 py-1 bg-emerald-500/10 text-emerald-400 rounded-lg text-[10px] font-black border border-emerald-500/20",children:["+",L.quantity]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsx("p",{className:"text-[10px] font-bold text-white/60 uppercase",children:L.requester.replace("FORNECEDOR: ","")})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsx("p",{className:"text-[10px] font-black text-white/30 uppercase tracking-tighter",children:L.observations.replace("Doc: ","")||"---"})})]},L.id)}),p.filter(L=>L.type==="ENTRADA").length===0&&a.jsx("tr",{children:a.jsxs("td",{colSpan:5,className:"py-24 text-center",children:[a.jsx(_t,{size:48,className:"mx-auto mb-4 text-white/20"}),a.jsx("p",{className:"text-white/30 font-black uppercase text-xs tracking-widest",children:"Nenhuma entrada registrada"})]})})]})]})}),u==="reports"&&a.jsx("div",{className:"space-y-6 animate-in slide-in-from-bottom-4 duration-500",children:a.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-gray-100 shadow-sm space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase",children:"Cruzamento: Livro vs Aluno"}),a.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mt-1",children:"Comparativo entre estoque disponvel e total de alunos enturmados"})]}),a.jsx("button",{onClick:O,className:`p-3 bg-gray-50 text-gray-400 hover:text-orange-600 rounded-2xl transition-all ${w?"animate-spin":""}`,children:a.jsx(ic,{size:20})})]}),a.jsx("div",{className:"overflow-hidden rounded-2xl border border-gray-50",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-[10px] font-black text-gray-400 uppercase tracking-widest border-b border-gray-100",children:[a.jsx("th",{className:"px-6 py-4",children:"Ano / Srie"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Total de Alunos"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Livros em Estoque"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Saldo"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50",children:["6 ANO","7 ANO","8 ANO","9 ANO"].map(L=>{const B=v[L]||0,X=e.find(V=>V.name===`LIVRO DO ESTUDANTE - ${L}`),P=(X==null?void 0:X.current)||0,U=P-B,z=U<0;return a.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-5",children:a.jsx("p",{className:"font-black text-gray-900",children:L})}),a.jsx("td",{className:"px-6 py-5 text-center",children:a.jsx("p",{className:"font-bold text-gray-600",children:B})}),a.jsx("td",{className:"px-6 py-5 text-center",children:a.jsx("p",{className:"font-bold text-emerald-600",children:P})}),a.jsx("td",{className:"px-6 py-5 text-center",children:a.jsx("p",{className:`font-black ${z?"text-red-600":"text-emerald-700"}`,children:U>0?`+${U}`:U})}),a.jsx("td",{className:"px-6 py-5 text-right",children:z?a.jsxs("span",{className:"px-3 py-1 bg-red-50 text-red-600 rounded-lg text-[9px] font-black uppercase flex items-center justify-end gap-1 ml-auto w-fit",children:[a.jsx(Xt,{size:12})," Faltando"]}):a.jsxs("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-600 rounded-lg text-[9px] font-black uppercase flex items-center justify-end gap-1 ml-auto w-fit",children:[a.jsx(Nt,{size:12})," Atendido"]})})]},L)})})]})}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-3xl border border-orange-100 flex items-start gap-4",children:[a.jsx(Xt,{className:"text-orange-600 mt-1",size:24}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-orange-900 uppercase",children:"Ateno ao Planejamento"}),a.jsx("p",{className:"text-[10px] text-orange-600 font-bold leading-relaxed mt-1 uppercase",children:"Este relatrio baseia-se exclusivamente nos alunos enturmados no mdulo Secretaria. Garantir que todas as transferncias e desistncias estejam atualizadas para um clculo preciso."})]})]})]})}),i&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-orange-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg shadow-2xl p-8 space-y-6",children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase",children:"Novo Material"}),a.jsxs("form",{onSubmit:D,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Nome do Item"}),a.jsx("input",{required:!0,value:S.name,onChange:L=>k({...S,name:L.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-xs uppercase outline-none focus:bg-white border border-transparent focus:border-orange-200 transition-all"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Categoria"}),a.jsxs("select",{value:S.category,onChange:L=>k({...S,category:L.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-xs uppercase outline-none",children:[a.jsx("option",{value:"PEDAGOGICO",children:"Pedaggico"}),a.jsx("option",{value:"ESTRUTURADO",children:"Estruturado"}),a.jsx("option",{value:"EXPEDIENTE",children:"Expediente"}),a.jsx("option",{value:"LIMPEZA",children:"Limpeza"}),a.jsx("option",{value:"ARTE",children:"Arte"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Unidade"}),a.jsx("input",{required:!0,value:S.unit,onChange:L=>k({...S,unit:L.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-xs uppercase outline-none focus:bg-white border border-transparent focus:border-orange-200 transition-all"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Quantidade Inicial"}),a.jsx("input",{type:"number",min:"0",required:!0,value:S.current,onChange:L=>k({...S,current:parseInt(L.target.value)}),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-xs outline-none focus:bg-white border border-transparent focus:border-orange-200 transition-all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Estoque Mnimo"}),a.jsx("input",{type:"number",min:"0",required:!0,value:S.min,onChange:L=>k({...S,min:parseInt(L.target.value)}),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-xs outline-none focus:bg-white border border-transparent focus:border-orange-200 transition-all"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 py-4 text-gray-400 font-black uppercase text-xs hover:bg-gray-50 rounded-xl transition-all",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"flex-1 py-4 bg-orange-600 text-white font-black uppercase text-xs rounded-xl shadow-lg hover:bg-orange-700 transition-all",children:"Salvar Item"})]})]})]})}),l&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-emerald-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg shadow-2xl p-8 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl font-black text-gray-900 uppercase flex items-center gap-3",children:[a.jsx("span",{className:"p-2 bg-emerald-100 text-emerald-600 rounded-lg",children:a.jsx(ot,{size:20})}),"Registrar Entrada"]}),a.jsx("button",{onClick:()=>d(!1),className:"p-2 text-gray-400 hover:text-red-500 rounded-full transition-colors",children:a.jsx(Ze,{size:20})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-4",children:[a.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-xl mb-2",children:[a.jsx("button",{type:"button",onClick:()=>j({...y,isNewItem:!1}),className:`flex-1 py-2 rounded-lg text-[10px] font-black uppercase transition-all ${y.isNewItem?"text-gray-400":"bg-white text-emerald-600 shadow-sm"}`,children:"Item Existente"}),a.jsx("button",{type:"button",onClick:()=>j({...y,isNewItem:!0}),className:`flex-1 py-2 rounded-lg text-[10px] font-black uppercase transition-all ${y.isNewItem?"bg-white text-emerald-600 shadow-sm":"text-gray-400"}`,children:"Novo Produto"})]}),y.isNewItem?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Nome do Novo Produto"}),a.jsx("input",{required:!0,value:y.itemName,onChange:L=>j({...y,itemName:L.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-xs uppercase outline-none focus:bg-white border border-transparent focus:border-emerald-200"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Categoria"}),a.jsxs("select",{value:y.category,onChange:L=>j({...y,category:L.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-xs uppercase outline-none focus:bg-white border border-transparent focus:border-emerald-200",children:[a.jsx("option",{value:"PEDAGOGICO",children:"Pedaggico"}),a.jsx("option",{value:"ESTRUTURADO",children:"Estruturado"}),a.jsx("option",{value:"EXPEDIENTE",children:"Expediente"}),a.jsx("option",{value:"LIMPEZA",children:"Limpeza"}),a.jsx("option",{value:"ARTE",children:"Arte"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Unidade"}),a.jsx("input",{required:!0,value:y.unit,onChange:L=>j({...y,unit:L.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-xs uppercase outline-none focus:bg-white border border-transparent focus:border-emerald-200"})]})]})]}):a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Produto no Estoque"}),a.jsxs("select",{required:!0,value:y.itemId,onChange:L=>j({...y,itemId:L.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-xs uppercase outline-none focus:ring-2 focus:ring-emerald-100 transition-all",children:[a.jsx("option",{value:"",children:"Selecione o produto..."}),e.map(L=>a.jsxs("option",{value:L.id,children:[L.name," (Saldo: ",L.current," ",L.unit,")"]},L.id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Quantidade"}),a.jsx("input",{type:"number",min:"1",required:!0,value:y.quantity,onChange:L=>j({...y,quantity:parseInt(L.target.value)}),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-xs outline-none focus:ring-2 focus:ring-emerald-100 transition-all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Data"}),a.jsx("input",{type:"date",required:!0,value:y.date,onChange:L=>j({...y,date:L.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-xs outline-none"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Fornecedor / Origem"}),a.jsx("input",{required:!0,placeholder:"Ex: Secretaria de Educao, Fornecedor X...",value:y.supplier,onChange:L=>j({...y,supplier:L.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-xs uppercase outline-none focus:bg-white border border-transparent focus:border-emerald-200 transition-all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Nota Fiscal / Doc (Opcional)"}),a.jsx("input",{placeholder:"Ex: NF 001234",value:y.invoice,onChange:L=>j({...y,invoice:L.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-xs uppercase outline-none focus:bg-white border border-transparent focus:border-emerald-200 transition-all"})]}),a.jsx("button",{type:"submit",className:"w-full py-5 bg-emerald-600 text-white font-black uppercase text-sm rounded-2xl shadow-xl hover:bg-emerald-700 shadow-emerald-200/50 transition-all transform active:scale-95",children:"Confirmar Entrada"})]})]})})]})},v_e=()=>{const{addToast:t}=jn(),[e,r]=R.useState([]),[n,s]=R.useState("PENDENTE"),i=async()=>{try{const{data:d,error:u}=await ae.from("almoxarifado_requests").select("*").order("created_at",{ascending:!1});d&&r(d.map(h=>({id:h.id,teacherId:h.teacher_id,teacherName:h.teacher_name,date:h.date,status:h.status,items:h.items,reason:h.reason})))}catch(d){console.error("Erro ao buscar pedidos:",d)}};R.useEffect(()=>{i();const d=ae.channel("almoxarifado_requests_changes").on("postgres_changes",{event:"*",schema:"public",table:"almoxarifado_requests"},i).subscribe();return()=>{d.unsubscribe()}},[]);const o=async(d,u)=>{const h=e.find(p=>p.id===d);if(h)try{const{error:p}=await ae.from("almoxarifado_requests").update({status:u}).eq("id",d);if(p)throw p;if(u==="ENTREGUE"&&h.status!=="ENTREGUE")for(const x of h.items){const{error:v}=await ae.rpc("decrement_stock",{item_id:x.materialId,qty:x.quantity});if(v){const{data:b}=await ae.from("almoxarifado_items").select("quantity").eq("id",x.materialId).single();b&&await ae.from("almoxarifado_items").update({quantity:Math.max(0,b.quantity-x.quantity)}).eq("id",x.materialId)}await ae.from("almoxarifado_movements").insert([{item_id:x.materialId,type:"SAIDA",quantity:x.quantity,requester:h.teacherName,observations:`Pedido ${h.id} - ${x.unit}`}])}await i(),t(`Solicitao atualizada para: ${u}`,"success")}catch(p){console.error("Erro ao atualizar pedido:",p),t("Erro ao processar atualizao.","error")}},l=R.useMemo(()=>n==="TODOS"?e:e.filter(d=>d.status===n),[e,n]);return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 bg-white/5 p-6 rounded-[2.5rem] border border-white/10 shadow-lg backdrop-blur-md",children:[a.jsx("div",{className:"flex bg-white/5 p-1.5 rounded-2xl border border-white/5",children:["PENDENTE","APROVADO","ENTREGUE","TODOS"].map(d=>a.jsx("button",{onClick:()=>s(d),className:`px-6 py-2.5 rounded-xl text-[9px] font-black uppercase transition-all ${n===d?"bg-orange-600 text-white shadow-lg":"text-white/40 hover:text-white hover:bg-white/5"}`,children:d},d))}),a.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-orange-500/10 text-orange-400 rounded-2xl border border-orange-500/20",children:[a.jsx(rr,{size:16}),a.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:[e.filter(d=>d.status==="PENDENTE").length," Pendentes"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:l.length>0?l.map(d=>a.jsxs("div",{className:"bg-white/5 p-8 rounded-[3rem] border border-white/10 shadow-lg hover:shadow-xl hover:bg-white/10 transition-all flex flex-col lg:flex-row gap-8 relative overflow-hidden backdrop-blur-md",children:[a.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-2 ${d.status==="PENDENTE"?"bg-amber-500":d.status==="APROVADO"?"bg-emerald-500":d.status==="ENTREGUE"?"bg-blue-500":"bg-red-500"}`}),a.jsxs("div",{className:"flex-1 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-white/5 rounded-2xl text-white/40 border border-white/5",children:a.jsx(la,{size:24})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xl font-black text-white uppercase tracking-tight",children:d.teacherName}),a.jsxs("div",{className:"flex items-center gap-4 text-[10px] font-bold text-white/40 uppercase mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(kr,{size:12})," ",new Date(d.date).toLocaleDateString("pt-BR")]}),a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(_t,{size:12})," ID: ",d.id.split("-")[1]||d.id.substring(0,6)]})]})]})]}),a.jsx("span",{className:`px-4 py-1.5 rounded-full text-[9px] font-black uppercase tracking-widest ${d.status==="PENDENTE"?"bg-amber-500/10 text-amber-400 border border-amber-500/20":d.status==="APROVADO"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":d.status==="ENTREGUE"?"bg-blue-500/10 text-blue-400 border border-blue-500/20":"bg-white/10 text-white/40 border border-white/10"}`,children:d.status})]}),a.jsxs("div",{className:"p-6 bg-black/20 rounded-[2rem] border border-white/5 space-y-4",children:[a.jsxs("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Us,{size:14,className:"text-orange-500"})," Detalhes do Pedido"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:d.items&&d.items.map((u,h)=>a.jsxs("div",{className:"flex justify-between items-center bg-white/5 px-4 py-2 rounded-xl border border-white/5 hover:bg-white/10 transition-colors",children:[a.jsx("span",{className:"text-[10px] font-bold text-white/60 uppercase",children:u.materialName}),a.jsxs("span",{className:"text-[11px] font-black text-orange-400",children:[u.quantity," ",u.unit]})]},h))})]}),a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-orange-500/10 rounded-2xl border border-orange-500/10",children:[a.jsx(wn,{size:16,className:"text-orange-400 mt-1 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-black text-orange-400 uppercase tracking-widest",children:"Observaes"}),a.jsxs("p",{className:"text-xs text-white/80 font-medium italic mt-1",children:['"',d.reason,'"']})]})]})]}),a.jsxs("div",{className:"lg:w-64 flex flex-col gap-3 justify-center border-t lg:border-t-0 lg:border-l border-white/10 pt-6 lg:pt-0 lg:pl-8",children:[d.status==="PENDENTE"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>o(d.id,"APROVADO"),className:"w-full py-4 bg-emerald-600 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-lg hover:bg-emerald-700 transition-all flex items-center justify-center gap-2 border border-emerald-500/20",children:[a.jsx(Nt,{size:16})," Autorizar"]}),a.jsx("button",{onClick:()=>o(d.id,"REJEITADO"),className:"w-full py-4 bg-red-500/10 text-red-400 rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-red-500/20 transition-all border border-red-500/20",children:"Recusar"})]}),d.status==="APROVADO"&&a.jsxs("button",{onClick:()=>o(d.id,"ENTREGUE"),className:"w-full py-4 bg-blue-600 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-lg hover:bg-blue-700 transition-all flex items-center justify-center gap-2 border border-blue-500/20",children:[a.jsx(uf,{size:16})," Marcar Entregue"]})]})]},d.id)):a.jsxs("div",{className:"py-32 text-center bg-white/5 rounded-[3rem] border-2 border-dashed border-white/10",children:[a.jsx(rl,{size:48,className:"mx-auto mb-4 text-white/20"}),a.jsx("p",{className:"text-white/30 font-black uppercase text-xs tracking-widest",children:"Nenhum pedido pendente"})]})})]})},y_e=()=>a.jsxs("div",{className:"flex justify-between items-center border-b-2 border-black pb-4 mb-6 w-full max-w-[210mm] mx-auto print:flex print:visible font-serif",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:"/SEDUC 2.jpg",alt:"Logo SEDUC",className:"h-24 w-auto object-contain",onError:t=>t.currentTarget.style.display="none"}),a.jsx("img",{src:"/dre sinop.jpg",alt:"Logo DRE Sinop",className:"h-24 w-auto object-contain",onError:t=>t.currentTarget.style.display="none"})]}),a.jsx("div",{className:"text-center flex-1 px-4 leading-tight",children:a.jsx("h1",{className:"text-xl font-black text-gray-900 leading-none",children:"Portal de Gesto Unificada"})}),a.jsx("div",{className:"flex items-center justify-end",children:a.jsx("img",{src:"/logo-escola.png",alt:"Logo Escola",className:"h-24 w-auto object-contain",onError:t=>t.currentTarget.style.display="none"})})]}),cx=["12","14","16","P","M","G","GG","XG"],dx=["33","34","35","36","37","38","39","40","41","42","43","44"],ax=[...cx,...dx],_A=["BERMUDA","CALA","CAMISETA","JAQUETA","SHORTS-SAIA","OUTROS"],N_e=()=>{const{addToast:t}=jn(),[e,r]=R.useState([]),[n,s]=R.useState(""),[i,o]=R.useState(null),[l,d]=R.useState("TODOS"),[u,h]=R.useState(!1),[p,x]=R.useState({name:"",type:"",details:"",category:"VESTURIO",sizes:{12:0,14:0,16:0,P:0,M:0,G:0,GG:0,XG:0}}),[v,b]=R.useState(!1),[w,g]=R.useState({studentName:"",studentClass:"",guardianName:"",guardianCPF:""}),[S,k]=R.useState([]),[y,j]=R.useState({name:"",size:"",quantity:1}),T=()=>{if(!y.name){t("Selecione um item.","warning");return}if(!y.size){t("Selecione o tamanho.","warning");return}if(y.quantity<=0){t("Quantidade invlida.","warning");return}k([...S,y]),j({name:"",size:"",quantity:1})},[_,O]=R.useState(!1),M=async()=>{if(!w.studentName||!w.guardianName){t("Preencha os dados do Aluno e Responsvel.","warning");return}if(S.length===0){t("Adicione pelo menos um item ao termo.","warning");return}if(confirm("Isso ir descontar os itens do estoque e registrar a entrega. Confirma?")){O(!0);try{for(const B of S){const{data:X,error:P}=await ae.from("almoxarifado_items").select("*").eq("name",B.name).maybeSingle();if(P||!X){console.error(`Erro ao buscar item ${B.name}:`,P);continue}const U=X.sizes||{},z=U[B.size]||0,V=Math.max(0,z-B.quantity),Y={...U,[B.size]:V},se=Object.values(Y).reduce((W,Q)=>Number(W)+Number(Q),0),{error:K}=await ae.from("almoxarifado_items").update({sizes:Y,quantity:se}).eq("id",X.id);if(K)throw K;const{error:G}=await ae.from("almoxarifado_movements").insert([{item_id:X.id,type:"SAIDA",quantity:B.quantity,requester:w.studentName.toUpperCase(),observations:`TERMO DE RESP. - RESP: ${w.guardianName.toUpperCase()} CPF: ${w.guardianCPF} - TURMA: ${w.studentClass}`}]);if(G)throw G}t("Entrega registrada com sucesso! Imprimindo termo...","success"),setTimeout(()=>window.print(),500)}catch(B){console.error("Erro ao salvar termo:",B),t("Erro ao salvar dados do termo: "+(B.message||"Erro desconhecido"),"error")}finally{O(!1),F()}}},D=async()=>{if(!p.name){t("Por favor, informe o nome do item.","warning");return}const B=Object.values(p.sizes).reduce((X,P)=>Number(X)+Number(P),0);try{let X=p.name.toUpperCase();if((p.category==="VESTURIO"||_A.includes(p.category))&&(p.type&&p.type!=="OUTROS"?X=`${p.type} ${p.details}`.trim().toUpperCase():X=p.name.toUpperCase()),!X){t("Por favor, informe o nome ou tipo do item.","warning");return}const{error:P}=await ae.from("almoxarifado_items").insert([{name:X,category:"UNIFORME",description:p.category,sizes:p.sizes,quantity:B,min_quantity:10,image_url:""}]);if(P)throw P;t("Item cadastrado com sucesso!","success"),h(!1),x({name:"",type:"",details:"",category:"VESTURIO",sizes:{12:0,14:0,16:0,P:0,M:0,G:0,GG:0,XG:0}}),F()}catch(X){console.error("Erro ao cadastrar uniforme:",X),t("Erro ao cadastrar uniforme: "+(X.message||JSON.stringify(X)),"error")}},F=async()=>{try{const{data:B,error:X}=await ae.from("almoxarifado_items").select("*").ilike("category","UNIFORME%");B&&r(B.map(P=>({id:P.id,name:P.name,category:P.description||"VESTURIO",sizes:P.sizes||{},minPerSize:P.min_quantity||10})))}catch(B){console.error("Erro ao buscar uniformes:",B)}};R.useEffect(()=>{F();const B=ae.channel("almoxarifado_uniforms_changes").on("postgres_changes",{event:"*",schema:"public",table:"almoxarifado_items"},F).subscribe();return()=>{B.unsubscribe()}},[]);const q=async(B,X,P)=>{const U=e.find(Y=>Y.id===B);if(!U)return;const z={...U.sizes,[X]:Math.max(0,U.sizes[X]+P)},V=Object.values(z).reduce((Y,se)=>Number(Y)+Number(se),0);try{const{error:Y}=await ae.from("almoxarifado_items").update({sizes:z,quantity:V}).eq("id",B);if(Y)throw Y;await ae.from("almoxarifado_movements").insert([{item_id:B,type:P>0?"ENTRADA":"SAIDA",quantity:Math.abs(P),requester:"ALMOXARIFE (GRADE)",observations:`Ajuste de grade tamanho ${X}`}]),r(se=>se.map(K=>K.id===B?{...K,sizes:z}:K)),(i==null?void 0:i.id)===B&&o(se=>se?{...se,sizes:z}:null)}catch(Y){console.error("Erro ao atualizar estoque de uniformes:",Y),t("Erro ao atualizar estoque.","error")}},L=R.useMemo(()=>e.filter(B=>{const X=B.name.toLowerCase().includes(n.toLowerCase()),P=l==="VESTURIO"&&(B.category==="VESTURIO"||_A.includes(B.category)),U=l==="TODOS"||B.category===l||P;return X&&U}),[e,n,l]);return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-white/10 shadow-lg backdrop-blur-md space-y-6 print:hidden",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-orange-600 text-white rounded-3xl shadow-lg shadow-orange-600/20",children:a.jsx(X0,{size:32})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"Estoque de Uniformes"}),a.jsx("p",{className:"text-white/40 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Gesto de Vesturio e Grade de Tamanhos"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>b(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-xl text-[10px] font-black uppercase flex items-center gap-2 hover:bg-blue-700 transition-all shadow-lg print:hidden border border-white/10",children:[a.jsx(zt,{size:16})," Gerar Termo"]}),a.jsxs("button",{onClick:()=>h(!0),className:"px-6 py-3 bg-white/10 text-white rounded-xl text-[10px] font-black uppercase flex items-center gap-2 hover:bg-white/20 transition-all shadow-lg border border-white/10",children:[a.jsx(ot,{size:16})," Novo Item"]}),a.jsxs("button",{onClick:()=>{const B=`data:text/csv;charset=utf-8,Item,Categoria,Tamanho,Quantidade
`+e.flatMap(U=>ax.map(z=>`${U.name},${U.category},${z},${U.sizes[z]||0}`)).join(`
`),X=encodeURI(B),P=document.createElement("a");P.setAttribute("href",X),P.setAttribute("download","estoque_uniformes.csv"),document.body.appendChild(P),P.click(),document.body.removeChild(P)},className:"px-6 py-3 bg-orange-500/10 text-orange-400 rounded-xl text-[10px] font-black uppercase flex items-center gap-2 hover:bg-orange-500/20 transition-all border border-orange-500/20",children:[a.jsx(ni,{size:16})," Exportar Inventrio"]}),a.jsxs("button",{onClick:()=>alert("Funcionalidade de Entrada em Lote (DRE) em desenvolvimento."),className:"px-6 py-3 bg-white/5 text-white/60 rounded-xl text-[10px] font-black uppercase flex items-center gap-2 hover:bg-white/10 hover:text-white transition-all shadow-lg border border-white/5",children:[a.jsx(LO,{size:16})," Receber Lote DRE"]})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 border-t border-white/10 pt-6",children:[a.jsx("div",{className:"flex bg-white/5 p-1 rounded-2xl border border-white/5",children:["TODOS","VESTURIO","CALADO"].map(B=>a.jsx("button",{onClick:()=>d(B),className:`px-6 py-2 rounded-xl text-[10px] font-black uppercase transition-all ${l===B?"bg-orange-600 text-white shadow-lg":"text-white/40 hover:text-white hover:bg-white/5"}`,children:B},B))}),a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/20",size:18}),a.jsx("input",{type:"text",placeholder:"Pesquisar por nome do item...",value:n,onChange:B=>s(B.target.value),className:"w-full pl-12 pr-6 py-3 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm text-white outline-none focus:bg-white/10 focus:border-orange-500/50 transition-all placeholder-white/20"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 print:hidden",children:L.map(B=>{const X=Object.values(B.sizes||{}).reduce((U,z)=>Number(U)+Number(z),0),P=ax.filter(U=>{var z,V;return(((z=B.sizes)==null?void 0:z[U])||0)>0&&(((V=B.sizes)==null?void 0:V[U])||0)<B.minPerSize});return ax.filter(U=>{var z;return(((z=B.sizes)==null?void 0:z[U])||0)===0}),a.jsxs("div",{onClick:()=>o(B),className:"bg-white/5 p-6 rounded-[2.5rem] border border-white/10 shadow-lg backdrop-blur-md hover:bg-white/10 hover:border-orange-500/30 hover:shadow-xl transition-all cursor-pointer group flex flex-col h-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("div",{className:`p-4 rounded-2xl ${B.category==="CALADO"?"bg-blue-500/10 text-blue-400":"bg-orange-500/10 text-orange-400"} group-hover:scale-110 transition-transform`,children:B.category==="CALADO"?a.jsx(AG,{size:24}):a.jsx(X0,{size:24})}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Saldo Total"}),a.jsx("p",{className:"text-2xl font-black text-white",children:X})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-black text-white uppercase leading-tight mb-1",children:B.name}),a.jsx("p",{className:"text-[10px] text-white/40 font-bold uppercase tracking-widest",children:B.category}),a.jsx("div",{className:"mt-6 flex flex-wrap gap-1.5",children:(B.category==="CALADO"?dx:cx).map(U=>{var se;const z=((se=B.sizes)==null?void 0:se[U])||0,V=z>0&&z<B.minPerSize,Y=z===0;return a.jsxs("div",{className:`px-2 py-1 rounded-lg text-[9px] font-black border transition-all ${Y?"bg-white/5 border-transparent text-white/20":V?"bg-amber-500/10 border-amber-500/30 text-amber-400":"bg-emerald-500/10 border-emerald-500/30 text-emerald-400"}`,children:[U,": ",z]},U)})})]}),a.jsxs("div",{className:"mt-8 pt-4 border-t border-white/5 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:P.length>0&&a.jsxs("div",{className:"flex items-center gap-1 text-[8px] font-black text-red-400 uppercase bg-red-500/10 px-2 py-1 rounded-lg border border-red-500/20 animate-pulse",children:[a.jsx(Xt,{size:10})," ",P.length," Tamanhos Baixos"]})}),a.jsx("div",{className:"p-2 bg-white/5 text-white/40 group-hover:bg-orange-600 group-hover:text-white rounded-xl transition-all",children:a.jsx(Hg,{size:18})})]})]},B.id)})}),i&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-gray-900 border border-white/10 rounded-[3.5rem] w-full max-w-4xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"p-8 bg-white/5 flex justify-between items-center border-b border-white/10 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-orange-600 text-white rounded-3xl shadow-lg shadow-orange-600/20",children:a.jsx(X0,{size:28})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-white uppercase tracking-tighter",children:i.name}),a.jsx("p",{className:"text-[10px] text-orange-400 font-bold uppercase tracking-widest mt-1",children:"Ajuste de Grade do Almoxarifado"})]})]}),a.jsx("button",{onClick:()=>o(null),className:"p-3 bg-white/5 text-white/40 hover:text-white hover:bg-red-500/20 rounded-2xl shadow-sm transition-all border border-white/5",children:a.jsx(Ze,{size:24})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:[a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:(i.category==="CALADO"?dx:cx).map(B=>{var z;const X=((z=i.sizes)==null?void 0:z[B])||0,P=X>0&&X<i.minPerSize,U=X===0;return a.jsxs("div",{className:`p-6 rounded-[2rem] border-2 transition-all flex flex-col items-center gap-4 ${U?"bg-white/5 border-white/5":P?"bg-amber-500/10 border-amber-500/40":"bg-white/5 border-emerald-500/40 shadow-lg"}`,children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Tamanho"}),a.jsx("p",{className:"text-3xl font-black text-white",children:B})]}),a.jsxs("div",{className:"w-full py-4 rounded-2xl text-center border shadow-inner bg-black/20 border-white/5",children:[a.jsx("p",{className:`text-2xl font-black ${U?"text-white/20":P?"text-amber-500":"text-emerald-500"}`,children:X}),a.jsx("p",{className:"text-[8px] font-bold text-white/40 uppercase",children:"Em Estoque"})]}),a.jsxs("div",{className:"flex gap-2 w-full",children:[a.jsx("button",{onClick:()=>q(i.id,B,-1),className:"flex-1 p-3 bg-red-500/10 text-red-400 hover:bg-red-500 hover:text-white rounded-xl transition-all flex justify-center border border-red-500/20",children:a.jsx(Wj,{size:18})}),a.jsx("button",{onClick:()=>q(i.id,B,1),className:"flex-1 p-3 bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500 hover:text-white rounded-xl transition-all flex justify-center border border-emerald-500/20",children:a.jsx(ot,{size:18})})]})]},B)})}),a.jsxs("div",{className:"mt-10 grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"bg-orange-950/40 border border-orange-500/20 p-8 rounded-[2.5rem] text-white flex items-center justify-between shadow-xl backdrop-blur-md",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-500/20 rounded-2xl",children:a.jsx(Nt,{className:"text-orange-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-black text-orange-300 uppercase tracking-widest",children:"Status Geral"}),a.jsx("p",{className:"text-sm font-bold uppercase text-white/90",children:"Integridade da Grade: 100%"})]})]})}),a.jsx("div",{className:"bg-white/5 border border-white/10 p-8 rounded-[2.5rem] text-white flex items-center justify-between shadow-xl backdrop-blur-md",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white/10 rounded-2xl",children:a.jsx(Vn,{className:"text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-black text-white/40 uppercase tracking-widest",children:"Previso"}),a.jsx("p",{className:"text-sm font-bold uppercase text-white/90",children:"Reposio Sugerida: 30 Dias"})]})]})})]})]}),a.jsx("div",{className:"p-8 bg-white/5 border-t border-white/10 shrink-0",children:a.jsx("button",{onClick:()=>o(null),className:"w-full py-4 bg-white/10 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-white/20 transition-all border border-white/10",children:"Concluir Ajustes"})})]})}),u&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-gray-900 border border-white/10 rounded-[2.5rem] w-full max-w-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"p-8 bg-white/5 flex justify-between items-center border-b border-white/10 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white/10 text-white rounded-2xl shadow-lg border border-white/10",children:a.jsx(X0,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Novo Uniforme"}),a.jsx("p",{className:"text-[10px] text-white/40 font-bold uppercase tracking-widest mt-1",children:"Cadastro de Pea e Grade Inicial"})]})]}),a.jsx("button",{onClick:()=>h(!1),className:"p-2 bg-white/5 text-white/40 hover:text-white hover:bg-red-500/20 rounded-xl shadow-sm transition-all border border-white/5",children:a.jsx(Ze,{size:20})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Tipo de Item"}),a.jsx("div",{className:"flex gap-2 mb-4",children:["VESTURIO","CALADO"].map(B=>a.jsx("button",{onClick:()=>x({...p,category:B,type:"",sizes:B==="CALADO"?{33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0}:{12:0,14:0,16:0,P:0,M:0,G:0,GG:0,XG:0}}),className:`flex-1 py-3 rounded-xl text-xs font-black uppercase transition-all ${p.category===B?"bg-orange-600 text-white shadow-lg":"bg-white/5 text-white/40 hover:bg-white/10 hover:text-white"}`,children:B},B))}),p.category==="VESTURIO"?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:_A.map(B=>a.jsx("button",{onClick:()=>x({...p,type:B,name:B!=="OUTROS"?B:""}),className:`px-3 py-3 rounded-xl text-[10px] font-bold uppercase border transition-all ${p.type===B?"bg-orange-500/20 border-orange-500 text-orange-400 shadow-md ring-1 ring-orange-500/20":"bg-white/5 border-white/5 text-white/40 hover:border-white/20 hover:bg-white/10 hover:text-white"}`,children:B},B))}),p.type==="OUTROS"?a.jsxs("div",{className:"space-y-1.5 animate-in fade-in slide-in-from-top-2",children:[a.jsx("label",{className:"text-[9px] font-bold text-white/40 uppercase ml-1",children:"Nome do Item (Outros)"}),a.jsx("input",{type:"text",placeholder:"Ex: BON, MEIAS, ETC.",value:p.name,onChange:B=>x({...p,name:B.target.value}),className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm text-white outline-none uppercase focus:bg-white/10 focus:border-orange-500/50 transition-all placeholder-white/20"})]}):p.type?a.jsxs("div",{className:"space-y-1.5 animate-in fade-in slide-in-from-top-2",children:[a.jsx("label",{className:"text-[9px] font-bold text-white/40 uppercase ml-1",children:"Detalhes / Modelo (Opcional)"}),a.jsx("input",{type:"text",placeholder:"Ex: INFANTIL, GOLA V, PROJETO X",value:p.details,onChange:B=>x({...p,details:B.target.value}),className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm text-white outline-none uppercase focus:bg-white/10 focus:border-orange-500/50 transition-all placeholder-white/20"}),a.jsxs("p",{className:"text-[9px] text-white/40 font-medium ml-1",children:["Nome Final: ",a.jsxs("span",{className:"text-orange-400 font-bold",children:[p.type," ",p.details]})]})]}):null]}):a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[9px] font-bold text-white/40 uppercase ml-1",children:"Nome do Calado"}),a.jsx("input",{type:"text",placeholder:"Ex: TNIS PRETO ESCOLAR",value:p.name,onChange:B=>x({...p,name:B.target.value}),className:"w-full p-4 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm text-white outline-none uppercase focus:bg-white/10 focus:border-orange-500/50 transition-all placeholder-white/20"})]})]})}),a.jsxs("div",{className:"space-y-3 px-8 pb-4",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Grade Inicial (Quantidade por Tamanho)"}),a.jsx("div",{className:"grid grid-cols-4 gap-3",children:(p.category==="CALADO"?dx:cx).map(B=>a.jsxs("div",{className:"bg-white/5 p-3 rounded-2xl border border-white/5",children:[a.jsx("label",{className:"block text-center text-[9px] font-black text-white/40 uppercase mb-1",children:B}),a.jsx("input",{type:"number",min:"0",value:p.sizes[B]||0,onChange:X=>x({...p,sizes:{...p.sizes,[B]:parseInt(X.target.value)||0}}),className:"w-full text-center bg-transparent p-2 rounded-xl font-black text-lg text-white border border-white/10 outline-none focus:border-orange-500 transition-all"})]},B))})]}),a.jsx("div",{className:"p-6 bg-white/5 border-t border-white/10 shrink-0",children:a.jsxs("button",{onClick:D,className:"w-full py-4 bg-emerald-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-emerald-700 transition-all flex items-center justify-center gap-2",children:[a.jsx(Nt,{size:18})," Confirmar Cadastro"]})})]})}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-900 to-indigo-950 p-8 rounded-[3rem] text-white flex flex-col md:flex-row items-center justify-between gap-8 shadow-2xl relative overflow-hidden print:hidden border border-white/10",children:[a.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10",children:a.jsx(ft,{size:140})}),a.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[a.jsx("div",{className:"p-4 bg-white/10 rounded-3xl backdrop-blur-md border border-white/10",children:a.jsx(LO,{size:32,className:"text-blue-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-300 text-[10px] font-black uppercase tracking-widest mb-1",children:"Auditoria Interna"}),a.jsx("h4",{className:"text-xl font-black uppercase",children:"Inventrio Blindado"}),a.jsx("p",{className:"text-blue-200/60 text-xs font-medium uppercase tracking-tight",children:"Sincronizado com os pedidos da rea do Professor"})]})]}),a.jsx("button",{className:"bg-white/10 text-white px-8 py-4 rounded-2xl font-black uppercase text-xs tracking-widest hover:bg-white/20 transition-all shadow-xl relative z-10 border border-white/10",children:"Gerar Relatrio de Baixas"})]}),v&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md animate-in fade-in duration-300 print:p-0 print:bg-white print:static print:block overflow-y-auto",children:a.jsxs("div",{className:"bg-gray-900 border border-white/10 rounded-[2.5rem] w-full max-w-4xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh] print:shadow-none print:border-none print:max-w-none print:max-h-none print:rounded-none print:overflow-visible",children:[a.jsxs("div",{className:"p-8 bg-white/5 flex justify-between items-center border-b border-white/10 shrink-0 print:hidden",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-600 text-white rounded-2xl shadow-lg shadow-blue-600/20",children:a.jsx(zt,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Termo de Responsabilidade"}),a.jsx("p",{className:"text-[10px] text-white/40 font-bold uppercase tracking-widest mt-1",children:"Gerao de Documento de Entrega"})]})]}),a.jsx("button",{onClick:()=>b(!1),className:"p-2 bg-white/5 text-white/40 hover:text-white hover:bg-red-500/20 rounded-xl shadow-sm transition-all border border-white/5",children:a.jsx(Ze,{size:20})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar print:overflow-visible print:p-0",children:[a.jsxs("div",{className:"space-y-6 print:hidden",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Nome do Aluno"}),a.jsx("input",{type:"text",value:w.studentName,onChange:B=>g({...w,studentName:B.target.value}),className:"w-full p-3 bg-white/5 border border-white/10 rounded-xl font-bold text-sm text-white outline-none focus:bg-white/10 focus:border-blue-500/50 transition-all placeholder-white/20"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Turma"}),a.jsx("input",{type:"text",value:w.studentClass,onChange:B=>g({...w,studentClass:B.target.value}),className:"w-full p-3 bg-white/5 border border-white/10 rounded-xl font-bold text-sm text-white outline-none focus:bg-white/10 focus:border-blue-500/50 transition-all placeholder-white/20"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Nome do Responsvel"}),a.jsx("input",{type:"text",value:w.guardianName,onChange:B=>g({...w,guardianName:B.target.value}),className:"w-full p-3 bg-white/5 border border-white/10 rounded-xl font-bold text-sm text-white outline-none focus:bg-white/10 focus:border-blue-500/50 transition-all placeholder-white/20"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"CPF do Responsvel"}),a.jsx("input",{type:"text",value:w.guardianCPF,onChange:B=>g({...w,guardianCPF:B.target.value}),className:"w-full p-3 bg-white/5 border border-white/10 rounded-xl font-bold text-sm text-white outline-none focus:bg-white/10 focus:border-blue-500/50 transition-all placeholder-white/20"})]})]}),a.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/5 space-y-4",children:[a.jsx("h4",{className:"text-sm font-black text-white uppercase",children:"Adicionar Itens ao Termo"}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-end",children:[a.jsxs("div",{className:"flex-1 w-full space-y-1",children:[a.jsx("label",{className:"text-[9px] font-bold text-white/40 uppercase",children:"Item"}),a.jsxs("select",{value:y.name,onChange:B=>j({...y,name:B.target.value}),className:"w-full p-2 bg-black/20 border border-white/10 rounded-lg text-sm font-medium text-white outline-none focus:border-blue-500/50",children:[a.jsx("option",{value:"",className:"text-gray-500",children:"Selecione..."}),e.map(B=>a.jsx("option",{value:B.name,className:"text-gray-900 bg-white",children:B.name},B.id))]})]}),a.jsxs("div",{className:"w-24 space-y-1",children:[a.jsx("label",{className:"text-[9px] font-bold text-white/40 uppercase",children:"Tamanho"}),a.jsxs("select",{value:y.size,onChange:B=>j({...y,size:B.target.value}),className:"w-full p-2 bg-black/20 border border-white/10 rounded-lg text-sm font-medium text-white outline-none focus:border-blue-500/50",children:[a.jsx("option",{value:"",className:"text-gray-500",children:"..."}),ax.map(B=>a.jsx("option",{value:B,className:"text-gray-900 bg-white",children:B},B))]})]}),a.jsxs("div",{className:"w-20 space-y-1",children:[a.jsx("label",{className:"text-[9px] font-bold text-white/40 uppercase",children:"Qtd"}),a.jsx("input",{type:"number",min:"1",value:y.quantity,onChange:B=>j({...y,quantity:parseInt(B.target.value)||1}),className:"w-full p-2 bg-black/20 border border-white/10 rounded-lg text-sm font-medium text-white outline-none text-center focus:border-blue-500/50"})]}),a.jsx("button",{onClick:T,className:"px-4 py-2 bg-white/10 text-white rounded-lg text-xs font-bold uppercase hover:bg-white/20 transition-all border border-white/10",children:"Adicionar"})]}),S.length>0&&a.jsx("div",{className:"mt-4 bg-black/20 rounded-xl border border-white/5 overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm text-left text-white",children:[a.jsx("thead",{className:"bg-white/5 text-white/40 text-[10px] uppercase font-black",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2",children:"Item"}),a.jsx("th",{className:"px-4 py-2 text-center",children:"Tam"}),a.jsx("th",{className:"px-4 py-2 text-center",children:"Qtd"}),a.jsx("th",{className:"px-4 py-2 text-right",children:"Ao"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5",children:S.map((B,X)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 font-medium",children:B.name}),a.jsx("td",{className:"px-4 py-2 text-center",children:B.size}),a.jsx("td",{className:"px-4 py-2 text-center",children:B.quantity}),a.jsx("td",{className:"px-4 py-2 text-right",children:a.jsx("button",{onClick:()=>k(S.filter((P,U)=>U!==X)),className:"text-red-400 hover:text-red-300 font-bold text-xs uppercase",children:"Remover"})})]},X))})]})})]})]}),a.jsxs("div",{className:"border-[3px] border-dashed border-white/10 mt-8 rounded-xl print:border-none print:mt-0 print:p-0 overflow-hidden",children:[a.jsx("div",{className:"bg-white/5 p-4 border-b border-white/10 print:hidden text-center text-xs font-bold text-white/40 uppercase tracking-widest",children:"Pr-visualizao do Documento"}),a.jsxs("div",{className:"p-8 max-w-[210mm] mx-auto bg-white text-black text-sm",children:[a.jsx(y_e,{}),a.jsxs("div",{className:"text-center mb-8 border-b-2 border-black pb-4",children:[a.jsx("h1",{className:"text-xl font-bold uppercase mb-2",children:"Termo de Responsabilidade e Recebimento de Uniforme Escolar"}),a.jsx("p",{className:"text-sm",children:"Controle de Entrega e Devoluo"})]}),a.jsxs("div",{className:"mb-6 text-justify leading-relaxed",children:[a.jsxs("p",{className:"mb-4",children:["Eu, ",a.jsx("strong",{children:w.guardianName||"__________________________________________"}),", portador(a) do CPF n ",a.jsx("strong",{children:w.guardianCPF||"_____________________"}),", responsvel legal pelo(a) aluno(a) ",a.jsx("strong",{children:w.studentName||"__________________________________________"}),", matriculado(a) na turma ",a.jsx("strong",{children:w.studentClass||"__________"}),", declaro ter recebido da Unidade Escolar os seguintes itens de uniforme:"]}),a.jsxs("table",{className:"w-full mb-6 border-collapse border border-black text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100",children:[a.jsx("th",{className:"border border-black px-2 py-1 text-left",children:"Item Descrio"}),a.jsx("th",{className:"border border-black px-2 py-1 text-center w-20",children:"Tamanho"}),a.jsx("th",{className:"border border-black px-2 py-1 text-center w-20",children:"Quant."})]})}),a.jsxs("tbody",{children:[S.map((B,X)=>a.jsxs("tr",{children:[a.jsx("td",{className:"border border-black px-2 py-1",children:B.name}),a.jsx("td",{className:"border border-black px-2 py-1 text-center",children:B.size}),a.jsx("td",{className:"border border-black px-2 py-1 text-center",children:B.quantity})]},X)),S.length===0&&a.jsx("tr",{children:a.jsx("td",{className:"border border-black px-2 py-1 text-center italic",colSpan:3,children:"Nenhum item listado."})})]})]}),a.jsx("h3",{className:"font-bold uppercase text-sm mb-2",children:"Compromisso de Uso e Conservao:"}),a.jsxs("ol",{className:"list-decimal pl-5 space-y-2 mb-6",children:[a.jsx("li",{children:"Comprometo-me a zelar pela limpeza e conservao das peas recebidas, realizando a lavagem e passadoria conforme as instrues de etiqueta."}),a.jsxs("li",{children:["Declaro estar ciente da obrigatoriedade do uso do uniforme escolar ",a.jsx("strong",{children:"diariamente"})," e de forma completa durante o perodo de aulas e em atividades oficiais da escola."]}),a.jsx("li",{children:"Comprometo-me a no descaracterizar o uniforme (cortes, pinturas, customizaes ou alteraes na modelagem)."}),a.jsx("li",{children:"Em caso de dano, perda ou roubo, comprometo-me a comunicar imediatamente  direo da escola. Estou ciente de que a reposio por mau uso ou negligncia poder ser de minha inteira responsabilidade."}),a.jsx("li",{children:"Ao final do ano letivo ou em caso de transferncia, comprometo-me a devolver os itens, se assim for solicitado pela gesto escolar."})]})]}),a.jsxs("div",{className:"mt-16 flex flex-col items-center gap-12",children:[a.jsxs("div",{className:"text-center w-full",children:[a.jsx("p",{className:"mb-8",children:"_________________________, ______ de ____________________ de 20______."}),a.jsxs("div",{className:"border-t border-black w-2/3 mx-auto pt-2",children:[a.jsx("p",{className:"font-bold",children:w.guardianName||"Assinatura do Responsvel"}),a.jsx("p",{className:"text-xs",children:"Responsvel Legal"})]})]}),a.jsxs("div",{className:"border-t border-black w-2/3 mx-auto pt-2 text-center",children:[a.jsx("p",{className:"font-bold",children:"Coordenao / Almoxarifado"}),a.jsx("p",{className:"text-xs",children:"Visto da Escola"})]})]})]})]})]}),a.jsxs("div",{className:"p-6 bg-white/5 border-t border-white/10 shrink-0 print:hidden flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>b(!1),className:"px-6 py-3 bg-transparent border border-white/10 text-white/60 rounded-xl font-bold text-xs uppercase hover:bg-white/10 hover:text-white transition-all",children:"Cancelar"}),a.jsx("button",{onClick:M,disabled:_,className:`px-6 py-3 bg-blue-600 text-white rounded-xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-blue-700 transition-all flex items-center gap-2 ${_?"opacity-50 cursor-not-allowed":""}`,children:_?"Salvando...":a.jsxs(a.Fragment,{children:[a.jsx(Sa,{size:18})," Confirmar Entrega e Imprimir"]})})]})]})})]})},w_e=()=>{const{addToast:t}=jn(),[e,r]=R.useState([]),[n,s]=R.useState(""),[i,o]=R.useState(!1),[l,d]=R.useState(null),[u,h]=R.useState("ENTRY"),[p,x]=R.useState(""),[v,b]=R.useState([]),[w,g]=R.useState([]),[S,k]=R.useState(""),[y,j]=R.useState(""),[T,_]=R.useState(""),[O,M]=R.useState(""),[D,F]=R.useState({year:"2024",bimester:"1 BIMESTRE",audience:"ESTUDANTE",targetClass:"",responsible:""}),q=async()=>{try{const{data:me,error:re}=await ae.from("almoxarifado_items").select("*").eq("category","KIT");if(re)throw re;const{data:ge,error:Me}=await ae.from("almoxarifado_movements").select("*").in("item_id",(me==null?void 0:me.map(J=>J.id))||[]);if(Me)throw Me;me&&r(me.map(J=>{const Ae=(ge==null?void 0:ge.filter(we=>we.item_id===J.id))||[],ne=Ae.filter(we=>we.type==="ENTRADA").reduce((we,Ee)=>we+Ee.quantity,0),ve=Ae.filter(we=>we.type==="SAIDA").reduce((we,Ee)=>we+Ee.quantity,0);return{id:J.id,name:J.name,category:J.description||"ANOS FINAIS",current:J.quantity,totalEntries:ne,totalExits:ve}}))}catch(me){console.error("Erro ao buscar kits:",me)}};R.useEffect(()=>{q(),L();const me=ae.channel("almoxarifado_kits_changes").on("postgres_changes",{event:"*",schema:"public",table:"almoxarifado_items"},q).subscribe();return()=>{me.unsubscribe()}},[]);const L=async()=>{try{const{data:me,error:re}=await ae.from("classrooms").select("id, name").order("name");me&&b(me)}catch(me){console.error("Erro ao buscar turmas:",me)}},B=async me=>{if(!me){g([]);return}try{const{data:re,error:ge}=await ae.from("enrollments").select(`
               student_id,
               students (id, name, registration_number)
            `).eq("classroom_id",me).is("end_date",null);if(re){const Me=re.map(J=>J.students).filter(J=>J!==null).sort((J,Ae)=>J.name.localeCompare(Ae.name));g(Me)}}catch(re){console.error("Erro ao buscar alunos:",re)}},X=me=>{const re=me.target.value;k(re),j(""),_(""),M(""),B(re)},P=me=>{const re=me.target.value;j(re);const ge=w.find(Me=>Me.id===re);ge&&(_(ge.name),M(ge.registration_number),F(Me=>({...Me,responsible:ge.name})))},U=(me,re,ge,Me,J)=>{const Ae=window.open("","","width=800,height=600");if(!Ae)return;const ne=new Date().toLocaleDateString("pt-BR"),ve=new Date().toLocaleTimeString("pt-BR");Ae.document.write(`
         <html>
            <head>
               <title>Comprovante de Entrega - Kit Escolar</title>
               <style>
                  body { font-family: 'Arial', sans-serif; padding: 40px; }
                  .header { text-align: center; margin-bottom: 40px; border-bottom: 2px solid #000; padding-bottom: 20px; }
                  .logo { font-size: 24px; font-weight: bold; text-transform: uppercase; }
                  .sublogo { font-size: 14px; margin-top: 5px; }
                  .title { text-align: center; font-size: 20px; font-weight: bold; margin: 30px 0; text-transform: uppercase; text-decoration: underline; }
                  .content { font-size: 16px; line-height: 1.6; margin-bottom: 50px; }
                  .field { margin-bottom: 10px; }
                  .label { font-weight: bold; }
                  .signature-area { margin-top: 100px; display: flex; justify-content: space-between; }
                  .signature-line { border-top: 1px solid #000; width: 45%; text-align: center; padding-top: 10px; font-size: 12px; }
                  .footer { margin-top: 50px; font-size: 10px; text-align: center; color: #666; }
                  @media print {
                     button { display: none; }
                  }
               </style>
            </head>
            <body>
               <div class="header">
                  <div class="logo">Escola Municipal Andr Maggi</div>
                  <div class="sublogo">Sistema de Gesto Escolar Integrada</div>
               </div>

               <div class="title">Comprovante de Entrega de Material Escolar</div>

               <div class="content">
                  <p>Declaro que recebi da Unidade Escolar os itens descritos abaixo:</p>
                  
                  <div class="field"><span class="label">Aluno(a):</span> ${ge}</div>
                  <div class="field"><span class="label">Matrcula:</span> ${Me||"N/A"}</div>
                  <div class="field"><span class="label">Turma:</span> ${J}</div>
                  <hr style="margin: 20px 0; border: 0; border-top: 1px dashed #ccc;">
                  <div class="field"><span class="label">Item Recebido:</span> ${me}</div>
                  <div class="field"><span class="label">Quantidade:</span> ${re} unidade(s)</div>
                  <div class="field"><span class="label">Data da Entrega:</span> ${ne} s ${ve}</div>
               </div>

               <div class="signature-area">
                  <div class="signature-line">
                     Responsvel pela Entrega (Almoxarifado)
                  </div>
                  <div class="signature-line">
                     ${ge}<br>
                     (Assinatura do Aluno/Responsvel)
                  </div>
               </div>

               <div class="footer">
                  Documento gerado eletronicamente em ${ne} ${ve}.
               </div>

               <script>
                  window.onload = function() { window.print(); }
               <\/script>
            </body>
         </html>
      `),Ae.document.close()},z=async()=>{var re,ge;if(!l||!p)return;const me=Number(p);if(u==="EXIT"&&l.current<me){t("Saldo insuficiente para esta sada!","error");return}if(u==="EXIT"&&(!S||!y)){t("Para sada de kits,  obrigatrio selecionar a Turma e o Aluno.","warning");return}try{let Me="";if(u==="ENTRY")Me=`ENTRADA KIT: ${D.audience} | ${D.year} - ${D.bimester} | Turma: ${D.targetClass}`;else{const ve=((re=v.find(we=>we.id===S))==null?void 0:re.name)||"N/A";Me=JSON.stringify({action:"SAIDA_KIT",studentName:T,studentCode:O,className:ve,date:new Date().toISOString()})}const J=u==="ENTRY"?l.current+me:l.current-me,{error:Ae}=await ae.from("almoxarifado_items").update({quantity:J}).eq("id",l.id);if(Ae)throw Ae;const{error:ne}=await ae.from("almoxarifado_movements").insert([{item_id:l.id,type:u==="ENTRY"?"ENTRADA":"SAIDA",quantity:me,requester:u==="EXIT"?D.responsible.toUpperCase():"ALMOXARIFE (KITS)",observations:Me}]);if(ne)throw ne;if(await q(),u==="EXIT"){const ve=((ge=v.find(we=>we.id===S))==null?void 0:ge.name)||"N/A";U(l.name,Number(p),T,O,ve)}o(!1),x(""),k(""),j(""),_(""),M(""),F({year:"2024",bimester:"1 BIMESTRE",audience:"ESTUDANTE",targetClass:"",responsible:""}),d(null),t("Movimentao registrada com sucesso!","success")}catch(Me){console.error("Erro ao registrar movimentao:",Me),t("Erro ao registrar movimentao.","error")}},V=R.useMemo(()=>e.filter(me=>me.name.toLowerCase().includes(n.toLowerCase())),[e,n]),[Y,se]=R.useState(!1),[K,G]=R.useState(""),[W,Q]=R.useState("ANOS FINAIS"),[ee,he]=R.useState(""),je=async me=>{if(me.preventDefault(),!(!K||ee===""))try{const{data:re,error:ge}=await ae.from("almoxarifado_items").insert([{name:K.toUpperCase(),category:"KIT",description:W,quantity:Number(ee),min_quantity:10}]).select().single();if(ge)throw ge;if(Number(ee)>0){const{error:Me}=await ae.from("almoxarifado_movements").insert([{item_id:re.id,type:"ENTRADA",quantity:Number(ee),requester:"ALMOXARIFE (SISTEMA)",observations:"Estoque Inicial - Cadastro de Kit"}]);if(Me)throw Me}await q(),se(!1),G(""),he(""),t("Kit cadastrado com sucesso!","success")}catch(re){console.error("Erro ao cadastrar kit:",re),t("Erro ao cadastrar kit.","error")}};return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-white/10 shadow-lg backdrop-blur-md flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-orange-600 text-white rounded-3xl shadow-lg shadow-orange-600/20",children:a.jsx(MA,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Kits de Material Escolar"}),a.jsx("p",{className:"text-white/40 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Lanamento de Chegada (DRE) e Distribuio (6 ao 9 Ano)"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[a.jsxs("div",{className:"relative flex-1 md:w-96",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/20",size:18}),a.jsx("input",{type:"text",placeholder:"Buscar Kit...",value:n,onChange:me=>s(me.target.value),className:"w-full pl-12 pr-6 py-4 bg-black/20 border border-white/5 rounded-2xl font-bold text-sm text-white outline-none focus:bg-black/40 focus:border-orange-500/30 transition-all placeholder-white/20"})]}),a.jsx("button",{onClick:()=>se(!0),className:"p-4 bg-white/10 text-white rounded-2xl hover:bg-white/20 transition-all shadow-lg border border-white/5",title:"Novo Kit",children:a.jsx(ot,{size:20})})]})]}),V.length===0?a.jsxs("div",{className:"text-center py-24 opacity-50",children:[a.jsx(MA,{size:48,className:"mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-gray-400 font-bold uppercase tracking-widest",children:"Nenhum kit encontrado"}),a.jsx("button",{onClick:()=>se(!0),className:"mt-4 text-orange-600 font-black text-xs uppercase hover:underline",children:"Cadastrar Primeiro Kit"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:V.map(me=>a.jsxs("div",{className:"bg-white/5 p-8 rounded-[3rem] border border-white/10 shadow-lg hover:bg-white/10 transition-all flex flex-col justify-between group backdrop-blur-md",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest",children:me.category}),a.jsx("h4",{className:"text-lg font-black text-white uppercase leading-tight",children:me.name})]}),a.jsx("div",{className:"p-3 bg-white/5 text-white/40 rounded-2xl group-hover:bg-orange-500/20 group-hover:text-orange-400 transition-colors border border-white/5",children:a.jsx(Us,{size:24})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-black/20 p-4 rounded-2xl border border-white/5 text-center",children:[a.jsx("p",{className:"text-[8px] font-black text-white/40 uppercase mb-1",children:"Entradas"}),a.jsx("p",{className:"text-xl font-black text-emerald-400",children:me.totalEntries})]}),a.jsxs("div",{className:"bg-black/20 p-4 rounded-2xl border border-white/5 text-center",children:[a.jsx("p",{className:"text-[8px] font-black text-white/40 uppercase mb-1",children:"Sadas"}),a.jsx("p",{className:"text-xl font-black text-orange-400",children:me.totalExits})]}),a.jsxs("div",{className:"bg-orange-600 p-4 rounded-2xl shadow-lg shadow-orange-600/20 text-center",children:[a.jsx("p",{className:"text-[8px] font-black text-orange-200 uppercase mb-1",children:"Saldo Atual"}),a.jsx("p",{className:"text-2xl font-black text-white",children:me.current})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>{d(me),h("ENTRY"),o(!0)},className:"flex-1 py-3 bg-emerald-500/10 text-emerald-400 rounded-xl text-[10px] font-black uppercase flex items-center justify-center gap-2 hover:bg-emerald-500/20 transition-all border border-emerald-500/20",children:[a.jsx(DA,{size:14})," Registrar Chegada"]}),a.jsxs("button",{onClick:()=>{d(me),h("EXIT"),o(!0)},className:"flex-1 py-3 bg-red-500/10 text-red-400 rounded-xl text-[10px] font-black uppercase flex items-center justify-center gap-2 hover:bg-red-500/20 transition-all border border-red-500/20",children:[a.jsx(OA,{size:14})," Lanar Sada"]})]})]},me.id))}),a.jsxs("div",{className:"bg-white/5 p-8 rounded-[3rem] border border-white/10 shadow-lg backdrop-blur-md flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-emerald-500/10 text-emerald-400 rounded-2xl border border-emerald-500/20",children:a.jsx(ft,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest leading-none mb-1",children:"Rastreabilidade Integrada"}),a.jsx("h4",{className:"text-sm font-black text-white uppercase",children:"Todo movimento gera Log de Auditoria Permanente"})]})]}),a.jsxs("button",{className:"px-6 py-3 bg-white/10 text-white rounded-xl text-[10px] font-black uppercase flex items-center gap-2 hover:bg-white/20 transition-all border border-white/5",children:[a.jsx(_t,{size:16})," Ver Histrico de Lotes"]})]}),Y&&a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-gray-900 rounded-[3.5rem] w-full max-w-md shadow-2xl border border-white/10 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-8 flex justify-between items-center border-b border-white/10 bg-white/5",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-2xl shadow-lg shadow-orange-600/20",children:a.jsx(ot,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Novo Kit Escolar"}),a.jsx("p",{className:"text-[10px] font-bold text-white/40 uppercase tracking-widest mt-1",children:"Cadastro de Item"})]})]}),a.jsx("button",{onClick:()=>se(!1),className:"p-2 text-white/40 hover:text-white transition-colors",children:a.jsx(Ze,{size:24})})]}),a.jsxs("form",{onSubmit:je,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Nome do Kit"}),a.jsx("input",{autoFocus:!0,required:!0,type:"text",placeholder:"Ex: KIT ALUNO 6 ANO A",value:K,onChange:me=>G(me.target.value),className:"w-full p-4 bg-black/20 border border-white/10 rounded-2xl font-bold text-sm text-white outline-none uppercase focus:border-orange-500/50 transition-all placeholder-white/20"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Categoria"}),a.jsxs("select",{required:!0,value:W,onChange:me=>Q(me.target.value),className:"w-full p-4 bg-black/20 border border-white/10 rounded-2xl font-bold text-sm text-white outline-none uppercase focus:border-orange-500/50",children:[a.jsx("option",{value:"ANOS FINAIS",className:"bg-gray-900",children:"ANOS FINAIS (ALUNO)"}),a.jsx("option",{value:"DOCENTE",className:"bg-gray-900",children:"DOCENTE (PROFESSOR)"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Estoque Inicial"}),a.jsx("input",{required:!0,type:"number",min:"0",placeholder:"0",value:ee,onChange:me=>he(me.target.value===""?"":Number(me.target.value)),className:"w-full p-4 bg-black/20 border border-white/10 rounded-2xl font-bold text-sm text-white outline-none focus:border-orange-500/50 placeholder-white/20"})]}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx("button",{type:"submit",className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-orange-700 transition-all",children:"Cadastrar Kit"}),a.jsx("button",{type:"button",onClick:()=>se(!1),className:"px-6 py-4 bg-white/5 text-white/60 rounded-2xl font-black uppercase text-xs tracking-widest hover:bg-white/10 transition-all border border-white/5",children:"Cancelar"})]})]})]})}),i&&l&&a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-gray-900 rounded-[3.5rem] w-full max-w-md shadow-2xl border border-white/10 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:`p-8 flex justify-between items-center border-b shrink-0 ${u==="ENTRY"?"bg-emerald-500/10 border-emerald-500/20":"bg-red-500/10 border-red-500/20"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 text-white rounded-2xl shadow-lg ${u==="ENTRY"?"bg-emerald-600":"bg-red-600"}`,children:u==="ENTRY"?a.jsx(DA,{size:24}):a.jsx(OA,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:u==="ENTRY"?"Entrada de Kits":"Sada de Kits"}),a.jsx("p",{className:`text-[10px] font-bold uppercase tracking-widest mt-1 ${u==="ENTRY"?"text-emerald-400":"text-red-400"}`,children:l.name})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 text-white/40 hover:text-white transition-colors",children:a.jsx(Ze,{size:24})})]}),a.jsxs("form",{onSubmit:z,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Quantidade de Kits"}),a.jsx("input",{autoFocus:!0,required:!0,type:"number",min:"1",placeholder:"0",value:p,onChange:me=>x(me.target.value===""?"":Number(me.target.value)),className:"w-full p-6 bg-black/20 border border-white/10 rounded-3xl font-black text-4xl text-center text-white outline-none focus:bg-black/40 focus:border-orange-500/30 transition-all placeholder-white/20"})]}),u==="EXIT"&&a.jsxs("div",{className:"space-y-4 pt-4 border-t border-white/10 animate-in slide-in-from-right-4 duration-500",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(mr,{size:16,className:"text-indigo-400"}),a.jsx("span",{className:"text-sm font-black text-white uppercase",children:"Vnculo com Aluno"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-white/40 uppercase mb-1",children:"Selecione a Turma"}),a.jsxs("select",{value:S,onChange:X,className:"w-full p-4 bg-black/20 rounded-2xl font-bold text-sm text-white border border-white/10 outline-none focus:border-indigo-500/50 uppercase",children:[a.jsx("option",{value:"",className:"bg-gray-900",children:"Selecione..."}),v.map(me=>a.jsx("option",{value:me.id,className:"bg-gray-900",children:me.name},me.id))]})]}),S&&a.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[a.jsx("label",{className:"block text-xs font-bold text-white/40 uppercase mb-1",children:"Selecione o Aluno"}),a.jsxs("select",{value:y,onChange:P,className:"w-full p-4 bg-black/20 rounded-2xl font-bold text-sm text-white border border-white/10 outline-none focus:border-indigo-500/50 uppercase",children:[a.jsx("option",{value:"",className:"bg-gray-900",children:"Selecione o aluno..."}),w.length===0&&a.jsx("option",{disabled:!0,className:"bg-gray-900",children:"Nenhum aluno nesta turma"}),w.map(me=>a.jsxs("option",{value:me.id,className:"bg-gray-900",children:[me.name," (",me.registration_number||"S/M",")"]},me.id))]})]}),y&&a.jsxs("div",{className:"p-4 bg-indigo-500/10 rounded-2xl flex items-start gap-3 border border-indigo-500/20",children:[a.jsx(Sa,{size:20,className:"text-indigo-400 mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-indigo-300 uppercase",children:"Comprovante Automtico"}),a.jsx("p",{className:"text-[10px] text-indigo-400/80 mt-1 font-bold",children:"Ao confirmar a sada, ser gerado um arquivo PDF para impresso e assinatura do aluno/responsvel."})]})]})]}),u==="ENTRY"?a.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-2 duration-300",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Ano Letivo"}),a.jsxs("select",{required:!0,value:D.year,onChange:me=>F({...D,year:me.target.value}),className:"w-full p-4 bg-black/20 border border-white/10 rounded-2xl font-bold text-sm text-white outline-none uppercase focus:border-emerald-500/30",children:[a.jsx("option",{value:"2024",className:"bg-gray-900",children:"2024"}),a.jsx("option",{value:"2025",className:"bg-gray-900",children:"2025"}),a.jsx("option",{value:"2026",className:"bg-gray-900",children:"2026"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Bimestre"}),a.jsxs("select",{required:!0,value:D.bimester,onChange:me=>F({...D,bimester:me.target.value}),className:"w-full p-4 bg-black/20 border border-white/10 rounded-2xl font-bold text-sm text-white outline-none uppercase focus:border-emerald-500/30",children:[a.jsx("option",{value:"1 BIMESTRE",className:"bg-gray-900",children:"1 BIMESTRE"}),a.jsx("option",{value:"2 BIMESTRE",className:"bg-gray-900",children:"2 BIMESTRE"}),a.jsx("option",{value:"3 BIMESTRE",className:"bg-gray-900",children:"3 BIMESTRE"}),a.jsx("option",{value:"4 BIMESTRE",className:"bg-gray-900",children:"4 BIMESTRE"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Pblico"}),a.jsxs("select",{required:!0,value:D.audience,onChange:me=>F({...D,audience:me.target.value}),className:"w-full p-4 bg-black/20 border border-white/10 rounded-2xl font-bold text-sm text-white outline-none uppercase focus:border-emerald-500/30",children:[a.jsx("option",{value:"ESTUDANTE",className:"bg-gray-900",children:"ESTUDANTE"}),a.jsx("option",{value:"DOCENTE",className:"bg-gray-900",children:"DOCENTE"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Turma"}),a.jsx("input",{type:"text",required:!0,placeholder:"Ex: 6 A",value:D.targetClass,onChange:me=>F({...D,targetClass:me.target.value}),className:"w-full p-4 bg-black/20 border border-white/10 rounded-2xl font-bold text-sm text-white outline-none uppercase focus:border-emerald-500/30 placeholder-white/20"})]})]})]}):null,a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsxs("button",{type:"submit",className:`flex-1 py-4 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl transition-all ${u==="ENTRY"?"bg-emerald-600 hover:bg-emerald-700":"bg-red-600 hover:bg-red-700"}`,children:["Confirmar ",u==="ENTRY"?"Entrada":"Sada"]}),a.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-6 py-4 bg-white/5 text-white/60 rounded-2xl font-black uppercase text-xs tracking-widest hover:bg-white/10 transition-all border border-white/5",children:"Cancelar"})]})]})]})})]})},A_e=()=>{const{addToast:t}=jn(),[e,r]=R.useState([]),[n,s]=R.useState(""),[i]=R.useState("ESTRUTURADO"),[o,l]=R.useState("TODOS"),[d,u]=R.useState(!1),[h,p]=R.useState(!1),[x,v]=R.useState(null),[b,w]=R.useState("ENTRY"),[g,S]=R.useState(""),[k,y]=R.useState(""),[j,T]=R.useState([]),[_,O]=R.useState({}),[M,D]=R.useState({bimestre:"1 BIMESTRE",ano:"6 ANO",tipo:"ESTUDANTE",categoria:"MULTIDISCIPLINAR",initialEntry:"",initialExit:"",observations:""}),F=async()=>{try{const{data:z,error:V}=await ae.from("almoxarifado_items").select("*").eq("category","ESTRUTURADO");if(V)throw V;const{data:Y,error:se}=await ae.from("almoxarifado_movements").select("*").in("item_id",(z==null?void 0:z.map(K=>K.id))||[]);if(se)throw se;r(z.map(K=>{let G={};try{G=JSON.parse(K.description||"{}")}catch{G={grade:"N/A",subCategory:"GERAL",type:"ALUNO"}}const W=(Y==null?void 0:Y.filter(he=>he.item_id===K.id))||[],Q=W.filter(he=>he.type==="ENTRADA").reduce((he,je)=>he+je.quantity,0),ee=W.filter(he=>he.type==="SAIDA").reduce((he,je)=>he+je.quantity,0);return{id:K.id,grade:G.grade||"N/A",category:G.subCategory||"MULTIDISCIPLINAR",type:G.type||"ESTUDANTE",current:K.quantity,totalEntries:Q,totalExits:ee,description:G.description||"",bimestre:G.bimestre||"N/A",targetAno:G.grade||"N/A",bookType:G.type||"ESTUDANTE",subCategory:G.subCategory||"MULTIDISCIPLINAR"}}))}catch(z){console.error("Erro ao buscar material estruturado:",z)}},q=async()=>{const{data:z}=await ae.from("pedagogical_projects").select("id, name");z&&T(z)},L=async()=>{try{const{data:z}=await ae.from("classrooms").select("id, name"),{data:V}=await ae.from("enrollments").select("classroom_id");if(z&&V){const Y={"6 ANO":{students:0,classes:0},"7 ANO":{students:0,classes:0},"8 ANO":{students:0,classes:0},"9 ANO":{students:0,classes:0},"MULTI-SRIE":{students:0,classes:0}};z.forEach(se=>{const K=V.filter(W=>W.classroom_id===se.id).length;let G="MULTI-SRIE";se.name.includes("6")?G="6 ANO":se.name.includes("7")?G="7 ANO":se.name.includes("8")?G="8 ANO":se.name.includes("9")&&(G="9 ANO"),Y[G].students+=K,Y[G].classes+=1}),O(Y)}}catch(z){console.error("Erro ao buscar contagem de alunos:",z)}};R.useEffect(()=>{F(),q(),L();const z=ae.channel("almoxarifado_structured_changes").on("postgres_changes",{event:"*",schema:"public",table:"almoxarifado_items"},F).on("postgres_changes",{event:"*",schema:"public",table:"enrollments"},L).subscribe();return()=>{z.unsubscribe()}},[]);const B=async z=>{z.preventDefault();try{const V=`CADERNO ${M.tipo} - ${M.ano} - ${M.bimestre}`,Y=Number(M.initialEntry)||0,se=Number(M.initialExit)||0,K=Y-se,{data:G,error:W}=await ae.from("almoxarifado_items").insert([{name:V,category:"ESTRUTURADO",description:JSON.stringify({bimestre:M.bimestre,grade:M.ano,type:M.tipo,subCategory:M.categoria,observations:M.observations}),quantity:K}]).select().single();if(W)throw W;const Q=[];Y>0&&G&&Q.push({item_id:G.id,type:"ENTRADA",quantity:Y,observation:"CARGA INICIAL DE ENTRADA"}),se>0&&G&&Q.push({item_id:G.id,type:"SAIDA",quantity:se,observation:"CARGA INICIAL DE SADA"}),Q.length>0&&await ae.from("almoxarifado_movements").insert(Q),await F(),p(!1),D({bimestre:"1 BIMESTRE",ano:"6 ANO",tipo:"ESTUDANTE",categoria:"MULTIDISCIPLINAR",initialEntry:"",initialExit:"",observations:""}),alert("Material cadastrado com sucesso!")}catch(V){console.error("Erro ao cadastrar material:",V),alert("Erro ao cadastrar material. Verifique os campos.")}},X=async z=>{if(z.preventDefault(),!x||!g)return;const V=Number(g);if(b==="EXIT"&&x.current<V){t("Saldo insuficiente no estoque!","error");return}try{const Y=b==="ENTRY"?x.current+V:x.current-V,{error:se}=await ae.from("almoxarifado_items").update({quantity:Y}).eq("id",x.id);if(se)throw se;const{error:K}=await ae.from("almoxarifado_movements").insert([{item_id:x.id,type:b==="ENTRY"?"ENTRADA":"SAIDA",quantity:V,requester:"ALMOXARIFE (LIVROS)",observations:k||`${b==="ENTRY"?"Entrada":"Distribuio"} de Livros`}]);if(K)throw K;await F(),u(!1),S(""),y(""),v(null),t("Movimentao registrada!","success")}catch(Y){console.error("Erro:",Y)}},P=async z=>{if(window.confirm("Deseja remover este item permanentemente?"))try{await ae.from("almoxarifado_movements").delete().eq("item_id",z);const{error:V}=await ae.from("almoxarifado_items").delete().eq("id",z);if(V)throw V;await F()}catch(V){console.error("Erro:",V)}},U=R.useMemo(()=>e.filter(z=>{if(i==="PROJETOS"&&!z.isProject||i==="ESTRUTURADO"&&z.isProject)return!1;const V=(z.grade||"").includes(n)||(z.category||"").includes(n.toUpperCase())||(z.bookTitle||"").toLowerCase().includes(n.toLowerCase()),Y=i==="PROJETOS"?!0:o==="TODOS"||z.category===o;return V&&Y}),[e,n,o,i]);return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-white/10 shadow-lg backdrop-blur-md space-y-6",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-orange-600 text-white rounded-3xl shadow-lg shadow-orange-600/20",children:a.jsx(ux,{size:32})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"Material Estruturado"}),a.jsx("p",{className:"text-white/40 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Gesto de remessas pedaggicas SEDUC"})]})]})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/20",size:18}),a.jsx("input",{type:"text",placeholder:"Buscar por ano, ttulo ou categoria...",value:n,onChange:z=>s(z.target.value),className:"w-full pl-12 pr-6 py-4 bg-black/20 border border-white/5 rounded-2xl font-bold text-sm text-white outline-none focus:bg-black/40 focus:border-orange-500/30 transition-all placeholder-white/20"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"flex bg-black/20 p-1 rounded-2xl border border-white/5",children:["TODOS","MULTIDISCIPLINAR","ARTE","INGLES"].map(z=>a.jsx("button",{onClick:()=>l(z),className:`px-4 py-3 rounded-xl text-[8px] font-black uppercase transition-all ${o===z?"bg-orange-600 text-white shadow-lg":"text-white/40 hover:text-white"}`,children:z==="INGLES"?"INGLS":z},z))}),a.jsxs("button",{onClick:()=>p(!0),className:"px-6 py-3 bg-white/10 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest flex items-center gap-2 hover:bg-white/20 transition-all shadow-lg border border-white/5",children:[a.jsx(qn,{size:18})," Novo Registro"]})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-[2.5rem] border border-white/10 shadow-lg backdrop-blur-md overflow-hidden overflow-x-auto",children:[a.jsxs("table",{className:"w-full text-left border-collapse min-w-[800px]",children:[a.jsx("thead",{className:"bg-white/5 border-b border-white/10",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Informaes do Ttulo"}),a.jsx("th",{className:"px-6 py-6 text-[10px] font-black text-white/40 uppercase tracking-widest text-center",children:"Bimestre"}),a.jsx("th",{className:"px-6 py-6 text-[10px] font-black text-white/40 uppercase tracking-widest text-center",children:"Ano/Srie"}),a.jsx("th",{className:"px-6 py-6 text-[10px] font-black text-white/40 uppercase tracking-widest text-center",children:"Pblico"}),a.jsx("th",{className:"px-6 py-6 text-[10px] font-black text-white/40 uppercase tracking-widest text-center",children:"Demanda"}),a.jsx("th",{className:"px-6 py-6 text-[10px] font-black text-white/40 uppercase tracking-widest text-center",children:"Saldo"}),a.jsx("th",{className:"px-6 py-6 text-[10px] font-black text-white/40 uppercase tracking-widest text-center",children:"Suficincia"}),a.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-white/40 uppercase tracking-widest text-right",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5",children:U.map(z=>{const V=_[z.targetAno]||{students:0,classes:0},Y=z.bookType==="PROFESSOR"?V.classes:V.students;let se="emerald",K="Adequado",G=a.jsx(ft,{size:10});return z.current<Y?(se="red",K="Dficit",G=a.jsx(Ze,{size:10})):z.current>Y&&(se="amber",K="Excesso",G=a.jsx(Xt,{size:10})),a.jsxs("tr",{className:"group hover:bg-white/5 transition-colors",children:[a.jsx("td",{className:"px-8 py-5",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:`px-2 py-0.5 rounded-md text-[8px] font-black uppercase ${z.subCategory==="ARTE"?"bg-rose-500/10 text-rose-400 border border-rose-500/20":z.subCategory==="INGLES"?"bg-teal-500/10 text-teal-400 border border-teal-500/20":"bg-indigo-500/10 text-indigo-400 border border-indigo-500/20"}`,children:z.subCategory||"CADERNO"}),a.jsx("h4",{className:"text-sm font-black text-white uppercase",children:z.subCategory==="MULTIDISCIPLINAR"?"Kit Multidisc.":z.subCategory==="ARTE"?"Livro de Arte":z.subCategory==="INGLES"?"Livro de Ingls":"Material"})]}),a.jsx("p",{className:"text-[10px] text-white/40 font-bold uppercase truncate max-w-[200px]",children:z.description||"REMESSA SEDUC"})]})}),a.jsx("td",{className:"px-6 py-5 text-center",children:a.jsx("span",{className:"text-xs font-black text-white/80 uppercase tracking-tighter",children:z.bimestre})}),a.jsx("td",{className:"px-6 py-5 text-center",children:a.jsx("span",{className:"text-xs font-black text-white/80 uppercase tracking-tighter",children:z.targetAno})}),a.jsx("td",{className:"px-6 py-5 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-lg text-[10px] font-black uppercase tracking-tighter ${z.bookType==="PROFESSOR"?"bg-purple-500/10 text-purple-400 border border-purple-500/20":"bg-blue-500/10 text-blue-400 border border-blue-500/20"}`,children:z.bookType})}),a.jsx("td",{className:"px-6 py-5 text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{className:"text-xl font-black text-white",children:Y}),a.jsx("p",{className:"text-[8px] text-white/40 font-black uppercase tracking-tighter",children:z.bookType==="PROFESSOR"?"TURMAS":"ALUNOS"})]})}),a.jsx("td",{className:"px-6 py-5 text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{className:`text-xl font-black ${z.current<Y?"text-red-400":z.current>Y?"text-amber-400":"text-emerald-400"}`,children:z.current}),a.jsx("p",{className:"text-[8px] text-white/40 font-black uppercase tracking-tighter",children:"EXEMPLARES"})]})}),a.jsx("td",{className:"px-6 py-5",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"w-24 h-1.5 bg-black/20 rounded-full overflow-hidden border border-white/5",children:a.jsx("div",{className:`h-full ${se==="emerald"?"bg-emerald-500":se==="red"?"bg-red-500":"bg-amber-500"}`,style:{width:`${Math.min(100,z.current/(Y||1)*100)}%`}})}),a.jsxs("span",{className:`flex items-center gap-1 px-2 py-0.5 rounded-md text-[8px] font-black uppercase ${se==="emerald"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":se==="red"?"bg-red-500/10 text-red-400 border border-red-500/20":"bg-amber-500/10 text-amber-400 border border-amber-500/20"}`,children:[G,K]})]})}),a.jsx("td",{className:"px-8 py-5 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>{v(z),w("ENTRY"),u(!0)},className:"p-3 bg-white/5 border border-white/10 text-white/60 hover:text-emerald-400 hover:border-emerald-500/30 rounded-xl transition-all shadow-sm",title:"Registrar Entrada",children:a.jsx(DA,{size:18})}),a.jsx("button",{onClick:()=>{v(z),w("EXIT"),u(!0)},className:"p-3 bg-white/5 border border-white/10 text-white/60 hover:text-orange-400 hover:border-orange-500/30 rounded-xl transition-all shadow-sm",title:"Lanar Baixa/Sada",children:a.jsx(OA,{size:18})}),a.jsx("button",{onClick:()=>P(z.id),className:"p-3 bg-white/5 border border-white/10 text-white/60 hover:text-red-400 hover:border-red-500/30 rounded-xl transition-all shadow-sm",title:"Excluir Permanente",children:a.jsx(Lt,{size:18})})]})})]},z.id)})})]}),U.length===0&&a.jsxs("div",{className:"p-20 text-center",children:[a.jsx(ia,{size:48,className:"mx-auto mb-4 text-white/10"}),a.jsx("p",{className:"text-white/20 font-black uppercase text-xs tracking-widest",children:"Nenhum ttulo encontrado com este filtro"})]})]}),a.jsxs("div",{className:"bg-white/5 p-8 rounded-[3rem] border border-white/10 shadow-lg backdrop-blur-md flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-indigo-500/10 text-indigo-400 rounded-2xl border border-indigo-500/20",children:a.jsx(ft,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest leading-none mb-1",children:"Modelo Multidisciplinar SEDUC-MT"}),a.jsx("h4",{className:"text-sm font-black text-white uppercase",children:"Livros centralizados e Cadernos de Arte integrados"})]})]}),a.jsxs("button",{className:"px-6 py-3 bg-white/10 text-white rounded-xl text-[10px] font-black uppercase flex items-center gap-2 hover:bg-white/20 transition-all border border-white/5",children:[a.jsx(_t,{size:16})," Ver Log de Remessas"]})]}),d&&x&&a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-gray-900 rounded-[3.5rem] w-full max-w-md shadow-2xl border border-white/10 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:`p-8 flex justify-between items-center border-b shrink-0 ${b==="ENTRY"?"bg-emerald-500/10 border-emerald-500/20":"bg-orange-500/10 border-orange-500/20"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 text-white rounded-2xl shadow-lg ${b==="ENTRY"?"bg-emerald-600":"bg-orange-600"}`,children:b==="ENTRY"?a.jsx(ot,{size:24}):a.jsx(Wj,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:b==="ENTRY"?"Entrada de Volumes":"Distribuio / Sada"}),a.jsxs("p",{className:`text-[10px] font-bold uppercase tracking-widest mt-1 ${b==="ENTRY"?"text-emerald-400":"text-orange-400"}`,children:[x.bimestre,"  ",x.targetAno,"  ",x.bookType]})]})]}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 text-white/40 hover:text-white transition-colors",children:a.jsx(Ze,{size:24})})]}),a.jsxs("form",{onSubmit:X,className:"p-10 space-y-8",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Quantidade de Exemplares"}),a.jsx("input",{autoFocus:!0,required:!0,type:"number",placeholder:"0",value:g,onChange:z=>S(z.target.value===""?"":Number(z.target.value)),className:"w-full p-6 bg-black/20 border border-white/10 rounded-3xl font-black text-4xl text-center text-white outline-none focus:bg-black/40 focus:border-orange-500/30 transition-all placeholder-white/20"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Observaes / Destino"}),a.jsx("input",{type:"text",placeholder:"EX: REMESSA RECEBIDA OU ENTREGA PARA TURMA B",value:k,onChange:z=>y(z.target.value),className:"w-full p-4 bg-black/20 border border-white/10 rounded-2xl font-bold text-sm text-white outline-none focus:bg-black/40 transition-all shadow-sm placeholder-white/20"})]}),a.jsx("div",{className:"flex gap-4",children:a.jsx("button",{type:"submit",className:`flex-1 py-5 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl transition-all ${b==="ENTRY"?"bg-emerald-600 hover:bg-emerald-700":"bg-orange-600 hover:bg-orange-700"}`,children:"Confirmar Lanamento"})})]})]})}),h&&a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-gray-900 rounded-[3.5rem] w-full max-w-xl shadow-2xl border border-white/10 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-8 bg-white/5 flex justify-between items-center border-b border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-2xl shadow-lg shadow-orange-600/20",children:a.jsx(qn,{size:24})}),a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Novo Registro de Material"})]}),a.jsx("button",{onClick:()=>p(!1),className:"p-2 text-white/40 hover:text-white transition-colors",children:a.jsx(Ze,{size:24})})]}),a.jsxs("form",{onSubmit:B,className:"p-10 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Bimestre"}),a.jsxs("select",{required:!0,value:M.bimestre,onChange:z=>D({...M,bimestre:z.target.value}),className:"w-full p-4 bg-black/20 border border-white/10 rounded-2xl font-black text-xs uppercase text-white outline-none focus:border-orange-500/50",children:[a.jsx("option",{className:"bg-gray-900",children:"1 BIMESTRE"}),a.jsx("option",{className:"bg-gray-900",children:"2 BIMESTRE"}),a.jsx("option",{className:"bg-gray-900",children:"3 BIMESTRE"}),a.jsx("option",{className:"bg-gray-900",children:"4 BIMESTRE"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Ano / Srie"}),a.jsxs("select",{required:!0,value:M.ano,onChange:z=>D({...M,ano:z.target.value}),className:"w-full p-4 bg-black/20 border border-white/10 rounded-2xl font-black text-xs uppercase text-white outline-none focus:border-orange-500/50",children:[a.jsx("option",{className:"bg-gray-900",children:"6 ANO"}),a.jsx("option",{className:"bg-gray-900",children:"7 ANO"}),a.jsx("option",{className:"bg-gray-900",children:"8 ANO"}),a.jsx("option",{className:"bg-gray-900",children:"9 ANO"}),a.jsx("option",{className:"bg-gray-900",children:"MULTI-SRIE"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Pblico Alvo (Tipo)"}),a.jsxs("select",{required:!0,value:M.tipo,onChange:z=>D({...M,tipo:z.target.value}),className:"w-full p-4 bg-black/20 border border-white/10 rounded-2xl font-black text-xs uppercase text-white outline-none focus:border-orange-500/50",children:[a.jsx("option",{value:"ESTUDANTE",className:"bg-gray-900",children:"LIVRO DO ESTUDANTE"}),a.jsx("option",{value:"PROFESSOR",className:"bg-gray-900",children:"LIVRO DO PROFESSOR"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Categoria"}),a.jsxs("select",{required:!0,value:M.categoria,onChange:z=>D({...M,categoria:z.target.value}),className:"w-full p-4 bg-black/20 border border-white/10 rounded-2xl font-black text-xs uppercase text-white outline-none focus:border-orange-500/50",children:[a.jsx("option",{value:"MULTIDISCIPLINAR",className:"bg-gray-900",children:"MULTIDISCIPLINAR"}),a.jsx("option",{value:"ARTE",className:"bg-gray-900",children:"ARTE"}),a.jsx("option",{value:"INGLES",className:"bg-gray-900",children:"INGLS"})]})]})]}),(()=>{const z=_[M.ano]||{students:0,classes:0},V=M.tipo==="PROFESSOR"?z.classes:z.students,se=(Number(M.initialEntry)||0)-(Number(M.initialExit)||0)-V;return V===0?null:a.jsxs("div",{className:"p-4 bg-blue-500/10 rounded-2xl border border-blue-500/20 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest",children:"Demanda Estimada"}),a.jsxs("p",{className:"text-lg font-black text-blue-300",children:[V," ",M.tipo==="PROFESSOR"?"TURMAS":"ALUNOS"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Situao Prevista"}),a.jsxs("div",{className:`text-lg font-black flex items-center gap-1 justify-end ${se<0?"text-red-400":se>0?"text-amber-400":"text-emerald-400"}`,children:[se===0?a.jsx(Nt,{size:16}):se<0?a.jsx(Ta,{size:16}):a.jsx(Xt,{size:16}),se===0?"IDEAL":se>0?`+${se} (Excesso)`:`${se} (Falta)`]})]})]})})(),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5 p-6 bg-emerald-500/10 rounded-[2rem] border border-emerald-500/20",children:[a.jsx("label",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest ml-1",children:"Total Entradas"}),a.jsx("input",{type:"number",required:!0,min:"0",placeholder:"0",value:M.initialEntry,onChange:z=>D({...M,initialEntry:z.target.value===""?"":Number(z.target.value)}),className:"w-full bg-transparent font-black text-4xl text-center outline-none text-white"})]}),a.jsxs("div",{className:"space-y-1.5 p-6 bg-orange-500/10 rounded-[2rem] border border-orange-500/20",children:[a.jsx("label",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest ml-1",children:"Total Sadas"}),a.jsx("input",{type:"number",required:!0,min:"0",placeholder:"0",value:M.initialExit,onChange:z=>D({...M,initialExit:z.target.value===""?"":Number(z.target.value)}),className:"w-full bg-transparent font-black text-4xl text-center outline-none text-white"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Observaes Adicionais"}),a.jsx("textarea",{placeholder:"EX: REMESSA ESPECIAL OU DETALHES DO VOLUME...",value:M.observations,onChange:z=>D({...M,observations:z.target.value}),className:"w-full p-4 bg-black/20 border border-white/10 rounded-2xl font-bold text-sm text-white outline-none focus:bg-black/40 transition-all shadow-sm h-24 resize-none placeholder-white/20"})]}),a.jsxs("button",{type:"submit",className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-2 hover:bg-orange-700 transition-all",children:[a.jsx(qn,{size:20})," Concluir Cadastro"]})]})]})})]})},E_e=()=>{const{addToast:t}=jn(),[e,r]=R.useState([]),[n,s]=R.useState(""),[i,o]=R.useState(!1),[l,d]=R.useState({name:"",type:"ESTUDANTE",project:"",targetClass:"",initialEntry:"",initialExit:"",observations:""}),u=async()=>{try{const{data:x,error:v}=await ae.from("almoxarifado_items").select("*").eq("category","OUTROS_LIVROS").order("created_at",{ascending:!1});if(v)throw v;const{data:b,error:w}=await ae.from("almoxarifado_movements").select("*").in("item_id",(x==null?void 0:x.map(g=>g.id))||[]);if(w)throw w;r(x.map(g=>{let S={};try{S=JSON.parse(g.description||"{}")}catch{S={}}const k=(b==null?void 0:b.filter(T=>T.item_id===g.id))||[],y=k.filter(T=>T.type==="ENTRADA").reduce((T,_)=>T+_.quantity,0),j=k.filter(T=>T.type==="SAIDA").reduce((T,_)=>T+_.quantity,0);return{id:g.id,name:g.name,quantity:g.quantity,description:g.description,project:S.project||"N/A",targetClass:S.targetClass||"N/A",type:S.type||"ESTUDANTE",totalEntries:y,totalExits:j}}))}catch(x){console.error("Erro ao buscar livros:",x)}};R.useEffect(()=>{u();const x=ae.channel("almoxarifado_other_books_changes").on("postgres_changes",{event:"*",schema:"public",table:"almoxarifado_items"},u).subscribe();return()=>{x.unsubscribe()}},[]);const h=async x=>{x.preventDefault();try{const v=Number(l.initialEntry)||0,b=Number(l.initialExit)||0,w=v-b,{data:g,error:S}=await ae.from("almoxarifado_items").insert([{name:l.name.toUpperCase(),category:"OUTROS_LIVROS",description:JSON.stringify({project:l.project,targetClass:l.targetClass,type:l.type,observations:l.observations}),quantity:w}]).select().single();if(S)throw S;const k=[];v>0&&g&&k.push({item_id:g.id,type:"ENTRADA",quantity:v,observation:"CARGA INICIAL (OUTROS LIVROS)"}),b>0&&g&&k.push({item_id:g.id,type:"SAIDA",quantity:b,observation:"DISTRIBUIO INICIAL (OUTROS LIVROS)"}),k.length>0&&await ae.from("almoxarifado_movements").insert(k),o(!1),d({name:"",type:"ESTUDANTE",project:"",targetClass:"",initialEntry:"",initialExit:"",observations:""}),t("Livro cadastrado com sucesso!","success"),u()}catch(v){console.error("Erro ao cadastrar:",v),t("Erro ao cadastrar livro.","error")}},p=e.filter(x=>{var v,b;return x.name.toLowerCase().includes(n.toLowerCase())||((v=x.project)==null?void 0:v.toLowerCase().includes(n.toLowerCase()))||((b=x.targetClass)==null?void 0:b.toLowerCase().includes(n.toLowerCase()))});return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-white/10 shadow-lg backdrop-blur-md space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-orange-600 text-white rounded-3xl shadow-lg shadow-orange-600/20",children:a.jsx(Gg,{size:32})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"Outros Livros e Projetos"}),a.jsx("p",{className:"text-white/40 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Gesto de materiais complementares e projetos especficos"})]})]}),a.jsxs("button",{onClick:()=>o(!0),className:"px-6 py-3 bg-white/10 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest flex items-center gap-2 hover:bg-white/20 transition-all shadow-lg border border-white/5",children:[a.jsx(qn,{size:18})," Novo Item"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/20",size:18}),a.jsx("input",{type:"text",placeholder:"Buscar por ttulo, projeto ou categoria...",value:n,onChange:x=>s(x.target.value),className:"w-full pl-12 pr-6 py-4 bg-black/20 border border-white/5 rounded-2xl font-bold text-sm text-white outline-none focus:bg-black/40 focus:border-orange-500/30 transition-all placeholder-white/20"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(x=>a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-gray-100 shadow-sm hover:shadow-xl transition-all group",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("span",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider ${x.type==="PROFESSOR"?"bg-indigo-50 text-indigo-600":"bg-pink-50 text-pink-600"}`,children:x.type}),a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:"text-3xl font-black text-gray-900",children:x.quantity}),a.jsx("span",{className:"text-[10px] text-gray-400 font-black uppercase",children:"Saldo Atual"})]})]}),a.jsx("h3",{className:"text-lg font-black text-gray-800 uppercase leading-snug mb-2 line-clamp-2 min-h-[3.5rem]",children:x.name}),a.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-50 rounded-xl text-blue-500",children:a.jsx(ac,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase",children:"Projeto"}),a.jsx("p",{className:"text-xs font-bold text-gray-700 uppercase",children:x.project})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-emerald-50 rounded-xl text-emerald-500",children:a.jsx(mr,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase",children:"Turma / Destino"}),a.jsx("p",{className:"text-xs font-bold text-gray-700 uppercase",children:x.targetClass})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-6",children:[a.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase",children:"Entradas"}),a.jsx("p",{className:"text-sm font-black text-emerald-600",children:x.totalEntries})]}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl text-center",children:[a.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase",children:"Sadas"}),a.jsx("p",{className:"text-sm font-black text-red-600",children:x.totalExits})]})]})]},x.id))}),i&&a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-gray-950/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3rem] w-full max-w-xl shadow-2xl border border-white/20 overflow-hidden flex flex-col max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-8 bg-purple-50 flex justify-between items-center border-b border-purple-100",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-purple-600 text-white rounded-2xl shadow-lg",children:a.jsx(ia,{size:24})}),a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tighter",children:"Novo Livro / Projeto"})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 text-gray-400 hover:text-gray-900 transition-colors",children:a.jsx(Ze,{size:24})})]}),a.jsxs("form",{onSubmit:h,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nome do Livro ou Material"}),a.jsx("input",{type:"text",required:!0,placeholder:"EX: LIVRO LEITURA EM FAMLIA - VOL 1",value:l.name,onChange:x=>d({...l,name:x.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all uppercase"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Pblico Alvo"}),a.jsxs("select",{required:!0,value:l.type,onChange:x=>d({...l,type:x.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none uppercase",children:[a.jsx("option",{value:"ESTUDANTE",children:"ESTUDANTE"}),a.jsx("option",{value:"PROFESSOR",children:"PROFESSOR"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turma / Destino"}),a.jsx("input",{type:"text",required:!0,placeholder:"EX: 6 A, BIBLIOTECA...",value:l.targetClass,onChange:x=>d({...l,targetClass:x.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none uppercase"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Projeto Vinculado"}),a.jsx("input",{type:"text",required:!0,placeholder:"EX: PROJETO DE LEITURA, REFORO...",value:l.project,onChange:x=>d({...l,project:x.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none uppercase"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-50",children:[a.jsxs("div",{className:"space-y-1.5 p-4 bg-emerald-50/50 rounded-2xl border border-emerald-100/50",children:[a.jsx("label",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest ml-1",children:"Qtd. Chegou (Entrada)"}),a.jsx("input",{type:"number",required:!0,min:"0",placeholder:"0",value:l.initialEntry,onChange:x=>d({...l,initialEntry:x.target.value===""?"":Number(x.target.value)}),className:"w-full bg-transparent font-black text-3xl text-center outline-none text-emerald-700"})]}),a.jsxs("div",{className:"space-y-1.5 p-4 bg-orange-50/50 rounded-2xl border border-orange-100/50",children:[a.jsx("label",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest ml-1",children:"Qtd. Saiu (Sada)"}),a.jsx("input",{type:"number",required:!0,min:"0",placeholder:"0",value:l.initialExit,onChange:x=>d({...l,initialExit:x.target.value===""?"":Number(x.target.value)}),className:"w-full bg-transparent font-black text-3xl text-center outline-none text-orange-700"})]})]}),a.jsxs("button",{type:"submit",className:"w-full py-5 bg-purple-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-2 hover:bg-purple-700 transition-all mt-6",children:[a.jsx(qn,{size:20})," Cadastrar Livro"]})]})]})})]})},j_e=()=>{const{addToast:t}=jn(),[e,r]=R.useState([]),[n,s]=R.useState("TODOS"),[i,o]=R.useState(null),[l,d]=R.useState(""),[u,h]=R.useState(!1),[p,x]=R.useState({teacher_name:"",equipment_type:"FONES DE OUVIDO",quantity:1,return_time:new Date().toISOString().slice(0,16)}),v=async()=>{try{const{data:k,error:y}=await ae.from("bookings").select("*").eq("resource_type","EQUIPMENT").order("created_at",{ascending:!1});if(y)throw y;if(!k||k.length===0){const j=[{resource_id:"fone-01",resource_type:"EQUIPMENT",user_name:"PROF. CARLOS SILVA",purpose:"9 ANO A",date:new Date().toISOString().split("T")[0],shift:"MATUTINO",status:"SOLICITADO",description:"PEDRO, MARIA, JOAO, ANA"},{resource_id:"fone-02",resource_type:"EQUIPMENT",user_name:"PROF. ANA SOUZA",purpose:"8 ANO B",date:new Date().toISOString().split("T")[0],shift:"VESPERTINO",status:"RETIRADO",description:"CARLOS, BEATRIZ, LUCAS"},{resource_id:"fone-03",resource_type:"EQUIPMENT",user_name:"PROF. MARCOS",purpose:"7 ANO C",date:new Date().toISOString().split("T")[0],shift:"MATUTINO",status:"SOLICITADO",description:""}],{error:T}=await ae.from("bookings").insert(j);T||v();return}r(k.map(j=>({id:j.id,equipmentId:j.resource_id,equipmentName:j.resource_id.startsWith("fone-")?`KIT FONE ${j.resource_id.split("-")[1]}`:j.resource_id,teacherName:j.user_name,className:j.purpose,date:j.date,shift:j.shift,status:j.status,studentList:j.description,returnTimestamp:j.return_timestamp?new Date(j.return_timestamp).getTime():void 0})))}catch(k){console.error("Erro ao buscar agendamentos:",k)}};R.useEffect(()=>{v();const k=ae.channel("equipment_bookings_changes").on("postgres_changes",{event:"*",schema:"public",table:"bookings"},v).subscribe();return()=>{k.unsubscribe()}},[]);const b=async(k,y)=>{try{const j={status:y};y==="DEVOLVIDO"&&(j.return_timestamp=new Date().toISOString());const{error:T}=await ae.from("bookings").update(j).eq("id",k);if(T)throw T;await v(),t(`Status do Kit atualizado para: ${y}`,"success")}catch(j){console.error("Erro ao atualizar status:",j),t("Erro ao atualizar status.","error")}},w=async()=>{if(i)try{let k={};try{k=JSON.parse(l)}catch{}const{error:y}=await ae.from("bookings").update({description:l}).eq("id",i.id);if(y)throw y;await v(),o(null),t("Vnculo individual de fones atualizado!","success")}catch(k){console.error("Erro ao atualizar lista de alunos:",k),t("Erro ao atualizar lista de alunos.","error")}},g=async k=>{k.preventDefault();try{const{data:y,error:j}=await ae.from("bookings").insert({resource_id:p.equipment_type.toLowerCase().replace(/ /g,"-"),resource_type:"EQUIPMENT",user_name:p.teacher_name,purpose:"NOVA SOLICITACAO",date:new Date().toISOString().split("T")[0],shift:"MATUTINO",status:"SOLICITADO",description:"",return_timestamp:p.return_time});if(j)throw j;await v(),h(!1),x({teacher_name:"",equipment_type:"FONES DE OUVIDO",quantity:1,return_time:new Date().toISOString().slice(0,16)}),t("Solicitao de emprstimo criada com sucesso!","success")}catch(y){console.error("Erro ao criar solicitao:",y),t("Erro ao criar solicitao.","error")}},S=R.useMemo(()=>n==="TODOS"?e:e.filter(k=>k.status===n),[e,n]);return R.useMemo(()=>({pending:e.filter(k=>k.status==="SOLICITADO").length,inUse:e.filter(k=>k.status==="RETIRADO").length,today:e.filter(k=>k.date===new Date().toISOString().split("T")[0]).length}),[e]),a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white p-8 space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white/5 p-8 rounded-[2.5rem] border border-white/10 shadow-lg backdrop-blur-md space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-orange-600 text-white rounded-3xl shadow-lg shadow-orange-600/20",children:a.jsx(px,{size:32})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"Gesto de Equipamentos"}),a.jsx("p",{className:"text-white/40 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Controle de Fones e Recursos Audiovisuais"})]})]}),a.jsxs("button",{onClick:()=>h(!0),className:"px-6 py-3 bg-white/10 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest flex items-center gap-2 hover:bg-white/20 transition-all shadow-lg border border-white/5",children:[a.jsx(qn,{size:18})," Novo Emprstimo"]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-6 bg-black/20 rounded-[2rem] border border-white/5 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-500/10 text-orange-400 rounded-2xl border border-orange-500/20",children:a.jsx(rr,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Pendentes"}),a.jsx("p",{className:"text-2xl font-black text-white",children:e.filter(k=>k.status==="SOLICITADO").length})]})]}),a.jsxs("div",{className:"p-6 bg-black/20 rounded-[2rem] border border-white/5 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-emerald-500/10 text-emerald-400 rounded-2xl border border-emerald-500/20",children:a.jsx(Nt,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Em Uso"}),a.jsx("p",{className:"text-2xl font-black text-white",children:e.filter(k=>k.status==="EM_USO").length})]})]}),a.jsxs("div",{className:"p-6 bg-black/20 rounded-[2rem] border border-white/5 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-500/10 text-blue-400 rounded-2xl border border-blue-500/20",children:a.jsx(kr,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Hoje"}),a.jsx("p",{className:"text-2xl font-black text-white",children:e.filter(k=>new Date(k.created_at).toDateString()===new Date().toDateString()).length})]})]})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 bg-white/5 p-6 rounded-[2.5rem] border border-white/10 shadow-lg backdrop-blur-md",children:[a.jsx("div",{className:"flex bg-black/20 p-1.5 rounded-2xl overflow-x-auto border border-white/5",children:["SOLICITADO","EM_USO","DEVOLVIDO","TODOS"].map(k=>a.jsx("button",{onClick:()=>s(k),className:`px-6 py-2.5 rounded-xl text-[9px] font-black uppercase transition-all whitespace-nowrap ${n===k?"bg-orange-600 text-white shadow-lg":"text-white/40 hover:text-white/70"}`,children:k==="SOLICITADO"?"Solicitados":k==="EM_USO"?"Em Uso":k==="DEVOLVIDO"?"Devolvidos":"Ver Todos"},k))}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ft,{className:"text-emerald-500",size:20}),a.jsx("span",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest leading-none",children:"Controle Patrimonial Ativo"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.length>0?S.map(k=>a.jsxs("div",{className:"bg-white/5 rounded-[2.5rem] border border-white/10 p-6 flex flex-col justify-between hover:border-orange-500/30 transition-all group relative backdrop-blur-md",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("div",{className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest border ${k.status==="SOLICITADO"?"bg-orange-500/10 text-orange-400 border-orange-500/20":k.status==="EM_USO"?"bg-indigo-500/10 text-indigo-400 border-indigo-500/20":"bg-emerald-500/10 text-emerald-400 border-emerald-500/20"}`,children:k.status.replace("_"," ")}),a.jsx("span",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:new Date(k.created_at).toLocaleDateString("pt-BR")})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-black text-white uppercase leading-tight",children:k.teacher_name}),a.jsxs("p",{className:"text-[10px] font-bold text-white/40 uppercase tracking-widest mt-1",children:[k.equipment_type,"  ",k.quantity," Unidades"]})]}),a.jsx("div",{className:"p-4 bg-black/20 rounded-2xl border border-white/5 space-y-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"Devoluo Prevista"}),a.jsx("span",{className:"text-xs font-black text-white uppercase",children:new Date(k.return_time).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[k.status==="SOLICITADO"&&a.jsxs("button",{onClick:()=>b(k.id,"EM_USO"),className:"col-span-2 py-3 bg-indigo-500/10 border border-indigo-500/20 text-indigo-400 rounded-xl font-black uppercase text-[10px] tracking-widest hover:bg-indigo-500 hover:text-white transition-all flex items-center justify-center gap-2",children:[a.jsx($H,{size:16})," Iniciar Uso"]}),k.status==="EM_USO"&&a.jsxs("button",{onClick:()=>b(k.id,"DEVOLVIDO"),className:"col-span-2 py-3 bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 rounded-xl font-black uppercase text-[10px] tracking-widest hover:bg-emerald-500 hover:text-white transition-all flex items-center justify-center gap-2",children:[a.jsx(Nt,{size:16})," Finalizar / Devolver"]}),(k.status==="SOLICITADO"||k.status==="EM_USO")&&a.jsxs("button",{onClick:()=>b(k.id,"RECUSADO"),className:"col-span-2 py-3 bg-red-500/10 border border-red-500/20 text-red-400 rounded-xl font-black uppercase text-[10px] tracking-widest hover:bg-red-500 hover:text-white transition-all flex items-center justify-center gap-2",children:[a.jsx(df,{size:16})," Recusar / Cancelar"]})]})]},k.id)):a.jsxs("div",{className:"py-32 text-center bg-white/5 rounded-[3rem] border-2 border-dashed border-white/10 flex flex-col items-center justify-center text-white/30 col-span-full",children:[a.jsx(_t,{size:48,className:"mb-4 opacity-20"}),a.jsx("p",{className:"text-white/40 font-black uppercase text-xs tracking-widest",children:"Sem movimentaes para este filtro"})]})}),a.jsx("div",{className:"bg-orange-500/10 p-8 rounded-[3rem] border border-orange-500/20 flex flex-col md:flex-row items-center justify-between gap-6 backdrop-blur-md",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white/10 rounded-2xl shadow-sm text-orange-400",children:a.jsx(Xt,{size:24})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-black text-white uppercase",children:"Aviso de Auditoria"}),a.jsx("p",{className:"text-xs text-orange-200 font-medium",children:"Todos os emprstimos de kits eletrnicos so monitorados pela DRE e devem ser devolvidos no mesmo turno."})]})]})}),i&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-gray-900 rounded-[3.5rem] w-full max-w-lg shadow-2xl border border-white/10 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-8 bg-white/5 border-b border-white/10 flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-orange-600 text-white rounded-3xl shadow-lg",children:a.jsx(mr,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Vnculo de Alunos"}),a.jsxs("p",{className:"text-[10px] text-orange-400 font-bold uppercase tracking-widest mt-1",children:[i.equipmentName,"  ",i.className]})]})]}),a.jsx("button",{onClick:()=>o(null),className:"p-2 text-white/40 hover:text-white transition-colors",children:a.jsx(Ze,{size:24})})]}),a.jsx("div",{className:"p-10 space-y-6 overflow-y-auto max-h-[60vh] custom-scrollbar",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Array.from({length:30}).map((k,y)=>{const j=y+1;let T={};try{T=JSON.parse(l)}catch{}return a.jsxs("div",{className:"flex items-center gap-3 bg-black/20 p-3 rounded-2xl border border-white/10 focus-within:ring-2 focus-within:ring-orange-500/20 transition-all",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-500/10 text-orange-400 rounded-xl flex items-center justify-center font-black text-sm shrink-0 border border-orange-500/20",children:j<10?`0${j}`:j}),a.jsx("input",{type:"text",placeholder:"Nome do Aluno...",value:T[j]||"",onChange:_=>{const O={...T,[j]:_.target.value.toUpperCase()};d(JSON.stringify(O))},className:"flex-1 bg-transparent font-bold text-xs outline-none uppercase placeholder:text-white/20 text-white"})]},j)})})}),a.jsxs("div",{className:"p-10 border-t border-white/10 bg-black/20 flex flex-col gap-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:w,className:"flex-1 py-5 bg-orange-600 text-white rounded-3xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-orange-700 transition-all",children:"Confirmar Mapeamento"}),a.jsx("button",{onClick:()=>o(null),className:"px-8 py-5 bg-white/10 text-white/40 border border-white/10 rounded-3xl font-black uppercase text-xs tracking-widest hover:bg-white/20 transition-all",children:"Cancelar"})]}),a.jsx("p",{className:"text-[9px] text-white/40 text-center font-medium italic",children:"O mapeamento individual ajuda a identificar rapidamente o responsvel por cada item do KIT."})]})]})}),u&&a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-gray-900 rounded-[3.5rem] w-full max-w-lg shadow-2xl border border-white/10 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-8 bg-white/5 flex justify-between items-center border-b border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-2xl shadow-lg shadow-orange-600/20",children:a.jsx(qn,{size:24})}),a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Novo Emprstimo"})]}),a.jsx("button",{onClick:()=>h(!1),className:"p-2 text-white/40 hover:text-white transition-colors",children:a.jsx(Ze,{size:24})})]}),a.jsxs("form",{onSubmit:g,className:"p-10 space-y-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Professor Responsvel"}),a.jsx("input",{required:!0,type:"text",value:p.teacher_name,onChange:k=>x({...p,teacher_name:k.target.value}),className:"w-full p-4 bg-black/20 border border-white/10 rounded-2xl font-bold text-sm text-white outline-none focus:bg-black/40 focus:border-orange-500/50 transition-all placeholder-white/20",placeholder:"Nome do professor..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Equipamento"}),a.jsxs("select",{value:p.equipment_type,onChange:k=>x({...p,equipment_type:k.target.value}),className:"w-full p-4 bg-black/20 border border-white/10 rounded-2xl font-black text-xs uppercase text-white outline-none focus:border-orange-500/50",children:[a.jsx("option",{className:"bg-gray-900",children:"FONES DE OUVIDO"}),a.jsx("option",{className:"bg-gray-900",children:"TABLETS"}),a.jsx("option",{className:"bg-gray-900",children:"CHROMEBOOKS"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Quantidade"}),a.jsx("input",{required:!0,type:"number",min:"1",value:p.quantity,onChange:k=>x({...p,quantity:Number(k.target.value)}),className:"w-full p-4 bg-black/20 border border-white/10 rounded-2xl font-black text-sm text-white outline-none focus:border-orange-500/50"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest ml-1",children:"Horrio de Devoluo"}),a.jsx("input",{required:!0,type:"datetime-local",value:p.return_time,onChange:k=>x({...p,return_time:k.target.value}),className:"w-full p-4 bg-black/20 border border-white/10 rounded-2xl font-black text-sm text-white outline-none focus:border-orange-500/50 [color-scheme:dark]"})]}),a.jsxs("button",{type:"submit",className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-2 hover:bg-orange-700 transition-all",children:[a.jsx(Nt,{size:20})," Registrar Solicitao"]})]})]})})]})},T_e=({onExit:t})=>{const[e,r]=R.useState("inventory"),[n,s]=R.useState(!1);R.useEffect(()=>{s(localStorage.getItem("system_shield_lock")==="true")},[]);const i=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(l=>{console.error(`Erro ao tentar ativar modo tela cheia: ${l.message}`)})},o=[{id:"requests",label:"Gesto de Pedidos",icon:rl},{id:"equipment_loans",label:"Emprstimos T.I.",icon:px},{id:"inventory",label:"Materiais Pedaggicos",icon:ac},{id:"structured",label:"Material Estruturado",icon:ux},{id:"kits",label:"Kits Escolares",icon:MA},{id:"other_books",label:"Outros Livros",icon:ia},{id:"uniforms",label:"Controle de Uniformes",icon:X0},{id:"history",label:"Relatrios de Uso",icon:_t}];return a.jsxs("div",{className:"min-h-screen bg-gray-900 font-sans relative overflow-hidden text-white",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center opacity-10 fixed"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-orange-950 to-black fixed opacity-90"}),a.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-orange-600/20 rounded-full blur-[120px] animate-[pulse_8s_ease-in-out_infinite] fixed"}),a.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-amber-600/20 rounded-full blur-[120px] animate-[pulse_10s_ease-in-out_infinite] fixed"})]}),a.jsxs("div",{className:"relative z-10 flex h-screen",children:[a.jsxs("aside",{className:"w-64 bg-white/5 backdrop-blur-xl border-r border-white/10 flex flex-col no-print",children:[a.jsx("div",{className:"p-6",children:a.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx("span",{className:"bg-gradient-to-br from-orange-500 to-amber-600 p-2 rounded-xl shadow-lg shadow-orange-500/20",children:""}),"Almoxarifado"]})}),a.jsx("nav",{className:"flex-1 mt-6 px-4 space-y-2 overflow-y-auto custom-scrollbar",children:o.map(l=>a.jsxs("button",{onClick:()=>r(l.id),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${e===l.id?"bg-orange-600 text-white shadow-[0_0_20px_rgba(249,115,22,0.3)] border border-orange-500/30":"text-white/60 hover:bg-white/10 hover:text-white"}`,children:[a.jsx(l.icon,{size:18}),l.label]},l.id))}),a.jsxs("div",{className:"p-6 border-t border-white/10 space-y-3",children:[a.jsxs("button",{onClick:t,className:"w-full flex items-center gap-2 px-4 py-3 bg-white/5 hover:bg-white/10 border border-white/5 hover:text-white rounded-xl text-xs font-black uppercase tracking-widest transition-all text-white/60",children:[a.jsx(cr,{size:16})," Voltar ao Hub"]}),a.jsxs("div",{className:"bg-orange-900/40 p-4 rounded-2xl border border-orange-500/20 backdrop-blur-sm",children:[a.jsxs("p",{className:"text-[10px] text-orange-300 font-black uppercase tracking-widest mb-1.5 flex items-center gap-1.5",children:[a.jsx(ft,{size:10})," Estoque Seguro"]}),a.jsx("div",{className:"text-xs font-black uppercase tracking-tight text-white/80",children:"Logstica Escolar"})]})]})]}),a.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"h-20 bg-transparent border-b border-white/10 flex items-center justify-between px-10 shrink-0 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-white/5 text-orange-400 rounded-lg border border-white/10",children:e==="structured"?a.jsx(ux,{size:20}):e==="equipment_loans"?a.jsx(px,{size:20}):a.jsx(ac,{size:20})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-black text-white/80 uppercase tracking-tight leading-none",children:e==="structured"?"Material Estruturado":e==="equipment_loans"?"Controle de Emprstimos de T.I.":"Almoxarifado Pedaggico"}),n&&a.jsx("span",{className:"text-[8px] font-black text-orange-400 uppercase tracking-widest mt-1",children:"Base Blindada Ativa"})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("button",{onClick:i,className:"p-2.5 text-white/40 hover:bg-white/10 hover:text-white rounded-xl transition-all group flex items-center gap-2",title:"Alternar Tela Cheia",children:[a.jsx(nl,{size:18,className:"group-hover:text-orange-400"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest hidden xl:block",children:"Expandir"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-black text-white",children:"Almoxarife Andr"}),a.jsx("p",{className:"text-[9px] text-orange-400 font-black uppercase tracking-widest",children:"Gesto de Materiais"})]}),a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-amber-600 flex items-center justify-center text-white font-black text-sm shadow-lg shadow-orange-500/20 border border-white/10",children:"GA"})]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:[e==="inventory"&&a.jsx(b_e,{}),e==="requests"&&a.jsx(v_e,{}),e==="uniforms"&&a.jsx(N_e,{}),e==="kits"&&a.jsx(w_e,{}),e==="structured"&&a.jsx(A_e,{}),e==="other_books"&&a.jsx(E_e,{}),e==="equipment_loans"&&a.jsx(j_e,{}),e==="history"&&a.jsxs("div",{className:"py-24 text-center border-2 border-dashed border-white/10 bg-white/5 rounded-[2.5rem]",children:[a.jsx(_t,{size:48,className:"mx-auto mb-4 text-orange-500/50"}),a.jsx("p",{className:"text-white/40 font-black uppercase text-xs tracking-widest",children:"Relatrios gerenciais consolidados em fase de homologao"})]})]})]}),a.jsx("style",{children:`
          .custom-scrollbar::-webkit-scrollbar { width: 6px; }
          .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
          .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 10px; }
          .custom-scrollbar:hover::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2); }
        `})]})]})};var S_e=Object.defineProperty,Mg=Object.getOwnPropertySymbols,dz=Object.prototype.hasOwnProperty,uz=Object.prototype.propertyIsEnumerable,iL=(t,e,r)=>e in t?S_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,k_e=(t,e)=>{for(var r in e||(e={}))dz.call(e,r)&&iL(t,r,e[r]);if(Mg)for(var r of Mg(e))uz.call(e,r)&&iL(t,r,e[r]);return t},__e=(t,e)=>{var r={};for(var n in t)dz.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Mg)for(var n of Mg(t))e.indexOf(n)<0&&uz.call(t,n)&&(r[n]=t[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Nc;(t=>{const e=class{constructor(d,u,h,p){if(this.version=d,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],d<e.MIN_VERSION||d>e.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let x=[];for(let b=0;b<this.size;b++)x.push(!1);for(let b=0;b<this.size;b++)this.modules.push(x.slice()),this.isFunction.push(x.slice());this.drawFunctionPatterns();const v=this.addEccAndInterleave(h);if(this.drawCodewords(v),p==-1){let b=1e9;for(let w=0;w<8;w++){this.applyMask(w),this.drawFormatBits(w);const g=this.getPenaltyScore();g<b&&(p=w,b=g),this.applyMask(w)}}i(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(d,u){const h=t.QrSegment.makeSegments(d);return e.encodeSegments(h,u)}static encodeBinary(d,u){const h=t.QrSegment.makeBytes(d);return e.encodeSegments([h],u)}static encodeSegments(d,u,h=1,p=40,x=-1,v=!0){if(!(e.MIN_VERSION<=h&&h<=p&&p<=e.MAX_VERSION)||x<-1||x>7)throw new RangeError("Invalid value");let b,w;for(b=h;;b++){const y=e.getNumDataCodewords(b,u)*8,j=l.getTotalBits(d,b);if(j<=y){w=j;break}if(b>=p)throw new RangeError("Data too long")}for(const y of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])v&&w<=e.getNumDataCodewords(b,y)*8&&(u=y);let g=[];for(const y of d){n(y.mode.modeBits,4,g),n(y.numChars,y.mode.numCharCountBits(b),g);for(const j of y.getData())g.push(j)}i(g.length==w);const S=e.getNumDataCodewords(b,u)*8;i(g.length<=S),n(0,Math.min(4,S-g.length),g),n(0,(8-g.length%8)%8,g),i(g.length%8==0);for(let y=236;g.length<S;y^=253)n(y,8,g);let k=[];for(;k.length*8<g.length;)k.push(0);return g.forEach((y,j)=>k[j>>>3]|=y<<7-(j&7)),new e(b,u,k,x)}getModule(d,u){return 0<=d&&d<this.size&&0<=u&&u<this.size&&this.modules[u][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let h=0;h<this.size;h++)this.setFunctionModule(6,h,h%2==0),this.setFunctionModule(h,6,h%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),u=d.length;for(let h=0;h<u;h++)for(let p=0;p<u;p++)h==0&&p==0||h==0&&p==u-1||h==u-1&&p==0||this.drawAlignmentPattern(d[h],d[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const u=this.errorCorrectionLevel.formatBits<<3|d;let h=u;for(let x=0;x<10;x++)h=h<<1^(h>>>9)*1335;const p=(u<<10|h)^21522;i(p>>>15==0);for(let x=0;x<=5;x++)this.setFunctionModule(8,x,s(p,x));this.setFunctionModule(8,7,s(p,6)),this.setFunctionModule(8,8,s(p,7)),this.setFunctionModule(7,8,s(p,8));for(let x=9;x<15;x++)this.setFunctionModule(14-x,8,s(p,x));for(let x=0;x<8;x++)this.setFunctionModule(this.size-1-x,8,s(p,x));for(let x=8;x<15;x++)this.setFunctionModule(8,this.size-15+x,s(p,x));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let h=0;h<12;h++)d=d<<1^(d>>>11)*7973;const u=this.version<<12|d;i(u>>>18==0);for(let h=0;h<18;h++){const p=s(u,h),x=this.size-11+h%3,v=Math.floor(h/3);this.setFunctionModule(x,v,p),this.setFunctionModule(v,x,p)}}drawFinderPattern(d,u){for(let h=-4;h<=4;h++)for(let p=-4;p<=4;p++){const x=Math.max(Math.abs(p),Math.abs(h)),v=d+p,b=u+h;0<=v&&v<this.size&&0<=b&&b<this.size&&this.setFunctionModule(v,b,x!=2&&x!=4)}}drawAlignmentPattern(d,u){for(let h=-2;h<=2;h++)for(let p=-2;p<=2;p++)this.setFunctionModule(d+p,u+h,Math.max(Math.abs(p),Math.abs(h))!=1)}setFunctionModule(d,u,h){this.modules[u][d]=h,this.isFunction[u][d]=!0}addEccAndInterleave(d){const u=this.version,h=this.errorCorrectionLevel;if(d.length!=e.getNumDataCodewords(u,h))throw new RangeError("Invalid argument");const p=e.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][u],x=e.ECC_CODEWORDS_PER_BLOCK[h.ordinal][u],v=Math.floor(e.getNumRawDataModules(u)/8),b=p-v%p,w=Math.floor(v/p);let g=[];const S=e.reedSolomonComputeDivisor(x);for(let y=0,j=0;y<p;y++){let T=d.slice(j,j+w-x+(y<b?0:1));j+=T.length;const _=e.reedSolomonComputeRemainder(T,S);y<b&&T.push(0),g.push(T.concat(_))}let k=[];for(let y=0;y<g[0].length;y++)g.forEach((j,T)=>{(y!=w-x||T>=b)&&k.push(j[y])});return i(k.length==v),k}drawCodewords(d){if(d.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let h=this.size-1;h>=1;h-=2){h==6&&(h=5);for(let p=0;p<this.size;p++)for(let x=0;x<2;x++){const v=h-x,w=(h+1&2)==0?this.size-1-p:p;!this.isFunction[w][v]&&u<d.length*8&&(this.modules[w][v]=s(d[u>>>3],7-(u&7)),u++)}}i(u==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let h=0;h<this.size;h++){let p;switch(d){case 0:p=(h+u)%2==0;break;case 1:p=u%2==0;break;case 2:p=h%3==0;break;case 3:p=(h+u)%3==0;break;case 4:p=(Math.floor(h/3)+Math.floor(u/2))%2==0;break;case 5:p=h*u%2+h*u%3==0;break;case 6:p=(h*u%2+h*u%3)%2==0;break;case 7:p=((h+u)%2+h*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][h]&&p&&(this.modules[u][h]=!this.modules[u][h])}}getPenaltyScore(){let d=0;for(let x=0;x<this.size;x++){let v=!1,b=0,w=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[x][g]==v?(b++,b==5?d+=e.PENALTY_N1:b>5&&d++):(this.finderPenaltyAddHistory(b,w),v||(d+=this.finderPenaltyCountPatterns(w)*e.PENALTY_N3),v=this.modules[x][g],b=1);d+=this.finderPenaltyTerminateAndCount(v,b,w)*e.PENALTY_N3}for(let x=0;x<this.size;x++){let v=!1,b=0,w=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[g][x]==v?(b++,b==5?d+=e.PENALTY_N1:b>5&&d++):(this.finderPenaltyAddHistory(b,w),v||(d+=this.finderPenaltyCountPatterns(w)*e.PENALTY_N3),v=this.modules[g][x],b=1);d+=this.finderPenaltyTerminateAndCount(v,b,w)*e.PENALTY_N3}for(let x=0;x<this.size-1;x++)for(let v=0;v<this.size-1;v++){const b=this.modules[x][v];b==this.modules[x][v+1]&&b==this.modules[x+1][v]&&b==this.modules[x+1][v+1]&&(d+=e.PENALTY_N2)}let u=0;for(const x of this.modules)u=x.reduce((v,b)=>v+(b?1:0),u);const h=this.size*this.size,p=Math.ceil(Math.abs(u*20-h*10)/h)-1;return i(0<=p&&p<=9),d+=p*e.PENALTY_N4,i(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let h=[6];for(let p=this.size-7;h.length<d;p-=u)h.splice(1,0,p);return h}}static getNumRawDataModules(d){if(d<e.MIN_VERSION||d>e.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*d+128)*d+64;if(d>=2){const h=Math.floor(d/7)+2;u-=(25*h-10)*h-55,d>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(d,u){return Math.floor(e.getNumRawDataModules(d)/8)-e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d]*e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let u=[];for(let p=0;p<d-1;p++)u.push(0);u.push(1);let h=1;for(let p=0;p<d;p++){for(let x=0;x<u.length;x++)u[x]=e.reedSolomonMultiply(u[x],h),x+1<u.length&&(u[x]^=u[x+1]);h=e.reedSolomonMultiply(h,2)}return u}static reedSolomonComputeRemainder(d,u){let h=u.map(p=>0);for(const p of d){const x=p^h.shift();h.push(0),u.forEach((v,b)=>h[b]^=e.reedSolomonMultiply(v,x))}return h}static reedSolomonMultiply(d,u){if(d>>>8||u>>>8)throw new RangeError("Byte out of range");let h=0;for(let p=7;p>=0;p--)h=h<<1^(h>>>7)*285,h^=(u>>>p&1)*d;return i(h>>>8==0),h}finderPenaltyCountPatterns(d){const u=d[1];i(u<=this.size*3);const h=u>0&&d[2]==u&&d[3]==u*3&&d[4]==u&&d[5]==u;return(h&&d[0]>=u*4&&d[6]>=u?1:0)+(h&&d[6]>=u*4&&d[0]>=u?1:0)}finderPenaltyTerminateAndCount(d,u,h){return d&&(this.finderPenaltyAddHistory(u,h),u=0),u+=this.size,this.finderPenaltyAddHistory(u,h),this.finderPenaltyCountPatterns(h)}finderPenaltyAddHistory(d,u){u[0]==0&&(d+=this.size),u.pop(),u.unshift(d)}};let r=e;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=r;function n(d,u,h){if(u<0||u>31||d>>>u)throw new RangeError("Value out of range");for(let p=u-1;p>=0;p--)h.push(d>>>p&1)}function s(d,u){return(d>>>u&1)!=0}function i(d){if(!d)throw new Error("Assertion error")}const o=class{constructor(d,u,h){if(this.mode=d,this.numChars=u,this.bitData=h,u<0)throw new RangeError("Invalid argument");this.bitData=h.slice()}static makeBytes(d){let u=[];for(const h of d)n(h,8,u);return new o(o.Mode.BYTE,d.length,u)}static makeNumeric(d){if(!o.isNumeric(d))throw new RangeError("String contains non-numeric characters");let u=[];for(let h=0;h<d.length;){const p=Math.min(d.length-h,3);n(parseInt(d.substr(h,p),10),p*3+1,u),h+=p}return new o(o.Mode.NUMERIC,d.length,u)}static makeAlphanumeric(d){if(!o.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],h;for(h=0;h+2<=d.length;h+=2){let p=o.ALPHANUMERIC_CHARSET.indexOf(d.charAt(h))*45;p+=o.ALPHANUMERIC_CHARSET.indexOf(d.charAt(h+1)),n(p,11,u)}return h<d.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(d.charAt(h)),6,u),new o(o.Mode.ALPHANUMERIC,d.length,u)}static makeSegments(d){return d==""?[]:o.isNumeric(d)?[o.makeNumeric(d)]:o.isAlphanumeric(d)?[o.makeAlphanumeric(d)]:[o.makeBytes(o.toUtf8ByteArray(d))]}static makeEci(d){let u=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)n(d,8,u);else if(d<16384)n(2,2,u),n(d,14,u);else if(d<1e6)n(6,3,u),n(d,21,u);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,u)}static isNumeric(d){return o.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return o.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,u){let h=0;for(const p of d){const x=p.mode.numCharCountBits(u);if(p.numChars>=1<<x)return 1/0;h+=4+x+p.bitData.length}return h}static toUtf8ByteArray(d){d=encodeURI(d);let u=[];for(let h=0;h<d.length;h++)d.charAt(h)!="%"?u.push(d.charCodeAt(h)):(u.push(parseInt(d.substr(h+1,2),16)),h+=2);return u}};let l=o;l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=l})(Nc||(Nc={}));(t=>{(e=>{const r=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};let n=r;n.LOW=new r(0,1),n.MEDIUM=new r(1,0),n.QUARTILE=new r(2,3),n.HIGH=new r(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Nc||(Nc={}));(t=>{(e=>{const r=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};let n=r;n.NUMERIC=new r(1,[10,12,14]),n.ALPHANUMERIC=new r(2,[9,11,13]),n.BYTE=new r(4,[8,16,16]),n.KANJI=new r(8,[8,10,12]),n.ECI=new r(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Nc||(Nc={}));var cf=Nc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var C_e={L:cf.QrCode.Ecc.LOW,M:cf.QrCode.Ecc.MEDIUM,Q:cf.QrCode.Ecc.QUARTILE,H:cf.QrCode.Ecc.HIGH},O_e=128,D_e="L",I_e="#FFFFFF",R_e="#000000",M_e=!1,fz=4,P_e=.1;function L_e(t,e=0){const r=[];return t.forEach(function(n,s){let i=null;n.forEach(function(o,l){if(!o&&i!==null){r.push(`M${i+e} ${s+e}h${l-i}v1H${i+e}z`),i=null;return}if(l===n.length-1){if(!o)return;i===null?r.push(`M${l+e},${s+e} h1v1H${l+e}z`):r.push(`M${i+e},${s+e} h${l+1-i}v1H${i+e}z`);return}o&&i===null&&(i=l)})}),r.join("")}function U_e(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function F_e(t,e,r,n){if(n==null)return null;const s=r?fz:0,i=t.length+s*2,o=Math.floor(e*P_e),l=i/e,d=(n.width||o)*l,u=(n.height||o)*l,h=n.x==null?t.length/2-d/2:n.x*l,p=n.y==null?t.length/2-u/2:n.y*l;let x=null;if(n.excavate){let v=Math.floor(h),b=Math.floor(p),w=Math.ceil(d+h-v),g=Math.ceil(u+p-b);x={x:v,y:b,w,h:g}}return{x:h,y:p,h:u,w:d,excavation:x}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function oL(t){const e=t,{value:r,size:n=O_e,level:s=D_e,bgColor:i=I_e,fgColor:o=R_e,includeMargin:l=M_e,imageSettings:d}=e,u=__e(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let h=cf.QrCode.encodeText(r,C_e[s]).getModules();const p=l?fz:0,x=h.length+p*2,v=F_e(h,n,l,d);let b=null;d!=null&&v!=null&&(v.excavation!=null&&(h=U_e(h,v.excavation)),b=xe.createElement("image",{xlinkHref:d.src,height:v.h,width:v.w,x:v.x+p,y:v.y+p,preserveAspectRatio:"none"}));const w=L_e(h,p);return xe.createElement("svg",k_e({height:n,width:n,viewBox:`0 0 ${x} ${x}`},u),xe.createElement("path",{fill:i,d:`M0,0 h${x}v${x}H0z`,shapeRendering:"crispEdges"}),xe.createElement("path",{fill:o,d:w,shapeRendering:"crispEdges"}),b)}const B_e=({onExit:t})=>{const[e,r]=R.useState("inventory"),[n,s]=R.useState(""),[i,o]=R.useState(!1),[l,d]=R.useState(null),[u,h]=R.useState(null),[p,x]=R.useState(null),[v,b]=R.useState([]),[w,g]=R.useState({description:"",location:"",heritageNumber:"",condition:"BOM",photo:""}),[S,k]=R.useState({reason:"",responsible:"GESTOR ANDR"}),y=async()=>{try{const{data:B,error:X}=await ae.from("assets").select("*").order("created_at",{ascending:!1});if(X)throw X;const{data:P,error:U}=await ae.from("asset_history").select("*");if(U)throw U;B&&b(B.map(z=>({id:z.id,description:z.description,location:z.location,heritageNumber:z.heritage_number,condition:z.condition,isUnserviceable:z.is_unserviceable,photo:z.photo,unserviceableData:z.unserviceable_data,history:(P==null?void 0:P.filter(V=>V.asset_id===z.id).map(V=>({id:V.id,date:V.date,action:V.action,responsible:V.responsible,notes:V.notes})))||[],timestamp:new Date(z.created_at).getTime()})))}catch(B){console.error("Erro ao buscar patrimnio:",B)}};R.useEffect(()=>{y();const B=ae.channel("assets_changes").on("postgres_changes",{event:"*",schema:"public",table:"assets"},y).subscribe();return()=>{B.unsubscribe()}},[]);const j=R.useMemo(()=>{const B=v.map(X=>X.location);return Array.from(new Set(B)).sort()},[v]),T=B=>{var P;const X=(P=B.target.files)==null?void 0:P[0];if(X){const U=new FileReader;U.onloadend=()=>{const z=U.result;h(z),g(V=>({...V,photo:z}))},U.readAsDataURL(X)}},_=async B=>{if(B.preventDefault(),v.some(P=>P.heritageNumber===w.heritageNumber))return alert("Erro: Nmero de patrimnio j cadastrado.");const X=w.condition==="PSSIMO";try{const{data:P,error:U}=await ae.from("assets").insert([{description:w.description.toUpperCase(),location:w.location.toUpperCase(),heritage_number:w.heritageNumber,condition:w.condition,is_unserviceable:X,photo:w.photo,unserviceable_data:X?{date:new Date().toISOString().split("T")[0],...S}:null}]).select().single();if(U)throw U;const{error:z}=await ae.from("asset_history").insert([{asset_id:P.id,date:new Date().toISOString().split("T")[0],action:X?"CADASTRO COMO INSERVVEL":"CADASTRO INICIAL",responsible:"GESTOR ANDR",notes:X?`Motivo: ${S.reason}`:"Incluso manual no inventrio"}]);if(z)throw z;await y(),o(!1),O(),alert("Bem patrimonial salvo com sucesso!")}catch(P){console.error("Erro ao salvar bem:",P),alert("Erro ao salvar bem patrimonial.")}},O=()=>{g({description:"",location:"",heritageNumber:"",condition:"BOM",photo:""}),k({reason:"",responsible:"GESTOR ANDR"}),h(null)},M=async B=>{if(window.confirm("Deseja remover este bem do inventrio?"))try{const{error:X}=await ae.from("assets").delete().eq("id",B);if(X)throw X;await y(),alert("Bem removido com sucesso!")}catch(X){console.error("Erro ao remover bem:",X),alert("Erro ao remover bem.")}},D=R.useMemo(()=>v.filter(B=>{const X=B.description.toLowerCase().includes(n.toLowerCase())||B.heritageNumber.includes(n)||B.location.toLowerCase().includes(n.toLowerCase()),P=p?B.location===p:!0;return X&&P}),[v,n,p]),F=B=>{switch(B){case"EXCELENTE":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"BOM":return"bg-blue-100 text-blue-700 border-blue-200";case"REGULAR":return"bg-amber-100 text-amber-700 border-amber-200";case"PSSIMO":return"bg-red-100 text-red-700 border-red-200"}},q=async(B="inventory-list",X="Inventario")=>{const P=document.getElementById(B);P&&await window.html2pdf().set({margin:10,filename:`${X}_${new Date().getFullYear()}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"landscape"}}).from(P).save()},L=B=>{const X=document.getElementById(`qr-${B}`);if(!X)return;const P=new XMLSerializer().serializeToString(X),U=document.createElement("canvas"),z=U.getContext("2d"),V=new Image;V.onload=()=>{U.width=V.width,U.height=V.height,z==null||z.drawImage(V,0,0);const Y=U.toDataURL("image/png"),se=document.createElement("a");se.download=`Etiqueta_QR_${B}.png`,se.href=`${Y}`,se.click()},V.src="data:image/svg+xml;base64,"+btoa(P)};return a.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden font-sans",children:[a.jsxs("aside",{className:"w-64 bg-blue-950 text-white flex flex-col no-print",children:[a.jsx("div",{className:"p-6",children:a.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx("span",{className:"bg-blue-600 p-1.5 rounded-lg shadow-lg",children:""}),"Bens Mveis"]})}),a.jsxs("nav",{className:"flex-1 mt-6 px-4 space-y-1.5 overflow-y-auto",children:[a.jsxs("button",{onClick:()=>{r("inventory"),x(null)},className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${e==="inventory"?"bg-blue-800 text-white":"text-blue-100 hover:bg-blue-800/50"}`,children:[a.jsx(eu,{size:18})," Inventrio Ativo"]}),a.jsxs("button",{onClick:()=>r("ambientes"),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${e==="ambientes"?"bg-blue-800 text-white":"text-blue-100 hover:bg-blue-800/50"}`,children:[a.jsx(Yi,{size:18})," Ambientes (QR Code)"]}),a.jsxs("button",{onClick:()=>r("history"),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${e==="history"?"bg-blue-800 text-white":"text-blue-100 hover:bg-blue-800/50"}`,children:[a.jsx(_t,{size:18})," Baixas e Inservveis"]})]}),a.jsx("div",{className:"p-6 border-t border-blue-800",children:a.jsxs("button",{onClick:t,className:"w-full flex items-center gap-2 px-4 py-3 bg-white/10 hover:bg-white/20 rounded-xl text-xs font-black uppercase tracking-widest transition-all",children:[a.jsx(cr,{size:16})," Voltar ao Hub"]})})]}),a.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"h-20 bg-white border-b border-gray-100 flex items-center justify-between px-10 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:a.jsx(ft,{size:20})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-black text-gray-900 uppercase",children:"Inventrio de Bens Mveis"}),p&&a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsxs("span",{className:"text-[10px] font-black text-blue-600 bg-blue-50 px-2 py-0.5 rounded-lg border border-blue-100 uppercase",children:["Local: ",p]}),a.jsx("button",{onClick:()=>x(null),className:"text-[10px] text-gray-400 hover:text-red-500 font-bold uppercase underline",children:"Remover Filtro"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-300",size:16}),a.jsx("input",{type:"text",placeholder:"Pesquisar...",value:n,onChange:B=>s(B.target.value),className:"pl-10 pr-4 py-2 bg-gray-50 border-none rounded-xl text-xs font-bold outline-none focus:ring-2 focus:ring-blue-100 w-64"})]}),a.jsxs("button",{onClick:()=>o(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-blue-700 shadow-lg transition-all flex items-center gap-2",children:[a.jsx(ot,{size:16})," Cadastrar Bem"]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:a.jsx("div",{className:"space-y-6",children:e==="ambientes"?a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:"Gesto de Ambientes"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-1",children:"QR Codes vinculados  unidade fsica"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:j.map(B=>{const X=v.filter(U=>U.location===B),P=X.filter(U=>U.condition==="PSSIMO").length;return a.jsxs("div",{className:"bg-white p-8 rounded-[3.5rem] border border-gray-100 shadow-sm hover:border-blue-200 hover:shadow-2xl transition-all group flex flex-col items-center",children:[a.jsx("div",{className:"p-4 bg-gray-50 rounded-[2.5rem] border border-gray-100 mb-6 group-hover:scale-105 transition-transform duration-300",children:a.jsx(oL,{id:`qr-${B}`,value:`portal-gestao://patrimonio/local/${encodeURIComponent(B)}`,size:160,level:"H",includeMargin:!0})}),a.jsx("h4",{className:"text-xl font-black text-gray-900 uppercase mb-2 text-center leading-tight",children:B}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mb-6",children:[a.jsxs("span",{className:"text-[10px] font-black bg-blue-50 text-blue-700 px-3 py-1 rounded-full uppercase border border-blue-100",children:[X.length," Itens"]}),P>0&&a.jsxs("span",{className:"text-[10px] font-black bg-red-50 text-red-600 px-3 py-1 rounded-full uppercase border border-red-100 flex items-center gap-1",children:[a.jsx(Xt,{size:10})," ",P," Inservveis"]})]}),a.jsxs("div",{className:"w-full grid grid-cols-1 gap-3",children:[a.jsxs("button",{onClick:()=>L(B),className:"w-full py-4 bg-gray-900 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-black transition-all shadow-lg",children:[a.jsx(ni,{size:14})," Baixar Etiqueta QR"]}),a.jsxs("button",{onClick:()=>{x(B),r("inventory")},className:"w-full py-4 bg-blue-50 text-blue-700 rounded-2xl text-[10px] font-black uppercase border border-blue-100 hover:bg-blue-100 transition-all flex items-center justify-center gap-2",children:[a.jsx(Pt,{size:14})," Abrir Inventrio"]})]})]},B)})})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight flex items-center gap-3",children:[e==="inventory"?"Inventrio de Bens Mveis Ativos":"Relatrio de Itens Mveis Inservveis",a.jsxs("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-lg",children:[D.length," Registros"]})]}),a.jsxs("button",{onClick:()=>q("inventory-list",e==="inventory"?"Inventario_Ativo":"Relatorio_Inserviveis"),className:"px-6 py-2 bg-white border border-gray-200 text-gray-600 rounded-xl text-[10px] font-black uppercase flex items-center gap-2 hover:bg-gray-50 transition-all",children:[a.jsx(Fg,{size:14})," Exportar para PDF"]})]}),a.jsx("div",{id:"inventory-list",className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:D.filter(B=>e==="inventory"?!B.isUnserviceable:B.isUnserviceable).map(B=>{const X=B.condition==="PSSIMO";return a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-gray-100 shadow-sm hover:border-blue-200 hover:shadow-xl transition-all group flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-2xl flex items-center justify-center overflow-hidden border border-gray-100",children:B.photo?a.jsx("img",{src:B.photo,className:"w-full h-full object-cover",alt:"Bem"}):a.jsx(TL,{size:24,className:"text-gray-300"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>d(B),className:"p-2 bg-gray-50 text-gray-400 hover:text-blue-600 rounded-lg transition-all",title:"Histrico",children:a.jsx(_t,{size:16})}),a.jsx("button",{onClick:()=>M(B.id),className:"p-2 bg-gray-50 text-gray-400 hover:text-red-500 rounded-lg transition-all",title:"Excluir",children:a.jsx(Lt,{size:16})})]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs("span",{className:"bg-gray-900 text-white px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-widest",children:["PAT: ",B.heritageNumber]}),a.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase border ${F(B.condition)}`,children:X?"INSERVVEL":B.condition})]}),a.jsx("h4",{className:"font-black text-gray-900 uppercase tracking-tight text-sm leading-tight line-clamp-2",children:B.description}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-gray-400 uppercase tracking-tighter",children:[a.jsx(Yi,{size:12,className:"text-blue-500"})," ",B.location]})]}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-50 flex items-center justify-between",children:[a.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:new Date(B.timestamp).toLocaleDateString("pt-BR")}),a.jsxs("button",{className:"text-[10px] font-black text-blue-600 uppercase flex items-center gap-1 hover:underline",children:["Ficha Tcnica ",a.jsx(ga,{size:14})]})]})]},B.id)})})]})})})]}),i&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-gray-900/40 backdrop-blur-md animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-2xl shadow-2xl border border-white/20 overflow-hidden flex flex-col max-h-[95vh]",children:[a.jsxs("div",{className:"p-8 bg-blue-50 border-b border-blue-100 flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-600 text-white rounded-2xl shadow-lg",children:a.jsx(eu,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Novo Bem Mvel"}),a.jsx("p",{className:"text-[10px] text-blue-600 font-bold uppercase tracking-widest mt-1",children:"Cadastro de Patrimnio"})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:a.jsx(Ze,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:a.jsxs("form",{onSubmit:_,className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Evidncia Fotogrfica"}),a.jsxs("div",{onClick:()=>{var B;return(B=document.getElementById("photo-input"))==null?void 0:B.click()},className:"aspect-square bg-gray-50 rounded-3xl border-2 border-dashed border-gray-200 flex flex-col items-center justify-center cursor-pointer hover:bg-white hover:border-blue-300 transition-all group relative overflow-hidden",children:[u?a.jsx("img",{src:u,className:"w-full h-full object-cover",alt:"Preview"}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-4 bg-white rounded-2xl text-gray-300 shadow-sm group-hover:text-blue-500 transition-colors",children:a.jsx(nc,{size:32})}),a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-4",children:"Carregar Foto"})]}),a.jsx("input",{id:"photo-input",type:"file",className:"hidden",accept:"image/*",onChange:T})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Descrio"}),a.jsx("textarea",{required:!0,value:w.description,onChange:B=>g({...w,description:B.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all h-24 resize-none"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Ambiente"}),a.jsx("input",{required:!0,type:"text",list:"locations-list",value:w.location,onChange:B=>g({...w,location:B.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all"}),a.jsx("datalist",{id:"locations-list",children:j.map(B=>a.jsx("option",{value:B},B))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"N Patrimnio"}),a.jsx("input",{required:!0,type:"number",value:w.heritageNumber,onChange:B=>g({...w,heritageNumber:B.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-lg outline-none focus:bg-white transition-all"})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Estado de Conservao"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["EXCELENTE","BOM","REGULAR","PSSIMO"].map(B=>a.jsx("button",{type:"button",onClick:()=>g({...w,condition:B}),className:`py-3 rounded-2xl text-[10px] font-black uppercase transition-all border-2 ${w.condition===B?B==="PSSIMO"?"bg-red-600 border-red-700 text-white":"bg-blue-600 border-blue-700 text-white":"bg-gray-50 border-gray-100 text-gray-400"}`,children:B==="PSSIMO"?"INSERVVEL":B},B))})]}),w.location&&a.jsxs("div",{className:"p-6 bg-gray-50 rounded-[2.5rem] border border-gray-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(YH,{className:"text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"QR Code Gerado"}),a.jsx("p",{className:"text-xs font-bold uppercase",children:w.location})]})]}),a.jsx("div",{className:"bg-white p-2 rounded-xl shadow-sm border border-gray-100",children:a.jsx(oL,{value:`patrimonio://local/${w.location}`,size:48})})]}),w.condition==="PSSIMO"&&a.jsxs("div",{className:"bg-red-50 p-8 rounded-[2.5rem] border border-red-100 space-y-6 animate-in slide-in-from-top-4 duration-300",children:[a.jsxs("div",{className:"flex items-center gap-3 text-red-600",children:[a.jsx(Xt,{size:20}),a.jsx("h4",{className:"text-xs font-black uppercase tracking-widest",children:"Laudo Automtico de Inservibilidade"})]}),a.jsx("div",{className:"space-y-4",children:a.jsx("input",{required:!0,type:"text",placeholder:"MOTIVO DA BAIXA",value:S.reason,onChange:B=>k({...S,reason:B.target.value.toUpperCase()}),className:"w-full p-4 bg-white border border-red-100 rounded-xl text-xs font-bold outline-none"})})]})]}),a.jsxs("div",{className:"pt-4 flex gap-4",children:[a.jsx("button",{type:"submit",className:"flex-1 py-5 bg-blue-600 text-white rounded-3xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-blue-700 transition-all",children:"Salvar no Inventrio"}),a.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-10 py-5 bg-gray-100 text-gray-500 rounded-3xl font-black uppercase text-xs tracking-widest hover:bg-gray-200 transition-all",children:"Cancelar"})]})]})})]})}),a.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.05); border-radius: 10px; }
      `})]})},z_e=["Pr-preparo","Coco","Distribuio","Higiene e Lixo","Armazenamento","Utenslios/Equipamentos"],lL=[{id:"k-1",area:"Higiene e Lixo",title:"Higienizao das mos dos manipuladores (POP 2)",frequency:"DIRIA",status:"PENDENTE"},{id:"k-2",area:"Pr-preparo",title:"Higienizao das mesas e bancadas de manipulao (POP 8)",frequency:"DIRIA",status:"PENDENTE"},{id:"k-3",area:"Utenslios/Equipamentos",title:"Higienizao de utenslios: facas, talheres, pratos, canecas, placas (POP 6)",frequency:"DIRIA",status:"PENDENTE"},{id:"k-4",area:"Utenslios/Equipamentos",title:"Higienizao de utenslios em alumnio: panelas, assadeiras, conchas (POP 7)",frequency:"DIRIA",status:"PENDENTE"},{id:"k-5",area:"Higiene e Lixo",title:"Higienizao das lixeiras (POP 9)",frequency:"DIRIA",status:"PENDENTE"},{id:"k-6",area:"Higiene e Lixo",title:"Higienizao de pisos e rodaps (POP 10)",frequency:"DIRIA",status:"PENDENTE"},{id:"k-7",area:"Coco",title:"Higienizao de fogo e forno (POP 4)",frequency:"DIRIA",status:"PENDENTE"},{id:"k-8",area:"Utenslios/Equipamentos",title:"Higienizao de liquidificador e processador (POP 5)",frequency:"DIRIA",status:"PENDENTE"},{id:"k-9",area:"Armazenamento",title:"Higienizao de freezers e geladeiras (POP 3)",frequency:"DIRIA",status:"PENDENTE"},{id:"k-10",area:"Higiene e Lixo",title:"Higienizao de ralos (POP 11)",frequency:"SEMANAL",status:"PENDENTE"},{id:"k-11",area:"Coco",title:"Higienizao de paredes (POP 12)",frequency:"SEMANAL",status:"PENDENTE"},{id:"k-12",area:"Coco",title:"Higienizao de teto e forro (POP 13)",frequency:"SEMANAL",status:"PENDENTE"},{id:"k-13",area:"Higiene e Lixo",title:"Higienizao de telas de proteo (POP 14)",frequency:"SEMANAL",status:"PENDENTE"},{id:"k-14",area:"Higiene e Lixo",title:"Higienizao de portas e janelas (POP 15)",frequency:"SEMANAL",status:"PENDENTE"},{id:"k-15",area:"Higiene e Lixo",title:"Higienizao de luminrias, interruptores e tomadas (POP 16)",frequency:"SEMANAL",status:"PENDENTE"},{id:"k-16",area:"Higiene e Lixo",title:"Higienizao da caixa de gordura (POP 17)",frequency:"MENSAL",status:"PENDENTE"},{id:"k-17",area:"Coco",title:"Higienizao do exaustor/coifa (POP 18)",frequency:"MENSAL",status:"PENDENTE"},{id:"k-18",area:"Higiene e Lixo",title:"Controle de potabilidade da gua (POP 22)",frequency:"MENSAL",status:"PENDENTE"},{id:"k-19",area:"Utenslios/Equipamentos",title:"Higienizao de panos de limpeza (POP 19)",frequency:"PERIDICA",status:"PENDENTE"},{id:"k-20",area:"Utenslios/Equipamentos",title:"Higienizao de esponjas (POP 20)",frequency:"PERIDICA",status:"PENDENTE"},{id:"k-21",area:"Higiene e Lixo",title:"Controle integrado de vetores e pragas (POP 21)",frequency:"PERIDICA",status:"PENDENTE"},{id:"k-22",area:"Armazenamento",title:"Recebimento e armazenamento de gneros (POPs 23 e 24)",frequency:"PERIDICA",status:"PENDENTE"},{id:"k-23",area:"Pr-preparo",title:"Higienizao dos alimentos (POP 25)",frequency:"PERIDICA",status:"PENDENTE"},{id:"k-24",area:"Distribuio",title:"Coleta de amostras (POP 26)",frequency:"PERIDICA",status:"PENDENTE"},{id:"k-25",area:"Distribuio",title:"Distribuio dos alimentos (POP 27)",frequency:"PERIDICA",status:"PENDENTE"},{id:"k-26",area:"Distribuio",title:"Reaproveitamento de sobras (POP 28)",frequency:"PERIDICA",status:"PENDENTE"},{id:"k-27",area:"Pr-preparo",title:"Dessalga (POP 29)",frequency:"PERIDICA",status:"PENDENTE"}],q_e=()=>{const[t,e]=R.useState(()=>{const b=localStorage.getItem("kitchen_sanitation_tasks_v2");return b?JSON.parse(b):lL}),[r,n]=R.useState("TODOS"),[s,i]=R.useState("DIRIA"),[o,l]=R.useState(""),[d,u]=R.useState(!1);R.useEffect(()=>{localStorage.setItem("kitchen_sanitation_tasks_v2",JSON.stringify(t))},[t]);const h=b=>{e(w=>w.map(g=>{if(g.id!==b)return g;const S=g.status==="CONCLUDO";return{...g,status:S?"PENDENTE":"CONCLUDO",lastDone:S?void 0:new Date().toISOString()}}))},p=R.useMemo(()=>t.filter(b=>{const w=r==="TODOS"||b.area===r,g=s==="TODOS"||b.frequency===s,S=b.title.toLowerCase().includes(o.toLowerCase());return w&&g&&S}),[t,r,s,o]),x=R.useMemo(()=>{const b=t.filter(g=>g.frequency==="DIRIA"),w=b.filter(g=>g.status==="CONCLUDO").length;return{total:b.length,completed:w,percent:b.length>0?w/b.length*100:0}},[t]),v=async()=>{u(!0);const b=document.getElementById("kitchen-print-area");if(!b)return u(!1);try{await window.html2pdf().set({margin:10,filename:`Checklist_Cozinha_UANE_${new Date().getFullYear()}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).from(b).save()}catch(w){console.error(w)}finally{u(!1)}};return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-[3rem] border border-gray-100 shadow-sm flex flex-col justify-between",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Cronograma UANE"}),a.jsx("p",{className:"text-gray-500 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Higiene Ambiental e Segurana Alimentar"})]}),a.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-3xl",children:a.jsx(Jo,{size:32})})]}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[z_e.map(b=>a.jsx("button",{onClick:()=>n(b),className:`px-5 py-2.5 rounded-xl text-[9px] font-black uppercase transition-all border ${r===b?"bg-orange-600 text-white border-orange-700 shadow-lg":"bg-gray-50 text-gray-400 border-gray-100 hover:bg-white hover:border-orange-200"}`,children:b},b)),a.jsx("button",{onClick:()=>n("TODOS"),className:"px-5 py-2.5 rounded-xl text-[9px] font-black uppercase bg-gray-900 text-white shadow-md",children:"Ver Todas reas"})]})]}),a.jsxs("div",{className:"bg-orange-950 p-8 rounded-[3rem] text-white flex flex-col justify-between shadow-2xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 rotate-12",children:a.jsx(gx,{size:120})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("p",{className:"text-orange-300 text-[10px] font-black uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[a.jsx(ft,{size:14})," Conformidade Diria"]}),a.jsxs("div",{className:"flex items-end gap-3 mb-6",children:[a.jsxs("span",{className:"text-5xl font-black",children:[x.percent.toFixed(0),"%"]}),a.jsx("span",{className:"text-[10px] font-bold text-orange-400 uppercase mb-2",children:"Concludo Hoje"})]}),a.jsx("div",{className:"w-full h-2 bg-white/10 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-orange-500 transition-all duration-1000",style:{width:`${x.percent}%`}})})]}),a.jsxs("div",{className:"flex flex-col gap-3 mt-8 relative z-10",children:[a.jsxs("button",{onClick:v,disabled:d,className:"w-full py-4 bg-white text-orange-950 rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-orange-50 transition-all flex items-center justify-center gap-2 border border-white/20 shadow-lg",children:[d?a.jsx(vt,{className:"animate-spin",size:16}):a.jsx(zt,{size:16}),"Checklist Dirio (BOAS PRTICAS)"]}),a.jsxs("button",{onClick:v,disabled:d,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-orange-700 transition-all flex items-center justify-center gap-2 shadow-xl border border-orange-500",children:[d?a.jsx(vt,{className:"animate-spin",size:16}):a.jsx(Sa,{size:16}),"Imprimir Cronograma Mensal"]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row gap-4 items-center no-print",children:[a.jsx("div",{className:"flex bg-gray-100 p-1.5 rounded-2xl",children:["DIRIA","SEMANAL","MENSAL","PERIDICA","TODOS"].map(b=>a.jsx("button",{onClick:()=>i(b),className:`px-6 py-2 rounded-xl text-[9px] font-black uppercase transition-all ${s===b?"bg-orange-600 text-white shadow-lg":"text-gray-400 hover:text-gray-600"}`,children:b},b))}),a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:"Pesquisar tarefa do manual...",value:o,onChange:b=>l(b.target.value),className:"w-full pl-12 pr-6 py-3.5 bg-gray-50 border-none rounded-2xl font-bold text-sm outline-none focus:ring-4 focus:ring-orange-500/5 transition-all"})]}),a.jsx("button",{className:"p-3 bg-gray-50 text-gray-400 hover:text-orange-600 rounded-xl transition-all border border-gray-100",children:a.jsx(Bg,{size:20})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(b=>a.jsxs("div",{className:`p-6 rounded-[2.5rem] border-2 transition-all flex flex-col justify-between shadow-sm relative overflow-hidden group ${b.status==="CONCLUDO"?"bg-emerald-50 border-emerald-100":"bg-white border-gray-100"}`,children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:b.area==="Coco"?a.jsx(EL,{size:60}):b.area==="Armazenamento"?a.jsx(CK,{size:60}):b.area==="Distribuio"?a.jsx(YK,{size:60}):b.area==="Higiene e Lixo"?a.jsx(Lt,{size:60}):a.jsx(Hg,{size:60})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("span",{className:`px-2 py-1 rounded-lg text-[8px] font-black uppercase border ${b.status==="CONCLUDO"?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-orange-50 text-orange-700 border-orange-100"}`,children:b.frequency}),a.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:b.area})]}),a.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase leading-snug mb-2",children:b.title}),b.lastDone&&a.jsxs("p",{className:"text-[9px] text-emerald-600 font-bold uppercase tracking-tight flex items-center gap-1",children:[a.jsx(Nt,{size:10})," Realizado: ",new Date(b.lastDone).toLocaleString("pt-BR")]})]}),a.jsxs("div",{className:"mt-8 flex gap-2 relative z-10",children:[a.jsxs("button",{onClick:()=>h(b.id),className:`flex-1 py-3.5 rounded-2xl text-[10px] font-black uppercase flex items-center justify-center gap-2 transition-all ${b.status==="CONCLUDO"?"bg-emerald-600 text-white shadow-lg":"bg-gray-900 text-white hover:bg-orange-600"}`,children:[b.status==="CONCLUDO"?a.jsx(Nt,{size:16}):a.jsx(rr,{size:16}),b.status==="CONCLUDO"?"Concluda":"Marcar Concluda"]}),a.jsx("button",{className:"p-3.5 bg-gray-100 text-gray-400 hover:bg-blue-100 hover:text-blue-600 rounded-2xl transition-all shadow-sm",children:a.jsx(nc,{size:18})})]})]},b.id))}),a.jsxs("div",{className:"hidden",children:[a.jsxs("div",{id:"kitchen-print-area",className:"p-10 space-y-6 text-gray-900 font-sans h-full bg-white",children:[a.jsx("div",{className:"flex items-center justify-between border-b-2 border-gray-900 pb-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-gray-900 text-white rounded-xl",children:a.jsx(Jo,{size:24})}),a.jsx("h1",{className:"text-2xl font-black uppercase text-gray-900",children:"Controle de Higienizao e Sanitizao"}),a.jsx("p",{className:"text-[10px] font-bold uppercase text-gray-500 tracking-widest",children:"Unidade Escolar / Setor de Nutrio Escolar"})]})}),a.jsxs("div",{className:"text-right text-[10px] font-black uppercase",children:[a.jsx("p",{children:"Checklist Mensal"}),a.jsxs("p",{children:["Ms/Ano: ",new Date().toLocaleDateString("pt-BR",{month:"long",year:"numeric"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-[9px] font-black uppercase bg-gray-50 p-4 rounded-xl border border-gray-100",children:[a.jsx("p",{children:"Responsvel Tcnico: ___________________________________"}),a.jsx("p",{children:"Setor: COZINHA ESCOLAR / ALIMENTAO"})]}),a.jsx("div",{className:"border border-gray-900 rounded-xl overflow-hidden shadow-sm",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-gray-900 text-white",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 uppercase text-[9px] font-black w-[5%] text-center",children:"POP"}),a.jsx("th",{className:"p-3 uppercase text-[9px] font-black w-3/5",children:"Descrio do Procedimento de Higiene"}),a.jsx("th",{className:"p-3 uppercase text-[9px] font-black text-center",children:"Freq."}),a.jsx("th",{className:"p-3 uppercase text-[9px] font-black text-center w-24",children:"Visto do Dia"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:lL.map((b,w)=>{const g=b.title.match(/POP (\d+)/),S=g?g[1]:"--",k=b.title.replace(/\(POP \d+\)/,"").trim();return a.jsxs("tr",{className:w%2===0?"bg-white":"bg-gray-50",children:[a.jsx("td",{className:"p-3 text-center text-[9px] font-black text-gray-400",children:S}),a.jsx("td",{className:"p-3 text-[10px] font-bold uppercase",children:k}),a.jsx("td",{className:"p-3 text-center text-[8px] font-black text-orange-600",children:b.frequency[0]}),a.jsx("td",{className:"p-3 text-center",children:a.jsx("div",{className:"w-5 h-5 border border-gray-400 mx-auto rounded-md"})})]},w)})})]})}),a.jsxs("div",{className:"mt-10 pt-10 border-t-2 border-dashed border-gray-200 grid grid-cols-2 gap-20",children:[a.jsx("div",{className:"text-center space-y-2",children:a.jsxs("div",{className:"border-t border-gray-400 pt-1",children:[a.jsx("p",{className:"text-[9px] font-black uppercase",children:"Responsvel pela Cozinha (AAE)"}),a.jsxs("p",{className:"text-[7px] uppercase text-gray-400 font-bold",children:["Data: ____/____/",new Date().getFullYear()]})]})}),a.jsx("div",{className:"text-center space-y-2",children:a.jsxs("div",{className:"border-t border-gray-400 pt-1",children:[a.jsx("p",{className:"text-[9px] font-black uppercase",children:"Gesto Escolar / CDCE"}),a.jsx("p",{className:"text-[7px] uppercase text-gray-400 font-bold",children:"Assinatura / Carimbo"})]})})]})]})]})},V_e=[{id:"ppe-k1",name:"TOUCA DESCARTVEL OU DE ALGODO",category:"COZINHA",currentStock:15,minStock:20,unit:"UNID/PCT"},{id:"ppe-k2",name:"UNIFORME BRANCO (ALGODO)",category:"COZINHA",currentStock:10,minStock:10,unit:"UNID"},{id:"ppe-k3",name:"AVENTAL DE ALGODO",category:"COZINHA",currentStock:12,minStock:10,unit:"UNID"},{id:"ppe-k4",name:"AVENTAL TRMICO",category:"COZINHA",currentStock:4,minStock:4,unit:"UNID"},{id:"ppe-k5",name:"LUVAS DE MALHA DE AO",category:"COZINHA",currentStock:2,minStock:2,unit:"PAR"},{id:"ppe-k6",name:"LUVAS (VINIL, LTEX OU POLIETILENO)",category:"COZINHA",currentStock:8,minStock:15,unit:"CX"},{id:"ppe-k7",name:"LUVAS TRMICAS",category:"COZINHA",currentStock:4,minStock:4,unit:"PAR"},{id:"ppe-k8",name:"SAPATO FECHADO ANTIDERRAPANTE",category:"COZINHA",currentStock:6,minStock:6,unit:"PAR"},{id:"ppe-k9",name:"CALA COMPRIDA E CAMISETA MANGA CURTA",category:"COZINHA",currentStock:10,minStock:10,unit:"CONJ"},{id:"ppe-c1",name:"AVENTAL DE PVC (IMPERMEVEL)",category:"LIMPEZA",currentStock:15,minStock:10,unit:"UNID"},{id:"ppe-c2",name:"LUVAS DE PVC (CURTAS E LONGAS)",category:"LIMPEZA",currentStock:10,minStock:12,unit:"PAR"},{id:"ppe-c3",name:"LUVAS NITRLICAS (BORRACHA)",category:"LIMPEZA",currentStock:5,minStock:10,unit:"PAR"},{id:"ppe-c4",name:"CULOS DE PROTEO",category:"LIMPEZA",currentStock:4,minStock:6,unit:"UNID"},{id:"ppe-c5",name:"BOTAS DE BORRACHA",category:"LIMPEZA",currentStock:8,minStock:8,unit:"PAR"},{id:"ppe-m1",name:"PROTETOR AURICULAR (ABAFADOR)",category:"MANUTENO",currentStock:5,minStock:5,unit:"UNID"},{id:"ppe-m2",name:"PROTETOR FACIAL (VISEIRA POLICARBONATO)",category:"MANUTENO",currentStock:4,minStock:4,unit:"UNID"},{id:"ppe-m3",name:"PERNEIRA DE PROTEO (PAR)",category:"MANUTENO",currentStock:6,minStock:6,unit:"PAR"},{id:"ppe-m4",name:"LUVA DE VAQUETA (COURO)",category:"MANUTENO",currentStock:10,minStock:10,unit:"PAR"},{id:"ppe-m5",name:"COLETE REFLETIVO",category:"MANUTENO",currentStock:5,minStock:5,unit:"UNID"},{id:"ppe-g1",name:"MSCARA DESCARTVEL (CX C/ 50)",category:"COZINHA",currentStock:10,minStock:10,unit:"CX"},{id:"ppe-g2",name:"MSCARA PFF2 (N95) PROTEO RESPIRATRIA",category:"LIMPEZA",currentStock:20,minStock:20,unit:"UNID"},{id:"ppe-g3",name:"MSCARA PFF2 COM VLVULA (QUMICOS)",category:"MANUTENO",currentStock:10,minStock:10,unit:"UNID"}],$_e=()=>{const[t,e]=R.useState("inventory"),[r,n]=R.useState("TODOS"),[s,i]=R.useState(""),[o,l]=R.useState(!1),[d,u]=R.useState(!1),[h,p]=R.useState([]),[x,v]=R.useState(()=>{const O=localStorage.getItem("school_ppe_items_v4");return O?JSON.parse(O):V_e}),[b,w]=R.useState(()=>{const O=localStorage.getItem("school_ppe_deliveries_v4");return O?JSON.parse(O):[]}),[g,S]=R.useState({employeeName:"",employeeRole:"LIMPEZA",ppeId:"",ppeName:"",quantity:1,date:new Date().toISOString().split("T")[0]});R.useEffect(()=>{const O=()=>{const M=localStorage.getItem("cleaning_team_v1");M&&p(JSON.parse(M))};return O(),window.addEventListener("storage",O),()=>window.removeEventListener("storage",O)},[]),R.useEffect(()=>{localStorage.setItem("school_ppe_items_v4",JSON.stringify(x)),localStorage.setItem("school_ppe_deliveries_v4",JSON.stringify(b))},[x,b]);const k=R.useMemo(()=>x.filter(O=>{const M=r==="TODOS"||O.category===r,D=O.name.toLowerCase().includes(s.toLowerCase());return M&&D}),[x,r,s]),y=R.useMemo(()=>{const O=x.filter(D=>D.currentStock<D.minStock).length,M=x.filter(D=>D.currentStock>=D.minStock&&D.currentStock<D.minStock*1.5).length;return{critical:O,low:M,ok:x.length-O-M}},[x]),j=O=>{O.preventDefault();const M=x.find(F=>F.id===g.ppeId);if(!M)return alert("Selecione um EPI vlido.");if(M.currentStock<g.quantity)return alert("Estoque insuficiente.");const D={id:`del-${Date.now()}`,...g,ppeName:M.name,timestamp:Date.now()};v(F=>F.map(q=>q.id===M.id?{...q,currentStock:q.currentStock-g.quantity}:q)),w([D,...b]),l(!1),T()},T=()=>{S({employeeName:"",employeeRole:"LIMPEZA",ppeId:"",ppeName:"",quantity:1,date:new Date().toISOString().split("T")[0]})},_=async O=>{u(!0),setTimeout(async()=>{const M=document.getElementById(`termo-${O.id}`);if(!M)return u(!1);try{await window.html2pdf().set({margin:10,filename:`Termo_EPI_${O.employeeName}_${O.date}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).from(M).save()}catch(D){console.error(D)}finally{u(!1)}},100)};return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex flex-col justify-between h-32",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest leading-none",children:"Estoque Saudvel"}),a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsx("p",{className:"text-3xl font-black text-emerald-600",children:y.ok}),a.jsx(Nt,{size:24,className:"text-emerald-500"})]})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-3xl border border-orange-100 shadow-sm flex flex-col justify-between h-32",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest leading-none",children:"Estoque Baixo"}),a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsx("p",{className:"text-3xl font-black text-orange-700",children:y.low}),a.jsx(rr,{size:24,className:"text-orange-500"})]})]}),a.jsxs("div",{className:"bg-red-50 p-6 rounded-3xl border border-red-100 shadow-sm flex flex-col justify-between h-32",children:[a.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest leading-none",children:"Crtico / Reposio"}),a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsx("p",{className:"text-3xl font-black text-red-900",children:y.critical}),a.jsx(Xt,{size:24,className:"text-red-500"})]})]}),a.jsxs("div",{className:"bg-blue-900 p-6 rounded-3xl shadow-xl flex flex-col justify-between h-32 text-white",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-300 uppercase tracking-widest leading-none",children:"Entregas no Ms"}),a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsx("p",{className:"text-3xl font-black",children:b.length}),a.jsx(_t,{size:24,className:"text-blue-400"})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row gap-6 items-center",children:[a.jsxs("div",{className:"flex bg-gray-100 p-1.5 rounded-2xl no-print",children:[a.jsx("button",{onClick:()=>e("inventory"),className:`px-8 py-2.5 rounded-xl text-[10px] font-black uppercase transition-all ${t==="inventory"?"bg-orange-600 text-white shadow-lg":"text-gray-400 hover:text-gray-600"}`,children:"Inventrio"}),a.jsx("button",{onClick:()=>e("deliveries"),className:`px-8 py-2.5 rounded-xl text-[10px] font-black uppercase transition-all ${t==="deliveries"?"bg-orange-600 text-white shadow-lg":"text-gray-400 hover:text-gray-600"}`,children:"Termos de Entrega"})]}),a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:"Pesquisar...",value:s,onChange:O=>i(O.target.value),className:"w-full pl-12 pr-6 py-3.5 bg-gray-50 border-none rounded-2xl font-bold text-sm outline-none focus:ring-4 focus:ring-orange-500/5 transition-all"})]}),a.jsxs("button",{onClick:()=>l(!0),className:"px-8 py-4 bg-orange-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-orange-700 transition-all flex items-center gap-3 shrink-0",children:[a.jsx(zt,{size:18})," Novo Termo"]})]}),t==="inventory"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in",children:k.map(O=>a.jsx("div",{className:`p-6 rounded-[2.5rem] border-2 transition-all flex flex-col justify-between shadow-sm relative overflow-hidden group ${O.currentStock<O.minStock?"bg-red-50 border-red-100":"bg-white border-gray-100"}`,children:a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("span",{className:"text-[8px] font-black uppercase px-2 py-1 bg-gray-900 text-white rounded-lg",children:O.category}),a.jsxs("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:["Min: ",O.minStock]})]}),a.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase leading-snug mb-6 h-10 line-clamp-2",children:O.name}),a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-4xl font-black ${O.currentStock<O.minStock?"text-red-700":"text-gray-900"}`,children:O.currentStock}),a.jsxs("p",{className:"text-[9px] font-bold text-gray-400 uppercase",children:[O.unit," em estoque"]})]}),a.jsx("div",{className:"p-3 bg-gray-100 text-gray-400 rounded-xl",children:a.jsx(Us,{size:24})})]})]})},O.id))}):a.jsx("div",{className:"bg-white rounded-[3rem] border border-gray-100 shadow-sm overflow-hidden animate-in fade-in",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-[10px] font-black text-gray-400 uppercase tracking-widest border-b border-gray-100",children:[a.jsx("th",{className:"px-8 py-5",children:"Funcionrio / Cargo"}),a.jsx("th",{className:"px-8 py-5",children:"EPI Entregue"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Data"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Ao"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50",children:b.map(O=>a.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[a.jsx("td",{className:"px-8 py-5",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-gray-100 text-gray-400 rounded-xl",children:a.jsx(la,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase",children:O.employeeName}),a.jsx("p",{className:"text-[9px] text-gray-400 font-bold uppercase",children:O.employeeRole})]})]})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"text-xs font-black text-gray-700 uppercase",children:O.ppeName}),a.jsxs("p",{className:"text-[9px] text-orange-600 font-bold uppercase",children:["Quantidade: ",O.quantity]})]}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("p",{className:"text-xs font-bold text-gray-400",children:new Date(O.date).toLocaleDateString("pt-BR")})}),a.jsxs("td",{className:"px-8 py-5 text-right",children:[a.jsx("div",{className:"flex justify-end gap-2",children:a.jsx("button",{onClick:()=>_(O),className:"p-3 bg-white text-gray-300 hover:text-blue-600 rounded-xl border border-gray-100 transition-all",children:a.jsx(Sa,{size:18})})}),a.jsx("div",{id:`termo-${O.id}`,className:"hidden",children:a.jsxs("div",{className:"p-12 space-y-10 text-gray-900 font-sans",children:[a.jsxs("div",{className:"text-center border-b-2 border-black pb-8",children:[a.jsx("h1",{className:"text-xl font-black uppercase",children:"Termo de Recebimento de EPI"}),a.jsx("p",{className:"text-sm font-bold uppercase",children:"Escola Andr Maggi"})]}),a.jsxs("p",{children:["Eu, ",a.jsx("strong",{children:O.employeeName})," (",O.employeeRole,"), recebi em ",new Date(O.date).toLocaleDateString("pt-BR")," o item ",a.jsx("strong",{children:O.ppeName})," (Qtd: ",O.quantity,")."]}),a.jsxs("div",{className:"pt-24 grid grid-cols-2 gap-20 text-center",children:[a.jsx("div",{className:"border-t border-black pt-2 uppercase text-[10px] font-black",children:"Servidor"}),a.jsx("div",{className:"border-t border-black pt-2 uppercase text-[10px] font-black",children:"Almoxarifado"})]})]})})]})]},O.id))})]})})}),o&&a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-gray-950/60 backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-2xl shadow-2xl overflow-hidden flex flex-col max-h-[95vh]",children:[a.jsxs("div",{className:"p-8 bg-orange-50 flex justify-between items-center border-b border-orange-100",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-orange-600 text-white rounded-3xl shadow-lg",children:a.jsx(ot,{size:28})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase",children:"Entrega de EPI"}),a.jsx("p",{className:"text-[10px] text-orange-600 font-bold uppercase mt-1",children:"Sincronizado com Zeladoria"})]})]}),a.jsx("button",{onClick:()=>l(!1),className:"p-3 bg-white text-gray-400 hover:text-red-500 rounded-2xl transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:a.jsxs("form",{onSubmit:j,className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Funcionrio"}),a.jsxs("select",{required:!0,value:g.employeeName,onChange:O=>{const M=h.find(D=>D.name===O.target.value);S({...g,employeeName:O.target.value,employeeRole:(M==null?void 0:M.scope)||"LIMPEZA"})},className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm uppercase outline-none focus:bg-white transition-all",children:[a.jsx("option",{value:"",children:"Selecione..."}),h.map(O=>a.jsx("option",{value:O.name,children:O.name},O.id))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Cargo"}),a.jsx("input",{disabled:!0,value:g.employeeRole,className:"w-full p-4 bg-gray-100 border border-gray-100 rounded-2xl font-black text-xs text-gray-500 uppercase"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"md:col-span-2 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"EPI"}),a.jsx("select",{required:!0,value:g.ppeId,onChange:O=>S({...g,ppeId:O.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm outline-none",children:x.map(O=>a.jsxs("option",{value:O.id,children:[O.name," (",O.currentStock," ",O.unit,")"]},O.id))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Qtd"}),a.jsx("input",{required:!0,type:"number",min:"1",value:g.quantity,onChange:O=>S({...g,quantity:parseInt(O.target.value)}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-lg text-center outline-none"})]})]}),a.jsx("button",{type:"submit",className:"w-full py-5 bg-orange-600 text-white rounded-3xl font-black uppercase text-sm tracking-[0.2em] shadow-2xl hover:bg-orange-700 transition-all",children:"Confirmar e Gerar Termo"})]})})]})})]})},G_e=[{id:"mat-k1",name:"DETERGENTE NEUTRO 500ML",category:"COZINHA",stock:45,minStock:24,unit:"FRASCO"},{id:"mat-k2",name:"GUA SANITRIA 2L (CLORO)",category:"COZINHA",stock:12,minStock:10,unit:"FRASCO"},{id:"mat-k3",name:"DESENGORDURANTE INDUSTRIAL 5L",category:"COZINHA",stock:4,minStock:5,unit:"GALO"},{id:"mat-k4",name:"SAPO EM P 1KG",category:"COZINHA",stock:8,minStock:10,unit:"PCT"},{id:"mat-k5",name:"LCOOL 70% 1L",category:"COZINHA",stock:15,minStock:12,unit:"FRASCO"},{id:"mat-k6",name:"ESPONJA DUPLA FACE (UNID)",category:"COZINHA",stock:30,minStock:20,unit:"UNID"},{id:"mat-k7",name:"PANO DE PRATO ALGODO",category:"COZINHA",stock:20,minStock:15,unit:"UNID"},{id:"mat-s1",name:"DESINFETANTE PERFUMADO 5L",category:"ESCOLA",stock:6,minStock:8,unit:"GALO"},{id:"mat-s2",name:"SABONETE LQUIDO INODORO 5L",category:"ESCOLA",stock:10,minStock:10,unit:"GALO"},{id:"mat-s3",name:"PAPEL TOALHA INTERFOLHADO (PCT)",category:"ESCOLA",stock:50,minStock:80,unit:"PCT"},{id:"mat-s4",name:"PAPEL HIGINICO ROLO (PCT)",category:"ESCOLA",stock:25,minStock:40,unit:"PCT"},{id:"mat-s5",name:"VASSOURA DE NYLON",category:"ESCOLA",stock:5,minStock:4,unit:"UNID"},{id:"mat-s6",name:"RODO PLSTICO 40CM",category:"ESCOLA",stock:3,minStock:5,unit:"UNID"},{id:"mat-s7",name:"BALDE PLSTICO 15L",category:"ESCOLA",stock:8,minStock:6,unit:"UNID"}],H_e=()=>{const[t,e]=R.useState("inventory"),[r,n]=R.useState("TODOS"),[s,i]=R.useState(""),[o,l]=R.useState(!1),[d,u]=R.useState(!1),[h,p]=R.useState(!1),[x,v]=R.useState([]),[b,w]=R.useState([]),[g,S]=R.useState([]),[k,y]=R.useState([]),[j,T]=R.useState({employeeName:"",employeeRole:"LIMPEZA",materialId:"",materialName:"",quantity:1,date:new Date().toISOString().split("T")[0]}),[_,O]=R.useState({materialId:"",supplier:"",receiverName:"",quantity:1,invoice:"",date:new Date().toISOString().split("T")[0]}),M=async()=>{try{const{data:P,error:U}=await ae.from("cleaning_materials").select("*").order("name");if(U)throw U;if(P&&P.length>0)w(P.map(Y=>({id:Y.id,name:Y.name,category:Y.category,stock:Y.stock,minStock:Y.min_stock,unit:Y.unit})));else if(P&&P.length===0){const{data:Y,error:se}=await ae.from("cleaning_materials").insert(G_e.map(K=>({name:K.name,category:K.category,stock:K.stock,min_stock:K.minStock,unit:K.unit}))).select();Y&&w(Y.map(K=>({id:K.id,name:K.name,category:K.category,stock:K.stock,minStock:K.min_stock,unit:K.unit})))}const{data:z,error:V}=await ae.from("cleaning_material_deliveries").select("*").order("timestamp",{ascending:!1});if(V)throw V;z&&S(z.map(Y=>({id:Y.id,employeeName:Y.employee_name,employeeRole:Y.employee_role,materialId:Y.material_id,materialName:"",quantity:Y.quantity,date:Y.date,timestamp:new Date(Y.timestamp).getTime()})).map(Y=>{const se=P==null?void 0:P.find(K=>K.id===Y.materialId);return{...Y,materialName:(se==null?void 0:se.name)||"Item desconhecido"}}))}catch(P){console.error("Erro ao buscar materiais:",P)}try{const{data:P,error:U}=await ae.from("cleaning_material_entries").select("*").order("timestamp",{ascending:!1});if(U)throw U;P&&y(P.map(z=>{const V=b.find(Y=>Y.id===z.material_id);return{...z,materialName:(V==null?void 0:V.name)||"Item desconhecido"}}))}catch{}};R.useEffect(()=>{M();const P=ae.channel("materials_changes").on("postgres_changes",{event:"*",schema:"public",table:"cleaning_materials"},M).on("postgres_changes",{event:"*",schema:"public",table:"cleaning_material_deliveries"},M).on("postgres_changes",{event:"*",schema:"public",table:"cleaning_material_entries"},M).subscribe(),U=()=>{const z=localStorage.getItem("secretariat_staff_v4");if(z)try{const V=JSON.parse(z);v(V.map(Y=>({id:Y.id,name:Y.name,scope:Y.jobFunction})))}catch{}else{const V=localStorage.getItem("cleaning_team_v1");V&&v(JSON.parse(V))}};return U(),window.addEventListener("storage",U),()=>{P.unsubscribe(),window.removeEventListener("storage",U)}},[]);const D=R.useMemo(()=>b.filter(P=>{const U=r==="TODOS"||P.category===r,z=P.name.toLowerCase().includes(s.toLowerCase());return U&&z}),[b,r,s]),F=R.useMemo(()=>{const P=b.length,U=b.filter(V=>V.stock<V.minStock).length,z=b.filter(V=>V.stock>=V.minStock&&V.stock<V.minStock*1.5).length;return{critical:U,low:z,ok:P-U-z,deliveredCount:g.length,entriesCount:k.length}},[b,g,k]),q=async P=>{P.preventDefault();const U=b.find(z=>z.id===j.materialId);if(!U)return alert("Selecione um material.");if(U.stock<j.quantity)return alert("Estoque insuficiente.");try{const{error:z}=await ae.from("cleaning_materials").update({stock:U.stock-j.quantity}).eq("id",U.id);if(z)throw z;const{error:V}=await ae.from("cleaning_material_deliveries").insert([{material_id:U.id,employee_name:j.employeeName,employee_role:j.employeeRole,quantity:j.quantity,date:j.date}]);if(V)throw V;l(!1),X(),alert("Sada registrada com sucesso!")}catch(z){console.error("Erro ao registrar sada:",z),alert("Erro ao registrar sada.")}},L=async P=>{P.preventDefault();const U=b.find(z=>z.id===_.materialId);if(!U)return alert("Selecione um material.");try{const{error:z}=await ae.from("cleaning_materials").update({stock:U.stock+_.quantity}).eq("id",U.id);if(z)throw z;const{error:V}=await ae.from("cleaning_material_entries").insert([{material_id:U.id,supplier:_.supplier,receiver_name:_.receiverName,quantity:_.quantity,invoice:_.invoice,date:_.date}]);if(V)throw V;u(!1),B(),alert("Entrada registrada com sucesso!")}catch(z){console.error("Erro ao registrar entrada:",z),alert("Erro ao registrar entrada.")}},B=()=>{O({materialId:"",supplier:"",receiverName:"",quantity:1,invoice:"",date:new Date().toISOString().split("T")[0]})},X=()=>{T({employeeName:"",employeeRole:"LIMPEZA",materialId:"",materialName:"",quantity:1,date:new Date().toISOString().split("T")[0]})};return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex flex-col justify-between h-32",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest leading-none",children:"Insumos em Dia"}),a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsx("p",{className:"text-3xl font-black text-emerald-600",children:F.ok}),a.jsx(Nt,{size:24,className:"text-emerald-500"})]})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-3xl border border-orange-100 shadow-sm flex flex-col justify-between h-32",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest leading-none",children:"Estoque Baixo"}),a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsx("p",{className:"text-3xl font-black text-orange-700",children:F.low}),a.jsx(rr,{size:24,className:"text-orange-500"})]})]}),a.jsxs("div",{className:"bg-red-50 p-6 rounded-3xl border border-red-100 shadow-sm flex flex-col justify-between h-32",children:[a.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest leading-none",children:"Crticos"}),a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsx("p",{className:"text-3xl font-black text-red-900",children:F.critical}),a.jsx(Xt,{size:24,className:"text-red-500"})]})]}),a.jsxs("div",{className:"bg-orange-950 p-6 rounded-3xl shadow-xl flex flex-col justify-between h-32 text-white",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-300 uppercase tracking-widest leading-none",children:"Reposio de Estoque"}),a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsx("p",{className:"text-3xl font-black",children:F.entriesCount}),a.jsx(xL,{size:24,className:"text-orange-400"})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row gap-6 items-center",children:[a.jsxs("div",{className:"flex bg-gray-100 p-1.5 rounded-2xl no-print",children:[a.jsx("button",{onClick:()=>e("inventory"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase transition-all ${t==="inventory"?"bg-orange-600 text-white shadow-lg":"text-gray-400 hover:text-gray-600"}`,children:"Insumos"}),a.jsx("button",{onClick:()=>e("entries"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase transition-all ${t==="entries"?"bg-orange-600 text-white shadow-lg":"text-gray-400 hover:text-gray-600"}`,children:"Entradas"}),a.jsx("button",{onClick:()=>e("deliveries"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase transition-all ${t==="deliveries"?"bg-orange-600 text-white shadow-lg":"text-gray-400 hover:text-gray-600"}`,children:"Sadas"})]}),a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:"Pesquisar material...",value:s,onChange:P=>i(P.target.value),className:"w-full pl-12 pr-6 py-3.5 bg-gray-50 border-none rounded-2xl font-bold text-sm outline-none focus:ring-4 focus:ring-orange-500/5 transition-all"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>u(!0),className:"px-6 py-4 bg-emerald-600 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-lg hover:bg-emerald-700 active:scale-95 transition-all flex items-center gap-2 shrink-0",children:[a.jsx(ot,{size:16})," Entrada"]}),a.jsxs("button",{onClick:()=>l(!0),className:"px-6 py-4 bg-orange-600 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-lg hover:bg-orange-700 active:scale-95 transition-all flex items-center gap-2 shrink-0",children:[a.jsx(IO,{size:16})," Sada"]})]})]}),t==="inventory"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in",children:D.map(P=>a.jsxs("div",{className:`p-6 rounded-[2.5rem] border-2 transition-all shadow-sm relative overflow-hidden group ${P.stock<P.minStock?"bg-red-50 border-red-100":"bg-white border-gray-100"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("span",{className:"text-[8px] font-black uppercase px-2 py-1 bg-gray-900 text-white rounded-lg",children:P.category}),a.jsxs("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:["Mnimo: ",P.minStock]})]}),a.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase leading-snug mb-6 h-10 line-clamp-2",children:P.name}),a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-4xl font-black ${P.stock<P.minStock?"text-red-700":"text-gray-900"}`,children:P.stock}),a.jsxs("p",{className:"text-[9px] font-bold text-gray-400 uppercase",children:[P.unit," em estoque"]})]}),a.jsx("div",{className:"p-4 bg-gray-100 text-gray-400 rounded-2xl",children:a.jsx(Ug,{size:28})})]})]},P.id))}):t==="deliveries"?a.jsx("div",{className:"bg-white rounded-[3rem] border border-gray-100 shadow-sm overflow-hidden animate-in fade-in",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-[10px] font-black text-gray-400 uppercase tracking-widest border-b border-gray-100",children:[a.jsx("th",{className:"px-8 py-5",children:"Colaborador"}),a.jsx("th",{className:"px-8 py-5",children:"Material"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Data"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50",children:g.map(P=>a.jsxs("tr",{className:"hover:bg-gray-50/50",children:[a.jsx("td",{className:"px-8 py-5",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-gray-100 text-gray-400 rounded-xl",children:a.jsx(la,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase",children:P.employeeName}),a.jsx("p",{className:"text-[9px] text-gray-400 font-bold uppercase",children:P.employeeRole})]})]})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"text-xs font-black text-gray-700 uppercase",children:P.materialName}),a.jsxs("p",{className:"text-[9px] text-orange-600 font-bold uppercase",children:["Quantidade: ",P.quantity]})]}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("p",{className:"text-xs font-bold text-gray-400",children:new Date(P.date).toLocaleDateString("pt-BR")})}),a.jsx("td",{className:"px-8 py-5 text-right",children:a.jsx("button",{className:"p-3 bg-white text-gray-300 hover:text-red-500 rounded-xl border border-gray-100 transition-all",children:a.jsx(Lt,{size:18})})})]},P.id))})]})}):a.jsx("div",{className:"bg-white rounded-[3rem] border border-gray-100 shadow-sm overflow-hidden animate-in fade-in",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-[10px] font-black text-gray-400 uppercase tracking-widest border-b border-gray-100",children:[a.jsx("th",{className:"px-8 py-5",children:"Fornecedor / Origem"}),a.jsx("th",{className:"px-8 py-5",children:"Recebedor (Servidor)"}),a.jsx("th",{className:"px-8 py-5",children:"Material"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Data"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Doc"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50",children:k.map(P=>a.jsxs("tr",{className:"hover:bg-gray-50/50",children:[a.jsx("td",{className:"px-8 py-5",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-emerald-50 text-emerald-600 rounded-xl",children:a.jsx(Mh,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase",children:P.supplier}),a.jsx("p",{className:"text-[9px] text-gray-400 font-bold uppercase",children:"Entrada de Estoque"})]})]})}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("p",{className:"text-xs font-black text-gray-700 uppercase",children:P.receiver_name||"---"})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"text-xs font-black text-gray-700 uppercase",children:P.materialName}),a.jsxs("p",{className:"text-[9px] text-emerald-600 font-bold uppercase",children:["Quantidade: +",P.quantity]})]}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("p",{className:"text-xs font-bold text-gray-400",children:new Date(P.date).toLocaleDateString("pt-BR")})}),a.jsx("td",{className:"px-8 py-5 text-right",children:a.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase border border-gray-100 px-2 py-1 rounded",children:P.invoice||"---"})})]},P.id))})]})}),d&&a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-gray-950/60 backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-2xl shadow-2xl overflow-hidden flex flex-col max-h-[95vh]",children:[a.jsxs("div",{className:"p-8 bg-emerald-50 flex justify-between items-center border-b border-emerald-100",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-emerald-600 text-white rounded-3xl shadow-lg",children:a.jsx(ot,{size:28})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase",children:"Registrar Entrada"}),a.jsx("p",{className:"text-[10px] text-emerald-600 font-bold uppercase mt-1",children:"Reposio de Estoque Andr Maggi"})]})]}),a.jsx("button",{onClick:()=>u(!1),className:"p-3 bg-white text-gray-400 hover:text-red-500 rounded-2xl transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:a.jsxs("form",{onSubmit:L,className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Fornecedor / Origem"}),a.jsx("input",{required:!0,placeholder:"Ex: Secretaria de Educao, Fornecedor X...",value:_.supplier,onChange:P=>O({..._,supplier:P.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm uppercase outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Servidor que Recebeu"}),a.jsxs("select",{required:!0,value:_.receiverName,onChange:P=>O({..._,receiverName:P.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm uppercase outline-none focus:bg-white transition-all",children:[a.jsx("option",{value:"",children:"Selecione..."}),x.map(P=>a.jsx("option",{value:P.name,children:P.name},P.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nota Fiscal / Doc (Opcional)"}),a.jsx("input",{placeholder:"Ex: NF 123456",value:_.invoice,onChange:P=>O({..._,invoice:P.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm uppercase outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Data de Entrada"}),a.jsx("input",{type:"date",value:_.date,onChange:P=>O({..._,date:P.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"md:col-span-2 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Material"}),a.jsxs("select",{required:!0,value:_.materialId,onChange:P=>O({..._,materialId:P.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm outline-none",children:[a.jsx("option",{value:"",children:"Selecione..."}),b.map(P=>a.jsxs("option",{value:P.id,children:[P.name," (Atual: ",P.stock," ",P.unit,")"]},P.id))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Qtd"}),a.jsx("input",{required:!0,type:"number",min:"1",value:_.quantity,onChange:P=>O({..._,quantity:parseInt(P.target.value)}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-lg text-center outline-none"})]})]}),a.jsx("button",{type:"submit",className:"w-full py-5 bg-emerald-600 text-white rounded-3xl font-black uppercase text-sm tracking-[0.2em] shadow-2xl hover:bg-emerald-700 transition-all",children:"Confirmar e Repor Estoque"})]})})]})}),o&&a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-gray-950/60 backdrop-blur-sm animate-in fade-in",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-2xl shadow-2xl overflow-hidden flex flex-col max-h-[95vh]",children:[a.jsxs("div",{className:"p-8 bg-orange-50 flex justify-between items-center border-b border-orange-100",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-orange-600 text-white rounded-3xl shadow-lg",children:a.jsx(IO,{size:28})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase",children:"Registrar Sada"}),a.jsx("p",{className:"text-[10px] text-orange-600 font-bold uppercase mt-1",children:"Controle de Insumos Andr Maggi"})]})]}),a.jsx("button",{onClick:()=>l(!1),className:"p-3 bg-white text-gray-400 hover:text-red-500 rounded-2xl transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:a.jsxs("form",{onSubmit:q,className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Recebedor"}),a.jsxs("select",{required:!0,value:j.employeeName,onChange:P=>{const U=x.find(z=>z.name===P.target.value);T({...j,employeeName:P.target.value,employeeRole:(U==null?void 0:U.scope)||"LIMPEZA"})},className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm uppercase outline-none focus:bg-white",children:[a.jsx("option",{value:"",children:"Selecione..."}),x.map(P=>a.jsx("option",{value:P.name,children:P.name},P.id))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Setor"}),a.jsx("input",{disabled:!0,value:j.employeeRole,className:"w-full p-4 bg-gray-100 border border-gray-100 rounded-2xl font-black text-xs text-gray-500 uppercase"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"md:col-span-2 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Material"}),a.jsxs("select",{required:!0,value:j.materialId,onChange:P=>T({...j,materialId:P.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm outline-none",children:[a.jsx("option",{value:"",children:"Selecione..."}),b.map(P=>a.jsxs("option",{value:P.id,children:[P.name," (",P.stock," ",P.unit,")"]},P.id))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Qtd"}),a.jsx("input",{required:!0,type:"number",min:"1",value:j.quantity,onChange:P=>T({...j,quantity:parseInt(P.target.value)}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-lg text-center outline-none"})]})]}),a.jsx("button",{type:"submit",className:"w-full py-5 bg-orange-600 text-white rounded-3xl font-black uppercase text-sm tracking-[0.2em] shadow-2xl hover:bg-orange-700 transition-all",children:"Confirmar e Dar Baixa"})]})})]})})]})},K_e={referenceYear:new Date().getFullYear(),city:"Colder-MT",schoolName:"ESCOLA ESTADUAL ANDR ANTNIO MAGGI",maintenances:[{id:"1",title:"Manuteno do Telhado",description:"Troca de telha (cermica por termoacstica 30 mm) em 332 m.",serviceValue:"R$ 46.760,87 (Material Incluso)",nfs:"2025-2544 e 2025-15446",date:"03/08/2025"},{id:"2",title:"Instalao de Suporte para Reservatrio",description:"Suporte pr-moldado em concreto e reservatrio de 3.000 L.",serviceValue:"R$ 4.500,00",materialValue:"R$ 3.300,00",nfs:"2025-145154 e 2025-54677",date:"15/09/2025"}],smallRepairs:["Reposio de vidros de janelas em salas de aula","Limpeza e desinfeco de caixas d'gua","Troca de tomadas e pequenos reparos eltricos","Manuteno preventiva em porto eletrnico","Solda e reforo de grades dos portes de acesso"],signatures:{director:"Maria XXXXX",treasurer:"Jos XXXXX"}},Y_e=({onBack:t})=>{const[e,r]=R.useState(K_e),[n,s]=R.useState(!1),[i,o]=R.useState("edit"),l=async()=>{s(!0);const g=document.getElementById("report-content");if(g)try{await window.html2pdf().set({margin:[10,10,10,10],filename:`Relatorio_Servicos_Executados_${e.referenceYear}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).from(g).save()}catch(S){console.error("Erro ao imprimir:",S),alert("Erro ao gerar PDF.")}s(!1)},d=()=>{r(g=>({...g,maintenances:[...g.maintenances,{id:Math.random().toString(36).substr(2,9),title:"Nova Manuteno",description:"",serviceValue:"",nfs:"",date:""}]}))},u=g=>{r(S=>({...S,maintenances:S.maintenances.filter(k=>k.id!==g)}))},h=(g,S,k)=>{r(y=>({...y,maintenances:y.maintenances.map(j=>j.id===g?{...j,[S]:k}:j)}))},p=(g,S,k)=>{var j;const y=(j=k.target.files)==null?void 0:j[0];if(y){const T=new FileReader;T.onloadend=()=>{r(_=>({..._,maintenances:_.maintenances.map(O=>O.id===g?{...O,[S==="before"?"beforePhoto":"afterPhoto"]:T.result}:O)}))},T.readAsDataURL(y)}},x=(g,S)=>{r(k=>({...k,maintenances:k.maintenances.map(y=>y.id===g?{...y,[S==="before"?"beforePhoto":"afterPhoto"]:void 0}:y)}))},v=()=>{r(g=>({...g,smallRepairs:[...g.smallRepairs,""]}))},b=(g,S)=>{r(k=>{const y=[...k.smallRepairs];return y[g]=S,{...k,smallRepairs:y}})},w=g=>{r(S=>({...S,smallRepairs:S.smallRepairs.filter((k,y)=>y!==g)}))};return a.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6 no-print sticky top-4 z-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:t,className:"p-3 bg-gray-100 hover:bg-gray-200 rounded-2xl transition-colors",children:a.jsx(cr,{size:24,className:"text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Relatrios de Manuteno"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Ano de Referncia:"}),a.jsx("input",{type:"number",value:e.referenceYear,onChange:g=>r({...e,referenceYear:parseInt(g.target.value)}),className:"w-20 px-2 py-1 bg-gray-50 border border-gray-200 rounded-lg text-sm font-bold text-gray-900 focus:ring-2 focus:ring-blue-500 outline-none"})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>o(i==="edit"?"preview":"edit"),className:`px-6 py-3 rounded-2xl font-black uppercase text-xs tracking-widest shadow-lg transition-all flex items-center gap-2 ${i==="edit"?"bg-blue-50 text-blue-600 hover:bg-blue-100":"bg-emerald-50 text-emerald-600 hover:bg-emerald-100"}`,children:i==="edit"?a.jsxs(a.Fragment,{children:[a.jsx(Bi,{size:18})," Visualizar"]}):a.jsxs(a.Fragment,{children:[a.jsx(sc,{size:18})," Editar"]})}),a.jsxs("button",{onClick:l,disabled:n,className:"px-8 py-3 bg-gray-900 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-black transition-all flex items-center gap-2 disabled:opacity-50",children:[n?a.jsx(vt,{size:18,className:"animate-spin"}):a.jsx(Sa,{size:18}),"Imprimir"]})]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[i==="edit"&&a.jsxs("div",{className:"w-full space-y-8 animate-in slide-in-from-left duration-300",children:[a.jsxs("section",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm space-y-4",children:[a.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[a.jsx(zt,{size:16})," Informaes Bsicas"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Cidade"}),a.jsx("input",{type:"text",value:e.city,onChange:g=>r({...e,city:g.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl font-medium text-sm border-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Nome da Escola"}),a.jsx("input",{type:"text",value:e.schoolName,onChange:g=>r({...e,schoolName:g.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl font-medium text-sm border-none focus:ring-2 focus:ring-blue-500"})]})]})]}),a.jsxs("section",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm space-y-4",children:[a.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[a.jsx(sc,{size:16})," Assinaturas"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Diretor(a)"}),a.jsx("input",{type:"text",value:e.signatures.director,onChange:g=>r({...e,signatures:{...e.signatures,director:g.target.value}}),className:"w-full p-3 bg-gray-50 rounded-xl font-medium text-sm border-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Tesoureiro(a)"}),a.jsx("input",{type:"text",value:e.signatures.treasurer,onChange:g=>r({...e,signatures:{...e.signatures,treasurer:g.target.value}}),className:"w-full p-3 bg-gray-50 rounded-xl font-medium text-sm border-none focus:ring-2 focus:ring-blue-500"})]})]})]}),a.jsxs("section",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[a.jsx(zt,{size:16})," Manutenes Realizadas"]}),a.jsx("button",{onClick:d,className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:a.jsx(ot,{size:16})})]}),a.jsx("div",{className:"space-y-6",children:e.maintenances.map((g,S)=>a.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl relative border border-gray-100 group",children:[a.jsx("button",{onClick:()=>u(g.id),className:"absolute top-2 right-2 p-1.5 bg-red-100 text-red-600 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity z-10",children:a.jsx(Lt,{size:14})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsx("input",{placeholder:"Ttulo da Manuteno",value:g.title,onChange:k=>h(g.id,"title",k.target.value),className:"w-full p-2 bg-transparent font-bold text-sm border-b border-gray-200 focus:border-blue-500 outline-none placeholder:text-gray-400"})}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("textarea",{placeholder:"Descrio detalhada...",value:g.description,onChange:k=>h(g.id,"description",k.target.value),className:"w-full p-2 bg-white rounded-lg text-sm border border-gray-200 focus:ring-2 focus:ring-blue-500 outline-none h-20 resize-none"})}),a.jsx("input",{placeholder:"Valor Servio",value:g.serviceValue,onChange:k=>h(g.id,"serviceValue",k.target.value),className:"w-full p-2 bg-white rounded-lg text-xs"}),a.jsx("input",{placeholder:"Valor Material (Opcional)",value:g.materialValue||"",onChange:k=>h(g.id,"materialValue",k.target.value),className:"w-full p-2 bg-white rounded-lg text-xs"}),a.jsx("input",{placeholder:"N NFs",value:g.nfs,onChange:k=>h(g.id,"nfs",k.target.value),className:"w-full p-2 bg-white rounded-lg text-xs"}),a.jsx("input",{type:"text",placeholder:"Data (dd/mm/aaaa)",value:g.date,onChange:k=>h(g.id,"date",k.target.value),className:"w-full p-2 bg-white rounded-lg text-xs"}),a.jsxs("div",{className:"md:col-span-2 grid grid-cols-2 gap-4 mt-2",children:[a.jsx("div",{className:"relative border-2 border-dashed border-gray-200 rounded-xl p-2 flex flex-col items-center justify-center min-h-[100px] bg-white",children:g.beforePhoto?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:g.beforePhoto,alt:"Antes",className:"w-full h-32 object-cover rounded-lg"}),a.jsx("button",{onClick:()=>x(g.id,"before"),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:a.jsx(Lt,{size:12})}),a.jsx("div",{className:"absolute bottom-1 right-1 px-2 py-0.5 bg-black/50 text-white text-[10px] uppercase font-bold rounded",children:"Antes"})]}):a.jsxs("label",{className:"cursor-pointer flex flex-col items-center gap-2 text-gray-400 w-full h-full justify-center hover:text-blue-500 transition-colors",children:[a.jsx(nc,{size:24}),a.jsx("span",{className:"text-xs font-bold uppercase",children:"Foto Antes"}),a.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:k=>p(g.id,"before",k)})]})}),a.jsx("div",{className:"relative border-2 border-dashed border-gray-200 rounded-xl p-2 flex flex-col items-center justify-center min-h-[100px] bg-white",children:g.afterPhoto?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:g.afterPhoto,alt:"Depois",className:"w-full h-32 object-cover rounded-lg"}),a.jsx("button",{onClick:()=>x(g.id,"after"),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:a.jsx(Lt,{size:12})}),a.jsx("div",{className:"absolute bottom-1 right-1 px-2 py-0.5 bg-black/50 text-white text-[10px] uppercase font-bold rounded",children:"Depois"})]}):a.jsxs("label",{className:"cursor-pointer flex flex-col items-center gap-2 text-gray-400 w-full h-full justify-center hover:text-emerald-500 transition-colors",children:[a.jsx(nc,{size:24}),a.jsx("span",{className:"text-xs font-bold uppercase",children:"Foto Depois"}),a.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:k=>p(g.id,"after",k)})]})})]})]})]},g.id))})]}),a.jsxs("section",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[a.jsx(zt,{size:16})," Pequenas Manutenes"]}),a.jsx("button",{onClick:v,className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:a.jsx(ot,{size:16})})]}),a.jsx("div",{className:"space-y-2",children:e.smallRepairs.map((g,S)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:g,onChange:k=>b(S,k.target.value),className:"flex-1 p-3 bg-gray-50 rounded-xl text-sm border-none focus:ring-2 focus:ring-blue-500",placeholder:"Descrio do reparo..."}),a.jsx("button",{onClick:()=>w(S),className:"p-3 bg-red-50 text-red-600 rounded-xl hover:bg-red-100",children:a.jsx(Lt,{size:16})})]},S))})]})]}),a.jsx("div",{className:`transition-all duration-300 ${i==="edit"?"hidden lg:block lg:w-[210mm]":"w-full flex justify-center"}`,children:a.jsx("div",{className:"bg-gray-50 p-8 rounded-[3rem] overflow-auto shadow-inner",children:a.jsxs("div",{id:"report-content",className:"w-[210mm] min-h-[297mm] mx-auto bg-white p-[15mm] shadow-2xl text-gray-900 font-serif relative",children:[a.jsxs("div",{className:"border-b-2 border-black pb-6 mb-8 text-center space-y-2",children:[a.jsx("h1",{className:"text-xl font-black uppercase tracking-wide",children:"Relatrio de Servios Executados"}),a.jsx("h2",{className:"text-sm font-bold uppercase",children:e.schoolName}),a.jsxs("p",{className:"text-xs uppercase text-gray-600",children:["Ano de Referncia: ",e.referenceYear]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-black uppercase bg-gray-100 p-2 mb-4 border-l-4 border-black",children:"I - Identificao"}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs uppercase leading-relaxed ml-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-bold",children:"Unidade Escolar:"})," ",e.schoolName]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-bold",children:"Municpio:"})," ",e.city.toUpperCase()]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-bold",children:"Imvel Prprio:"})," ( X ) SIM  (  ) NO"]})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-sm font-black uppercase bg-gray-100 p-2 mb-4 border-l-4 border-black",children:"II - Manutenes Realizadas"}),a.jsx("p",{className:"text-[10px] italic mb-4 ml-2",children:"Conforme Art. 36 (inciso XIII) da IN N 010/2024/GS/SEDUC/MT"}),a.jsx("div",{className:"space-y-6 ml-2",children:e.maintenances.map((g,S)=>a.jsxs("div",{className:"border border-gray-300 p-4 rounded-lg break-inside-avoid",children:[a.jsxs("h4",{className:"font-bold text-xs uppercase mb-2",children:[S+1,") ",g.title]}),a.jsx("p",{className:"text-xs mb-2 whitespace-pre-line",children:g.description}),a.jsxs("div",{className:`grid ${g.materialValue?"grid-cols-2":"grid-cols-1"} gap-4 text-[10px] bg-gray-50 p-2 rounded`,children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-bold",children:"Valor Servio:"})," ",g.serviceValue]}),g.materialValue&&a.jsxs("p",{children:[a.jsx("span",{className:"font-bold",children:"Valor Materiais:"})," ",g.materialValue]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-bold",children:"N das NFs:"})," ",g.nfs]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-bold",children:"Data das NFs:"})," ",g.date]})]}),(g.beforePhoto||g.afterPhoto)&&a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 border-t border-gray-200 pt-4",children:[a.jsx("div",{className:"space-y-1",children:g.beforePhoto&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-[10px] font-bold uppercase text-center bg-gray-100 py-1",children:"Antes"}),a.jsx("img",{src:g.beforePhoto,alt:"Antes",className:"w-full h-32 object-cover border border-gray-200"})]})}),a.jsx("div",{className:"space-y-1",children:g.afterPhoto&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-[10px] font-bold uppercase text-center bg-gray-100 py-1",children:"Depois"}),a.jsx("img",{src:g.afterPhoto,alt:"Depois",className:"w-full h-32 object-cover border border-gray-200"})]})})]})]},g.id))})]}),a.jsxs("section",{className:"break-inside-avoid",children:[a.jsx("h3",{className:"text-sm font-black uppercase bg-gray-100 p-2 mb-4 border-l-4 border-black",children:"III - Pequenas Manutenes (Rotina)"}),a.jsx("p",{className:"text-[10px] italic mb-4 ml-2",children:"Execues diretas sem solicitao externa via sistema."}),a.jsx("ul",{className:"list-disc list-inside text-xs uppercase ml-4 space-y-1",children:e.smallRepairs.map((g,S)=>a.jsx("li",{className:"break-words",children:g},S))})]}),a.jsxs("div",{className:"pt-16 mt-16 border-t-2 border-black grid grid-cols-2 gap-20 text-center uppercase text-[10px] font-bold break-inside-avoid",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"h-px bg-black w-3/4 mx-auto mb-2"}),a.jsx("p",{children:e.signatures.director}),a.jsx("p",{className:"text-[8px] text-gray-500",children:"Diretora Escolar / Presidente CDCE"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"h-px bg-black w-3/4 mx-auto mb-2"}),a.jsx("p",{children:e.signatures.treasurer}),a.jsx("p",{className:"text-[8px] text-gray-500",children:"Tesoureiro do CDCE"})]})]}),a.jsxs("div",{className:"text-center mt-12 text-[10px] uppercase font-bold text-gray-400",children:[e.city,", Dezembro de ",e.referenceYear]})]})]})})})]})]})},W_e=[{id:"mt-1",area:"ESTRUTURAL",title:"Vistorias Visuais dos Ambientes",description:"Rachaduras, infiltraes, instalaes eltricas e hidrulicas.",frequency:"DIRIA",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-2",area:"ESTRUTURAL",title:"Limpeza e Conservao de reas Comuns",description:"Manuteno contnua de pisos, paredes e reas comuns.",frequency:"DIRIA",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-3",area:"ELTRICA",title:"Monitoramento de Equipamentos Constantes",description:"Ventiladores, ar-condicionado, bebedouros.",frequency:"DIRIA",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-4",area:"ELTRICA",title:"Testes Bsicos Eltricos/Hidrulicos",description:"Verificao de funcionalidade simples em sistemas bsicos.",frequency:"SEMANAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-5",area:"HIDRULICA",title:"Inspeo de Ralos, Sifes e Vlvulas",description:"Preveno de entupimentos e vazamentos.",frequency:"SEMANAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-6",area:"INCNDIO",title:"Verificao de Extintores e Sinalizao",description:"Checagem visual de carga e placas de emergncia.",frequency:"SEMANAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-7",area:"HIDRULICA",title:"Inspeo de Reservatrios de gua",description:"Caixas dgua e cisternas.",frequency:"MENSAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-8",area:"HIDRULICA",title:"Verificao de Tubulaes e Registros",description:"Deteco de vazamentos e travamentos.",frequency:"MENSAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-9",area:"INCNDIO",title:"Sistemas de Combate a Incndio",description:"Hidrantes e mangueiras.",frequency:"MENSAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-10",area:"ESTRUTURAL",title:"Avaliao de Pintura e Revestimentos",description:"Manuteno de fachadas e salas.",frequency:"MENSAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-11",area:"ESTRUTURAL",title:"Reviso de Cobertura e Forros",description:"Telhas, lajes e forros de gesso/pvc.",frequency:"TRIMESTRAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-12",area:"ESTRUTURAL",title:"Inspeo de Esquadrias",description:"Portas e janelas.",frequency:"TRIMESTRAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-13",area:"ELTRICA",title:"Testes de Preveno (SPDA)",description:"Para-raios e aterramento.",frequency:"TRIMESTRAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-14",area:"ESTRUTURAL",title:"Avaliao de Quadras Poliesportivas",description:"Piso e pintura de demarcao.",frequency:"TRIMESTRAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-15",area:"INCNDIO",title:"Reviso de Instalaes de Gs",description:"Vlvulas, mangueiras e central.",frequency:"SEMESTRAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-16",area:"OUTROS",title:"Equipamentos Industriais (Cozinha)",description:"Fogo, forno, balco trmico.",frequency:"SEMESTRAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-17",area:"MOBILIRIO",title:"Verificao de Mobilirio Escolar",description:"Mesas, cadeiras e armrios.",frequency:"SEMESTRAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-18",area:"ELTRICA",title:"Manuteno Eltrica Completa",description:"Aperto de barramentos e reviso de quadros.",frequency:"ANUAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-19",area:"HIDRULICA",title:"Manuteno Hidrulica Completa",description:"Reviso de bombas e sistema principal.",frequency:"ANUAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-20",area:"ESTRUTURAL",title:"Inspeo de Muros e Calamentos",description:"Gradis e acessos externos.",frequency:"ANUAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-21",area:"ACESSIBILIDADE",title:"Avaliao de Acessibilidade",description:"Rampas, corrimos, piso ttil.",frequency:"ANUAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-22",area:"OUTROS",title:"Controle de Pragas e Drenagem",description:"Desinsetizao e limpeza de drenos.",frequency:"ANUAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"},{id:"mt-23",area:"OUTROS",title:"Reviso de Eletrnicos",description:"Computadores, Chromes e TVs.",frequency:"ANUAL",dueDate:new Date().toISOString().split("T")[0],status:"PENDENTE"}],X_e=({onNavigateToPreventive:t})=>{const[e,r]=R.useState("dashboard"),[n,s]=R.useState([]),[i,o]=R.useState("TODOS"),[l,d]=R.useState("TODOS"),[u,h]=R.useState(""),[p,x]=R.useState(!1),v=async()=>{try{const{data:k,error:y}=await ae.from("maintenance_tasks").select("*").order("due_date");if(y)throw y;if(k&&k.length>0)s(k.map(j=>({id:j.id,area:j.area,title:j.title,description:j.description,frequency:j.frequency,dueDate:j.due_date,status:j.status,lastPerformed:j.last_performed})));else if(k&&k.length===0){const{data:j,error:T}=await ae.from("maintenance_tasks").insert(W_e.map(_=>({area:_.area,title:_.title,description:_.description,frequency:_.frequency,due_date:_.dueDate,status:_.status}))).select();j&&s(j.map(_=>({id:_.id,area:_.area,title:_.title,description:_.description,frequency:_.frequency,dueDate:_.due_date,status:_.status,lastPerformed:_.last_performed})))}}catch(k){console.error("Erro ao buscar manuteno predial:",k)}};R.useEffect(()=>{v();const k=ae.channel("maintenance_changes").on("postgres_changes",{event:"*",schema:"public",table:"maintenance_tasks"},v).subscribe();return()=>{k.unsubscribe()}},[]);const b=R.useMemo(()=>{const k=n.length,y=n.filter(_=>_.status==="CONCLUIDO").length,j=n.filter(_=>{const O=new Date,M=new Date(_.dueDate);return _.status!=="CONCLUIDO"&&M<O}).length,T=n.filter(_=>{const O=new Date,F=(new Date(_.dueDate).getTime()-O.getTime())/(1e3*60*60*24);return _.status!=="CONCLUIDO"&&F>0&&F<7}).length;return{total:k,ok:y,alerts:T,delayed:j,percent:k>0?y/k*100:0}},[n]),w=R.useMemo(()=>n.filter(k=>{const y=i==="TODOS"||k.area===i,j=l==="TODOS"||k.frequency===l,T=k.title.toLowerCase().includes(u.toLowerCase());return y&&j&&T}),[n,i,l,u]),g=async(k,y)=>{try{await ae.from("maintenance_tasks").update({status:y}).eq("id",k)}catch(j){console.error("Erro ao atualizar status:",j)}},S=async k=>{const y=n.find(j=>j.id===k);if(y&&window.confirm("Confirmar execuo desta manuteno?")){const j=new Date(y.dueDate);y.frequency==="DIRIA"?j.setDate(j.getDate()+1):y.frequency==="SEMANAL"?j.setDate(j.getDate()+7):y.frequency==="MENSAL"?j.setMonth(j.getMonth()+1):y.frequency==="TRIMESTRAL"?j.setMonth(j.getMonth()+3):y.frequency==="SEMESTRAL"?j.setMonth(j.getMonth()+6):y.frequency==="ANUAL"?j.setFullYear(j.getFullYear()+1):y.frequency==="BIENAL"?j.setFullYear(j.getFullYear()+2):y.frequency==="QUINQUENAL"&&j.setFullYear(j.getFullYear()+5);try{await ae.from("maintenance_tasks").update({status:"CONCLUIDO",last_performed:new Date().toISOString(),due_date:j.toISOString().split("T")[0]}).eq("id",k),alert("Atividade concluda e prxima data agendada!")}catch(T){console.error("Erro ao concluir manuteno:",T),alert("Erro ao concluir manuteno.")}}};return e==="reports"?a.jsx(Y_e,{onBack:()=>r("dashboard")}):a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Total Atividades"}),a.jsx("p",{className:"text-3xl font-black text-gray-900 mt-1",children:b.total})]}),a.jsxs("div",{className:"bg-emerald-50 p-6 rounded-3xl border border-emerald-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest",children:"Em Conformidade"}),a.jsx("p",{className:"text-3xl font-black text-emerald-700 mt-1",children:b.ok})]}),a.jsxs("div",{className:"bg-amber-50 p-6 rounded-3xl border border-amber-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-amber-600 uppercase tracking-widest",children:"Vencimento Prximo"}),a.jsx("p",{className:"text-3xl font-black text-amber-700 mt-1",children:b.alerts})]}),a.jsxs("div",{className:"bg-red-50 p-6 rounded-3xl border border-red-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest",children:"Atrasadas"}),a.jsx("p",{className:"text-3xl font-black text-red-700 mt-1",children:b.delayed})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-gray-100 shadow-sm space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-3xl",children:a.jsx(zg,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter leading-none",children:"Painel Predial"}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mt-2",children:"Protocolo de Manuteno Escolar v2025"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:t,className:"px-6 py-4 bg-orange-50 text-orange-600 border border-orange-100 rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-orange-100 transition-all flex items-center gap-2",children:[a.jsx(ft,{size:18}),"Plano Preventivo"]}),a.jsxs("button",{onClick:()=>r("reports"),className:"px-8 py-4 bg-gray-900 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl hover:bg-black transition-all flex items-center gap-2",children:[a.jsx(zt,{size:18}),"Relatrios"]})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 border-t border-gray-50 pt-6",children:[a.jsxs("select",{value:i,onChange:k=>o(k.target.value),className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase outline-none focus:ring-4 focus:ring-blue-500/5 transition-all",children:[a.jsx("option",{value:"TODOS",children:"Todas as reas"}),a.jsx("option",{value:"ELTRICA",children:"Eltrica"}),a.jsx("option",{value:"HIDRULICA",children:"Hidrulica"}),a.jsx("option",{value:"ESTRUTURAL",children:"Estrutural"}),a.jsx("option",{value:"INCNDIO",children:"Incndio"}),a.jsx("option",{value:"MOBILIRIO",children:"Mobilirio"}),a.jsx("option",{value:"ACESSIBILIDADE",children:"Acessibilidade"})]}),a.jsxs("select",{value:l,onChange:k=>d(k.target.value),className:"p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase outline-none focus:ring-4 focus:ring-blue-500/5 transition-all",children:[a.jsx("option",{value:"TODOS",children:"Todas Periodicidades"}),a.jsx("option",{value:"DIRIA",children:"Diria / Contnua"}),a.jsx("option",{value:"SEMANAL",children:"Semanal"}),a.jsx("option",{value:"MENSAL",children:"Mensal"}),a.jsx("option",{value:"TRIMESTRAL",children:"Trimestral"}),a.jsx("option",{value:"SEMESTRAL",children:"Semestral"}),a.jsx("option",{value:"ANUAL",children:"Anual"})]}),a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:"Pesquisar atividade...",value:u,onChange:k=>h(k.target.value),className:"w-full pl-12 pr-6 py-4 bg-gray-50 border-none rounded-2xl font-bold text-sm outline-none focus:ring-4 focus:ring-blue-500/5 transition-all"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:w.map(k=>{const y=new Date,j=new Date(k.dueDate),_=(j.getTime()-y.getTime())/(1e3*60*60*24);let O=k.status;k.status!=="CONCLUIDO"&&(j<y?O="ATRASADO":_<7&&(O="ALERTA"));const M={PENDENTE:"bg-white border-gray-100 opacity-90",EM_EXECUCAO:"bg-blue-50 border-blue-200 ring-2 ring-blue-500/10",CONCLUIDO:"bg-emerald-50 border-emerald-200 opacity-75",ALERTA:"bg-amber-50 border-amber-200 animate-pulse",ATRASADO:"bg-red-50 border-red-200"},D=k.area==="ELTRICA"?Ho:k.area==="HIDRULICA"?Ug:k.area==="INCNDIO"?EL:k.area==="MOBILIRIO"?eu:k.area==="ESTRUTURAL"?qg:Hn;return a.jsx("div",{className:`p-6 rounded-[2.5rem] border-2 transition-all flex flex-col justify-between shadow-md relative overflow-hidden group ${M[O]}`,children:a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-3 rounded-2xl ${k.status==="CONCLUIDO"?"bg-emerald-100 text-emerald-600":"bg-white text-gray-600 shadow-sm"}`,children:a.jsx(D,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest leading-none mb-1",children:k.area}),a.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase leading-snug",children:k.title})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2",children:[O==="ATRASADO"&&a.jsx("span",{className:"px-2 py-0.5 bg-red-600 text-white rounded-lg text-[7px] font-black uppercase",children:"Vencido"}),O==="ALERTA"&&a.jsx("span",{className:"px-2 py-0.5 bg-amber-500 text-white rounded-lg text-[7px] font-black uppercase tracking-tighter",children:"Vencendo Logo"}),a.jsxs("select",{value:k.status,onChange:F=>g(k.id,F.target.value),className:`px-3 py-1.5 rounded-xl text-[8px] font-black uppercase border outline-none cursor-pointer transition-all ${k.status==="CONCLUIDO"?"bg-emerald-600 text-white border-emerald-700":k.status==="EM_EXECUCAO"?"bg-blue-600 text-white border-blue-700":"bg-white text-gray-900 border-gray-200 hover:bg-gray-50"}`,children:[a.jsx("option",{value:"PENDENTE",children:"A Executar"}),a.jsx("option",{value:"EM_EXECUCAO",children:"Em Execuo"}),a.jsx("option",{value:"CONCLUIDO",children:"Executado"})]})]})]}),a.jsx("p",{className:"text-xs text-gray-500 font-medium leading-relaxed line-clamp-2 h-8",children:k.description}),a.jsxs("div",{className:"mt-6 flex items-center justify-between border-t border-black/5 pt-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Periodicidade"}),a.jsx("p",{className:"text-[10px] font-black text-gray-900 uppercase",children:k.frequency})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Prximo Prazo"}),a.jsx("p",{className:`text-[10px] font-black ${O==="ATRASADO"?"text-red-600":O==="ALERTA"?"text-amber-600":"text-gray-900"}`,children:new Date(k.dueDate).toLocaleDateString("pt-BR")})]})]}),a.jsxs("button",{onClick:()=>S(k.id),className:`px-6 py-2.5 rounded-xl text-[9px] font-black uppercase transition-all shadow-sm flex items-center gap-2 ${k.status==="CONCLUIDO"?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-gray-900 text-white hover:bg-black"}`,children:[a.jsx(Nt,{size:14})," ",k.status==="CONCLUIDO"?"Concluir Prxima":"Marcar como Concludo"]})]})]})},k.id)})}),a.jsx("div",{className:"hidden"})]})},J_e=()=>{const t=[{ambiente:"1. Salas de Aula",diaria:"Remover p em mesas, cadeiras, quadro de vidro e TV; Varrer o piso; Manter cestos limpos; Inspees: vidros, lmpadas, fechaduras, mobilirio",semanal:"Eliminar marcas de lpis, caneta, adesivos e gomas; Remover mesas/cadeiras para limpeza completa do piso; Aplicar produto para conservao de pisos; Higienizar cestos",mensal:"Remover manchas do piso; Limpar paredes e rodaps; Limpar janelas; Limpar filtros do ar condicionado",trimestral:"Eliminar objetos aderidos  laje/forro; Lavar cortinas"},{ambiente:"2. Auditrio",diaria:"Remover p em mesas, cadeiras e equipamentos de udio/vdeo; Varrer o piso; Manter cestos limpos; Inspees: vidros, lmpadas, fechaduras, mobilirio",semanal:"Eliminar marcas em mobilirio e paredes; Remover cadeiras para limpeza completa do piso; Higienizar cestos",mensal:"Limpar paredes e rodaps; Limpar janelas; Limpar filtros do ar condicionado",trimestral:"Eliminar objetos aderidos  laje/forro; Lavar cortinas"},{ambiente:"3. Sala de Recursos",diaria:"Remover p em mesas, armrios, estantes, equipamentos pedaggicos e bancadas; Varrer o piso; Manter cestos limpos; Inspees dirias",semanal:"Eliminar marcas em mobilirio; Remover mobilirio para limpeza completa do piso; Higienizar cestos",mensal:"Limpar paredes e rodaps; Limpar janelas; Limpar filtros do ar condicionado",trimestral:"Eliminar objetos aderidos  laje/forro; Lavar cortinas"},{ambiente:"4. Laboratrios (Maker, Cincias, EF, APA)",diaria:"Remover p em bancadas, banquetas, mesas, racks, armrios, microscpios, computadores, TVs e demais equipamentos; Varrer o piso; Manter cestos limpos; Inspees: vidros, lmpadas, fechaduras, mobilirio, partes metlicas pontiagudas",semanal:"Eliminar marcas em mobilirio; Remover mobilirio para limpeza completa do piso; Higienizar cestos",mensal:"Remover manchas do piso; Limpar paredes e rodaps; Limpar janelas; Limpar filtros do ar condicionado; Limpar equipamentos eletroeletrnicos com produto especfico",trimestral:"Eliminar objetos aderidos  laje/forro; Lavar cortinas"},{ambiente:"5. Biblioteca",diaria:"Remover p em mesas, cadeiras, estantes de livros, balces, computadores e TVs; Varrer o piso; Manter cestos limpos; Inspees dirias",semanal:"Eliminar marcas em mobilirio; Remover mobilirio para limpeza completa do piso; Higienizar cestos",mensal:"Remover manchas do piso; Limpar paredes e rodaps; Limpar janelas; Limpar filtros do ar condicionado",trimestral:"Eliminar objetos aderidos  laje/forro; Lavar cortinas"},{ambiente:"6. Administrativos",diaria:"Remover p em mesas, cadeiras, armrios, estantes, balces, computadores, impressoras, telefones e TVs; Varrer o piso; Manter cestos limpos; Inspees dirias",semanal:"Eliminar marcas em mobilirio; Remover mobilirio para limpeza completa do piso; Higienizar cestos",mensal:"Remover manchas do piso; Limpar paredes e rodaps; Limpar janelas; Limpar filtros do ar condicionado",trimestral:"Eliminar objetos aderidos  laje/forro; Lavar cortinas"},{ambiente:"7. Sanitrios",diaria:"Lavar e desinfetar vasos sanitrios, mictrios e pias; Higienizar torneiras, maanetas e dispensadores; Repor papel higinico, papel toalha e sabonete lquido; Varrer o piso com desinfetante; Manter lixeiras limpas; Inspees: verificar vazamentos, entupimentos e funcionamento das descargas",semanal:"Limpeza profunda de azulejos e rejuntes; Higienizar portas e divisrias; Lavar lixeiras",mensal:"Desincrustar pisos e paredes; Limpar ralos e sifes; Revisar ventilao/exaustores",trimestral:"Reviso geral de encanamentos e acessrios; Limpeza completa de teto e luminrias externas"},{ambiente:"8. Corredores, Rampas e Hall",diaria:"Varrer o piso; Remover p de corrimos, guarda-corpos e balces de recepo; Manter cestos limpos; Inspees: iluminao, corrimos, portas de acesso e sinalizao",semanal:"Limpeza detalhada de corrimos, guarda-corpos e balces; Higienizar cestos; Remover marcas nas paredes",mensal:"Remover manchas do piso; Limpar paredes e rodaps; Limpar janelas e portas de acesso",trimestral:"Reviso geral de corrimos, guarda-corpos e balces; Limpeza completa de teto e sinalizao"},{ambiente:"9. Caladas (internas)",diaria:"Varrer o piso interno; Remover folhas, resduos e objetos soltos; Lavar com gua e detergente neutro; Inspees: rachaduras, buracos e acmulo de lixo",semanal:"Limpeza detalhada das reas internas; Remover manchas superficiais; Higienizar lixeiras",mensal:"Lavagem completa com jato de gua ou lavadora; Remover manchas persistentes; Revisar drenagem",trimestral:"Reviso geral de pisos internos; Reparos em rachaduras e nivelamento; Limpeza completa de reas de difcil acesso"},{ambiente:"10. Calada Externa",diaria:"Varrer toda a extenso externa; Remover folhas, galhos e resduos; Lavar com gua e detergente neutro; Inspees: rachaduras, buracos, acmulo de lixo e sinalizao externa; Retirar matos das juntas e bordas",semanal:"Limpeza detalhada das reas externas; Remover manchas superficiais; Higienizar lixeiras externas; Controle de matos",mensal:"Lavagem completa com jato de gua ou lavadora de alta presso; Remover manchas persistentes; Revisar drenagem externa; Remoo de matos resistentes",trimestral:"Reviso geral de pisos externos; Reparos em rachaduras e nivelamento; Limpeza completa de reas de difcil acesso; Tratamento preventivo contra matos"}];return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsx("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm no-print",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-orange-600 text-white rounded-3xl shadow-lg",children:a.jsx(ft,{size:32})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:"Protocolo Operacional de Zeladoria"}),a.jsx("p",{className:"text-gray-500 font-bold text-xs uppercase tracking-widest mt-1",children:"Manual de Procedimentos Andr Maggi v2025"})]})]}),a.jsxs("button",{onClick:()=>window.print(),className:"px-8 py-4 bg-gray-900 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl hover:bg-black transition-all flex items-center gap-2",children:[a.jsx(Sa,{size:16})," Imprimir Ficha de Afixao"]})]})}),a.jsxs("div",{id:"manual-printable",className:"bg-white rounded-[3rem] border border-gray-100 shadow-sm overflow-hidden print:shadow-none print:border-none",children:[a.jsx("div",{className:"p-8 border-b border-gray-50 bg-gray-50/50 flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(rl,{className:"text-orange-600"}),a.jsx("h3",{className:"text-lg font-black text-gray-900 uppercase tracking-tight",children:"Tabela de Atividades e Frequncias por Setor"})]})}),a.jsx("div",{className:"overflow-x-auto p-8",children:a.jsxs("table",{className:"w-full text-left border-collapse border border-gray-200",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-900 text-white",children:[a.jsx("th",{className:"p-4 border border-gray-700 uppercase text-[9px] font-black w-48",children:"Ambiente / Setor"}),a.jsx("th",{className:"p-4 border border-gray-700 uppercase text-[9px] font-black",children:"Diria"}),a.jsx("th",{className:"p-4 border border-gray-700 uppercase text-[9px] font-black",children:"Semanal"}),a.jsx("th",{className:"p-4 border border-gray-700 uppercase text-[9px] font-black",children:"Mensal"}),a.jsx("th",{className:"p-4 border border-gray-700 uppercase text-[9px] font-black",children:"Trimestral"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map((e,r)=>a.jsxs("tr",{className:"hover:bg-orange-50/30 transition-colors",children:[a.jsx("td",{className:"p-4 border border-gray-200 font-black text-[10px] uppercase text-gray-900 leading-tight",children:e.ambiente}),a.jsx("td",{className:"p-4 border border-gray-200 text-[9px] text-gray-600 font-medium leading-relaxed",children:e.diaria}),a.jsx("td",{className:"p-4 border border-gray-200 text-[9px] text-gray-500 italic leading-relaxed",children:e.semanal}),a.jsx("td",{className:"p-4 border border-gray-200 text-[9px] text-gray-500 leading-relaxed",children:e.mensal}),a.jsx("td",{className:"p-4 border border-gray-200 text-[9px] text-gray-500 leading-relaxed",children:e.trimestral})]},r))})]})})]}),a.jsx("style",{children:`
        @media print {
          .no-print { display: none !important; }
          #manual-printable { border: none !important; }
          table { font-size: 7pt !important; }
          body { background: white !important; }
        }
      `})]})},Q_e=({employees:t})=>{const[e,r]=R.useState([]),[n,s]=R.useState(!0),[i,o]=R.useState({"Bloco I - Trreo":!0}),[l,d]=R.useState("ALL"),[u,h]=R.useState(!1),[p,x]=R.useState(null),[v,b]=R.useState("");R.useEffect(()=>{w()},[]);const w=async()=>{s(!0);try{const{data:M,error:D}=await ae.from("maintenance_tasks").select("*").order("area_name");if(D)throw D;const{data:F,error:q}=await ae.from("maintenance_records").select("task_id, completed_at, status").order("completed_at",{ascending:!1});if(q)throw q;const L=M.map(B=>{const X=F.find(U=>U.task_id===B.id);let P="PENDENTE";if(X){const U=new Date(X.completed_at),V=Math.abs(new Date().getTime()-U.getTime()),Y=Math.ceil(V/(1e3*60*60*24));B.frequency==="DIARIA"&&Y<=1||B.frequency==="SEMANAL"&&Y<=7||B.frequency==="MENSAL"&&Y<=30||B.frequency==="BIMESTRAL"&&Y<=60?P="CONCLUIDO":P="ATRASADO"}return{...B,last_executed_at:X?X.completed_at:null,status:P}});r(L)}catch(M){console.error("Error fetching maintenance tasks:",M)}finally{s(!1)}},g=async M=>{try{const{error:D}=await ae.from("maintenance_records").insert([{task_id:M.id,status:"CONCLUIDO",completed_at:new Date().toISOString(),performed_by_name:M.assigned_employee_name}]);if(D)throw D;r(F=>F.map(q=>q.id===M.id?{...q,status:"CONCLUIDO",last_executed_at:new Date().toISOString()}:q))}catch(D){console.error("Error completing task:",D),alert("Erro ao concluir tarefa.")}},S=M=>{o(D=>({...D,[M]:!D[M]}))},k=async()=>{if(!(!p||!v))try{const{error:M}=await ae.from("maintenance_tasks").update({assigned_employee_name:v}).match({block:p.block,area_name:p.area});if(M)throw M;r(D=>D.map(F=>F.block===p.block&&F.area_name===p.area?{...F,assigned_employee_name:v}:F)),h(!1),x(null),b(""),alert("Responsvel definido com sucesso!")}catch(M){console.error("Error assigning employee:",M),alert("Erro ao definir responsvel.")}},y=async()=>{const M=document.getElementById("weekly-report-print");if(!M)return;const D={margin:5,filename:`Relatorio_Semanal_Manutencao_${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};await window.html2pdf().set(D).from(M).save()},j=e.reduce((M,D)=>(l!=="ALL"&&D.frequency!==l||(M[D.block]||(M[D.block]={}),M[D.block][D.area_name]||(M[D.block][D.area_name]=[]),M[D.block][D.area_name].push(D)),M),{}),T=M=>{switch(M){case"DIARIA":return"Diria";case"SEMANAL":return"Semanal";case"MENSAL":return"Mensal";case"BIMESTRAL":return"Bimestral";default:return M}},_=M=>{switch(M){case"DIARIA":return"text-blue-600 bg-blue-50";case"SEMANAL":return"text-purple-600 bg-purple-50";case"MENSAL":return"text-orange-600 bg-orange-50";case"BIMESTRAL":return"text-pink-600 bg-pink-50";default:return"text-gray-600 bg-gray-50"}},O=(M,D)=>{var q;return((q=e.filter(L=>L.block===M&&L.area_name===D).find(L=>L.assigned_employee_name))==null?void 0:q.assigned_employee_name)||null};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 w-full md:w-auto",children:["ALL","DIARIA","SEMANAL","MENSAL","BIMESTRAL"].map(M=>a.jsx("button",{onClick:()=>d(M),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-wider border transition-all ${l===M?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white text-gray-500 border-gray-100 hover:bg-gray-50"}`,children:M==="ALL"?"Todos":T(M)},M))}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:y,className:"px-6 py-2.5 bg-gray-900 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-black transition-all flex items-center gap-2 shadow-lg",children:[a.jsx(Sa,{size:16})," Imprimir Relatrio"]}),a.jsxs("div",{className:"text-right hidden md:block",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400",children:"Total de Tarefas"}),a.jsx("p",{className:"text-2xl font-black text-gray-900 leading-none",children:e.length})]})]})]}),n?a.jsx("div",{className:"text-center py-20 text-gray-400",children:"Carregando cronograma..."}):Object.keys(j).length===0?a.jsxs("div",{className:"text-center py-20 bg-white rounded-[2rem] border-2 border-dashed border-gray-100",children:[a.jsx(kr,{size:48,className:"mx-auto text-gray-200 mb-4"}),a.jsx("p",{className:"text-gray-400 font-bold uppercase text-xs",children:"Nenhuma tarefa encontrada"})]}):a.jsx("div",{className:"space-y-4",children:Object.keys(j).sort().map(M=>a.jsxs("div",{className:"bg-white rounded-[2rem] border border-gray-100 overflow-hidden shadow-sm",children:[a.jsxs("button",{onClick:()=>S(M),className:"w-full flex items-center justify-between p-6 bg-gray-50/50 hover:bg-gray-50 transition-colors",children:[a.jsxs("h3",{className:"text-lg font-black text-gray-900 uppercase tracking-tight flex items-center gap-3",children:[M.includes("Bloco I")?a.jsx("span",{className:"w-2 h-8 bg-indigo-500 rounded-full"}):M.includes("Bloco II")?a.jsx("span",{className:"w-2 h-8 bg-emerald-500 rounded-full"}):a.jsx("span",{className:"w-2 h-8 bg-amber-500 rounded-full"}),M]}),i[M]?a.jsx(bL,{className:"text-gray-400"}):a.jsx(ga,{className:"text-gray-400"})]}),i[M]&&a.jsx("div",{className:"divide-y divide-gray-100",children:Object.keys(j[M]).sort().map(D=>{const F=O(M,D);return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h4",{className:"text-sm font-black text-gray-700 uppercase flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300"}),D]}),a.jsxs("button",{onClick:()=>{x({block:M,area:D}),b(F||""),h(!0)},className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-50 text-indigo-600 rounded-lg hover:bg-indigo-100 transition-colors text-[9px] font-black uppercase tracking-wide",children:[a.jsx(lc,{size:12}),F||"Definir Responsvel"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:j[M][D].map(q=>a.jsxs("div",{className:`p-4 rounded-xl border transition-all ${q.status==="CONCLUIDO"?"bg-emerald-50/30 border-emerald-100":q.status==="ATRASADO"?"bg-red-50/30 border-red-100":"bg-white border-gray-100 hover:border-indigo-100 hover:shadow-sm"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("span",{className:`px-2 py-1 rounded-lg text-[8px] font-black uppercase tracking-wider ${_(q.frequency)}`,children:T(q.frequency)}),q.status==="ATRASADO"&&a.jsx("span",{className:"text-red-500",children:a.jsx(Xt,{size:12})})]}),a.jsx("p",{className:"text-xs font-bold text-gray-700 mb-3 line-clamp-2",children:q.task_description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-[9px] text-gray-400 font-medium",children:q.last_executed_at?`ltima: ${new Date(q.last_executed_at).toLocaleDateString("pt-BR")}`:"Nunca executado"}),a.jsx("button",{onClick:()=>g(q),disabled:q.status==="CONCLUIDO",className:`p-2 rounded-full transition-all ${q.status==="CONCLUIDO"?"bg-emerald-100 text-emerald-600 cursor-default":"bg-gray-100 text-gray-400 hover:bg-indigo-600 hover:text-white"}`,title:q.status==="CONCLUIDO"?"Concludo":"Marcar como Feito",children:a.jsx(Nt,{size:16})})]})]},q.id))})]},D)})})]},M))}),u&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-gray-950/80 backdrop-blur-md",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-sm shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 bg-indigo-50 border-b border-indigo-100 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-black text-gray-900 uppercase",children:"Definir Responsvel"}),a.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-red-500",children:a.jsx(Ze,{size:20})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"rea"}),a.jsx("p",{className:"text-sm font-bold text-gray-900",children:p==null?void 0:p.area}),a.jsx("p",{className:"text-xs text-gray-500",children:p==null?void 0:p.block})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Profissional"}),a.jsxs("select",{value:v,onChange:M=>b(M.target.value),className:"w-full p-3 bg-gray-50 border border-gray-100 rounded-xl font-bold text-sm outline-none focus:ring-2 focus:ring-indigo-500/20",children:[a.jsx("option",{value:"",children:"Selecione..."}),t.map(M=>a.jsx("option",{value:M.name,children:M.name},M.id))]})]}),a.jsx("button",{onClick:k,className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-black uppercase text-xs tracking-widest hover:bg-indigo-700 transition-all shadow-lg",children:"Salvar Vnculo"})]})]})}),a.jsxs("div",{id:"weekly-report-print",className:"hidden print:block bg-white p-8",children:[a.jsxs("div",{className:"text-center border-b-2 border-gray-800 pb-4 mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold uppercase",children:"Relatrio Semanal de Manuteno"}),a.jsx("p",{className:"text-sm text-gray-600 uppercase",children:"Escola Estadual Andr Maggi"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Gerado em: ",new Date().toLocaleDateString("pt-BR")]})]}),a.jsx("div",{className:"space-y-6",children:Object.keys(j).sort().map(M=>a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold uppercase bg-gray-100 p-2 mb-2 border-l-4 border-black",children:M}),a.jsx("div",{className:"space-y-4",children:Object.keys(j[M]).sort().map(D=>{const F=O(M,D);return a.jsxs("div",{className:"break-inside-avoid",children:[a.jsxs("div",{className:"flex justify-between items-end mb-1 border-b border-gray-300 pb-1",children:[a.jsx("h4",{className:"text-sm font-bold uppercase",children:D}),a.jsxs("span",{className:"text-xs uppercase text-gray-600",children:["Resp: ",F||"_________________"]})]}),a.jsxs("table",{className:"w-full text-left text-xs mb-4",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"py-1 w-1/2",children:"Tarefa"}),a.jsx("th",{className:"py-1 w-1/6",children:"Freq."}),a.jsx("th",{className:"py-1 w-1/6",children:"Execuo"}),a.jsx("th",{className:"py-1 w-1/6 text-center",children:"Status"})]})}),a.jsx("tbody",{children:j[M][D].map(q=>a.jsxs("tr",{className:"border-b border-gray-100",children:[a.jsx("td",{className:"py-1 pr-2",children:q.task_description}),a.jsx("td",{className:"py-1 text-[10px]",children:q.frequency}),a.jsx("td",{className:"py-1 text-[10px]",children:q.last_executed_at?new Date(q.last_executed_at).toLocaleDateString("pt-BR"):"-"}),a.jsx("td",{className:"py-1 text-center",children:q.status==="CONCLUIDO"?"OK":"[ ]"})]},q.id))})]})]},D)})})]},M))}),a.jsxs("div",{className:"mt-12 flex justify-between gap-8 pt-8 border-t border-gray-300",children:[a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("div",{className:"border-t border-black w-3/4 mx-auto pt-2"}),a.jsx("p",{className:"text-xs font-bold uppercase",children:"Gesto Escolar"})]}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("div",{className:"border-t border-black w-3/4 mx-auto pt-2"}),a.jsx("p",{className:"text-xs font-bold uppercase",children:"Responsvel Manuteno"})]})]}),a.jsx("style",{children:`
                    @media print {
                        @page { margin: 10mm; }
                        body { -webkit-print-color-adjust: exact; }
                    }
                `})]})]})},Z_e=[{category:"SISTEMAS CONSTRUTIVOS",item:"Estrutura (Alvenaria/Concreto)",intervention:"Inspeo Visual",description:"Verificar fissuras, infiltraes, desprendimento de revestimentos.",frequency:"SEMESTRAL"},{category:"COBERTURA",item:"Telhas",intervention:"Inspeo Visual",description:"Verificar telhas quebradas, soltas ou desalinhadas.",frequency:"SEMESTRAL"},{category:"COBERTURA",item:"Estrutura do Telhado",intervention:"Inspeo Visual",description:"Avaliar estado da madeira/metal (ferrugem, cupim) e fixaes.",frequency:"SEMESTRAL"},{category:"COBERTURA",item:"Calhas e Rufos",intervention:"Limpeza",description:"Remover folhas e detritos para evitar entupimentos.",frequency:"SEMESTRAL"},{category:"FORRO",item:"Placas e Estrutura",intervention:"Inspeo Visual",description:"Verificar manchas, ondulaes, infiltraes e fixao.",frequency:"SEMESTRAL"},{category:"PISOS E REVESTIMENTOS",item:"Pisos Internos",intervention:"Inspeo Visual",description:"Verificar peas soltas, trincadas ou manchadas.",frequency:"ANUAL"},{category:"PINTURA",item:"Paredes Internas/Externas",intervention:"Inspeo Visual",description:"Verificar manchas, bolhas, descascamento.",frequency:"BIENAL"},{category:"ESQUADRIAS",item:"Portas e Janelas",intervention:"Inspeo Visual",description:"Verificar empenamento, trincos, fechaduras e vidros.",frequency:"ANUAL"},{category:"ESQUADRIAS",item:"Dobradias/Fechaduras",intervention:"Limpeza/Lubrificao",description:"Lubrificar para garantir funcionamento suave.",frequency:"ANUAL"},{category:"ELTRICA",item:"Fiao e Cabos",intervention:"Inspeo Visual",description:"Identificar desgastes, superaquecimento, fios expostos.",frequency:"ANUAL"},{category:"ELTRICA",item:"Quadros de Energia",intervention:"Limpeza",description:"Remover poeira (por especialista) para evitar superaquecimento.",frequency:"TRIMESTRAL"},{category:"ELTRICA",item:"SPDA (Para-raios)",intervention:"Inspeo Visual",description:"Verificar integridade de captores e descidas.",frequency:"ANUAL"},{category:"ELTRICA",item:"Aterramento",intervention:"Teste",description:"Medio de resistncia de terra (Especialista).",frequency:"ANUAL"},{category:"HIDRULICA",item:"Caixa d'gua / Cisterna",intervention:"Inspeo Visual",description:"Verificar rachaduras na estrutura e vedao da tampa.",frequency:"ANUAL"},{category:"HIDRULICA",item:"Caixa d'gua / Cisterna",intervention:"Limpeza",description:"Limpeza completa e desinfeco.",frequency:"ANUAL"},{category:"HIDRULICA",item:"Ralos e Sifes",intervention:"Limpeza",description:"Remover resduos e verificar escoamento.",frequency:"MENSAL"},{category:"HIDRULICA",item:"Vlvulas de Descarga",intervention:"Inspeo Visual",description:"Verificar vazamentos e funcionamento do acionamento.",frequency:"MENSAL"},{category:"HIDRULICA",item:"Caixa de Gordura",intervention:"Limpeza",description:"Remoo de gordura e resduos slidos.",frequency:"MENSAL"},{category:"HIDRULICA",item:"Instalaes de Gs",intervention:"Inspeo Visual",description:"Verificar validade de mangueiras e vazamentos (gua+sabo).",frequency:"MENSAL"},{category:"INCNDIO",item:"Extintores",intervention:"Inspeo Visual",description:"Verificar manmetro, lacre, validade e acesso desobstrudo.",frequency:"MENSAL"},{category:"INCNDIO",item:"Hidrantes",intervention:"Teste",description:"Teste de funcionamento e vedao.",frequency:"ANUAL"},{category:"INCNDIO",item:"Iluminao de Emergncia",intervention:"Teste",description:"Simular falta de energia para verificar acionamento.",frequency:"SEMESTRAL"},{category:"EXTERNA",item:"Muros e Gradis",intervention:"Inspeo Visual",description:"Verificar estabilidade, fissuras e corroso.",frequency:"SEMESTRAL"},{category:"EXTERNA",item:"Depsito de Lixo",intervention:"Limpeza",description:"Limpeza profunda e desinfeco.",frequency:"SEMANAL"},{category:"EXTERNA",item:"Calhas e Drenagem",intervention:"Limpeza",description:"Desobstruo de canaletas e caixas de areia.",frequency:"SEMESTRAL"},{category:"EXTERNA",item:"Controle de Pragas",intervention:"Dedetizao",description:"Servio especializado.",frequency:"SEMESTRAL"},{category:"EQUIPAMENTOS",item:"Ar Condicionado",intervention:"Limpeza de Filtros",description:"Limpeza dos filtros de ar.",frequency:"MENSAL"},{category:"EQUIPAMENTOS",item:"Ar Condicionado",intervention:"Limpeza Interna",description:"Higienizao profunda (Especialista).",frequency:"SEMESTRAL"},{category:"EQUIPAMENTOS",item:"Bebedouros",intervention:"Troca de Filtro",description:"Substituio do elemento filtrante.",frequency:"MENSAL"},{category:"EQUIPAMENTOS",item:"Bebedouros",intervention:"Higienizao",description:"Limpeza interna do reservatrio.",frequency:"SEMESTRAL"},{category:"EQUIPAMENTOS",item:"Computadores",intervention:"Limpeza Externa",description:"Remover poeira de gabinete e perifricos.",frequency:"ANUAL"}],eCe=({employees:t})=>{const[e,r]=R.useState([]),[n,s]=R.useState(!0),[i,o]=R.useState(""),[l,d]=R.useState("TODOS"),[u,h]=R.useState(null);R.useEffect(()=>{(async()=>{try{const{data:_,error:O}=await ae.from("preventive_maintenance_plan").select("*");if(O)throw O;if(_&&_.length>0)r(_);else{const M=Z_e.map(q=>({...q,status:"PENDENTE",created_at:new Date().toISOString()})),{data:D,error:F}=await ae.from("preventive_maintenance_plan").insert(M).select();if(F)throw F;D&&r(D)}}catch(_){console.error("Error loading plan:",_)}finally{s(!1)}})()},[]);const p=async(T,_)=>{r(O=>O.map(M=>M.id===T?{...M,..._}:M));try{await ae.from("preventive_maintenance_plan").update(_).eq("id",T)}catch(O){console.error("Failed to update item:",O)}},x=R.useMemo(()=>Array.from(new Set(e.map(T=>T.category))),[e]),v=R.useMemo(()=>e.filter(T=>{const _=T.item.toLowerCase().includes(i.toLowerCase())||T.description.toLowerCase().includes(i.toLowerCase()),O=l==="TODOS"||T.category===l;return _&&O}),[e,i,l]),b=R.useMemo(()=>{const T={};return v.forEach(_=>{T[_.category]||(T[_.category]=[]),T[_.category].push(_)}),T},[v]);R.useEffect(()=>{const T=Object.keys(b);T.length>0&&(!u||!T.includes(u))&&h(T[0])},[b]);const w=R.useMemo(()=>{const T=e.length,_=e.filter(q=>q.status==="CONCLUIDO").length,O=e.filter(q=>q.status==="PENDENTE").length,M=e.filter(q=>q.status==="EM_EXECUCAO").length,D=e.reduce((q,L)=>q+(L.cost||0),0),F=T>0?Math.round(_/T*100):0;return{total:T,completed:_,pending:O,ongoing:M,totalCost:D,progress:F}},[e]),g=T=>{switch(T){case"CONCLUIDO":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"EM_EXECUCAO":return"bg-blue-100 text-blue-800 border-blue-200";case"AGENDADO":return"bg-amber-100 text-amber-800 border-amber-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},S=T=>{if(!T)return"normal";const _=new Date,O=new Date(T),M=Math.ceil((O.getTime()-_.getTime())/(1e3*60*60*24));return M<0?"overdue":M<=7?"urgent":"normal"},k=(T,_)=>{const O=new Date(T);switch(_){case"SEMANAL":O.setDate(O.getDate()+7);break;case"MENSAL":O.setMonth(O.getMonth()+1);break;case"TRIMESTRAL":O.setMonth(O.getMonth()+3);break;case"SEMESTRAL":O.setMonth(O.getMonth()+6);break;case"ANUAL":O.setFullYear(O.getFullYear()+1);break;case"BIENAL":O.setFullYear(O.getFullYear()+2);break}return O.toISOString().split("T")[0]},y=(T,_,O)=>{const M=k(_,O);p(T,{lastExecutionDate:_,nextDueDate:M,status:"CONCLUIDO"})},j=T=>{const _=`report-${T}`,O=document.getElementById(_);O&&window.html2pdf().set({margin:10,filename:`${T}_SEDUC_2025.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:T==="ANEXO_II"?"landscape":"portrait"}}).from(O).save()};return n?a.jsx("div",{className:"p-10 flex justify-center",children:a.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-orange-600 border-t-transparent rounded-full"})}):a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col gap-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-orange-100 text-orange-600 rounded-2xl",children:a.jsx($j,{size:32})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Plano Preventivo"}),a.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest mt-1",children:"Gesto & Relatrios Oficiais (SEDUC-MT)"})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:()=>j("ANEXO_II"),className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-xl font-bold text-[10px] uppercase tracking-widest hover:bg-blue-100 transition-all border border-blue-200",children:[a.jsx(kr,{size:14})," Anexo II (Cronograma)"]}),a.jsxs("button",{onClick:()=>j("ANEXO_III"),className:"flex items-center gap-2 px-4 py-2 bg-amber-50 text-amber-700 rounded-xl font-bold text-[10px] uppercase tracking-widest hover:bg-amber-100 transition-all border border-amber-200",children:[a.jsx(Xt,{size:14})," Anexo III (Demandas)"]}),a.jsxs("button",{onClick:()=>j("ANEXO_IV"),className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-700 rounded-xl font-bold text-[10px] uppercase tracking-widest hover:bg-emerald-100 transition-all border border-emerald-200",children:[a.jsx(Nt,{size:14})," Anexo IV (Intervenes)"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-2",children:[a.jsx(gL,{size:14}),a.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Progresso"})]}),a.jsxs("p",{className:"text-2xl font-black text-gray-900",children:[w.progress,"%"]}),a.jsx("div",{className:"w-full h-1.5 bg-gray-200 rounded-full mt-2 overflow-hidden",children:a.jsx("div",{className:"h-full bg-orange-500 rounded-full",style:{width:`${w.progress}%`}})})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-2",children:[a.jsx(Ta,{size:14}),a.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Pendncias"})]}),a.jsx("p",{className:"text-2xl font-black text-orange-600",children:w.pending}),a.jsx("p",{className:"text-[9px] text-gray-400 font-medium",children:"Itens a verificar"})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-2",children:[a.jsx(Vn,{size:14}),a.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Em Execuo"})]}),a.jsx("p",{className:"text-2xl font-black text-blue-600",children:w.ongoing}),a.jsx("p",{className:"text-[9px] text-gray-400 font-medium",children:"Manutenes ativas"})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-2",children:[a.jsx(J$,{size:14}),a.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Investimento"})]}),a.jsxs("p",{className:"text-2xl font-black text-emerald-600",children:["R$ ",w.totalCost.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsxs("p",{className:"text-[9px] text-gray-400 font-medium",children:["Total acumulado (",new Date().getFullYear(),")"]})]})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-3xl border border-gray-100 flex flex-wrap gap-4 items-center shadow-sm",children:[a.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{value:i,onChange:T=>o(T.target.value),placeholder:"Buscar item...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 rounded-xl text-xs font-bold outline-none focus:ring-2 focus:ring-orange-500/20"})]}),a.jsxs("select",{value:l,onChange:T=>d(T.target.value),className:"p-3 bg-gray-50 rounded-xl text-xs font-bold outline-none focus:ring-2 focus:ring-orange-500/20 border-r-8 border-transparent cursor-pointer",children:[a.jsx("option",{value:"TODOS",children:"Todas Categorias"}),x.map(T=>a.jsx("option",{value:T,children:T},T))]})]}),a.jsx("div",{className:"space-y-4",children:Object.entries(b).map(([T,_])=>a.jsxs("div",{className:"bg-white border border-gray-100 rounded-3xl overflow-hidden shadow-sm hover:shadow-md transition-all duration-300",children:[a.jsxs("button",{onClick:()=>h(u===T?null:T),className:"w-full flex items-center justify-between p-6 bg-gray-50/50 hover:bg-white transition-colors text-left",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-2 rounded-lg ${u===T?"bg-orange-500 text-white shadow-lg shadow-orange-500/30":"bg-gray-200 text-gray-500"} transition-all`,children:u===T?a.jsx(j$,{size:20}):a.jsx(bL,{size:20})}),a.jsx("h3",{className:"text-lg font-black text-gray-800 uppercase tracking-tight",children:T}),a.jsxs("span",{className:"bg-gray-200 text-gray-600 px-3 py-1 rounded-full text-[10px] font-black",children:[_.length," itens"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-md text-[10px] font-bold",children:[_.filter(O=>O.status==="CONCLUIDO").length," OK"]}),a.jsxs("div",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-md text-[10px] font-bold",children:[_.filter(O=>O.status==="PENDENTE").length," Pendentes"]})]})]}),u===T&&a.jsx("div",{className:"p-6 border-t border-gray-100 overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-[9px] font-black text-gray-400 uppercase tracking-widest border-b border-gray-100",children:[a.jsx("th",{className:"pb-4 pl-2",children:"Item / Interveno"}),a.jsx("th",{className:"pb-4",children:"Frequncia"}),a.jsx("th",{className:"pb-4",children:"Status"}),a.jsx("th",{className:"pb-4",children:"Datas"}),a.jsx("th",{className:"pb-4",children:"Responsvel"}),a.jsx("th",{className:"pb-4",children:"Custo (R$)"})]})}),a.jsx("tbody",{className:"text-xs text-gray-600",children:_.map(O=>{const M=S(O.nextDueDate);return a.jsxs("tr",{className:"border-b border-gray-50 last:border-0 hover:bg-orange-50/10 transition-colors group",children:[a.jsxs("td",{className:"py-4 pl-2 font-medium",children:[a.jsx("p",{className:"font-black text-gray-900 text-sm",children:O.item}),a.jsx("p",{className:"text-[10px] text-gray-500 mt-0.5",children:O.intervention}),a.jsx("p",{className:"text-[10px] text-gray-400 mt-0.5 italic max-w-xs",children:O.description})]}),a.jsx("td",{className:"py-4",children:a.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-md text-[10px] font-bold",children:O.frequency})}),a.jsx("td",{className:"py-4",children:a.jsxs("select",{value:O.status,onChange:D=>p(O.id,{status:D.target.value}),className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase outline-none border ${g(O.status)} cursor-pointer transition-all focus:ring-2 focus:ring-offset-1`,children:[a.jsx("option",{value:"PENDENTE",children:"Pendente"}),a.jsx("option",{value:"AGENDADO",children:"Agendado"}),a.jsx("option",{value:"EM_EXECUCAO",children:"Em Execuo"}),a.jsx("option",{value:"CONCLUIDO",children:"Concludo"})]})}),a.jsxs("td",{className:"py-4 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[9px] font-bold text-gray-400 w-10",children:"REALIZ:"}),a.jsx("input",{type:"date",value:O.lastExecutionDate||"",onChange:D=>y(O.id,D.target.value,O.frequency),className:"bg-white border border-gray-200 rounded px-2 py-1 text-[10px] outline-none focus:border-orange-300 transition-colors"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[9px] font-bold text-gray-400 w-10",children:"VENC:"}),a.jsxs("div",{className:`flex items-center gap-2 px-2 py-1 rounded text-[10px] bg-white border ${M==="overdue"?"border-red-300 text-red-600 bg-red-50":M==="urgent"?"border-amber-300 text-amber-600 bg-amber-50":"border-gray-200"}`,children:[O.nextDueDate?new Date(O.nextDueDate).toLocaleDateString("pt-BR"):"-",M==="overdue"&&a.jsx(Xt,{size:12})]})]})]}),a.jsx("td",{className:"py-4",children:a.jsxs("select",{value:O.responsibleId||"",onChange:D=>p(O.id,{responsibleId:D.target.value}),className:"w-32 bg-white border border-gray-200 rounded px-2 py-1 text-[10px] outline-none focus:border-orange-300 transition-colors",children:[a.jsx("option",{value:"",children:"Selecione..."}),t.map(D=>a.jsx("option",{value:D.id,children:D.name},D.id))]})}),a.jsx("td",{className:"py-4",children:a.jsxs("div",{className:"relative w-24",children:[a.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 text-[10px]",children:"R$"}),a.jsx("input",{type:"number",value:O.cost||"",onChange:D=>p(O.id,{cost:parseFloat(D.target.value)}),placeholder:"0,00",className:"w-full pl-6 pr-2 py-1 bg-white border border-gray-200 rounded text-[10px] outline-none focus:border-orange-300 transition-colors"})]})})]},O.id)})})]})})]},T))}),a.jsxs("div",{className:"fixed top-0 left-0 w-full h-0 overflow-hidden",children:[a.jsxs("div",{id:"report-ANEXO_II",className:"p-8 bg-white",style:{width:"297mm",minHeight:"210mm"},children:[a.jsxs("div",{className:"mb-6 text-center border-b-2 border-gray-900 pb-4",children:[a.jsx("h1",{className:"text-xl font-bold uppercase",children:"ANEXO II  CRONOGRAMA DE MANUTENO PREVENTIVA"}),a.jsx("p",{className:"text-sm",children:"Planejamento Anual - Unidade Escolar"})]}),a.jsxs("table",{className:"w-full border-collapse border border-gray-800 text-[9px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100",children:[a.jsx("th",{className:"border border-gray-800 p-2 text-left w-1/3",children:"SISTEMA / ITEM"}),a.jsx("th",{className:"border border-gray-800 p-2 text-center w-16",children:"FREQ."}),["JAN","FEV","MAR","ABR","MAI","JUN","JUL","AGO","SET","OUT","NOV","DEZ"].map(T=>a.jsx("th",{className:"border border-gray-800 p-2 text-center",children:T},T))]})}),a.jsx("tbody",{children:e.map(T=>{const _=O=>{const M=T.frequency==="MENSAL"?1:T.frequency==="TRIMESTRAL"?3:T.frequency==="SEMESTRAL"?6:T.frequency==="ANUAL"?12:0;return M>0&&O%M===0};return a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-800 p-1 font-bold truncate max-w-xs",children:T.item}),a.jsx("td",{className:"border border-gray-800 p-1 text-center",children:T.frequency.substring(0,3)}),Array.from({length:12}).map((O,M)=>a.jsx("td",{className:"border border-gray-800 p-1 text-center",children:_(M)&&a.jsx("div",{className:"w-2 h-2 bg-gray-600 rounded-full mx-auto"})},M))]},T.id)})})]})]}),a.jsxs("div",{id:"report-ANEXO_III",className:"p-8 bg-white",style:{width:"210mm",minHeight:"297mm"},children:[a.jsxs("div",{className:"mb-6 text-center border-b-2 border-gray-900 pb-4",children:[a.jsx("h1",{className:"text-xl font-bold uppercase",children:"ANEXO III  RELATRIO DE DEMANDA"}),a.jsx("p",{className:"text-sm",children:"Levantamento de Necessidades de Manuteno"})]}),a.jsxs("div",{className:"space-y-6",children:[e.filter(T=>T.status!=="CONCLUIDO").map((T,_)=>a.jsxs("div",{className:"border border-gray-800 break-inside-avoid",children:[a.jsxs("div",{className:"bg-gray-100 p-2 border-b border-gray-800 flex justify-between font-bold text-xs uppercase",children:[a.jsxs("span",{children:["ITEM ",_+1,": ",T.item," (",T.category,")"]}),a.jsxs("span",{children:["Prioridade: ",S(T.nextDueDate)==="overdue"?"ALTA":"NORMAL"]})]}),a.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"mb-2",children:[a.jsx("strong",{children:"Problema / Condio:"})," ",T.description]}),a.jsxs("p",{className:"mb-2",children:[a.jsx("strong",{children:"Ao Necessria:"})," ",T.intervention]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Prazo:"})," ",T.nextDueDate?new Date(T.nextDueDate).toLocaleDateString("pt-BR"):"A definir"]})]}),a.jsx("div",{className:"h-24 border border-gray-300 border-dashed flex items-center justify-center text-gray-400 text-[10px]",children:"FOTO DO LOCAL"})]})]},T.id)),e.filter(T=>T.status!=="CONCLUIDO").length===0&&a.jsx("p",{className:"text-center text-gray-500 italic py-10",children:"Nenhuma pendncia registrada no momento."})]})]}),a.jsxs("div",{id:"report-ANEXO_IV",className:"p-8 bg-white",style:{width:"210mm",minHeight:"297mm"},children:[a.jsxs("div",{className:"mb-6 text-center border-b-2 border-gray-900 pb-4",children:[a.jsx("h1",{className:"text-xl font-bold uppercase",children:"ANEXO IV  IDENTIFICAO DE INTERVENES"}),a.jsx("p",{className:"text-sm",children:"Relatrio Financeiro e Executivo"})]}),a.jsxs("table",{className:"w-full border-collapse border border-gray-800 text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100",children:[a.jsx("th",{className:"border border-gray-800 p-2 text-left w-1/3",children:"DESCRIO DO SERVIO"}),a.jsx("th",{className:"border border-gray-800 p-2 text-left",children:"TIPO"}),a.jsx("th",{className:"border border-gray-800 p-2 text-center w-24",children:"DATA"}),a.jsx("th",{className:"border border-gray-800 p-2 text-right w-24",children:"VALOR (R$)"})]})}),a.jsxs("tbody",{children:[e.filter(T=>T.status==="CONCLUIDO").map(T=>a.jsxs("tr",{children:[a.jsxs("td",{className:"border border-gray-800 p-2",children:[T.item," - ",T.description]}),a.jsx("td",{className:"border border-gray-800 p-2 uppercase",children:T.intervention}),a.jsx("td",{className:"border border-gray-800 p-2 text-center",children:T.lastExecutionDate?new Date(T.lastExecutionDate).toLocaleDateString("pt-BR"):"-"}),a.jsx("td",{className:"border border-gray-800 p-2 text-right",children:T.cost?T.cost.toLocaleString("pt-BR",{minimumFractionDigits:2}):"0,00"})]},T.id)),a.jsxs("tr",{className:"bg-gray-200 font-bold",children:[a.jsx("td",{colSpan:3,className:"border border-gray-800 p-2 text-right",children:"TOTAL INVESTIDO:"}),a.jsx("td",{className:"border border-gray-800 p-2 text-right",children:e.filter(T=>T.status==="CONCLUIDO").reduce((T,_)=>T+(_.cost||0),0).toLocaleString("pt-BR",{minimumFractionDigits:2})})]})]})]}),a.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-400 flex justify-between text-xs text-center",children:[a.jsx("div",{className:"w-1/3 border-t border-black pt-2",children:"DIRETOR(A) ESCOLAR"}),a.jsx("div",{className:"w-1/3 border-t border-black pt-2",children:"RESPONSVEL TCNICO"})]})]})]})]})},tCe=[{id:"env-1",name:"SALAS DE AULA",category:"SALA_AULA",complianceRate:100},{id:"env-2",name:"AUDITRIO",category:"AUDITORIO",complianceRate:100},{id:"env-3",name:"SALA DE RECURSOS",category:"SALA_RECURSOS",complianceRate:100},{id:"env-4",name:"LABORATRIOS (MAKER, CINCIAS, EF, APA)",category:"LABORATORIO",complianceRate:100},{id:"env-5",name:"BIBLIOTECA",category:"BIBLIOTECA",complianceRate:100},{id:"env-6",name:"ADMINISTRATIVOS (SEC, COORD, PROF...)",category:"ADMINISTRATIVO",complianceRate:100},{id:"env-7",name:"SANITRIOS",category:"SANITARIO",complianceRate:100},{id:"env-8",name:"CORREDORES, RAMPAS E HALL",category:"CIRCULACAO",complianceRate:100},{id:"env-9",name:"CALADAS (INTERNAS)",category:"CALCADA_INTERNA",complianceRate:100},{id:"env-10",name:"CALADA EXTERNA",category:"CALCADA_EXTERNA",complianceRate:100}],rCe=({onExit:t})=>{const[e,r]=R.useState("scheduler"),[n,s]=R.useState([]),[i,o]=R.useState([]),[l,d]=R.useState([]),[u,h]=R.useState(""),[p,x]=R.useState(!1),[v,b]=R.useState({name:"",category:"SALA_AULA"}),w=async()=>{try{const{data:y,error:j}=await ae.from("cleaning_environments").select("*").order("name");if(j)throw j;if(y)if(y.length===0){const{data:O,error:M}=await ae.from("cleaning_environments").insert(tCe.map(D=>({name:D.name,category:D.category,compliance_rate:D.complianceRate}))).select();!M&&O&&s(O.map(D=>({id:D.id,name:D.name,category:D.category,complianceRate:D.compliance_rate})))}else s(y.map(O=>({id:O.id,name:O.name,category:O.category,complianceRate:O.compliance_rate})));const{data:T,error:_}=await ae.from("cleaning_tasks").select("*");if(_)throw _;T&&d(T.map(O=>({id:O.id,environmentId:O.environment_id,assignedEmployeeId:O.assigned_employee_id,title:O.title,frequency:O.frequency,status:O.status,lastPerformed:O.last_performed})))}catch(y){console.error("Erro ao buscar dados de limpeza:",y)}};R.useEffect(()=>{w();const y=ae.channel("cleaning_changes").on("postgres_changes",{event:"*",schema:"public",table:"cleaning_environments"},w).on("postgres_changes",{event:"*",schema:"public",table:"cleaning_tasks"},w).subscribe(),j=()=>{const _=localStorage.getItem("secretariat_staff_v4");if(_){const M=JSON.parse(_).filter(D=>{var B;const F=((B=D.serverType)==null?void 0:B.toUpperCase())==="APOIO",q=D.role==="AAE_LIMPEZA"||D.role==="AEE_NUTRICAO",L=D.status==="EM_ATIVIDADE";return(F||q)&&L}).map(D=>({id:D.id,name:D.name,shift:D.shift==="INTEGRAL"?"MATUTINO":D.shift,scope:D.jobFunction,isFixed:!0,registration:D.registration}));o(M)}};j(),window.addEventListener("storage",j);const T=setInterval(j,2e3);return()=>{y.unsubscribe(),window.removeEventListener("storage",j),clearInterval(T)}},[]);const g=async y=>{y.preventDefault();try{await ae.from("cleaning_environments").insert([{name:v.name.toUpperCase(),category:v.category,compliance_rate:100}]),b({name:"",category:"SALA_AULA"}),alert("Ambiente cadastrado conforme Protocolo!")}catch(j){console.error("Erro ao adicionar ambiente:",j)}},S=async y=>{if(window.confirm("Remover este ambiente e todas as suas tarefas?"))try{await ae.from("cleaning_environments").delete().eq("id",y)}catch(j){console.error("Erro ao remover ambiente:",j)}},k=async()=>{if(window.confirm("Restaurar ambientes e limpar cronograma?"))try{await ae.from("cleaning_tasks").delete().neq("id","00000000-0000-0000-0000-000000000000"),await ae.from("cleaning_environments").delete().neq("id","00000000-0000-0000-0000-000000000000"),await w(),alert("Configuraes resetadas. Recarregando...")}catch(y){console.error("Erro ao resetar dados:",y)}};return a.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden font-sans",children:[a.jsxs("aside",{className:"w-64 bg-orange-950 text-white flex flex-col no-print",children:[a.jsx("div",{className:"p-6",children:a.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:""}),"Zeladoria MT"]})}),a.jsxs("nav",{className:"flex-1 mt-6 px-4 space-y-1.5 overflow-y-auto custom-scrollbar",children:[a.jsxs("button",{onClick:()=>r("protocol_official"),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${e==="protocol_official"?"bg-orange-800 text-white shadow-lg":"text-orange-100 hover:bg-orange-800/50"}`,children:[a.jsx(ia,{size:18})," Protocolo Manual"]}),a.jsxs("button",{onClick:()=>r("preventive_plan"),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${e==="preventive_plan"?"bg-orange-800 text-white shadow-lg":"text-orange-100 hover:bg-orange-800/50"}`,children:[a.jsx(ft,{size:18})," Plano Preventivo (SEDUC)"]}),a.jsxs("button",{onClick:()=>r("scheduler"),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${e==="scheduler"?"bg-orange-800 text-white shadow-lg":"text-orange-100 hover:bg-orange-800/50"}`,children:[a.jsx(kr,{size:18})," Cronograma (Blocos)"]}),a.jsxs("button",{onClick:()=>r("team"),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${e==="team"?"bg-orange-800 text-white shadow-lg":"text-orange-100 hover:bg-orange-800/50"}`,children:[a.jsx(mr,{size:18})," Equipe de Apoio"]}),a.jsxs("button",{onClick:()=>r("predial"),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${e==="predial"?"bg-orange-800 text-white shadow-lg":"text-orange-100 hover:bg-orange-800/50"}`,children:[a.jsx(zg,{size:18})," Manuteno Predial"]}),a.jsxs("button",{onClick:()=>r("kitchen"),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${e==="kitchen"?"bg-orange-800 text-white shadow-lg":"text-orange-100 hover:bg-orange-800/50"}`,children:[a.jsx(Jo,{size:18})," Higiene Cozinha"]}),a.jsxs("button",{onClick:()=>r("materials"),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${e==="materials"?"bg-orange-800 text-white shadow-lg":"text-orange-100 hover:bg-orange-800/50"}`,children:[a.jsx(Ug,{size:18})," Insumos Limpeza"]}),a.jsxs("button",{onClick:()=>r("ppe"),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${e==="ppe"?"bg-orange-800 text-white shadow-lg":"text-orange-100 hover:bg-orange-800/50"}`,children:[a.jsx(qg,{size:18})," Controle EPIs"]}),a.jsxs("button",{onClick:()=>x(!0),className:"w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold text-orange-200 hover:bg-orange-800/50 mt-10 border-t border-orange-800 pt-10",children:[a.jsx(Hg,{size:18})," Configurar Ambientes"]})]}),a.jsx("div",{className:"p-6",children:a.jsxs("button",{onClick:t,className:"w-full flex items-center gap-2 px-4 py-3 bg-white/10 hover:bg-white/20 rounded-xl text-xs font-black uppercase tracking-widest leading-none",children:[a.jsx(cr,{size:16})," Voltar ao Hub"]})})]}),a.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"h-20 bg-white border-b border-gray-100 flex items-center justify-between px-10 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-orange-50 text-orange-600 rounded-lg",children:a.jsx(mL,{size:20})}),a.jsx("h2",{className:"text-sm font-black text-gray-900 uppercase",children:"Zeladoria & Conservao Escolar"})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"relative no-print",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-300",size:16}),a.jsx("input",{type:"text",placeholder:"Pesquisar...",value:u,onChange:y=>h(y.target.value),className:"pl-10 pr-4 py-2 bg-gray-50 border border-gray-100 rounded-xl text-[10px] font-black uppercase outline-none focus:ring-4 focus:ring-orange-500/5 w-64"})]})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:[e==="protocol_official"&&a.jsx(J_e,{}),e==="preventive_plan"&&a.jsx(eCe,{employees:i}),e==="scheduler"&&a.jsx(Q_e,{employees:i}),e==="team"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-blue-900 p-8 rounded-[2.5rem] text-white flex items-center justify-between shadow-xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10 rotate-12",children:a.jsx(mr,{size:140})}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:"Equipe Operacional Integrada"}),a.jsx("p",{className:"text-blue-200 text-sm mt-1",children:"Servidores de Apoio sincronizados com a base de dados da Secretaria."})]}),a.jsxs("div",{className:"bg-white/10 px-6 py-4 rounded-2xl border border-white/10 backdrop-blur-md",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-300 uppercase",children:"Servidores em Atividade"}),a.jsx("p",{className:"text-2xl font-black",children:i.length})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(y=>a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-gray-100 shadow-sm hover:border-orange-200 transition-all flex flex-col group",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-50 text-orange-600 rounded-xl flex items-center justify-center font-black text-lg group-hover:bg-orange-600 group-hover:text-white transition-all shadow-inner",children:y.name[0]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase truncate",children:y.name}),a.jsxs("p",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-widest",children:[y.shift," | ",y.scope]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl border border-gray-100 space-y-2",children:[a.jsxs("p",{className:"text-[8px] font-black text-gray-400 uppercase leading-none",children:["Matrcula: ",y.registration||"---"]}),a.jsxs("p",{className:"text-[10px] font-bold text-gray-700 uppercase",children:[l.filter(j=>j.assignedEmployeeId===y.id).length," tarefas vinculadas"]})]})]},y.id))})]}),e==="predial"&&a.jsx(X_e,{onNavigateToPreventive:()=>r("preventive_plan")}),e==="kitchen"&&a.jsx(q_e,{}),e==="materials"&&a.jsx(H_e,{}),e==="ppe"&&a.jsx($_e,{})]})]}),p&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-gray-950/80 backdrop-blur-md",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-4xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"p-8 bg-orange-50 border-b border-orange-100 flex justify-between items-center shrink-0",children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase",children:"Configurar Ambientes"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:k,className:"p-3 bg-white text-orange-600 border border-orange-100 hover:bg-orange-50 rounded-2xl transition-all flex items-center gap-2 text-[10px] font-black uppercase",children:[a.jsx(ic,{size:18})," Restaurar Padro"]}),a.jsx("button",{onClick:()=>x(!1),className:"p-3 bg-white text-gray-400 hover:text-red-500 rounded-2xl transition-all",children:a.jsx(Ze,{size:24})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar grid grid-cols-1 md:grid-cols-2 gap-10",children:[a.jsxs("form",{onSubmit:g,className:"space-y-6",children:[a.jsx("h4",{className:"text-sm font-black text-orange-600 uppercase border-b border-orange-100 pb-2",children:"Novo Ambiente"}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nome do Setor"}),a.jsx("input",{required:!0,value:v.name,onChange:y=>b({...v,name:y.target.value.toUpperCase()}),placeholder:"EX: SALA 01",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Categoria para Protocolo"}),a.jsxs("select",{value:v.category,onChange:y=>b({...v,category:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase outline-none",children:[a.jsx("option",{value:"SALA_AULA",children:"Sala de Aula"}),a.jsx("option",{value:"AUDITORIO",children:"Auditrio"}),a.jsx("option",{value:"SALA_RECURSOS",children:"Sala de Recursos"}),a.jsx("option",{value:"LABORATORIO",children:"Laboratrio"}),a.jsx("option",{value:"BIBLIOTECA",children:"Biblioteca"}),a.jsx("option",{value:"ADMINISTRATIVO",children:"Administrativo"}),a.jsx("option",{value:"SANITARIO",children:"Sanitrio"}),a.jsx("option",{value:"CIRCULACAO",children:"Circulao"}),a.jsx("option",{value:"CALCADA_INTERNA",children:"Calada Interna"}),a.jsx("option",{value:"CALCADA_EXTERNA",children:"Calada Externa"})]})]}),a.jsx("button",{type:"submit",className:"w-full py-5 bg-gray-900 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-black transition-all",children:"Salvar Ambiente"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase border-b border-gray-100 pb-2",children:"Setores Cadastrados"}),a.jsx("div",{className:"space-y-3",children:n.map(y=>a.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-2xl border border-gray-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase leading-none",children:y.name}),a.jsx("p",{className:"text-[8px] text-gray-400 font-black uppercase tracking-widest mt-1",children:y.category.replace("_"," ")})]}),a.jsx("button",{onClick:()=>S(y.id),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:a.jsx(Lt,{size:16})})]},y.id))})]})]})]})})]})},cL=[{id:"COMUNICADO_PAIS",label:"Comunicar Pais/Responsveis",description:"Contato imediato sobre ausncia (Lei 10.509/2017)",icon:If,required:!0},{id:"ALERTA_SISTEMA",label:"Analisar Alertas do Sistema",description:"Verificar justificativas e padro de faltas",icon:Xt,required:!0},{id:"VISITA_TURMA",label:"Visita  Turma",description:"Obter informaes com colegas e professores",icon:mr,required:!0},{id:"CONTATO_DIARIO",label:"Contatos Dirios Alternados",description:"Telefone, WhatsApp, E-mail (tentativas documentadas)",icon:wn,required:!0},{id:"ELABORAR_RELATORIO",label:"Elaborar Relatrio de Aes",description:"Registro detalhado no Sistema de Preveno",icon:zt,required:!0},{id:"REDE_PROTECAO",label:"Acionar Rede de Proteo",description:"CRAS, CREAS, Sade (quando necessrio)",icon:ln,required:!1},{id:"FICAI_ONLINE",label:"Registrar na FICAI Online",description:"Para alunos com >10% de faltas injustificadas",icon:zt,required:!0},{id:"NOTIFICAR_CONSELHO",label:"Notificar Conselho Tutelar",description:"Envio da FICAI com documentao exigida",icon:Wi,required:!0},{id:"ACOMPANHAR_DEVOLUTIVA",label:"Acompanhar Devolutiva",description:"Monitorar retorno do Conselho Tutelar",icon:kr,required:!0},{id:"INTERVENCAO_METODOLOGIA",label:"Interveno Metodolgica",description:"Orientar e executar aes de reintegrao",icon:Nt,required:!0}];function hz({student:t,onClose:e}){const[r,n]=R.useState({}),[s,i]=R.useState(!0),[o,l]=R.useState(!1);R.useEffect(()=>{d()},[t.id]);const d=async()=>{try{const{data:x,error:v}=await ae.from("active_search_actions").select("*").eq("student_id",t.id);if(v)throw v;const b={};x&&x.forEach(w=>{b[w.action_type]={status:w.status,notes:w.notes||"",completed_at:w.completed_at}}),n(b)}catch(x){console.error("Erro ao buscar aes:",x)}finally{i(!1)}},u=async x=>{const v=r[x]||{status:"PENDENTE",notes:"",completed_at:null},b=v.status==="CONCLUIDO"?"PENDENTE":"CONCLUIDO",w=b==="CONCLUIDO"?new Date().toISOString():null;n(g=>({...g,[x]:{...v,status:b,completed_at:w}}));try{const{data:g}=await ae.from("active_search_actions").select("id").eq("student_id",t.id).eq("action_type",x).single();g?await ae.from("active_search_actions").update({status:b,completed_at:w}).eq("id",g.id):await ae.from("active_search_actions").insert([{student_id:t.id,action_type:x,status:b,completed_at:w}])}catch(g){console.error("Erro ao atualizar ao:",g)}},h=async(x,v)=>{l(!0);try{const{data:b}=await ae.from("active_search_actions").select("id").eq("student_id",t.id).eq("action_type",x).single();b?await ae.from("active_search_actions").update({notes:v}).eq("id",b.id):await ae.from("active_search_actions").insert([{student_id:t.id,action_type:x,status:"PENDENTE",notes:v}]),n(w=>({...w,[x]:{...w[x],notes:v}}))}catch(b){console.error("Erro ao salvar nota:",b)}finally{l(!1)}},p=Math.round(Object.values(r).filter(x=>x.status==="CONCLUIDO").length/cL.length*100);return a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-emerald-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:[a.jsxs("div",{className:"bg-white rounded-[3rem] w-full max-w-3xl shadow-2xl border border-emerald-100 overflow-hidden max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"px-10 pt-10 pb-6 bg-white shrink-0 flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-emerald-600 text-white rounded-3xl shadow-xl shadow-emerald-600/20",children:a.jsx(ln,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Protocolo de Busca Ativa"}),a.jsxs("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-widest mt-1",children:[t.name,"  ",t.class]})]})]}),a.jsx("button",{onClick:e,className:"p-3 bg-gray-50 text-gray-400 hover:text-red-500 rounded-2xl transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsxs("div",{className:"px-10 pb-6 shrink-0",children:[a.jsxs("div",{className:"flex justify-between items-end mb-2",children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Progresso do Protocolo (Art. 23)"}),a.jsxs("p",{className:"text-xl font-black text-emerald-600",children:[p,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-100 h-3 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-500",style:{width:`${p}%`}})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-10 pb-10 space-y-4 custom-scrollbar",children:s?a.jsxs("div",{className:"text-center py-20 text-gray-400",children:[a.jsx(vt,{className:"animate-spin mx-auto mb-2"})," Carregando aes..."]}):cL.map(x=>{const v=r[x.id]||{status:"PENDENTE",notes:"",completed_at:null},b=v.status==="CONCLUIDO";return a.jsx("div",{className:`p-6 rounded-3xl border transition-all duration-300 ${b?"bg-emerald-50 border-emerald-100":"bg-white border-gray-100"}`,children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("button",{onClick:()=>u(x.id),className:`mt-1 w-8 h-8 rounded-full flex items-center justify-center transition-all ${b?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/30":"bg-gray-100 text-gray-300 hover:bg-emerald-100 hover:text-emerald-500"}`,children:b?a.jsx(Nt,{size:18,strokeWidth:3}):a.jsx(IA,{size:18})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:`text-sm font-black uppercase tracking-tight ${b?"text-emerald-900":"text-gray-900"}`,children:x.label}),a.jsx("p",{className:"text-[10px] text-gray-400 font-medium mt-1",children:x.description})]}),a.jsx("div",{className:`p-2 rounded-xl ${b?"bg-white text-emerald-600":"bg-gray-50 text-gray-400"}`,children:a.jsx(x.icon,{size:16})})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100/50",children:a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{placeholder:"Adicionar observaes sobre esta ao...",value:v.notes,onChange:w=>n(g=>({...g,[x.id]:{...g[x.id],notes:w.target.value}})),onBlur:w=>h(x.id,w.target.value),className:`w-full p-3 rounded-xl text-xs font-medium outline-none transition-all resize-none ${b?"bg-white border border-emerald-100 text-emerald-800 placeholder:text-emerald-300":"bg-gray-50 border border-transparent text-gray-700 placeholder:text-gray-300 focus:bg-white focus:border-emerald-200"}`,rows:2}),v.completed_at&&a.jsxs("p",{className:"text-[9px] text-emerald-600/60 font-black uppercase mt-2 text-right",children:["Concludo em: ",new Date(v.completed_at).toLocaleDateString("pt-BR")]})]})})]})]})},x.id)})})]}),a.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.05); border-radius: 10px; }
        .custom-scrollbar:hover::-webkit-scrollbar-thumb { background: rgba(16, 185, 129, 0.2); }
      `})]})}const aCe=()=>{const[t,e]=R.useState({totalStudents:$i.length,criticalCount:0,recoveredCount:0,ficaiCount:0}),[r,n]=R.useState([]),[s,i]=R.useState([]),[o,l]=R.useState(null);R.useEffect(()=>{d()},[]);const d=async()=>{const{data:h}=await ae.from("class_attendance_students").select("student_id, is_present, class_attendance_records(classroom_name)"),{data:p}=await ae.from("referrals").select("*"),x={};h&&h.forEach(y=>{var T;const j=y.student_id;x[j]||(x[j]={total:0,present:0}),x[j].total++,y.is_present&&x[j].present++,(T=y.class_attendance_records)!=null&&T.classroom_name&&!x[j].class&&(x[j].class=y.class_attendance_records.classroom_name)});let v=0;const b=[],w={};$i.forEach(y=>{const j=x[y.CodigoAluno]||{total:0,present:0},T=j.total>0?j.present/j.total*100:100;T<=90&&(v++,b.push({id:y.id||y.CodigoAluno,name:y.Nome,class:y.Turma,absences:`${Math.round(100-T)}%`,status:"Risco Evaso"}));const _=y.Turma.split(" ")[0]+" "+y.Turma.split(" ")[1];w[_]||(w[_]=0),T<90&&w[_]++});let g=0,S=0;p&&(g=p.filter(y=>y.status==="CONCLUDO").length,S=p.filter(y=>y.type==="CONSELHO_TUTELAR"&&y.status!=="CONCLUDO").length),e({totalStudents:$i.length,criticalCount:v,recoveredCount:g,ficaiCount:S});const k=Object.keys(w).map(y=>({name:y,faltas:w[y]}));n(k),i(b.slice(0,5))},u=async h=>{if(!window.confirm(`Deseja encaminhar ${h.name} para a Equipe de Mediao devido  infrequncia crtica?`))return;const{data:p}=await ae.from("psychosocial_referrals").select("id").eq("student_name",h.name).eq("status","AGUARDANDO_TRIAGEM").single();if(p)return alert("Este aluno j possui um encaminhamento pendente.");const{error:x}=await ae.from("psychosocial_referrals").insert([{student_name:h.name,class_name:h.class,teacher_name:"BUSCA ATIVA",school_unit:"ESCOLA ANDR MAGGI",date:new Date().toISOString().split("T")[0],report:`[VIA BUSCA ATIVA] Aluno apresenta ${h.absences} de infrequncia. Risco iminente de evaso.`,status:"AGUARDANDO_TRIAGEM",student_age:"No informado",attendance_frequency:h.absences,previous_strategies:"Monitoramento de Frequncia",adopted_procedures:["BUSCA_ATIVA"],observations:{learning:[],behavioral:[],emotional:[]}}]);x?(console.error(x),alert("Erro ao encaminhar.")):(alert("Encaminhamento realizado com sucesso!"),await ae.from("psychosocial_notifications").insert([{title:"Alerta de Busca Ativa",message:`A Busca Ativa encaminhou ${h.name} por infrequncia crtica (${h.absences}).`,is_read:!1}]))};return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Total de Alunos"}),a.jsx("p",{className:"text-3xl font-black text-gray-900 mt-1",children:t.totalStudents})]}),a.jsxs("div",{className:"bg-red-50 p-6 rounded-3xl border border-red-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest",children:"Infrequentes (>15%)"}),a.jsx("p",{className:"text-3xl font-black text-red-700 mt-1",children:t.criticalCount})]}),a.jsxs("div",{className:"bg-emerald-50 p-6 rounded-3xl border border-emerald-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest",children:"Casos Resgatados"}),a.jsx("p",{className:"text-3xl font-black text-emerald-700 mt-1",children:t.recoveredCount})]}),a.jsxs("div",{className:"bg-amber-50 p-6 rounded-3xl border border-amber-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-amber-600 uppercase tracking-widest",children:"FICAis em Aberto"}),a.jsx("p",{className:"text-3xl font-black text-amber-700 mt-1",children:t.ficaiCount})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-black text-gray-900 uppercase tracking-tight mb-8",children:"Alunos em Alerta por Ano"}),a.jsx("div",{className:"h-64",children:a.jsx(ou,{width:"100%",height:"100%",children:a.jsxs(jb,{data:r,children:[a.jsx(Fu,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),a.jsx(so,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:10,fontWeight:700}}),a.jsx(io,{axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:10,fontWeight:700}}),a.jsx(Qa,{cursor:{fill:"#f9fafb"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),a.jsx(ui,{dataKey:"faltas",radius:[8,8,0,0],barSize:40,children:r.map((h,p)=>a.jsx(Qo,{fill:h.faltas>20?"#ef4444":"#10b981"},`cell-${p}`))})]})})})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-lg font-black text-gray-900 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(ln,{className:"text-red-500"})," Casos de Urgncia"]}),a.jsx("div",{className:"space-y-4",children:s.length>0?s.map((h,p)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl border border-transparent hover:border-red-100 transition-all group cursor-pointer",onClick:()=>l(h),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-100 text-red-600 flex items-center justify-center font-black text-xs",children:h.absences}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-gray-900 uppercase leading-tight",children:h.name}),a.jsxs("p",{className:"text-[9px] text-gray-400 font-bold uppercase",children:[h.class,"  ",h.status]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:x=>{x.stopPropagation(),l(h)},className:"p-2 bg-indigo-50 text-indigo-600 border border-indigo-100 rounded-lg hover:bg-indigo-600 hover:text-white transition-all shadow-sm",title:"Abrir Protocolos",children:a.jsx(Nt,{size:16})}),a.jsx("button",{onClick:x=>{x.stopPropagation(),u(h)},className:"p-2 bg-white text-red-600 border border-red-100 rounded-lg hover:bg-red-600 hover:text-white transition-all shadow-sm",title:"Encaminhar para Mediao",children:a.jsx(Wi,{size:16})})]})]},p)):a.jsx("p",{className:"text-center py-8 text-gray-300 font-bold uppercase text-xs",children:"Nenhum caso crtico detectado"})}),a.jsx("button",{className:"w-full py-4 bg-gray-900 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-black transition-all",children:"Ver Painel Completo de Risco"})]})]}),a.jsxs("div",{className:"bg-emerald-900 p-10 rounded-[3rem] text-white space-y-8 shadow-2xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-10",children:a.jsx(mr,{size:180})}),a.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-3 gap-10",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-2xl flex items-center justify-center",children:a.jsx(Wi,{size:24})}),a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Encaminhamentos"}),a.jsx("p",{className:"text-emerald-100/70 text-xs font-medium leading-relaxed",children:"Fluxo gil para envio de casos crticos aos conselhos e redes de apoio psicossocial."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-2xl flex items-center justify-center",children:a.jsx(Ph,{size:24})}),a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Canais de Contato"}),a.jsx("p",{className:"text-emerald-100/70 text-xs font-medium leading-relaxed",children:"Integrao com WhatsApp para avisos automticos de faltas aos responsveis aps 3 dias."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-2xl flex items-center justify-center",children:a.jsx(Jl,{size:24})}),a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Rede de Proteo"}),a.jsx("p",{className:"text-emerald-100/70 text-xs font-medium leading-relaxed",children:"Acompanhamento compartilhado com CRAS/CREAS e Unidade de Sade da famlia."})]})]})]}),o&&a.jsx(hz,{student:o,onClose:()=>l(null)})]})},nCe=({student:t,onClose:e,onSave:r})=>{const[n,s]=R.useState({type:"PEDAGGICO",reason:"",status:"ABERTO",responsible:"COORDENADOR ANDR",notes:"",date:new Date().toISOString().split("T")[0]}),i=l=>{if(l.preventDefault(),!n.reason)return alert("Por favor, descreva o motivo do encaminhamento.");r({studentId:t.id,studentName:t.name,...n})},o=[{id:"PEDAGGICO",icon:on,color:"bg-blue-50 text-blue-600 border-blue-100"},{id:"PSICOLGICO",icon:LG,color:"bg-pink-50 text-pink-600 border-pink-100"},{id:"SOCIAL",icon:mr,color:"bg-emerald-50 text-emerald-600 border-emerald-100"},{id:"CONSELHO_TUTELAR",icon:Hn,color:"bg-red-50 text-red-600 border-red-100"}];return a.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-emerald-950/40 backdrop-blur-md animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-2xl shadow-2xl border border-white/20 overflow-hidden flex flex-col max-h-[95vh]",children:[a.jsxs("div",{className:"p-8 bg-gray-50 flex justify-between items-center border-b border-gray-100 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-emerald-600 text-white rounded-3xl shadow-lg",children:a.jsx(Wi,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Registrar Encaminhamento"}),a.jsx("p",{className:"text-[10px] text-emerald-600 font-bold uppercase tracking-widest mt-1",children:"Interveno de Busca Ativa"})]})]}),a.jsx("button",{onClick:e,className:"p-3 bg-white text-gray-400 hover:text-red-500 rounded-2xl shadow-sm transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:[a.jsxs("div",{className:"mb-8 p-6 bg-emerald-900 rounded-[2rem] text-white relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10",children:a.jsx(la,{size:80})}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-[8px] font-black text-emerald-400 uppercase tracking-[0.2em] mb-1",children:"Aluno Selecionado"}),a.jsx("h4",{className:"text-xl font-black uppercase leading-tight",children:t.name}),a.jsx("p",{className:"text-xs font-bold text-emerald-300/70 uppercase mt-1",children:t.class})]})]}),a.jsxs("form",{onSubmit:i,className:"space-y-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Selecione o Tipo de Encaminhamento"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map(l=>a.jsxs("button",{type:"button",onClick:()=>s({...n,type:l.id}),className:`p-4 rounded-2xl border-2 transition-all flex items-center gap-3 ${n.type===l.id?"border-emerald-500 bg-emerald-50":"border-gray-50 bg-gray-50 text-gray-400 hover:border-gray-200"}`,children:[a.jsx(l.icon,{size:20,className:n.type===l.id?"text-emerald-600":"text-gray-300"}),a.jsx("span",{className:`text-[10px] font-black uppercase ${n.type===l.id?"text-emerald-700":"text-gray-400"}`,children:l.id.replace("_"," ")})]},l.id))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Data da Ocorrncia"}),a.jsx("input",{type:"date",value:n.date,onChange:l=>s({...n,date:l.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white focus:ring-4 focus:ring-emerald-500/5 transition-all"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Status Inicial"}),a.jsxs("select",{value:n.status,onChange:l=>s({...n,status:l.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase outline-none focus:bg-white",children:[a.jsx("option",{value:"ABERTO",children:"ABERTO"}),a.jsx("option",{value:"EM_ACOMPANHAMENTO",children:"EM ACOMPANHAMENTO"}),a.jsx("option",{value:"CONCLUDO",children:"CONCLUDO"})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Motivo / Justificativa do Encaminhamento"}),a.jsx("textarea",{required:!0,value:n.reason,onChange:l=>s({...n,reason:l.target.value}),placeholder:"Descreva detalhadamente o fato que motivou esta interveno...",className:"w-full p-6 bg-gray-50 border border-gray-100 rounded-[2rem] text-sm font-medium h-32 resize-none outline-none focus:bg-white focus:ring-4 focus:ring-emerald-500/5 transition-all"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Tcnico / Responsvel"}),a.jsx("input",{type:"text",value:n.responsible,onChange:l=>s({...n,responsible:l.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none"})]}),a.jsxs("button",{type:"submit",className:"w-full py-5 bg-emerald-600 text-white rounded-[2rem] font-black uppercase text-xs tracking-[0.2em] shadow-2xl hover:bg-emerald-700 active:scale-95 transition-all flex items-center justify-center gap-3",children:[a.jsx(ln,{size:20})," Efetivar Encaminhamento"]})]})]})]})})},sCe=({student:t,referrals:e,onClose:r})=>{const n=e.filter(s=>s.studentId===t.id);return a.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-end bg-emerald-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white h-full w-full max-w-2xl shadow-2xl border-l border-white/20 overflow-hidden flex flex-col animate-in slide-in-from-right duration-500",children:[a.jsxs("div",{className:"p-8 bg-emerald-900 text-white shrink-0 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-10 rotate-12",children:a.jsx(la,{size:200})}),a.jsxs("div",{className:"relative z-10 flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-20 h-20 rounded-[2rem] bg-white/10 backdrop-blur-md border border-white/20 flex items-center justify-center text-3xl font-black",children:t.name[0]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight leading-none",children:t.name}),a.jsxs("p",{className:"text-emerald-300 font-bold uppercase text-[10px] tracking-widest mt-2",children:[t.class,"  MATRCULA ATIVA"]})]})]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Ze,{size:28})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar space-y-8 bg-gray-50/50",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-gray-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Frequncia Real"}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsxs("p",{className:`text-3xl font-black ${t.attendance<90?"text-red-600":"text-emerald-600"}`,children:[t.attendance,"%"]}),a.jsx(CL,{size:18,className:t.attendance<90?"text-red-400 mb-1":"hidden"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-gray-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Intervenes"}),a.jsx("p",{className:"text-3xl font-black text-gray-900",children:n.length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-gray-100 shadow-sm space-y-4",children:[a.jsxs("h4",{className:"text-[10px] font-black text-gray-900 uppercase tracking-widest border-b border-gray-50 pb-3 flex items-center gap-2",children:[a.jsx(If,{size:14,className:"text-emerald-600"})," Canais de Contato"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:a.jsx(If,{size:16})}),a.jsx("p",{className:"text-sm font-bold text-gray-700",children:t.phone})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:a.jsx(Yi,{size:16})}),a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:t.address})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-[10px] font-black text-gray-900 uppercase tracking-widest flex items-center gap-2 px-2",children:[a.jsx(_t,{size:16,className:"text-emerald-600"})," Histrico de Acompanhamento"]}),a.jsx("div",{className:"space-y-4 relative before:absolute before:left-6 before:top-2 before:bottom-2 before:w-0.5 before:bg-emerald-100",children:n.length>0?n.map((s,i)=>a.jsxs("div",{className:"relative pl-12",children:[a.jsx("div",{className:"absolute left-4 top-1 w-4 h-4 rounded-full bg-emerald-500 border-4 border-white shadow-sm z-10"}),a.jsxs("div",{className:"bg-white p-5 rounded-[2rem] border border-gray-100 shadow-sm hover:border-emerald-200 transition-all",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("span",{className:"text-[9px] font-black text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded uppercase border border-emerald-100",children:s.type}),a.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:new Date(s.date).toLocaleDateString("pt-BR")})]}),a.jsxs("p",{className:"text-sm font-black text-gray-900 uppercase leading-tight mb-2",children:["Motivo: ",s.reason.substring(0,60),"..."]}),a.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-400",children:[a.jsx(la,{size:12})," Resp: ",s.responsible]})]})]},s.id)):a.jsxs("div",{className:"py-12 text-center bg-white rounded-[2rem] border-2 border-dashed border-gray-100 ml-12 mr-2",children:[a.jsx(wn,{size:32,className:"mx-auto mb-2 text-gray-200"}),a.jsx("p",{className:"text-gray-400 font-black uppercase text-[10px] tracking-widest",children:"Sem registros anteriores"})]})})]}),t.attendance<90&&a.jsxs("div",{className:"p-8 bg-red-50 rounded-[2.5rem] border-2 border-red-100 border-dashed space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-red-600",children:[a.jsx(Xt,{size:24,className:"animate-pulse"}),a.jsx("h4",{className:"text-sm font-black uppercase",children:"Limite de Infrequncia Atingido"})]}),a.jsxs("p",{className:"text-xs text-red-700 font-medium leading-relaxed",children:["O aluno atingiu o patamar crtico de faltas.  obrigatria a abertura de ",a.jsx("strong",{children:"FICAi"})," e o encaminhamento imediato ao Conselho Tutelar."]}),a.jsxs("button",{className:"w-full py-3 bg-red-600 text-white rounded-xl font-black uppercase text-[10px] tracking-widest hover:bg-red-700 transition-all shadow-lg flex items-center justify-center gap-2",children:[a.jsx(Hn,{size:14})," Abrir FICAi Agora"]})]})]})]})})},iCe=()=>{const[t,e]=R.useState(""),[r,n]=R.useState(null),[s,i]=R.useState(null),[o,l]=R.useState(null),[d,u]=R.useState(!0),{students:h}=PS(),[p,x]=R.useState([]),[v,b]=R.useState({}),[w,g]=R.useState([]);R.useEffect(()=>{h&&x(h)},[h]),R.useEffect(()=>{S();const M=ae.channel("busca-ativa-changes").on("postgres_changes",{event:"*",schema:"public",table:"referrals"},y).on("postgres_changes",{event:"*",schema:"public",table:"class_attendance_students"},k).subscribe();return()=>{M.unsubscribe()}},[]);const S=async()=>{u(!0),await Promise.all([k(),y()]),u(!1)},k=async()=>{const{data:M,error:D}=await ae.from("class_attendance_students").select("student_id, is_present");if(M){const F={};M.forEach(q=>{const L=q.student_id;F[L]||(F[L]={total:0,present:0}),F[L].total++,q.is_present&&F[L].present++}),b(F)}},y=async()=>{const{data:M}=await ae.from("referrals").select("*").order("date",{ascending:!1});if(M){const D=M.map(F=>({id:F.id,studentId:F.student_code||F.student_id,studentName:F.student_name||"Desconhecido",date:F.date,type:F.type,reason:F.reason,status:F.status,responsible:F.responsible}));g(D)}},j=R.useMemo(()=>p.map(M=>{const D=v[M.id]||{total:0,present:0},F=D.total,q=D.present,L=F>0?q/F*100:100;let B="NORMAL";return L<85?B="CRTICO":L<90&&(B="ALERTA"),{...M,attendance:Math.round(L),status:B,name:M.name,class:M.class,id:M.id}}),[p,v]),T=R.useMemo(()=>j.filter(M=>M.name.toLowerCase().includes(t.toLowerCase())),[j,t]),_=async M=>{const D=p.find(F=>F.id===M.studentId);try{const{error:F}=await ae.from("referrals").insert([{student_code:M.studentId,student_name:D==null?void 0:D.name,class_name:D==null?void 0:D.class,date:M.date||new Date().toISOString(),type:M.type,reason:M.reason,status:M.status,responsible:M.responsible}]);if(F)throw F;alert("Interveno de Busca Ativa registrada!"),n(null),y()}catch(F){console.error(F),alert("Erro ao registrar interveno.")}},O=M=>{switch(M){case"CRTICO":return"bg-red-100 text-red-700 border-red-200";case"ALERTA":return"bg-amber-100 text-amber-700 border-amber-200";default:return"bg-emerald-100 text-emerald-700 border-emerald-200"}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:"Filtrar por nome do aluno...",value:t,onChange:M=>e(M.target.value),className:"w-full pl-12 pr-6 py-3.5 bg-gray-50 border-none rounded-2xl font-bold text-sm outline-none focus:ring-4 focus:ring-emerald-500/5 transition-all"})]}),a.jsx("button",{className:"p-3 bg-gray-50 text-gray-400 hover:text-emerald-600 rounded-xl transition-all border border-gray-100",children:a.jsx(Bg,{size:20})})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:d?a.jsx("div",{className:"py-24 text-center",children:a.jsx(vt,{className:"animate-spin text-emerald-600 mx-auto"})}):T.length>0?T.map(M=>{const D=w.filter(F=>F.studentId===M.id);return a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-gray-100 shadow-sm hover:border-emerald-200 hover:shadow-xl transition-all flex flex-col lg:flex-row items-center justify-between gap-6 group",children:[a.jsxs("div",{className:"flex items-center gap-6 flex-1",children:[a.jsxs("div",{className:`w-16 h-16 rounded-[1.5rem] flex flex-col items-center justify-center font-black ${M.attendance<85?"bg-red-50 text-red-600":M.attendance<90?"bg-amber-50 text-amber-600":"bg-emerald-50 text-emerald-600"}`,children:[a.jsxs("span",{className:"text-xl leading-none",children:[M.attendance,"%"]}),a.jsx("span",{className:"text-[7px] uppercase tracking-tighter mt-1",children:"Presena"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h4",{className:"text-lg font-black text-gray-900 uppercase leading-none",children:M.name}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[8px] font-black uppercase border ${O(M.status)}`,children:M.status}),D.length>0&&a.jsxs("div",{className:"flex items-center gap-1 text-[8px] font-black bg-violet-50 text-violet-600 px-2 py-0.5 rounded-full border border-violet-100",children:[a.jsx(wn,{size:10})," ",D.length," Intervenes"]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2",children:[a.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[a.jsx(la,{size:12})," ",M.class," (",M.shift||"MATUTINO",")"]}),a.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[a.jsx(la,{size:12})," Cdigo: ",M.id]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[a.jsxs("button",{onClick:()=>l({id:M.id,name:M.name,class:M.class}),className:"px-5 py-2.5 bg-indigo-50 text-indigo-700 rounded-xl text-[10px] font-black uppercase border border-indigo-100 hover:bg-indigo-600 hover:text-white transition-all flex items-center gap-2 shadow-sm",children:[a.jsx(Nt,{size:14})," Protocolos"]}),a.jsx("button",{onClick:()=>i(M),className:"px-5 py-2.5 bg-gray-50 text-gray-600 rounded-xl text-[10px] font-black uppercase border border-gray-200",children:"Ver Perfil"}),a.jsxs("button",{onClick:()=>n({id:M.id,name:M.name,class:M.class}),className:"px-5 py-2.5 bg-emerald-50 text-emerald-700 rounded-xl text-[10px] font-black uppercase flex items-center gap-2 hover:bg-emerald-600 hover:text-white transition-all shadow-sm",children:[a.jsx(Hn,{size:14})," Encaminhar"]}),a.jsx("button",{className:"p-3 bg-gray-50 text-gray-400 hover:text-emerald-600 rounded-xl transition-all",children:a.jsx(ga,{size:20})})]})]},M.id)}):a.jsxs("div",{className:"py-24 text-center",children:[a.jsx(Ta,{size:48,className:"mx-auto mb-4 text-gray-100"}),a.jsx("p",{className:"text-gray-300 font-black uppercase text-xs",children:"Nenhum aluno encontrado."})]})}),r&&a.jsx(nCe,{student:r,onClose:()=>n(null),onSave:_}),s&&a.jsx(sCe,{student:s,referrals:w,onClose:()=>i(null)}),o&&a.jsx(hz,{student:o,onClose:()=>l(null)})]})},oCe=()=>{const[t,e]=R.useState(""),[r,n]=R.useState(!1),[s,i]=R.useState([]),[o,l]=R.useState(!0);R.useEffect(()=>{d()},[]);const d=async()=>{l(!0);const{data:p}=await ae.from("class_attendance_students").select("student_id, is_present"),x={};p&&p.forEach(b=>{const w=b.student_id;x[w]||(x[w]={total:0,present:0}),x[w].total++,b.is_present&&x[w].present++});const v=[];$i.forEach(b=>{const w=x[b.id]||{total:0,present:0};(w.total>0?w.present/w.total*100:100)<90&&v.push({id:b.id,name:b.name,class:b.class,absences:w.total-w.present,guardian:b.guardian||"NO INFORMADO",phone:b.phone||"NO INFORMADO"})}),i(v),l(!1)},u=async()=>{if(!t)return alert("Selecione um aluno.");n(!0),setTimeout(async()=>{const p=document.getElementById("ficai-document");if(!p)return n(!1);try{window.html2pdf?await window.html2pdf().set({margin:10,filename:`FICAI_${t}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).from(p).save():window.print()}catch(x){console.error(x),window.print()}finally{n(!1)}},500)},h=s.find(p=>p.id===t);return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Selecionar Aluno Crtico"}),o?a.jsxs("div",{className:"p-4 flex items-center gap-2 text-sm text-gray-400",children:[a.jsx(vt,{className:"animate-spin",size:16})," Carregando alunos em risco..."]}):a.jsxs("select",{value:t,onChange:p=>e(p.target.value),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm uppercase outline-none focus:ring-4 focus:ring-emerald-500/5 transition-all",children:[a.jsx("option",{value:"",children:"Escolha um aluno para abrir FICAi..."}),s.map(p=>a.jsxs("option",{value:p.id,children:[p.name," (",p.absences," faltas)"]},p.id))]})]}),a.jsxs("button",{onClick:u,disabled:!t||r,className:"px-10 py-5 bg-emerald-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-emerald-700 active:scale-95 transition-all flex items-center justify-center gap-3 shrink-0 disabled:opacity-50",children:[r?a.jsx(vt,{size:18,className:"animate-spin"}):a.jsx(Sa,{size:18}),"Gerar e Baixar FICAi"]})]}),t&&h&&a.jsxs("div",{id:"ficai-document",className:"bg-white p-12 border border-gray-200 shadow-2xl max-w-4xl mx-auto space-y-10 font-sans text-gray-900",children:[a.jsxs("div",{className:"text-center border-b-2 border-orange-950 pb-8 mb-10",children:[a.jsx("h1",{className:"text-2xl font-black uppercase text-orange-950",children:"Formulrio de Busca Ativa (FICAI)"}),a.jsx("p",{className:"text-[10px] font-bold",children:"Base Legal: Estatuto da Criana e do Adolescente (ECA) - Art. 56, inciso II"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-xl space-y-2",children:[a.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-emerald-700",children:"1. Identificao da Unidade Escolar"}),a.jsx("p",{className:"text-xs",children:"Endereo: Avenida Borba Gato, n 80, Colder-MT"})]}),a.jsxs("div",{className:"p-4 border-2 border-black rounded-xl space-y-3",children:[a.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest",children:"2. Identificao do Aluno"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black uppercase text-gray-400",children:"Nome do Aluno"}),a.jsx("p",{className:"text-xs font-bold uppercase",children:h.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black uppercase text-gray-400",children:"Turma / Turno"}),a.jsx("p",{className:"text-xs font-bold uppercase",children:h.class})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black uppercase text-gray-400",children:"Nome do Responsvel"}),a.jsx("p",{className:"text-xs font-bold uppercase",children:h.guardian})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black uppercase text-gray-400",children:"Telefone Contato"}),a.jsx("p",{className:"text-xs font-bold uppercase",children:h.phone})]})]})]}),a.jsxs("div",{className:"p-4 border-2 border-black rounded-xl space-y-4",children:[a.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest",children:"3. Motivo da Comunicao"}),a.jsxs("div",{className:"flex gap-10",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-4 h-4 border-2 border-black flex items-center justify-center ${h.absences>=5?"bg-black text-white":""}`,children:"X"}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:"5 Faltas Consecutivas"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-black bg-black"}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Infrequncia Superior a 10%"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[8px] font-black uppercase text-gray-400",children:"Total de faltas acumuladas no perodo:"}),a.jsxs("p",{className:"text-sm font-black",children:[h.absences," Faltas Registradas"]})]})]}),a.jsxs("div",{className:"p-4 border-2 border-black rounded-xl space-y-4",children:[a.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest",children:"4. Providncias Adotadas pela Escola"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 border border-black flex items-center justify-center text-[8px]",children:"X"}),a.jsx("span",{className:"text-[9px] uppercase",children:"Contato Telefnico com os pais"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 border border-black flex items-center justify-center text-[8px]",children:"X"}),a.jsx("span",{className:"text-[9px] uppercase",children:"Anotao em Dirio de Classe"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 border border-black"}),a.jsx("span",{className:"text-[9px] uppercase",children:"Visita Domiciliar realizada"})]})]})]})]}),a.jsxs("div",{className:"pt-20 grid grid-cols-2 gap-20 text-center",children:[a.jsx("div",{className:"border-t-2 border-black pt-2",children:a.jsx("p",{className:"text-[10px] font-black uppercase",children:"Direo / Coordenao"})}),a.jsx("div",{className:"border-t-2 border-black pt-2",children:a.jsx("p",{className:"text-[10px] font-black uppercase",children:"Conselho Tutelar (Recebido em)"})})]}),a.jsxs("div",{className:"pt-10 flex items-center justify-center gap-2 opacity-30",children:[a.jsx(ft,{size:16}),a.jsx("p",{className:"text-[8px] font-black uppercase tracking-widest",children:"Documento Autenticado via Portal Gesto Andr Maggi"})]})]}),!t&&!o&&a.jsxs("div",{className:"py-32 text-center bg-white rounded-[3rem] border-2 border-dashed border-gray-100",children:[a.jsx(Xt,{size:48,className:"mx-auto mb-4 text-emerald-100"}),a.jsx("p",{className:"text-gray-300 font-black uppercase text-xs tracking-widest",children:"Selecione um aluno para pr-visualizar a FICAi"})]})]})},lCe=({onExit:t})=>{const[e,r]=R.useState("dashboard"),n=[{id:"dashboard",label:"Viso Geral",icon:Ki},{id:"calendar",label:"Estratgia 2026",icon:Nn},{id:"students",label:"Monitoramento Alunos",icon:mr},{id:"referrals",label:"Encaminhamentos",icon:Qd},{id:"ficai",label:"Gerador FICAi",icon:zt}];return a.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden font-sans",children:[a.jsxs("aside",{className:"w-64 bg-emerald-950 text-white flex flex-col no-print",children:[a.jsx("div",{className:"p-6",children:a.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx("span",{className:"bg-emerald-500 p-1.5 rounded-lg shadow-lg",children:""}),"Busca Ativa"]})}),a.jsx("nav",{className:"flex-1 mt-6 px-4 space-y-1.5 overflow-y-auto",children:n.map(s=>a.jsxs("button",{onClick:()=>r(s.id),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${e===s.id?"bg-emerald-800 text-white shadow-lg":"text-emerald-100/50 hover:bg-emerald-800/30"}`,children:[a.jsx(s.icon,{size:18}),s.label]},s.id))}),a.jsxs("div",{className:"p-6 border-t border-emerald-900 space-y-3",children:[a.jsxs("button",{onClick:t,className:"w-full flex items-center gap-2 px-4 py-3 bg-white/10 hover:bg-white/20 rounded-xl text-xs font-black uppercase tracking-widest transition-all",children:[a.jsx(cr,{size:16})," Voltar ao Hub"]}),a.jsxs("div",{className:"bg-emerald-900/50 p-4 rounded-2xl border border-emerald-800/50",children:[a.jsxs("p",{className:"text-[10px] text-emerald-300 font-black uppercase tracking-widest mb-1.5 flex items-center gap-1.5",children:[a.jsx(ft,{size:10})," UNICEF / MT"]}),a.jsx("div",{className:"text-xs font-black uppercase tracking-tight text-emerald-400",children:"Escola Protegida"})]})]})]}),a.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"h-20 bg-white border-b border-gray-100 flex items-center justify-between px-10 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:a.jsx(kL,{size:20})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-black text-gray-900 uppercase",children:"Mdulo: Busca Ativa Escolar"}),a.jsx("p",{className:"text-[10px] text-emerald-600 font-bold uppercase tracking-widest",children:"Preveno ao Abandono e Evaso"})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-red-50 text-red-600 rounded-full border border-red-100",children:[a.jsx(Xt,{size:14,className:"animate-pulse"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"8 Alertas Crticos"})]}),a.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500 flex items-center justify-center text-white font-black text-sm",children:"BA"})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:[e==="dashboard"&&a.jsx(aCe,{}),e==="calendar"&&a.jsx(sp,{}),e==="students"&&a.jsx(iCe,{}),e==="referrals"&&a.jsx(Ub,{role:"PSICOSSOCIAL"}),e==="ficai"&&a.jsx(oCe,{})]})]})]})},cCe=({role:t})=>{const e=[{id:1,type:"OCORRNCIA",student:"ADRIANO SANTOS",reason:"3 Ocorrncias Disciplinares na semana",severity:"ALTA"},{id:2,type:"BUSCA ATIVA",student:"BRUNO SILVA",reason:"Evaso escolar - Famlia no atende",severity:"CRTICA"},{id:3,type:"CONFLITO",student:"ANA & CARLA",reason:"Possvel bullying digital relatado",severity:"MDIA"}];return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Mediaes Ativas"}),a.jsx("p",{className:"text-3xl font-black text-gray-900 mt-1",children:"12"})]}),a.jsxs("div",{className:"bg-rose-50 p-6 rounded-3xl border border-rose-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest",children:"Escutas Pendentes"}),a.jsx("p",{className:"text-3xl font-black text-rose-700 mt-1",children:"5"})]}),a.jsxs("div",{className:"bg-emerald-50 p-6 rounded-3xl border border-emerald-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest",children:"Campanhas Ativas"}),a.jsx("p",{className:"text-3xl font-black text-emerald-700 mt-1",children:"1"})]}),a.jsxs("div",{className:"bg-amber-50 p-6 rounded-3xl border border-amber-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-amber-600 uppercase tracking-widest",children:"Aes em Rede"}),a.jsx("p",{className:"text-3xl font-black text-amber-700 mt-1",children:"4"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(ln,{className:"text-rose-600"})," Sinais de Alerta Integrados"]}),a.jsx("span",{className:"text-[10px] font-black bg-rose-50 text-rose-600 px-3 py-1 rounded-full uppercase tracking-widest",children:"IA Inteligncia Coletiva"})]}),a.jsx("div",{className:"space-y-4",children:e.map(r=>a.jsxs("div",{className:"flex items-center justify-between p-5 bg-gray-50 rounded-[2rem] border border-transparent hover:border-rose-200 transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center font-black text-[10px] ${r.severity==="CRTICA"?"bg-red-600 text-white animate-pulse":r.severity==="ALTA"?"bg-rose-100 text-rose-600":"bg-amber-100 text-amber-600"}`,children:r.type[0]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase",children:r.student}),a.jsx("span",{className:"text-[8px] font-black bg-gray-200 text-gray-500 px-2 py-0.5 rounded uppercase",children:r.type})]}),a.jsx("p",{className:"text-xs text-gray-500 font-medium mt-0.5",children:r.reason})]})]}),a.jsxs("button",{className:"flex items-center gap-2 px-5 py-2.5 bg-white text-rose-600 rounded-xl text-[10px] font-black uppercase hover:bg-rose-600 hover:text-white transition-all shadow-sm",children:["Avaliar ",a.jsx(rc,{size:14})]})]},r.id))})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm relative overflow-hidden",children:[a.jsx("div",{className:"absolute -top-4 -right-4 p-8 opacity-5",children:a.jsx(Zd,{size:100})}),a.jsxs("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight mb-6 flex items-center gap-3",children:[a.jsx(Zd,{className:"text-rose-600"})," Ao Vigente"]}),a.jsxs("div",{className:"bg-rose-50 p-5 rounded-3xl border border-rose-100 space-y-4",children:[a.jsx("p",{className:"text-xs font-black text-rose-700 uppercase leading-tight",children:"Janeiro Branco: Sade Mental Importa"}),a.jsxs("div",{className:"flex items-center justify-between text-[8px] font-black text-rose-400 uppercase tracking-widest",children:[a.jsx("span",{children:"Progresso do Ms"}),a.jsx("span",{children:"75%"})]}),a.jsx("div",{className:"w-full h-1.5 bg-rose-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-rose-600",style:{width:"75%"}})}),a.jsx("button",{className:"w-full py-2 bg-white text-rose-600 rounded-xl text-[8px] font-black uppercase tracking-widest border border-rose-100 hover:bg-rose-600 hover:text-white transition-all",children:"Ver Materiais"})]})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-rose-900 p-8 rounded-[3rem] text-white shadow-xl relative overflow-hidden h-full flex flex-col justify-between",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 rotate-12",children:a.jsx(qj,{size:140})}),a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-white/10 rounded-xl backdrop-blur-sm",children:a.jsx(Pg,{size:20,className:"text-rose-400"})}),a.jsx("h3",{className:"text-lg font-black uppercase tracking-widest",children:"Sade Relacional"})]}),a.jsx("p",{className:"text-rose-100/80 text-sm leading-relaxed font-medium",children:"O ndice de conflitos interpessoais reduziu 22% no 9 Ano aps os Crculos de Paz realizados na ltima quinzena."}),a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase text-rose-300",children:[a.jsx("span",{children:"Taxa de Acordo em Mediaes"}),a.jsx("span",{children:"85%"})]}),a.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-emerald-500",style:{width:"85%"}})})]})]}),a.jsx("button",{className:"relative z-10 mt-8 w-full py-4 bg-white text-rose-900 rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-rose-50 transition-all shadow-lg",children:"Novo Relatrio Mensal"})]})})]})]})},dCe=["CONFLITO","BULLYING","DISCIPLINAR","OUTRO"],uCe=["BAIXA","MDIA","ALTA","CRTICA"],fCe=({role:t})=>{const[e,r]=R.useState(()=>{const y=localStorage.getItem("mediation_cases_v1");return y?JSON.parse(y):[{id:"med-1",studentId:"st-101",studentName:"MARCOS VINICIUS",className:"9 ANO A",type:"CONFLITO",severity:"ALTA",status:"EXECUO",openedAt:"2026-03-05",description:"Briga no ptio envolvendo quatro alunos por motivo ftil.",involvedParties:["Marcos Vinicius","Lucas Silva","Gustavo Lima"],steps:[{id:"1",label:"Escuta Individual - Marcos",completed:!0,date:"2026-03-06"},{id:"2",label:"Escuta Individual - Lucas",completed:!0,date:"2026-03-06"},{id:"3",label:"Encontro de Mediao",completed:!1}]}]}),[n,s]=R.useState(!1),[i,o]=R.useState(null),[l,d]=R.useState(""),[u,h]=R.useState(""),[p,x]=R.useState({type:"CONFLITO",severity:"MDIA",description:"",involvedParties:[],studentName:"",className:""}),v=R.useMemo(()=>{const y=localStorage.getItem("secretariat_detailed_students_v1");return y?JSON.parse(y):$i},[]),b=R.useMemo(()=>u.length<3?[]:v.filter(y=>y.Nome.toLowerCase().includes(u.toLowerCase())).slice(0,5),[u,v]);R.useEffect(()=>{localStorage.setItem("mediation_cases_v1",JSON.stringify(e))},[e]);const w=y=>{if(y.preventDefault(),!p.studentName||!p.description)return alert("Preencha os campos obrigatrios.");const j={id:`med-${Date.now()}`,studentId:p.studentId||"N/A",studentName:p.studentName,className:p.className,type:p.type,severity:p.severity,status:"ABERTURA",openedAt:new Date().toISOString().split("T")[0],description:p.description,involvedParties:p.involvedParties||[],steps:[{id:"1",label:"Acolhimento Inicial",completed:!0,date:new Date().toISOString().split("T")[0]},{id:"2",label:"Escuta das Partes",completed:!1},{id:"3",label:"Crculo de Mediao / Paz",completed:!1},{id:"4",label:"Acordo / Finalizao",completed:!1}]};r([j,...e]),s(!1),x({type:"CONFLITO",severity:"MDIA",description:"",involvedParties:[],studentName:"",className:""}),h(""),alert("Novo caso de mediao aberto!")},g=y=>{switch(y){case"ABERTURA":return"bg-blue-50 text-blue-600 border-blue-100";case"PLANEJAMENTO":return"bg-amber-50 text-amber-600 border-amber-100";case"EXECUO":return"bg-rose-50 text-rose-600 border-rose-100";case"CONCLUDO":return"bg-emerald-50 text-emerald-600 border-emerald-100"}},S=y=>{switch(y){case"CRTICA":return"text-red-600";case"ALTA":return"text-rose-500";case"MDIA":return"text-amber-500";default:return"text-blue-500"}},k=e.filter(y=>y.studentName.toLowerCase().includes(l.toLowerCase())||y.className.toLowerCase().includes(l.toLowerCase()));return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-rose-50 text-rose-600 rounded-3xl",children:a.jsx(Hn,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Mediao de Conflitos"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Gesto de Casos e Resoluo Dialgica"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:"Pesquisar caso...",value:l,onChange:y=>d(y.target.value),className:"pl-10 pr-4 py-2.5 bg-gray-50 border-none rounded-xl text-xs font-bold outline-none w-64 focus:ring-2 focus:ring-rose-100"})]}),a.jsxs("button",{onClick:()=>s(!0),className:"px-6 py-3 bg-rose-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest shadow-xl hover:bg-rose-700 active:scale-95 transition-all flex items-center gap-2",children:[a.jsx(ot,{size:16})," Novo Caso"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[k.map(y=>a.jsxs("div",{onClick:()=>o(y),className:"bg-white p-6 rounded-[2.5rem] border border-gray-100 shadow-sm hover:border-rose-200 hover:shadow-xl transition-all cursor-pointer group flex flex-col md:flex-row items-center justify-between gap-8",children:[a.jsxs("div",{className:"flex items-center gap-6 flex-1",children:[a.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center border-2 ${g(y.status)}`,children:y.status==="CONCLUDO"?a.jsx(Nt,{size:24}):a.jsx(rr,{size:24})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h4",{className:"text-lg font-black text-gray-900 uppercase leading-none",children:y.studentName}),a.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase border ${g(y.status)}`,children:y.status})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[a.jsx(la,{size:12})," ",y.className]}),a.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[a.jsx(tu,{size:12})," ",y.type]}),a.jsxs("span",{className:`text-[10px] font-black uppercase flex items-center gap-1 ${S(y.severity)}`,children:[a.jsx(Xt,{size:12})," Risco ",y.severity]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-6 shrink-0",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Progresso"}),a.jsx("div",{className:"flex items-center gap-1 mt-1",children:y.steps.map((j,T)=>a.jsx("div",{className:`h-1.5 w-6 rounded-full ${j.completed?"bg-rose-500":"bg-gray-100"}`},T))})]}),a.jsx("div",{className:"p-3 bg-gray-50 text-gray-300 group-hover:bg-rose-600 group-hover:text-white rounded-xl transition-all",children:a.jsx(ga,{size:24})})]})]},y.id)),k.length===0&&a.jsxs("div",{className:"py-24 text-center bg-white rounded-[3rem] border-2 border-dashed border-gray-100",children:[a.jsx(Hn,{size:48,className:"mx-auto mb-4 text-gray-100"}),a.jsx("p",{className:"text-gray-400 font-black uppercase text-xs tracking-widest",children:"Nenhum caso de mediao registrado"})]})]}),n&&a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-rose-950/40 backdrop-blur-md animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-2xl shadow-2xl border border-white/20 overflow-hidden flex flex-col max-h-[95vh]",children:[a.jsxs("div",{className:"p-8 bg-rose-50 border-b border-rose-100 flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-rose-600 text-white rounded-3xl shadow-lg",children:a.jsx(ot,{size:28,strokeWidth:3})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Novo Caso de Mediao"}),a.jsx("p",{className:"text-[10px] text-rose-600 font-bold uppercase tracking-widest mt-1",children:"Abertura de Protocolo Interno"})]})]}),a.jsx("button",{onClick:()=>s(!1),className:"p-3 bg-white text-gray-400 hover:text-red-500 rounded-2xl shadow-sm transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:a.jsxs("form",{onSubmit:w,className:"space-y-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Buscar Aluno Principal"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:"Digite o nome (mn. 3 letras)...",value:u,onChange:y=>h(y.target.value),className:"w-full pl-12 pr-6 py-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white focus:ring-4 focus:ring-rose-500/5 transition-all uppercase"})]}),b.length>0&&a.jsx("div",{className:"bg-white border border-gray-100 rounded-2xl shadow-xl overflow-hidden divide-y divide-gray-50 animate-in slide-in-from-top-2",children:b.map(y=>a.jsxs("button",{type:"button",onClick:()=>{x({...p,studentName:y.Nome,studentId:y.CodigoAluno,className:y.Turma}),h(y.Nome)},className:"w-full text-left p-4 hover:bg-rose-50 transition-colors flex justify-between items-center",children:[a.jsx("p",{className:"text-xs font-black uppercase text-gray-900",children:y.Nome}),a.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:y.Turma})]},y.CodigoAluno))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Tipo do Conflito"}),a.jsx("select",{value:p.type,onChange:y=>x({...p,type:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase outline-none focus:bg-white",children:dCe.map(y=>a.jsx("option",{value:y,children:y},y))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Severidade Inicial"}),a.jsx("select",{value:p.severity,onChange:y=>x({...p,severity:y.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase outline-none focus:bg-white",children:uCe.map(y=>a.jsx("option",{value:y,children:y},y))})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Relato do Fato"}),a.jsx("textarea",{required:!0,value:p.description,onChange:y=>x({...p,description:y.target.value}),placeholder:"Descreva detalhadamente o ocorrido ou o motivo da abertura do caso...",className:"w-full p-6 bg-gray-50 border border-gray-100 rounded-[2rem] text-sm font-medium h-32 resize-none outline-none focus:bg-white focus:ring-4 focus:ring-rose-500/5 transition-all"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Outras Partes Envolvidas"}),a.jsx("input",{type:"text",placeholder:"Nomes separados por vrgula...",onChange:y=>x({...p,involvedParties:y.target.value.split(",").map(j=>j.trim().toUpperCase())}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all uppercase"})]}),a.jsxs("div",{className:"p-6 bg-rose-50 rounded-[2.5rem] border-2 border-rose-100 border-dashed space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-rose-600",children:[a.jsx(ln,{size:16}),a.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest",children:"Protocolo de Sigilo"})]}),a.jsx("p",{className:"text-[10px] font-medium text-rose-700 leading-relaxed italic",children:'"Os dados registrados aqui so protegidos pela LGPD e restritos  equipe tcnica e gesto para fins de proteo integral da criana e do adolescente."'})]}),a.jsxs("button",{type:"submit",className:"w-full py-5 bg-rose-600 text-white rounded-[2rem] font-black uppercase text-xs tracking-[0.2em] shadow-2xl hover:bg-rose-700 transition-all flex items-center justify-center gap-3",children:[a.jsx(qr,{size:20})," Efetivar Abertura de Caso"]})]})})]})}),i&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-end bg-rose-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white h-full w-full max-w-2xl shadow-2xl overflow-hidden flex flex-col animate-in slide-in-from-right duration-500",children:[a.jsxs("div",{className:"p-8 bg-rose-900 text-white shrink-0",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("button",{onClick:()=>o(null),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Ze,{size:28})}),a.jsxs("span",{className:"px-4 py-1.5 bg-white/10 rounded-full text-[10px] font-black uppercase tracking-widest border border-white/20",children:["Protocolo #",i.id]})]}),a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/10 flex items-center justify-center text-3xl font-black",children:i.studentName[0]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight leading-none",children:i.studentName}),a.jsxs("p",{className:"text-rose-300 font-bold uppercase text-[10px] tracking-widest mt-2",children:[i.className,"  Caso ",i.type]})]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-10 custom-scrollbar",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2 border-b border-gray-50 pb-2",children:[a.jsx(zt,{size:14,className:"text-rose-600"})," Histrico do Relato"]}),a.jsxs("p",{className:"text-sm text-gray-600 leading-relaxed font-medium italic",children:['"',i.description,'"']})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2 border-b border-gray-50 pb-2",children:[a.jsx(_t,{size:14,className:"text-rose-600"})," Etapas do Processo de Mediao"]}),a.jsx("div",{className:"space-y-4",children:i.steps.map((y,j)=>a.jsxs("div",{className:`p-5 rounded-3xl border-2 transition-all flex items-center justify-between ${y.completed?"bg-emerald-50 border-emerald-100":"bg-white border-dashed border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-2 rounded-lg ${y.completed?"bg-emerald-500 text-white":"bg-gray-100 text-gray-300"}`,children:y.completed?a.jsx(Nt,{size:16}):a.jsx(rr,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:`text-xs font-black uppercase ${y.completed?"text-emerald-700":"text-gray-400"}`,children:y.label}),y.date&&a.jsx("p",{className:"text-[9px] font-bold text-emerald-600 mt-0.5",children:new Date(y.date).toLocaleDateString("pt-BR")})]})]}),!y.completed&&a.jsx("button",{className:"px-4 py-1.5 bg-gray-900 text-white rounded-lg text-[9px] font-black uppercase hover:bg-rose-600 transition-all",children:"Registrar"})]},j))})]}),a.jsxs("div",{className:"p-8 bg-rose-50 rounded-[2.5rem] border border-rose-100 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-rose-600",children:[a.jsx(Ph,{size:20}),a.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest",children:"Partes Envolvidas"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:i.involvedParties.map((y,j)=>a.jsx("span",{className:"px-3 py-1 bg-white border border-rose-100 rounded-lg text-[10px] font-bold text-rose-800 uppercase",children:y},j))})]})]}),a.jsxs("div",{className:"p-8 bg-white border-t border-gray-50 flex gap-4",children:[a.jsx("button",{className:"flex-1 py-4 bg-emerald-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-emerald-700 transition-all",children:"Encerrar com Acordo"}),a.jsx("button",{className:"flex-1 py-4 bg-gray-900 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-black transition-all",children:"Encaminhar Rede Externa"})]})]})})]})},hCe=[{id:"ESCUTA_INDIVIDUAL",label:"Escuta Individual"},{id:"CIRCULO_PAZ",label:"Crculo de Paz"},{id:"REUNIAO_FAMILIAR",label:"Reunio Familiar"},{id:"VISITA_DOMICILIAR",label:"Visita Domiciliar"}],pCe=({role:t})=>{const[e,r]=R.useState(()=>{const S=localStorage.getItem("psychosocial_appointments_v1");return S?JSON.parse(S):[{id:"ap-1",studentId:"st-1",studentName:"MARIA EDUARDA",date:"2026-03-20",time:"09:00",professionalName:"ANA PAULA (PSICLOGA)",type:"ESCUTA_INDIVIDUAL",notes:"Acompanhamento de luto familiar.",isConfidential:!0}]}),[n,s]=R.useState(!1),[i,o]=R.useState(""),[l,d]=R.useState(""),[u,h]=R.useState({date:new Date().toISOString().split("T")[0],time:"08:00",type:"ESCUTA_INDIVIDUAL",professionalName:"EQUIPE PSICOSSOCIAL",notes:"",isConfidential:!1}),p=R.useMemo(()=>{const S=localStorage.getItem("secretariat_detailed_students_v1");return S?JSON.parse(S):$i},[]),x=R.useMemo(()=>l.length<3?[]:p.filter(S=>S.Nome.toLowerCase().includes(l.toLowerCase())).slice(0,5),[l,p]);R.useEffect(()=>{localStorage.setItem("psychosocial_appointments_v1",JSON.stringify(e))},[e]);const v=S=>{if(S.preventDefault(),!u.studentName||!u.date||!u.time)return alert("Preencha os campos obrigatrios.");const k={id:`ap-${Date.now()}`,studentId:u.studentId||"N/A",studentName:u.studentName,date:u.date,time:u.time,professionalName:u.professionalName,type:u.type,notes:u.notes||"",isConfidential:u.isConfidential||!1};r([k,...e]),s(!1),b(),alert("Atendimento agendado com sucesso!")},b=()=>{h({date:new Date().toISOString().split("T")[0],time:"08:00",type:"ESCUTA_INDIVIDUAL",professionalName:"EQUIPE PSICOSSOCIAL",notes:"",isConfidential:!1}),d("")},w=S=>{window.confirm("Deseja cancelar este agendamento?")&&r(k=>k.filter(y=>y.id!==S))},g=e.filter(S=>S.studentName.toLowerCase().includes(i.toLowerCase())).sort((S,k)=>S.date.localeCompare(k.date)||S.time.localeCompare(k.time));return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-rose-50 text-rose-600 rounded-3xl",children:a.jsx(kr,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Agenda de Atendimentos"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Gesto de Horrios da Equipe Multidisciplinar"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:"Buscar aluno...",value:i,onChange:S=>o(S.target.value),className:"pl-10 pr-4 py-2.5 bg-gray-50 border-none rounded-xl text-xs font-bold outline-none w-64 focus:ring-2 focus:ring-rose-100"})]}),a.jsxs("button",{onClick:()=>s(!0),className:"px-6 py-3 bg-rose-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest shadow-xl hover:bg-rose-700 active:scale-95 transition-all flex items-center gap-2",children:[a.jsx(lc,{size:18})," Novo Agendamento"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g.map(S=>a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm hover:border-rose-200 transition-all flex flex-col justify-between group relative overflow-hidden",children:[S.isConfidential&&a.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 transition-opacity",children:a.jsx(yn,{size:80,className:"text-rose-900"})}),a.jsxs("div",{className:"space-y-6 relative z-10",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-rose-600 bg-rose-50 px-3 py-1 rounded-full uppercase border border-rose-100",children:[a.jsx(rr,{size:12})," ",S.time]}),a.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:new Date(S.date).toLocaleDateString("pt-BR")})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-black text-gray-900 uppercase leading-tight group-hover:text-rose-600 transition-colors",children:S.studentName}),a.jsxs("p",{className:"text-[9px] text-gray-400 font-bold uppercase mt-2 flex items-center gap-1.5",children:[a.jsx(la,{size:12,className:"text-rose-300"})," ",S.professionalName]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl border border-gray-100 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(FG,{size:14,className:"text-rose-400"}),a.jsx("span",{className:"text-[10px] font-black text-gray-600 uppercase tracking-tight",children:S.type.replace("_"," ")})]}),S.isConfidential&&a.jsxs("div",{className:"flex items-center gap-1 text-[8px] font-black text-amber-600 uppercase",children:[a.jsx(yn,{size:10})," Contedo Sigiloso (Protegido)"]})]})]}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-50 flex items-center justify-between relative z-10",children:[a.jsxs("button",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest hover:underline flex items-center gap-1",children:["Ver Detalhes ",a.jsx(ga,{size:12})]}),a.jsx("button",{onClick:()=>w(S.id),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:a.jsx(Lt,{size:18})})]})]},S.id)),a.jsxs("button",{onClick:()=>s(!0),className:"bg-gray-50 rounded-[2.5rem] border-2 border-dashed border-gray-200 flex flex-col items-center justify-center p-8 text-gray-300 hover:bg-white hover:border-rose-300 hover:text-rose-400 transition-all min-h-[300px]",children:[a.jsx(ot,{size:48,strokeWidth:1,className:"mb-4"}),a.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest text-center",children:["Clique para agendar um novo",a.jsx("br",{}),"momento de escuta ou mediao"]})]})]}),n&&a.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-rose-950/40 backdrop-blur-md animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-xl shadow-2xl border border-white/20 overflow-hidden flex flex-col max-h-[95vh]",children:[a.jsxs("div",{className:"p-8 bg-rose-50 border-b border-rose-100 flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-rose-600 text-white rounded-3xl shadow-lg",children:a.jsx(Nn,{size:28,strokeWidth:3})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Agendar Atendimento"}),a.jsx("p",{className:"text-[10px] text-rose-600 font-bold uppercase tracking-widest mt-1",children:"Organizao da Equipe Multidisciplinar"})]})]}),a.jsx("button",{onClick:()=>s(!1),className:"p-3 bg-white text-gray-400 hover:text-red-500 rounded-2xl shadow-sm transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:a.jsxs("form",{onSubmit:v,className:"space-y-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Localizar Aluno"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:"Digite o nome (mn. 3 letras)...",value:l,onChange:S=>d(S.target.value),className:"w-full pl-12 pr-6 py-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white focus:ring-4 focus:ring-rose-500/5 transition-all uppercase"})]}),x.length>0&&a.jsx("div",{className:"bg-white border border-gray-100 rounded-2xl shadow-xl overflow-hidden divide-y divide-gray-50 animate-in slide-in-from-top-2",children:x.map(S=>a.jsxs("button",{type:"button",onClick:()=>{h({...u,studentName:S.Nome,studentId:S.CodigoAluno}),d(S.Nome)},className:"w-full text-left p-4 hover:bg-rose-50 transition-colors flex justify-between items-center",children:[a.jsx("p",{className:"text-xs font-black uppercase text-gray-900",children:S.Nome}),a.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:S.Turma})]},S.CodigoAluno))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Data"}),a.jsx("input",{type:"date",required:!0,value:u.date,onChange:S=>h({...u,date:S.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Horrio"}),a.jsx("input",{type:"time",required:!0,value:u.time,onChange:S=>h({...u,time:S.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white text-center"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Tipo de Atendimento"}),a.jsx("select",{value:u.type,onChange:S=>h({...u,type:S.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-[11px] uppercase outline-none focus:bg-white",children:hCe.map(S=>a.jsx("option",{value:S.id,children:S.label},S.id))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Profissional Responsvel"}),a.jsx("input",{type:"text",value:u.professionalName,onChange:S=>h({...u,professionalName:S.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Notas de Agenda (No confidencial)"}),a.jsx("textarea",{value:u.notes,onChange:S=>h({...u,notes:S.target.value}),placeholder:"Breve nota sobre o agendamento...",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl text-sm font-medium h-20 resize-none outline-none focus:bg-white"})]}),a.jsxs("div",{className:"flex items-center gap-4 p-5 bg-rose-50 rounded-2xl border border-rose-100",children:[a.jsx("input",{type:"checkbox",id:"sigilo",checked:u.isConfidential,onChange:S=>h({...u,isConfidential:S.target.checked}),className:"w-5 h-5 rounded border-rose-300 text-rose-600 focus:ring-rose-500"}),a.jsxs("label",{htmlFor:"sigilo",className:"text-xs font-black text-rose-800 uppercase tracking-widest cursor-pointer select-none flex items-center gap-2",children:[a.jsx(yn,{size:14})," Atendimento Confidencial"]})]}),a.jsxs("button",{type:"submit",className:"w-full py-5 bg-rose-600 text-white rounded-[2rem] font-black uppercase text-xs tracking-[0.2em] shadow-2xl hover:bg-rose-700 active:scale-95 transition-all flex items-center justify-center gap-3",children:[a.jsx(qr,{size:20})," Efetivar Agendamento"]})]})})]})})]})},mCe=({role:t})=>{const e=[{name:"Conflitos",value:35},{name:"Bullying",value:12},{name:"Familiar",value:28},{name:"Aprendizagem",value:25}],r=["#e11d48","#f59e0b","#3b82f6","#10b981"];return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-gray-100 shadow-sm flex flex-col md:flex-row items-center justify-between gap-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-16 h-16 bg-rose-50 text-rose-600 rounded-2xl flex items-center justify-center",children:a.jsx(Vn,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Impacto e Performance"}),a.jsx("p",{className:"text-gray-400 font-bold text-xs uppercase tracking-widest mt-1",children:"Consolidao de Dados Relacionais"})]})]}),a.jsx("div",{className:"flex gap-4",children:a.jsxs("button",{className:"px-8 py-3 bg-gray-900 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl hover:scale-105 transition-all flex items-center gap-2",children:[a.jsx(ni,{size:14})," Exportar Relatrio Anual"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm",children:[a.jsxs("h4",{className:"text-sm font-black text-gray-400 uppercase tracking-widest mb-10 flex items-center gap-2",children:[a.jsx(Pg,{size:16,className:"text-rose-600"})," Tipologia de Intervenes"]}),a.jsx("div",{className:"h-72",children:a.jsx(ou,{width:"100%",height:"100%",children:a.jsxs(jb,{data:e,children:[a.jsx(Fu,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),a.jsx(so,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:10,fontWeight:700}}),a.jsx(io,{axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:10,fontWeight:700}}),a.jsx(Qa,{cursor:{fill:"#fff1f2"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),a.jsx(ui,{dataKey:"value",radius:[10,10,0,0],barSize:50,children:e.map((n,s)=>a.jsx(Qo,{fill:r[s%r.length]},`cell-${s}`))})]})})})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm",children:[a.jsxs("h4",{className:"text-sm font-black text-gray-400 uppercase tracking-widest mb-10 flex items-center gap-2",children:[a.jsx(zO,{size:16,className:"text-rose-600"})," Percepo do Clima Escolar"]}),a.jsxs("div",{className:"grid grid-cols-3 gap-6 text-center",children:[a.jsxs("div",{className:"p-6 bg-emerald-50 rounded-3xl border border-emerald-100 space-y-3",children:[a.jsx(zO,{size:32,className:"text-emerald-600 mx-auto"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-black text-emerald-700",children:"62%"}),a.jsx("p",{className:"text-[8px] font-black text-emerald-600 uppercase",children:"Satisfeito"})]})]}),a.jsxs("div",{className:"p-6 bg-amber-50 rounded-3xl border border-amber-100 space-y-3",children:[a.jsx(pH,{size:32,className:"text-amber-600 mx-auto"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-black text-amber-700",children:"28%"}),a.jsx("p",{className:"text-[8px] font-black text-amber-600 uppercase",children:"Regular"})]})]}),a.jsxs("div",{className:"p-6 bg-rose-50 rounded-3xl border border-rose-100 space-y-3",children:[a.jsx(jG,{size:32,className:"text-rose-600 mx-auto"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-black text-rose-700",children:"10%"}),a.jsx("p",{className:"text-[8px] font-black text-rose-600 uppercase",children:"Conflituoso"})]})]})]}),a.jsxs("div",{className:"mt-10 p-6 bg-gray-900 rounded-[2rem] text-white",children:[a.jsx("p",{className:"text-[9px] font-black text-rose-400 uppercase tracking-[0.2em] mb-2",children:"Meta Institucional"}),a.jsx("p",{className:"text-sm font-bold leading-relaxed italic",children:'"Reduzir o ndice de conflitos violentos em 40% at o fim do semestre letivo."'})]})]})]}),a.jsx("div",{className:"bg-white p-8 rounded-[3rem] border border-gray-100 shadow-sm flex flex-col md:flex-row items-center justify-between gap-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-rose-50 text-rose-600 rounded-2xl",children:a.jsx(ft,{size:24})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase",children:"Dados Protegidos (LGPD)"}),a.jsx("p",{className:"text-xs text-gray-400 font-medium",children:"Todos os relatrios individuais so anonimizados para fins estatsticos de gesto."})]})]})})]})},xCe=({role:t})=>{const[e,r]=R.useState(()=>{const b=localStorage.getItem("school_campaigns_v2026");return b?JSON.parse(b):[{id:"camp-2026-02",name:"Orientativo 001/2026 - Paz em Ao na Escola",theme:"DIREITOS HUMANOS E SADE MENTAL",startDate:"2026-02-02",endDate:"2026-02-28",status:"PLANEJAMENTO",responsibleTeam:["Equipe Multi","Gesto"],materials:[{id:"m1",name:"Lei n 11.867/2022",type:"PDF",url:"#"},{id:"m2",name:"Campanha Nacional Pule, Brinque e Cuide",type:"LINK",url:"#"}],schedule:[{id:"a1",title:"Acolhimento ao incio do ano letivo",date:"2026-02-02",time:"07:00",location:"Ptio Central",responsible:"Gesto"}],feedbacks:[],relatedCasesIds:[],targetClasses:["Geral"],reachCount:0},{id:"camp-2026-03",name:"Orientativo 002/2026 - Combate  Violncia Contra a Mulher",theme:"VIOLNCIA NA ESCOLA NO  BRINCADEIRA!",startDate:"2026-03-01",endDate:"2026-03-31",status:"PLANEJAMENTO",responsibleTeam:["Equipe Multi"],materials:[{id:"m1",name:"Lei Maria da Penha (11.340/06)",type:"PDF",url:"#"},{id:"m2",name:"Lei n 14.164/2021",type:"PDF",url:"#"}],schedule:[],feedbacks:[],relatedCasesIds:[],targetClasses:["Ensino Fundamental II","Ensino Mdio"],reachCount:0},{id:"camp-2026-04",name:"Orientativo 003/2026 - Semana Nacional da Convivncia Escolar",theme:"PREVENO AO BULLYING E CYBERBULLYING",startDate:"2026-04-01",endDate:"2026-04-30",status:"PLANEJAMENTO",responsibleTeam:["Equipe Multi","Grmio"],materials:[{id:"m1",name:"Lei n 13.185/2015",type:"PDF",url:"#"},{id:"m2",name:"Manual de Convivncia SEDUC",type:"PDF",url:"#"}],schedule:[],feedbacks:[],relatedCasesIds:[],targetClasses:["Geral"],reachCount:0},{id:"camp-2026-05",name:"Orientativo 004/2026 - Maio Laranja",theme:"PREVENO AO ABUSO E EXPLORAO SEXUAL",startDate:"2026-05-01",endDate:"2026-05-31",status:"PLANEJAMENTO",responsibleTeam:["Equipe Multi","Conselho Tutelar"],materials:[{id:"m1",name:"Lei n 9.970/2000",type:"PDF",url:"#"},{id:"m2",name:"Protocolo de Notificao",type:"PDF",url:"#"}],schedule:[],feedbacks:[],relatedCasesIds:[],targetClasses:["Geral"],reachCount:0},{id:"camp-2026-06",name:"Orientativo 005/2026 - Combate ao Trabalho Infantil",theme:"PROTEO AO ADOLESCENTE TRABALHADOR",startDate:"2026-06-01",endDate:"2026-06-30",status:"PLANEJAMENTO",responsibleTeam:["Equipe Multi"],materials:[{id:"m1",name:"ECA - Estatuto da Criana e Adolescente",type:"PDF",url:"#"}],schedule:[],feedbacks:[],relatedCasesIds:[],targetClasses:["Geral"],reachCount:0},{id:"camp-2026-07",name:"Orientativo 006/2026 - Educao para Direitos Humanos",theme:"DIREITOS AMBIENTAIS E CLIMTICOS",startDate:"2026-07-01",endDate:"2026-07-31",status:"PLANEJAMENTO",responsibleTeam:["Equipe Multi","Professores"],materials:[{id:"m1",name:"Resoluo n 273/2025",type:"PDF",url:"#"}],schedule:[],feedbacks:[],relatedCasesIds:[],targetClasses:["Geral"],reachCount:0},{id:"camp-2026-08",name:"Orientativo 007/2026 - Agosto Lils",theme:"FIM DA VIOLNCIA CONTRA A MULHER",startDate:"2026-08-01",endDate:"2026-08-31",status:"PLANEJAMENTO",responsibleTeam:["Equipe Multi"],materials:[{id:"m1",name:"Lei Maria da Penha Comentada",type:"PDF",url:"#"}],schedule:[],feedbacks:[],relatedCasesIds:[],targetClasses:["Ensino Mdio"],reachCount:0},{id:"camp-2026-09",name:"Orientativo 008/2026 - Setembro Amarelo",theme:"VALORIZAO DA VIDA E SADE MENTAL",startDate:"2026-09-01",endDate:"2026-09-30",status:"PLANEJAMENTO",responsibleTeam:["Equipe Multi","Psiclogos"],materials:[{id:"m1",name:"Manual de Preveno ao Suicdio",type:"PDF",url:"#"}],schedule:[],feedbacks:[],relatedCasesIds:[],targetClasses:["Geral"],reachCount:0},{id:"camp-2026-10",name:"Orientativo 009/2026 - Outubro Rosa",theme:"A ESCOLA COMO ESPAO DE INFORMAO E CUIDADO",startDate:"2026-10-01",endDate:"2026-10-31",status:"PLANEJAMENTO",responsibleTeam:["Equipe Multi"],materials:[{id:"m1",name:"Lei n 15.009/2024",type:"PDF",url:"#"}],schedule:[],feedbacks:[],relatedCasesIds:[],targetClasses:["Servidoras e Mes"],reachCount:0},{id:"camp-2026-11",name:"Orientativo 010/2026 - Novembro Azul e Restaurativo",theme:"PRTICAS RESTAURATIVAS E LUTA ANTIRRACISTA",startDate:"2026-11-01",endDate:"2026-11-30",status:"PLANEJAMENTO",responsibleTeam:["Equipe Multi","Coordenao"],materials:[{id:"m1",name:"Resoluo 225/2015 CNJ",type:"PDF",url:"#"}],schedule:[],feedbacks:[],relatedCasesIds:[],targetClasses:["Geral"],reachCount:0}]}),[n,s]=R.useState(null),[i,o]=R.useState(!1),[l,d]=R.useState(""),[u,h]=R.useState("info");R.useEffect(()=>{localStorage.setItem("school_campaigns_v2026",JSON.stringify(e))},[e]);const p=R.useMemo(()=>e.filter(b=>b.name.toLowerCase().includes(l.toLowerCase())||b.theme.toLowerCase().includes(l.toLowerCase())).sort((b,w)=>b.startDate.localeCompare(w.startDate)),[e,l]),x=b=>{b.preventDefault(),t!=="PROFESSOR"&&(alert("Funcionalidade de cadastro disponvel para gestores."),o(!1))},v=b=>{switch(b){case"PLANEJAMENTO":return"bg-blue-50 text-blue-600 border-blue-100";case"ATIVO":return"bg-emerald-50 text-emerald-600 border-emerald-100";case"CONCLUDO":return"bg-gray-100 text-gray-500 border-gray-200"}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-rose-50 text-rose-600 rounded-3xl",children:a.jsx(Zd,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Cronograma de Campanhas 2026"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Planejamento Estratgico SEDUC/MT"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:"Pesquisar por ms ou tema...",value:l,onChange:b=>d(b.target.value),className:"pl-10 pr-4 py-2.5 bg-gray-50 border-none rounded-xl text-xs font-bold outline-none w-64 focus:ring-2 focus:ring-rose-100"})]}),t!=="PROFESSOR"&&a.jsxs("button",{onClick:()=>o(!0),className:"px-6 py-3 bg-rose-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest shadow-xl hover:bg-rose-700 active:scale-95 transition-all flex items-center gap-2",children:[a.jsx(ot,{size:16})," Nova Campanha"]})]})]}),a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-100 rounded-3xl flex items-center gap-4",children:[a.jsx(al,{size:20,className:"text-blue-500 shrink-0"}),a.jsx("p",{className:"text-[10px] font-bold text-blue-700 uppercase tracking-tight",children:"As informaes abaixo foram importadas do Calendrio do Ncleo de Mediao Escolar 2026. Siga as orientaes especficas de cada ms."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.map(b=>a.jsxs("div",{onClick:()=>s(b),className:"bg-white p-8 rounded-[3rem] border border-gray-100 shadow-sm hover:border-rose-200 hover:shadow-xl transition-all cursor-pointer group relative overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("div",{className:`px-3 py-1 rounded-lg text-[8px] font-black uppercase border ${v(b.status)}`,children:b.status}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kr,{size:12,className:"text-gray-300"}),a.jsx("span",{className:"text-[10px] font-black text-gray-900 uppercase",children:new Date(b.startDate).toLocaleDateString("pt-BR",{month:"long"})})]})]}),a.jsx("h4",{className:"text-xl font-black text-gray-900 uppercase leading-tight mb-2 group-hover:text-rose-600 transition-colors",children:b.name}),a.jsxs("p",{className:"text-[10px] font-black text-rose-400 uppercase tracking-widest flex items-center gap-2 mb-6",children:[a.jsx(Mr,{size:12})," ",b.theme]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-gray-50 p-3 rounded-2xl",children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Incio"}),a.jsx("p",{className:"text-xs font-black text-gray-800",children:new Date(b.startDate).toLocaleDateString("pt-BR")})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-2xl",children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Trmino"}),a.jsx("p",{className:"text-xs font-black text-gray-800",children:new Date(b.endDate).toLocaleDateString("pt-BR")})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ft,{size:14,className:"text-emerald-500"}),a.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase",children:"Orientativo SEDUC"})]}),a.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-black text-rose-600 uppercase tracking-widest",children:["Detalhar ",a.jsx(rc,{size:14})]})]})]},b.id))}),n&&a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-rose-950/40 backdrop-blur-sm animate-in fade-in duration-300 p-4 md:p-8",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-5xl shadow-2xl overflow-hidden flex flex-col animate-in zoom-in-95 duration-500 h-full max-h-[90vh]",children:[a.jsxs("div",{className:"p-8 bg-rose-900 text-white shrink-0 relative",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:a.jsx(Zd,{size:120})}),a.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[a.jsx("button",{onClick:()=>s(null),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Ze,{size:28})}),a.jsx("span",{className:"px-4 py-1.5 bg-white/10 rounded-full text-[10px] font-black uppercase tracking-widest border border-white/20",children:"Calendrio 2026"})]}),a.jsxs("div",{className:"relative z-10 flex items-center gap-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/10 flex items-center justify-center text-3xl font-black",children:""}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight leading-none",children:n.name}),a.jsx("p",{className:"text-rose-300 font-bold uppercase text-[10px] tracking-widest mt-2",children:n.theme})]})]})]}),a.jsx("div",{className:"flex bg-gray-50 border-b border-gray-100 px-8 no-print shrink-0 overflow-x-auto custom-scrollbar",children:[{id:"info",label:"Estratgia",icon:zt},{id:"materials",label:"Base Legal e Materiais",icon:UA},{id:"schedule",label:"Agenda Local",icon:kr},{id:"feedback",label:"Relatos e Impacto",icon:wn}].map(b=>a.jsxs("button",{onClick:()=>h(b.id),className:`px-6 py-5 text-[10px] font-black uppercase tracking-widest transition-all border-b-2 flex items-center gap-2 whitespace-nowrap ${u===b.id?"border-rose-600 text-rose-600 bg-white":"border-transparent text-gray-400 hover:text-gray-600"}`,children:[a.jsx(b.icon,{size:14})," ",b.label]},b.id))}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar bg-white",children:[u==="info"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(mr,{size:14,className:"text-rose-600"})," Alcance Previsto"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.targetClasses.map((b,w)=>a.jsx("span",{className:"px-4 py-2 bg-gray-50 rounded-xl text-xs font-bold text-gray-700 border border-gray-100",children:b},w))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(rr,{size:14,className:"text-rose-600"})," Perodo de Atuao"]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"p-3 bg-rose-50 rounded-xl",children:[a.jsx("p",{className:"text-[8px] font-black text-rose-600 uppercase",children:"Ms de Referncia"}),a.jsx("p",{className:"text-sm font-black text-rose-800 uppercase",children:new Date(n.startDate).toLocaleDateString("pt-BR",{month:"long"})})]}),a.jsx(rc,{size:16,className:"text-gray-300"}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl",children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Ano"}),a.jsx("p",{className:"text-sm font-black text-gray-800",children:"2026"})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-rose-50 rounded-[2.5rem] border border-rose-100 space-y-4",children:[a.jsxs("h4",{className:"text-[10px] font-black text-rose-700 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Ho,{size:14})," Objetivos do Orientativo"]}),a.jsx("p",{className:"text-xs text-rose-800 leading-relaxed font-medium",children:"Ao coordenada para fortalecer o dilogo sobre violncias escolares e promover ambientes acolhedores. O foco deve ser a preveno e o enfrentamento dialgico de conflitos conforme diretrizes da SEDUC-MT."})]})]}),u==="materials"&&a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase",children:"Base Legal e Documentao"}),t!=="PROFESSOR"&&a.jsxs("button",{className:"px-4 py-2 bg-rose-600 text-white rounded-lg text-[9px] font-black uppercase flex items-center gap-2 shadow-md",children:[a.jsx(UA,{size:14})," Anexar Guia Prtico"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.materials.map(b=>a.jsxs("div",{className:"p-5 bg-gray-50 rounded-[2rem] border border-transparent hover:border-rose-200 transition-all flex items-center justify-between group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${b.type==="VDEO"?"bg-amber-100 text-amber-600":"bg-blue-100 text-blue-600"}`,children:b.type==="VDEO"?a.jsx(XK,{size:20}):b.type==="PDF"?a.jsx(zt,{size:20}):a.jsx(tH,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-black text-gray-900 uppercase",children:b.name}),a.jsx("p",{className:"text-[9px] text-gray-400 font-bold uppercase",children:b.type})]})]}),a.jsx("button",{className:"p-2 bg-white text-gray-300 hover:text-rose-600 rounded-lg shadow-sm group-hover:scale-110 transition-all",children:a.jsx(ni,{size:16})})]},b.id))})]}),u==="schedule"&&a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase",children:"Cronograma Escolar"}),a.jsxs("button",{className:"px-4 py-2 bg-gray-900 text-white rounded-lg text-[9px] font-black uppercase flex items-center gap-2",children:[a.jsx(ot,{size:14})," Lanar Ao Local"]})]}),n.schedule.length>0?a.jsx("div",{className:"space-y-4",children:n.schedule.map(b=>a.jsxs("div",{className:"flex gap-6 items-start group",children:[a.jsxs("div",{className:"w-20 shrink-0 text-center space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-rose-600 uppercase",children:new Date(b.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})}),a.jsx("p",{className:"text-[8px] font-bold text-gray-400",children:b.time})]}),a.jsxs("div",{className:"flex-1 p-5 bg-gray-50 rounded-[2rem] border border-gray-100 group-hover:border-rose-200 group-hover:bg-white transition-all shadow-sm",children:[a.jsx("h5",{className:"text-sm font-black text-gray-900 uppercase mb-1",children:b.title}),a.jsxs("div",{className:"flex items-center gap-4 text-[9px] font-bold text-gray-400 uppercase",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Yi,{size:10})," ",b.location]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(la,{size:10})," ",b.responsible]})]})]})]},b.id))}):a.jsxs("div",{className:"py-20 text-center border-2 border-dashed border-gray-100 rounded-[2.5rem]",children:[a.jsx(kr,{size:32,className:"mx-auto mb-4 text-gray-100"}),a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Nenhuma ao local agendada para esta campanha"})]})]}),u==="feedback"&&a.jsx("div",{className:"space-y-8 animate-in fade-in duration-300",children:a.jsxs("div",{className:"py-20 text-center border-2 border-dashed border-gray-100 rounded-[3rem]",children:[a.jsx(wn,{size:48,className:"mx-auto mb-4 text-gray-100"}),a.jsx("p",{className:"text-gray-400 font-black uppercase text-xs tracking-widest",children:"Os relatos e feedbacks sero habilitados aps o incio da vigncia em 2026."})]})})]}),a.jsxs("div",{className:"p-8 bg-gray-50 border-t border-gray-100 flex gap-4 shrink-0 no-print",children:[a.jsx("button",{className:"flex-1 py-4 bg-gray-900 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl hover:bg-black transition-all",children:"Imprimir Plano 2026"}),a.jsx("button",{onClick:()=>s(null),className:"px-8 py-4 bg-white border border-gray-200 text-gray-500 rounded-2xl font-black uppercase text-xs tracking-widest hover:bg-gray-50 transition-all",children:"Fechar"})]})]})}),i&&a.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-rose-950/40 backdrop-blur-sm animate-in fade-in duration-300 p-4",children:a.jsxs("div",{className:"bg-white rounded-[3rem] w-full max-w-xl shadow-2xl overflow-hidden flex flex-col animate-in slide-in-from-bottom duration-500",children:[a.jsxs("div",{className:"p-8 bg-rose-600 text-white flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-black uppercase tracking-tight",children:"Nova Campanha Socioeducativa"}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsxs("form",{onSubmit:x,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Ttulo da Campanha"}),a.jsx("input",{type:"text",required:!0,placeholder:"Ttulo oficial ou projeto local...",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white focus:ring-2 focus:ring-rose-100 transition-all"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Eixo Temtico"}),a.jsxs("select",{className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-[10px] uppercase outline-none focus:bg-white transition-all",children:[a.jsx("option",{children:"SADE MENTAL E BEM-ESTAR"}),a.jsx("option",{children:"CONVIVNCIA PACFICA E MEDIAO"}),a.jsx("option",{children:"COMBATE S VIOLNCIAS"}),a.jsx("option",{children:"DIREITOS HUMANOS E CIDADANIA"})]})]}),a.jsx("button",{type:"submit",className:"w-full py-5 bg-rose-600 text-white rounded-2xl font-black uppercase text-xs tracking-[0.2em] shadow-2xl hover:bg-rose-700 active:scale-95 transition-all",children:"Salvar no Planejamento"})]})]})})]})},dL={notificationDate:new Date().toISOString().split("T")[0],municipality:"COLDER",uf:"MT",school_name:"E.E. ANDR ANTNIO MAGGI",school_address:"RUA BORBA GATO, N 80, SETOR OESTE",forward_to:{tutelar_council:!1,police_authority:!1,health_system:!1,social_assistance:!1},student:{name:"",birth_date:"",age:"",gender:"",sus_card:"",grade:"",has_disability:!1,disability_type:""},guardians:{names:"",address:"",phone:"",cep:"",complement:""},violation_type:{mistreatment:!1,suicide_attempt:!1,self_harm:!1,psychological_violence:!1,physical_violence:!1,sexual_violence:!1,other:""},complementary_info:"",director_name:"REZIERE DE SOUZA",sent_date:"",sent_time:"",school_guidelines:""},gCe=()=>{const[t,e]=R.useState("list"),[r,n]=R.useState(()=>{const v=localStorage.getItem("rights_violation_notifications_v1");return v?JSON.parse(v):[]}),[s,i]=R.useState(dL),[o,l]=R.useState(!1),d=R.useRef(null);R.useEffect(()=>{localStorage.setItem("rights_violation_notifications_v1",JSON.stringify(r))},[r]);const u=()=>{const v={id:`viol-${Date.now()}`,...s,timestamp:Date.now()};n([v,...r]),alert("Notificao de violao registrada no sistema!"),e("list"),i(dL)},h=(v,b)=>{b.stopPropagation(),window.confirm("Deseja remover este registro permanentemente?")&&n(w=>w.filter(g=>g.id!==v))},p=async()=>{l(!0);const v=d.current;if(!v)return l(!1);try{await window.html2pdf().set({margin:[5,5,5,5],filename:`Ficha_Notificacao_Violacao_${s.student.name}_${s.notificationDate}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).from(v).save()}catch(b){console.error(b)}finally{l(!1)}},x=({checked:v,onChange:b,label:w})=>a.jsxs("button",{type:"button",onClick:()=>b(!v),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all text-left ${v?"bg-rose-50 border-rose-500 text-rose-700":"bg-white border-gray-100 text-gray-400 hover:border-rose-200"}`,children:[v?a.jsx(gx,{size:18,className:"shrink-0"}):a.jsx(LA,{size:18,className:"shrink-0"}),a.jsx("span",{className:"text-[10px] font-black uppercase leading-tight",children:w})]});return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6 no-print",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-rose-50 text-rose-600 rounded-3xl",children:a.jsx(ln,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight leading-none",children:"Notificao de Violao de Direitos"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-2",children:"Protocolo Integrado SEDUC-MT / ECA Art. 56"})]})]}),a.jsx("div",{className:"flex gap-3",children:t==="list"?a.jsxs("button",{onClick:()=>e("form"),className:"px-8 py-4 bg-rose-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-rose-600/20 hover:bg-rose-700 active:scale-95 transition-all flex items-center gap-2",children:[a.jsx(ot,{size:18})," Nova Notificao"]}):a.jsxs("button",{onClick:()=>e("list"),className:"px-6 py-4 bg-gray-100 text-gray-500 rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-gray-200 transition-all flex items-center gap-2",children:[a.jsx(cr,{size:16})," Voltar"]})})]}),t==="list"?a.jsxs("div",{className:"grid grid-cols-1 gap-4 animate-in slide-in-from-bottom-4 duration-500",children:[r.map(v=>a.jsxs("div",{onClick:()=>{i(v),e("form")},className:"bg-white p-6 rounded-[2.5rem] border border-gray-100 shadow-sm hover:border-rose-300 hover:shadow-xl transition-all cursor-pointer flex flex-col md:flex-row items-center justify-between gap-6 group",children:[a.jsxs("div",{className:"flex items-center gap-6 flex-1",children:[a.jsx("div",{className:"w-14 h-14 bg-rose-50 text-rose-600 rounded-2xl flex items-center justify-center font-black text-xl",children:v.student.name[0]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-black text-gray-900 uppercase tracking-tight",children:v.student.name}),a.jsxs("div",{className:"flex flex-wrap gap-4 mt-1",children:[a.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[a.jsx(kr,{size:12})," ",new Date(v.notificationDate).toLocaleDateString("pt-BR")]}),a.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[a.jsx(mr,{size:12})," ",v.student.grade]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 no-print",children:[a.jsx("button",{onClick:b=>h(v.id,b),className:"p-3 bg-gray-50 text-gray-400 hover:text-red-500 rounded-xl transition-all",children:a.jsx(Lt,{size:18})}),a.jsx("div",{className:"p-3 bg-gray-50 text-gray-400 group-hover:bg-rose-600 group-hover:text-white rounded-xl transition-all",children:a.jsx(ga,{size:24})})]})]},v.id)),r.length===0&&a.jsxs("div",{className:"py-32 text-center bg-white rounded-[3rem] border-2 border-dashed border-gray-100",children:[a.jsx(ln,{size:64,className:"mx-auto mb-4 text-gray-200"}),a.jsx("p",{className:"text-gray-400 font-black uppercase text-xs tracking-widest",children:"Nenhuma notificao registrada"})]})]}):a.jsxs("div",{className:"space-y-8 animate-in zoom-in-95 duration-300",children:[a.jsxs("div",{className:"bg-white p-10 md:p-16 rounded-[3.5rem] border border-gray-100 shadow-2xl max-w-5xl mx-auto space-y-12 no-print",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 border-b border-gray-100 pb-4",children:[a.jsx("div",{className:"p-2 bg-rose-600 text-white rounded-lg",children:a.jsx(Wi,{size:18})}),a.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"Encaminhar Para:"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(x,{label:"Conselho Tutelar",checked:s.forward_to.tutelar_council,onChange:v=>i({...s,forward_to:{...s.forward_to,tutelar_council:v}})}),a.jsx(x,{label:"Autoridade Policial",checked:s.forward_to.police_authority,onChange:v=>i({...s,forward_to:{...s.forward_to,police_authority:v}})}),a.jsx(x,{label:"Sistema de Sade",checked:s.forward_to.health_system,onChange:v=>i({...s,forward_to:{...s.forward_to,health_system:v}})}),a.jsx(x,{label:"Assistncia Social",checked:s.forward_to.social_assistance,onChange:v=>i({...s,forward_to:{...s.forward_to,social_assistance:v}})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Data de Notificao"}),a.jsx("input",{type:"date",value:s.notificationDate,onChange:v=>i({...s,notificationDate:v.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Municpio"}),a.jsx("input",{type:"text",value:s.municipality,onChange:v=>i({...s,municipality:v.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"UF"}),a.jsx("input",{type:"text",maxLength:2,value:s.uf,onChange:v=>i({...s,uf:v.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white text-center"})]}),a.jsxs("div",{className:"md:col-span-3 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Unidade Escolar"}),a.jsx("input",{type:"text",value:s.school_name,onChange:v=>i({...s,school_name:v.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 border-b border-gray-100 pb-4",children:[a.jsx("div",{className:"p-2 bg-rose-600 text-white rounded-lg",children:a.jsx(la,{size:18})}),a.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"Dados do Estudante"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"md:col-span-4 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nome Completo"}),a.jsx("input",{required:!0,type:"text",value:s.student.name,onChange:v=>i({...s,student:{...s.student,name:v.target.value.toUpperCase()}}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Data de Nascimento"}),a.jsx("input",{type:"date",value:s.student.birth_date,onChange:v=>i({...s,student:{...s.student,birth_date:v.target.value}}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Idade"}),a.jsx("input",{type:"number",value:s.student.age,onChange:v=>i({...s,student:{...s.student,age:v.target.value}}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Sexo"}),a.jsxs("select",{value:s.student.gender,onChange:v=>i({...s,student:{...s.student,gender:v.target.value}}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase outline-none focus:bg-white",children:[a.jsx("option",{value:"",children:"Selecione..."}),a.jsx("option",{value:"MASCULINO",children:"MASCULINO"}),a.jsx("option",{value:"FEMININO",children:"FEMININO"}),a.jsx("option",{value:"OUTRO",children:"OUTRO"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Escolaridade"}),a.jsx("input",{type:"text",placeholder:"Ex: 9 Ano A",value:s.student.grade,onChange:v=>i({...s,student:{...s.student,grade:v.target.value.toUpperCase()}}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 border-b border-gray-100 pb-4",children:[a.jsx("div",{className:"p-2 bg-rose-600 text-white rounded-lg",children:a.jsx(Xt,{size:18})}),a.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase tracking-widest",children:"Tipo de Violao (Art. 56 ECA)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(x,{label:"Maus tratos",checked:s.violation_type.mistreatment,onChange:v=>i({...s,violation_type:{...s.violation_type,mistreatment:v}})}),a.jsx(x,{label:"Tentativa de suicdio",checked:s.violation_type.suicide_attempt,onChange:v=>i({...s,violation_type:{...s.violation_type,suicide_attempt:v}})}),a.jsx(x,{label:"Autoleso",checked:s.violation_type.self_harm,onChange:v=>i({...s,violation_type:{...s.violation_type,self_harm:v}})}),a.jsx(x,{label:"Violncia psicolgica",checked:s.violation_type.psychological_violence,onChange:v=>i({...s,violation_type:{...s.violation_type,psychological_violence:v}})}),a.jsx(x,{label:"Violncia Fsica",checked:s.violation_type.physical_violence,onChange:v=>i({...s,violation_type:{...s.violation_type,physical_violence:v}})}),a.jsx(x,{label:"Violncia Sexual",checked:s.violation_type.sexual_violence,onChange:v=>i({...s,violation_type:{...s.violation_type,sexual_violence:v}})}),a.jsxs("div",{className:"md:col-span-3 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Outro / Especificar"}),a.jsx("input",{type:"text",value:s.violation_type.other,onChange:v=>i({...s,violation_type:{...s.violation_type,other:v.target.value.toUpperCase()}}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(wn,{size:14,className:"text-rose-600"})," Informaes Complementares e Observaes"]}),a.jsx("textarea",{value:s.complementary_info,onChange:v=>i({...s,complementary_info:v.target.value}),placeholder:"Relate detalhadamente os fatos observados...",className:"w-full p-8 bg-gray-50 border border-gray-100 rounded-[2.5rem] font-medium text-sm leading-relaxed h-48 outline-none focus:bg-white transition-all resize-none"})]}),a.jsxs("div",{className:"flex gap-4 pt-6 border-t border-gray-100",children:[a.jsxs("button",{onClick:u,className:"flex-1 py-5 bg-rose-600 text-white rounded-[2rem] font-black uppercase text-sm tracking-[0.2em] shadow-2xl hover:bg-rose-700 transition-all flex items-center justify-center gap-3",children:[a.jsx(qr,{size:24})," Registrar e Salvar"]}),a.jsxs("button",{onClick:p,disabled:o,className:"px-10 py-5 bg-gray-900 text-white rounded-[2rem] font-black uppercase text-sm tracking-widest shadow-xl hover:bg-black transition-all flex items-center gap-3 disabled:opacity-50",children:[o?a.jsx(vt,{size:24,className:"animate-spin"}):a.jsx(Sa,{size:24}),"Gerar PDF Ficha"]})]})]}),a.jsx("div",{className:"hidden",children:a.jsxs("div",{ref:d,className:"p-10 space-y-8 text-gray-900 font-sans h-full bg-white text-[11px] leading-tight",children:[a.jsxs("div",{className:"flex justify-between items-center border-b-2 border-black pb-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-black text-white flex items-center justify-center font-black rounded-lg",children:"AM"}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("h1",{className:"text-sm font-black uppercase leading-none",children:"Secretaria de Estado de Educao - MT"}),a.jsxs("p",{className:"text-[8px] font-bold",children:["Unidade Escolar: ",s.school_name]}),a.jsxs("p",{className:"text-[8px]",children:["Endereo: ",s.school_address]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("h2",{className:"text-xs font-black uppercase",children:"Ficha de Notificao"}),a.jsx("p",{className:"text-[9px] font-bold",children:"Violao de Direitos e Violncia"})]})]}),a.jsxs("div",{className:"border-2 border-black p-4 rounded-xl flex justify-between items-center bg-gray-50",children:[a.jsx("p",{className:"font-black uppercase text-[10px]",children:"Encaminhar para:"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-3.5 h-3.5 border-2 border-black flex items-center justify-center font-black",children:s.forward_to.tutelar_council?"X":""}),a.jsx("span",{className:"uppercase text-[9px] font-bold",children:"Conselho Tutelar"})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-3.5 h-3.5 border-2 border-black flex items-center justify-center font-black",children:s.forward_to.police_authority?"X":""}),a.jsx("span",{className:"uppercase text-[9px] font-bold",children:"Autoridade Policial"})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-3.5 h-3.5 border-2 border-black flex items-center justify-center font-black",children:s.forward_to.health_system?"X":""}),a.jsx("span",{className:"uppercase text-[9px] font-bold",children:"Sade"})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-3.5 h-3.5 border-2 border-black flex items-center justify-center font-black",children:s.forward_to.social_assistance?"X":""}),a.jsx("span",{className:"uppercase text-[9px] font-bold",children:"Assit. Social"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-0 border-2 border-black divide-x-2 divide-black",children:[a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"text-[8px] font-black uppercase",children:"Data Notificao"}),a.jsx("p",{className:"font-bold",children:new Date(s.notificationDate).toLocaleDateString("pt-BR")})]}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"text-[8px] font-black uppercase",children:"Municpio"}),a.jsx("p",{className:"font-bold uppercase",children:s.municipality})]}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"text-[8px] font-black uppercase",children:"UF"}),a.jsx("p",{className:"font-bold",children:s.uf})]})]}),a.jsxs("div",{className:"border-2 border-black rounded-xl overflow-hidden",children:[a.jsx("div",{className:"bg-black text-white px-3 py-1 font-black text-[9px] uppercase",children:"Dados do Estudante"}),a.jsxs("div",{className:"grid grid-cols-4 divide-x-2 divide-black divide-y-2",children:[a.jsxs("div",{className:"col-span-4 p-2",children:[a.jsx("p",{className:"text-[8px] font-black uppercase",children:"Nome do Estudante"}),a.jsx("p",{className:"font-bold uppercase text-sm",children:s.student.name||"________________________"})]}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"text-[8px] font-black uppercase",children:"Data Nasc."}),a.jsx("p",{className:"font-bold",children:s.student.birth_date?new Date(s.student.birth_date).toLocaleDateString("pt-BR"):"____/____/____"})]}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"text-[8px] font-black uppercase",children:"Idade"}),a.jsxs("p",{className:"font-bold",children:[s.student.age||"___"," anos"]})]}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"text-[8px] font-black uppercase",children:"Sexo"}),a.jsx("p",{className:"font-bold uppercase",children:s.student.gender||"---"})]}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"text-[8px] font-black uppercase",children:"Grade"}),a.jsx("p",{className:"font-bold uppercase",children:s.student.grade||"---"})]}),a.jsxs("div",{className:"col-span-2 p-2",children:[a.jsx("p",{className:"text-[8px] font-black uppercase",children:"Carto SUS"}),a.jsx("p",{className:"font-bold",children:s.student.sus_card||"________________________"})]}),a.jsxs("div",{className:"col-span-2 p-2",children:[a.jsx("p",{className:"text-[8px] font-black uppercase",children:"Possui Deficincia?"}),a.jsx("p",{className:"font-bold",children:s.student.has_disability?`SIM: ${s.student.disability_type}`:"NO"})]})]})]}),a.jsxs("div",{className:"border-2 border-black rounded-xl overflow-hidden",children:[a.jsx("div",{className:"bg-black text-white px-3 py-1 font-black text-[9px] uppercase",children:"Responsveis"}),a.jsxs("div",{className:"grid grid-cols-4 divide-x-2 divide-black divide-y-2",children:[a.jsxs("div",{className:"col-span-3 p-2",children:[a.jsx("p",{className:"text-[8px] font-black uppercase",children:"Nome(s)"}),a.jsx("p",{className:"font-bold uppercase",children:s.guardians.names||"________________________"})]}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"text-[8px] font-black uppercase",children:"Telefone"}),a.jsx("p",{className:"font-bold",children:s.guardians.phone||"________________________"})]}),a.jsxs("div",{className:"col-span-4 p-2",children:[a.jsx("p",{className:"text-[8px] font-black uppercase",children:"Endereo Completo"}),a.jsx("p",{className:"font-bold uppercase",children:s.guardians.address||"________________________"})]}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"text-[8px] font-black uppercase",children:"CEP"}),a.jsx("p",{className:"font-bold",children:s.guardians.cep||"_____-___"})]}),a.jsxs("div",{className:"col-span-3 p-2",children:[a.jsx("p",{className:"text-[8px] font-black uppercase",children:"Complemento"}),a.jsx("p",{className:"font-bold uppercase",children:s.guardians.complement||"---"})]})]})]}),a.jsxs("div",{className:"border-2 border-black rounded-xl overflow-hidden",children:[a.jsx("div",{className:"bg-black text-white px-3 py-1 font-black text-[9px] uppercase",children:"Tipo de Violao de Direito - Ocorrncia (Art. 56 ECA)"}),a.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3.5 h-3.5 border-2 border-black flex items-center justify-center",children:s.violation_type.mistreatment?"X":""}),a.jsx("span",{className:"uppercase text-[9px] font-bold",children:"Maus tratos"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3.5 h-3.5 border-2 border-black flex items-center justify-center",children:s.violation_type.suicide_attempt?"X":""}),a.jsx("span",{className:"uppercase text-[9px] font-bold",children:"Tentativa de suicdio"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3.5 h-3.5 border-2 border-black flex items-center justify-center",children:s.violation_type.self_harm?"X":""}),a.jsx("span",{className:"uppercase text-[9px] font-bold",children:"Autoleso"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3.5 h-3.5 border-2 border-black flex items-center justify-center",children:s.violation_type.psychological_violence?"X":""}),a.jsx("span",{className:"uppercase text-[9px] font-bold",children:"Violncia psicolgica"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3.5 h-3.5 border-2 border-black flex items-center justify-center",children:s.violation_type.physical_violence?"X":""}),a.jsx("span",{className:"uppercase text-[9px] font-bold",children:"Violncia Fsica"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3.5 h-3.5 border-2 border-black flex items-center justify-center",children:s.violation_type.sexual_violence?"X":""}),a.jsx("span",{className:"uppercase text-[9px] font-bold",children:"Violncia Sexual"})]})]}),a.jsx("div",{className:"col-span-2 border-t-2 border-black pt-2",children:a.jsxs("p",{className:"text-[8px] font-black uppercase",children:["Outro: ",a.jsx("span",{className:"font-bold",children:s.violation_type.other||"________________________"})]})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest",children:"Informaes Complementares e observaes:"}),a.jsx("div",{className:"border-2 border-black p-4 rounded-xl min-h-[150px] italic",children:s.complementary_info||"________________________"})]}),a.jsxs("div",{className:"pt-10 grid grid-cols-2 gap-10",children:[a.jsxs("div",{className:"space-y-12",children:[a.jsxs("div",{className:"border-t-2 border-black pt-2 text-center",children:[a.jsx("p",{className:"font-black uppercase",children:s.director_name}),a.jsx("p",{className:"text-[8px] uppercase text-gray-500 font-bold",children:"Nome Diretor(a) / Assinatura"})]}),a.jsxs("div",{className:"p-3 border-2 border-black rounded-xl",children:[a.jsx("p",{className:"text-[8px] font-black uppercase mb-1",children:"Orientaes para a Unidade Escolar:"}),a.jsx("div",{className:"h-20"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"p-3 border-2 border-black rounded-xl",children:[a.jsx("p",{className:"text-[8px] font-black uppercase",children:"Carimbo / Horrio"}),a.jsx("div",{className:"h-10"})]}),a.jsx("div",{className:"p-3 border-2 border-black rounded-xl",children:a.jsx("p",{className:"text-[8px] font-black uppercase",children:"Ficha enviada em: ____/____/____"})}),a.jsxs("div",{className:"p-3 border-2 border-black rounded-xl",children:[a.jsx("p",{className:"text-[8px] font-black uppercase",children:"Carimbo / Assinatura da unidade que recebeu:"}),a.jsx("div",{className:"h-14"})]})]})]}),a.jsxs("div",{className:"pt-10 flex justify-center opacity-30",children:[a.jsx(ft,{size:14,className:"text-gray-900"}),a.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.3em] ml-2",children:"Documento Autenticado - Portal de Gesto Andr Maggi"})]})]})})]}),a.jsxs("div",{className:"bg-gray-50 p-8 rounded-[3rem] border border-gray-100 flex flex-col md:flex-row items-center justify-between gap-6 no-print",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-2xl shadow-sm text-rose-600",children:a.jsx(ft,{size:24})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-black text-gray-900 uppercase leading-none mb-1",children:"Conformidade Legal SEDUC-MT"}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Baseado no Estatuto da Criana e do Adolescente (ECA) Art. 56"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(al,{size:16,className:"text-rose-400"}),a.jsx("span",{className:"text-[9px] font-black text-rose-700 uppercase tracking-widest leading-none",children:"Dados protegidos por criptografia local"})]})]}),a.jsx("style",{children:`
        .pdf-show { display: none; }
        @media print, .pdf-mode {
          .no-print { display: none !important; }
          .pdf-show { display: block !important; }
          .pdf-printable { 
            border: none !important; 
            box-shadow: none !important; 
            width: 100% !important; 
            margin: 0 !important; 
            padding: 0 !important; 
          }
          body { background: white !important; }
        }
      `})]})},bCe=()=>{const[t,e]=R.useState("list"),[r,n]=R.useState(()=>{const b=localStorage.getItem("psychosocial_atas_v2");return b?JSON.parse(b):[]}),[s,i]=R.useState(!1);R.useRef(null);const[o,l]=R.useState({number:"",year:new Date().getFullYear().toString(),pauta:"",date:new Date().toISOString().split("T")[0],location:"SALA DE MEDIAO - EE ANDR ANTNIO MAGGI",participants:[""],objectives:"",definitions:[""],forwarding:[""],responsible:"COORDENADOR DE MEDIAO"});R.useEffect(()=>{localStorage.setItem("psychosocial_atas_v2",JSON.stringify(r))},[r]);const d=b=>{l({...o,[b]:[...o[b],""]})},u=(b,w)=>{const g=[...o[b]];g.splice(w,1),l({...o,[b]:g})},h=(b,w,g)=>{const S=[...o[b]];S[w]=g,l({...o,[b]:S})},p=()=>{const b={id:`ata-${Date.now()}`,...o,timestamp:Date.now()};n([b,...r]),alert("Ata lavrada com sucesso!"),e("list"),x()},x=()=>{l({number:"",year:new Date().getFullYear().toString(),pauta:"",date:new Date().toISOString().split("T")[0],location:"SALA DE MEDIAO - EE ANDR ANTNIO MAGGI",participants:[""],objectives:"",definitions:[""],forwarding:[""],responsible:"COORDENADOR DE MEDIAO"})},v=async b=>{i(!0);const w=document.getElementById(`print-ata-${b.id}`);if(!w)return i(!1);try{await window.html2pdf().set({margin:10,filename:`ATA_${b.number}_${b.year}_Mediao.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).from(w).save()}catch(g){console.error(g)}finally{i(!1)}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-rose-50 text-rose-600 rounded-3xl",children:a.jsx(zt,{size:32})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:"Registro de Atas"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Instrumento oficial conforme modelo SEDUC/MT"})]})]}),a.jsxs("button",{onClick:()=>e(t==="list"?"form":"list"),className:"px-8 py-3.5 bg-rose-600 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl hover:bg-rose-700 transition-all flex items-center gap-2",children:[t==="list"?a.jsx(ot,{size:16}):a.jsx(cr,{size:16}),t==="list"?"Lavrar Nova Ata":"Voltar ao Acervo"]})]}),t==="list"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(b=>a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm hover:border-rose-300 hover:shadow-xl transition-all group flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("div",{className:"p-3 bg-gray-50 text-gray-400 rounded-2xl group-hover:bg-rose-600 group-hover:text-white transition-all",children:a.jsx(zt,{size:24})}),a.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:new Date(b.date).toLocaleDateString("pt-BR")})]}),a.jsxs("h3",{className:"text-lg font-black text-gray-900 uppercase leading-tight mb-2",children:["ATA ",b.number,"/",b.year]}),a.jsxs("p",{className:"text-[10px] font-black text-rose-500 uppercase tracking-widest mb-4",children:["Pauta: ",b.pauta]}),a.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-400 uppercase border-t border-gray-50 pt-4",children:[a.jsx(mr,{size:14,className:"text-rose-400"})," ",b.participants.length," Presentes"]})]}),a.jsxs("div",{className:"mt-8 flex gap-2",children:[a.jsxs("button",{onClick:()=>v(b),className:"flex-1 py-3 bg-gray-900 text-white rounded-xl text-[9px] font-black uppercase tracking-widest hover:bg-black transition-all flex items-center justify-center gap-2",children:[a.jsx(Sa,{size:14})," Imprimir PDF"]}),a.jsx("button",{onClick:()=>n(r.filter(w=>w.id!==b.id)),className:"p-3 bg-red-50 text-red-500 rounded-xl hover:bg-red-500 hover:text-white transition-all",children:a.jsx(Lt,{size:18})})]}),a.jsx("div",{className:"hidden",children:a.jsxs("div",{id:`print-ata-${b.id}`,className:"p-16 space-y-12 text-gray-900 font-sans bg-white border-[1px] border-gray-200 min-h-[297mm]",children:[a.jsxs("div",{className:"flex justify-between items-start border-b-2 border-black pb-8",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest leading-none",children:"SEDUC"}),a.jsxs("p",{className:"text-[8px] font-bold uppercase text-gray-500 leading-tight",children:["Secretaria de Estado",a.jsx("br",{}),"de Educao"]})]}),a.jsx("div",{className:"text-right flex flex-col gap-1",children:a.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest leading-none",children:["Governo de",a.jsx("br",{}),"Mato Grosso"]})})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("h1",{className:"text-xl font-black uppercase text-center underline tracking-widest",children:["ATA ",b.number,"/",b.year]}),a.jsxs("div",{className:"space-y-4 text-xs leading-relaxed",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Pauta:"})," ",b.pauta]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Data:"})," ",new Date(b.date).toLocaleDateString("pt-BR")]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Local:"})," ",b.location]}),a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsx("p",{children:a.jsx("strong",{children:"Presentes:"})}),a.jsx("ul",{className:"space-y-1 pl-4",children:b.participants.filter(w=>w.trim()).map((w,g)=>a.jsx("li",{children:w},g))})]}),a.jsxs("p",{className:"pt-2",children:[a.jsx("strong",{children:"Objetivos:"})," ",b.objectives]}),a.jsxs("div",{className:"space-y-3 pt-4",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Acompanhamento e definies:"})," Tudo o que foi dito durante a reunio, com a identificao de quem o disse. (Organizado em tpicos)"]}),a.jsx("ul",{className:"space-y-2 pl-6",children:b.definitions.filter(w=>w.trim()).map((w,g)=>a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{children:""})," ",a.jsx("span",{children:w})]},g))})]}),a.jsxs("div",{className:"space-y-3 pt-4",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Encaminhamentos:"})," Tudo o que se decidiu fazer. (Listagem de tarefas e responsveis)"]}),a.jsx("ul",{className:"space-y-2 pl-6",children:b.forwarding.filter(w=>w.trim()).map((w,g)=>a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{children:""})," ",a.jsx("span",{children:w})]},g))})]})]})]}),a.jsxs("div",{className:"pt-32 grid grid-cols-2 gap-20",children:[a.jsx("div",{className:"border-t-2 border-black text-center pt-4",children:a.jsx("p",{className:"text-[10px] font-black uppercase",children:"Assinaturas de quem lavrou a ATA"})}),a.jsx("div",{className:"border-t-2 border-black text-center pt-4",children:a.jsx("p",{className:"text-[10px] font-black uppercase",children:"Testemunhas"})})]}),a.jsxs("div",{className:"pt-20 flex justify-center opacity-30",children:[a.jsx(ft,{size:16}),a.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.4em] ml-2",children:"Documento Autenticado Eletronicamente - Portal Andr Maggi"})]})]})})]},b.id))}):a.jsx("div",{className:"max-w-4xl mx-auto animate-in slide-in-from-bottom-4 duration-500",children:a.jsxs("div",{className:"bg-white p-10 rounded-[3.5rem] border border-gray-100 shadow-xl space-y-10",children:[a.jsx("div",{className:"flex justify-between items-center border-b border-gray-50 pb-8",children:a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-rose-600 text-white rounded-3xl shadow-lg",children:a.jsx(qn,{size:28})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Lavrar Nova Ata"}),a.jsx("p",{className:"text-[10px] text-rose-600 font-bold uppercase tracking-widest mt-1",children:"Escriturao oficial da mediao escolar"})]})]})}),a.jsxs("div",{className:"space-y-10",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nmero da Ata"}),a.jsx("input",{type:"text",placeholder:"Ex: 01",value:o.number,onChange:b=>l({...o,number:b.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Ano"}),a.jsx("input",{value:o.year,onChange:b=>l({...o,year:b.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none text-center"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Data de Realizao"}),a.jsx("input",{type:"date",value:o.date,onChange:b=>l({...o,date:b.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Pauta / Assunto"}),a.jsx("input",{value:o.pauta,onChange:b=>l({...o,pauta:b.target.value.toUpperCase()}),placeholder:"EX: CONSELHO DE CLASSE OU MEDIAO ESPECFICA",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white uppercase"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Participantes / Presentes"}),a.jsx("button",{onClick:()=>d("participants"),className:"text-rose-600 font-black text-[9px] uppercase hover:underline",children:"+ Adicionar Nome"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o.participants.map((b,w)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:b,onChange:g=>h("participants",w,g.target.value.toUpperCase()),placeholder:"NOME COMPLETO",className:"flex-1 p-3 bg-gray-50 border border-gray-100 rounded-xl text-xs font-bold outline-none"}),a.jsx("button",{onClick:()=>u("participants",w),className:"p-3 text-gray-300 hover:text-red-500",children:a.jsx(Lt,{size:16})})]},w))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Objetivos da Reunio"}),a.jsx("textarea",{value:o.objectives,onChange:b=>l({...o,objectives:b.target.value}),placeholder:"Motivos pelos quais a reunio foi proposta...",className:"w-full p-6 bg-gray-50 border border-gray-100 rounded-[2rem] text-sm font-medium h-24 outline-none focus:bg-white resize-none"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Acompanhamento e Definies (Tpicos)"}),a.jsx("button",{onClick:()=>d("definitions"),className:"text-rose-600 font-black text-[9px] uppercase hover:underline",children:"+ Novo Tpico"})]}),a.jsx("div",{className:"space-y-3",children:o.definitions.map((b,w)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("textarea",{value:b,onChange:g=>h("definitions",w,g.target.value),placeholder:"Descreva o que foi dito ou decidido...",className:"flex-1 p-4 bg-gray-50 border border-gray-100 rounded-2xl text-xs font-medium h-20 outline-none focus:bg-white resize-none"}),a.jsx("button",{onClick:()=>u("definitions",w),className:"p-4 text-gray-300 hover:text-red-500",children:a.jsx(Ze,{size:16})})]},w))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Encaminhamentos (Tarefas)"}),a.jsx("button",{onClick:()=>d("forwarding"),className:"text-rose-600 font-black text-[9px] uppercase hover:underline",children:"+ Nova Tarefa"})]}),a.jsx("div",{className:"space-y-3",children:o.forwarding.map((b,w)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:b,onChange:g=>h("forwarding",w,g.target.value),placeholder:"O que ser feito e por quem...",className:"flex-1 p-4 bg-gray-50 border border-gray-100 rounded-2xl text-xs font-medium outline-none focus:bg-white"}),a.jsx("button",{onClick:()=>u("forwarding",w),className:"p-4 text-gray-300 hover:text-red-500",children:a.jsx(Ze,{size:16})})]},w))})]}),a.jsxs("button",{onClick:p,className:"w-full py-5 bg-rose-600 text-white rounded-[2rem] font-black uppercase text-sm tracking-[0.2em] shadow-2xl hover:bg-rose-700 active:scale-95 transition-all flex items-center justify-center gap-3",children:[a.jsx(qr,{size:24})," Efetivar e Registrar ATA"]})]})]})}),s&&a.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center bg-gray-950/40 backdrop-blur-sm",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(vt,{className:"animate-spin text-white",size:48}),a.jsx("p",{className:"text-white font-black uppercase text-xs tracking-widest",children:"Lavrando Documento..."})]})})]})},vCe=({onExit:t})=>{const[e,r]=R.useState("dashboard"),[n,s]=R.useState("PSICOSSOCIAL"),[i,o]=R.useState(0),l=async()=>{try{const{count:h,error:p}=await ae.from("psychosocial_notifications").select("*",{count:"exact",head:!0}).eq("is_read",!1);!p&&h!==null&&o(h)}catch(h){console.error("Erro ao buscar notificaes:",h)}};R.useEffect(()=>{l();const h=ae.channel("psychosocial_notifications_changes").on("postgres_changes",{event:"*",schema:"public",table:"psychosocial_notifications"},l).subscribe();return()=>{h.unsubscribe()}},[]);const d=async()=>{try{const{error:h}=await ae.from("psychosocial_notifications").update({is_read:!0}).eq("is_read",!1);h||o(0)}catch(h){console.error("Erro ao limpar notificaes:",h)}},u=[{id:"dashboard",label:"Monitor de Sade",icon:Ki},{id:"calendar",label:"Calendrio 2026",icon:Vj},{id:"referrals",label:"Encaminhamentos",icon:Qd},{id:"atas",label:"Atas de Reunio",icon:zt},{id:"violation_notification",label:"Notificao de Violncia",icon:ln},{id:"mediation",label:"Mediao de Conflitos",icon:Hn},{id:"campaigns",label:"Campanhas Escolares",icon:Zd},{id:"agenda",label:"Agenda Psicossocial",icon:kr},{id:"reports",label:"Indicadores e Relatrios",icon:_t}];return a.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden font-sans",children:[a.jsxs("aside",{className:"w-64 bg-rose-950 text-white flex flex-col no-print transition-all duration-300",children:[a.jsx("div",{className:"p-6",children:a.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx("span",{className:"bg-rose-500 p-1.5 rounded-lg shadow-lg",children:""}),"Equipe Multi"]})}),a.jsx("nav",{className:"flex-1 mt-6 px-4 space-y-1.5 overflow-y-auto custom-scrollbar",children:u.map(h=>a.jsxs("button",{onClick:()=>{r(h.id),h.id==="referrals"&&d()},className:`w-full flex items-center justify-between px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${e===h.id?"bg-rose-800 text-white shadow-lg":"text-rose-100/50 hover:bg-rose-800/30"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(h.icon,{size:18}),h.label]}),h.id==="referrals"&&i>0&&a.jsx("span",{className:"bg-white text-rose-800 text-[10px] font-black px-2 py-0.5 rounded-full shadow-sm animate-pulse",children:i})]},h.id))}),a.jsxs("div",{className:"p-6 border-t border-rose-900 space-y-3",children:[a.jsxs("div",{className:"bg-rose-900/50 p-4 rounded-2xl border border-rose-800/50",children:[a.jsxs("p",{className:"text-[10px] text-rose-300 font-black uppercase tracking-widest mb-1.5 flex items-center gap-1.5",children:[a.jsx(oc,{size:10})," Perfil Ativo"]}),a.jsxs("select",{value:n,onChange:h=>s(h.target.value),className:"w-full bg-rose-800 text-white text-[10px] font-black uppercase tracking-tight p-2 rounded-lg outline-none cursor-pointer",children:[a.jsx("option",{value:"PSICOSSOCIAL",children:"PSICOSSOCIAL / TCNICO"}),a.jsx("option",{value:"GESTAO",children:"GESTO ESCOLAR"}),a.jsx("option",{value:"PROFESSOR",children:"PROFESSOR (CONSULTA)"})]})]}),a.jsxs("button",{onClick:t,className:"w-full flex items-center gap-2 px-4 py-3 bg-white/10 hover:bg-white/20 rounded-xl text-xs font-black uppercase tracking-widest transition-all",children:[a.jsx(cr,{size:16})," Sair do Mdulo"]})]})]}),a.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"h-20 bg-white border-b border-gray-100 flex items-center justify-between px-10 shrink-0 no-print",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-rose-50 text-rose-600 rounded-lg",children:a.jsx(Vg,{size:20})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-black text-gray-900 uppercase",children:"Mdulo: Mediao e Equipe Psicossocial"}),a.jsx("p",{className:"text-[10px] text-rose-600 font-bold uppercase tracking-widest",children:"Proteo e Bem-estar Discente"})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[i>0?a.jsxs("button",{onClick:()=>{r("referrals"),d()},className:"flex items-center gap-3 px-4 py-2 bg-rose-50 text-rose-600 rounded-full border border-rose-100 hover:bg-rose-100 transition-colors",children:[a.jsx(Ta,{size:14,className:"animate-pulse"}),a.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:[i," Novos Encaminhamentos"]})]}):a.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-gray-50 text-gray-400 rounded-full border border-gray-100",children:[a.jsx(ft,{size:14}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Tudo Sob Controle"})]}),a.jsx("div",{className:"w-10 h-10 rounded-xl bg-rose-500 flex items-center justify-center text-white font-black text-sm uppercase",children:n[0]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:[e==="dashboard"&&a.jsx(cCe,{role:n}),e==="calendar"&&a.jsx(sp,{}),e==="referrals"&&a.jsx(Ub,{role:n}),e==="atas"&&a.jsx(bCe,{}),e==="violation_notification"&&a.jsx(gCe,{}),e==="mediation"&&a.jsx(fCe,{role:n}),e==="agenda"&&a.jsx(pCe,{role:n}),e==="reports"&&a.jsx(mCe,{role:n}),e==="campaigns"&&a.jsx(xCe,{role:n})]})]})]})},yCe=()=>{const[t,e]=R.useState(0),[r,n]=R.useState(0),[s,i]=R.useState(!1),[o,l]=R.useState(!1),d=()=>{i(!0),setTimeout(()=>{i(!1),l(!0);const u={id:`notif-${Date.now()}`,title:"SINCRONIZAO DE DIRIOS CONCLUDA",message:"Todos os avisos de enturmao foram disparados para a rea do Professor com sucesso.",date:new Date().toISOString(),priority:"NORMAL",isRead:!1};try{const h=localStorage.getItem("secretariat_notifications_v1"),p=h?JSON.parse(h):[];localStorage.setItem("secretariat_notifications_v1",JSON.stringify([u,...p])),window.dispatchEvent(new Event("storage"))}catch(h){console.error("Erro ao salvar notificao:",h)}alert("Sucesso! 4 alertas foram disparados para os professores.")},1500)};return R.useEffect(()=>{(async()=>{try{const{count:h,error:p}=await ae.from("students").select("*",{count:"exact",head:!0});!p&&h!==null&&e(h);const{data:x,error:v}=await ae.from("enrollments").select("classroom_id");if(!v&&x){const b=new Set(x.map(w=>w.classroom_id));n(b.size)}}catch(h){console.error("Erro ao carregar estatsticas dashboard:",h)}})()},[]),a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700 pb-20",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex flex-col justify-between",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Alunos Matriculados"}),a.jsxs("div",{className:"flex items-end justify-between mt-1",children:[a.jsx("p",{className:"text-3xl font-black text-gray-900",children:t}),a.jsx(on,{size:24,className:"text-indigo-200"})]})]}),a.jsxs("div",{className:"bg-indigo-50 p-6 rounded-3xl border border-indigo-100 shadow-sm flex flex-col justify-between",children:[a.jsx("p",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest",children:"Turmas com Alunos"}),a.jsxs("div",{className:"flex items-end justify-between mt-1",children:[a.jsx("p",{className:"text-3xl font-black text-indigo-700",children:r}),a.jsx(mr,{size:24,className:"text-indigo-300"})]})]}),a.jsxs("div",{className:"bg-emerald-50 p-6 rounded-3xl border border-emerald-100 shadow-sm flex flex-col justify-between",children:[a.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest",children:"Servidores Ativos"}),a.jsxs("div",{className:"flex items-end justify-between mt-1",children:[a.jsx("p",{className:"text-3xl font-black text-emerald-700",children:"42"}),a.jsx(Mh,{size:24,className:"text-emerald-300"})]})]}),a.jsxs("div",{className:"bg-amber-50 p-6 rounded-3xl border border-amber-100 shadow-sm flex flex-col justify-between",children:[a.jsx("p",{className:"text-[10px] font-black text-amber-600 uppercase tracking-widest",children:"Pendncias Docs"}),a.jsxs("div",{className:"flex items-end justify-between mt-1",children:[a.jsx("p",{className:"text-3xl font-black text-amber-700",children:"12"}),a.jsx(Ta,{size:24,className:"text-amber-300"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(lc,{className:"text-indigo-600"})," Movimentaes Recentes"]}),a.jsx("span",{className:"text-[10px] font-black bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full uppercase tracking-widest",children:"Hoje"})]}),a.jsx("div",{className:"space-y-4",children:[{name:"PEDRO ALVES SILVA",action:"MATRCULA NOVA",class:"6 ANO B",date:"09:30"},{name:"MARIA EDUARDA G.",action:"SOLICITAO TRANSFERNCIA",class:"9 ANO A",date:"10:15"},{name:"PROF. CRISTIANO P.",action:"LANAMENTO DE NOTAS",class:"9 ANO A",date:"11:45"}].map((u,h)=>a.jsxs("div",{className:"flex items-center justify-between p-5 bg-gray-50 rounded-[2rem] border border-transparent hover:border-indigo-200 transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-indigo-600 shadow-sm font-black text-xs",children:u.name[0]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase tracking-tight",children:u.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-[8px] font-black bg-indigo-100 text-indigo-600 px-1.5 py-0.5 rounded uppercase",children:u.action}),a.jsx("span",{className:"text-[9px] text-gray-400 font-bold uppercase",children:u.class})]})]})]}),a.jsxs("div",{className:"text-right flex items-center gap-4",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-300 uppercase",children:u.date}),a.jsx("button",{className:"p-2 bg-white text-gray-300 hover:text-indigo-600 rounded-xl shadow-sm transition-all",children:a.jsx(rc,{size:18})})]})]},h))})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-indigo-900 p-8 rounded-[3rem] text-white shadow-xl relative overflow-hidden h-full flex flex-col justify-between",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 rotate-12",children:a.jsx(Lg,{size:140})}),a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-white/10 rounded-xl backdrop-blur-sm",children:a.jsx(Jl,{size:20,className:"text-indigo-300"})}),a.jsx("h3",{className:"text-lg font-black uppercase tracking-widest",children:"Push rea do Professor"})]}),a.jsx("p",{className:"text-indigo-100/80 text-sm leading-relaxed font-medium",children:o?a.jsx("strong",{children:"Tudo atualizado! Nenhum aviso pendente."}):a.jsxs(a.Fragment,{children:["Existem ",a.jsx("strong",{children:"4 novos avisos"})," de enturmao pendentes de envio automtico para os professores."]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase text-indigo-300",children:[a.jsx("span",{children:s?"Disparando...":"Sincronizao"}),a.jsx("span",{children:o?"100%":s?"60%":"95%"})]}),a.jsx("div",{className:"w-full bg-white/10 h-1.5 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full transition-all duration-1000 ${o?"bg-emerald-500 w-full":s?"bg-amber-500 w-[60%]":"bg-indigo-400 w-[95%]"}`})})]})]}),a.jsxs("button",{onClick:d,disabled:s||o,className:`relative z-10 mt-8 w-full py-4 rounded-2xl font-black uppercase text-[10px] tracking-widest transition-all shadow-lg flex items-center justify-center gap-2 ${o?"bg-emerald-500 text-white cursor-default":s?"bg-indigo-100 text-indigo-400":"bg-white text-indigo-950 hover:bg-indigo-50"}`,children:[s?"Processando...":o?"Alertas Enviados":"Disparar Alertas",!s&&!o&&a.jsx(Vn,{size:14})]})]})})]})]})},NCe=()=>{const[t,e]=R.useState([]),[r,n]=R.useState([]),[s,i]=R.useState(!0),o=async()=>{try{const{data:le,error:ze}=await ae.from("classrooms").select("name").order("name");if(ze)throw ze;le&&n(le.map(Ye=>Ye.name))}catch(le){console.error("Erro ao buscar turmas:",le)}},l=async()=>{i(!0);try{const{data:le,error:ze}=await ae.from("students").select(`
          *,
          enrollments (
            classrooms (name, shift)
          )
        `);if(ze)throw ze;if(le){const Ye=le.map(qe=>{var gt,ht,nt;const Ge=(ht=(gt=qe.enrollments)==null?void 0:gt[0])==null?void 0:ht.classrooms;return{id:qe.id,Nome:qe.name,CodigoAluno:qe.registration_number,DataNascimento:qe.birth_date,Turma:(Ge==null?void 0:Ge.name)||"SEM TURMA",Turno:(Ge==null?void 0:Ge.shift)||"---",Sequencia:"",DataMatricula:((nt=qe.created_at)==null?void 0:nt.split("T")[0])||new Date().toISOString().split("T")[0],PAED:qe.paed?"Sim":"No",TransporteEscolar:qe.school_transport?"Sim":"No",NomeResponsavel:qe.guardian_name||"",TelefoneContato:qe.contact_phone||""}});e(Ye)}}catch(le){console.error("Erro ao buscar alunos:",le),alert("Erro ao carregar lista de alunos.")}finally{i(!1)}};R.useEffect(()=>{l(),o()},[]);const[d,u]=R.useState(!1),[h,p]=R.useState(!1),[x,v]=R.useState(!1),[b,w]=R.useState(""),[g,S]=R.useState(!1),[k,y]=R.useState(null),[j,T]=R.useState([]),[_,O]=R.useState(!1),[M,D]=R.useState(""),[F,q]=R.useState(!1),[L,B]=R.useState(null),[X,P]=R.useState([]),[U,z]=R.useState({type:"TRANSFERENCIA",description:"",date:new Date().toISOString().split("T")[0]}),V=async le=>{try{const{data:ze,error:Ye}=await ae.from("student_movements").select("*").eq("student_id",le).order("movement_date",{ascending:!1});if(Ye)throw Ye;P(ze||[])}catch(ze){console.error("Erro ao buscar histrico:",ze)}},Y=le=>{B(le),q(!0),z({type:"TRANSFERENCIA",description:"",date:new Date().toISOString().split("T")[0]}),P([]),le.id&&V(le.id)},se=async le=>{if(le.preventDefault(),!!(L!=null&&L.id))try{const{error:ze}=await ae.from("student_movements").insert([{student_id:L.id,movement_type:U.type,description:U.description.toUpperCase(),movement_date:U.date}]);if(ze)throw ze;const Ye=U.type==="ATESTADO"?"ATESTADO MDICO":U.type==="TRANSFERENCIA"?"TRANSFERNCIA":"MOVIMENTAO",qe={id:`notif-${Date.now()}`,title:`${Ye}: ${L.Nome}`,message:`${U.type}: ${U.description||"Registrado pela Secretaria"}.`,date:new Date().toISOString(),priority:U.type==="TRANSFERENCIA"?"ALTA":"NORMAL",isRead:!1};try{const Ge=localStorage.getItem("secretariat_notifications_v1"),gt=Ge?JSON.parse(Ge):[];localStorage.setItem("secretariat_notifications_v1",JSON.stringify([qe,...gt])),window.dispatchEvent(new Event("storage"))}catch(Ge){console.error("Erro ao disparar notificao automtica:",Ge)}alert("Movimentao registrada com sucesso!"),V(L.id),z({...U,description:""})}catch(ze){console.error("Erro ao registrar movimentao:",ze),alert("Erro ao registrar: "+ze.message)}},K=()=>{j.length===Ee.length&&Ee.length>0?T([]):T(Ee.map(le=>le.id).filter(Boolean))},G=le=>{j.includes(le)?T(ze=>ze.filter(Ye=>Ye!==le)):T(ze=>[...ze,le])},W=async()=>{if(j.length!==0&&window.confirm(`ATENO: Voc est prestes a excluir ${j.length} alunos.

Esta ao  irreversvel e excluir todo o histrico destes alunos.

Deseja continuar?`))try{i(!0);const{error:le}=await ae.from("students").delete().in("id",j);if(le)throw le;alert("Alunos excludos com sucesso!"),T([]),l()}catch(le){console.error("Erro deletar em massa:",le),alert("Erro ao excluir alunos: "+le.message)}finally{i(!1)}},Q=async()=>{if(!M){alert("Por favor, selecione uma turma de destino.");return}try{i(!0);const{data:le,error:ze}=await ae.from("classrooms").select("id").eq("name",M).single();if(ze||!le)throw new Error("Turma de destino no encontrada.");let Ye=0;await Promise.all(j.map(async qe=>{try{const{data:Ge}=await ae.from("enrollments").select("id, classroom_id").eq("student_id",qe).is("end_date",null).maybeSingle();Ge?Ge.classroom_id!==le.id&&await ae.from("enrollments").update({classroom_id:le.id}).eq("id",Ge.id):await ae.from("enrollments").insert([{student_id:qe,classroom_id:le.id,enrollment_date:new Date().toISOString().split("T")[0]}]),Ye++}catch(Ge){console.error(`Falha ao mover aluno ${qe}`,Ge)}})),alert(`${Ye} alunos movidos para a turma ${M} com sucesso!`),O(!1),D(""),T([]),l()}catch(le){console.error("Erro bulk move:",le),alert("Erro ao mover alunos: "+le.message)}finally{i(!1)}},ee=R.useRef(null),he=R.useRef(null),je={Nome:"",Turma:"",Turno:"MATUTINO",Sequencia:"",CodigoAluno:"",DataMatricula:new Date().toISOString().split("T")[0],DataNascimento:"",PAED:"No",TransporteEscolar:"No",NomeResponsavel:"",TelefoneContato:""},[me,re]=R.useState(je),ge=le=>{if(!le||!le.includes("-"))return"---";const[ze,Ye,qe]=le.split("-");return`${qe}/${Ye}/${ze}`},Me=le=>{re({...le,PAED:le.PAED==="Sim"?"Sim":"No",TransporteEscolar:le.TransporteEscolar==="Sim"?"Sim":"No"}),S(!0),y(le.id||null),v(!0)},J=async le=>{var ze,Ye;le.preventDefault();try{if(g&&k){const{error:qe}=await ae.from("students").update({name:me.Nome,registration_number:me.CodigoAluno,birth_date:me.DataNascimento,paed:me.PAED==="Sim",school_transport:me.TransporteEscolar==="Sim",guardian_name:(ze=me.NomeResponsavel)==null?void 0:ze.toUpperCase(),contact_phone:me.TelefoneContato}).eq("id",k);if(qe)throw qe;const{data:Ge,error:gt}=await ae.from("classrooms").select("id").eq("name",me.Turma).single();if(Ge){const{data:ht}=await ae.from("enrollments").select("id, classroom_id").eq("student_id",k).is("end_date",null).maybeSingle();ht?ht.classroom_id!==Ge.id&&await ae.from("enrollments").update({classroom_id:Ge.id}).eq("id",ht.id):await ae.from("enrollments").insert([{student_id:k,classroom_id:Ge.id,enrollment_date:new Date().toISOString().split("T")[0]}])}else console.warn("Turma no encontrada ao editar, enturmao no alterada.");alert("Aluno atualizado com sucesso!")}else{const{data:qe,error:Ge}=await ae.from("students").insert([{name:me.Nome,registration_number:me.CodigoAluno,birth_date:me.DataNascimento,paed:me.PAED==="Sim",school_transport:me.TransporteEscolar==="Sim",guardian_name:(Ye=me.NomeResponsavel)==null?void 0:Ye.toUpperCase(),contact_phone:me.TelefoneContato}]).select().single();if(Ge)throw Ge;const{data:gt,error:ht}=await ae.from("classrooms").select("id").eq("name",me.Turma).single();gt?await ae.from("enrollments").insert([{student_id:qe.id,classroom_id:gt.id,enrollment_date:me.DataMatricula}]):alert("Ateno: A turma especificada no foi encontrada no banco. O aluno foi cadastrado mas no foi enturmado."),alert("Aluno cadastrado com sucesso!")}await l(),Ae()}catch(qe){console.error("Erro ao salvar:",qe),qe.code==="23505"?alert("Erro: Este nmero de matrcula j est em uso por outro aluno. Por favor, verifique o cdigo ou gere um novo."):alert("Erro ao salvar aluno: "+(qe.message||"Erro desconhecido"))}},Ae=()=>{v(!1),S(!1),y(null),re(je)},ne=async()=>{const le=new Date,ze=`${le.getFullYear()}${String(le.getMonth()+1).padStart(2,"0")}`,Ye=Math.floor(Math.random()*1e4).toString().padStart(4,"0");re(qe=>({...qe,CodigoAluno:`${ze}-${Ye}`}))},ve=()=>{alert("Sincronizao desativada na verso Database (Dados vm direto do servidor).")},we=R.useMemo(()=>{const le={};t.forEach(Ye=>{const qe=Ye.Turma||"SEM TURMA";le[qe]||(le[qe]=[]),le[qe].push(Ye)});let ze=[];return Object.keys(le).forEach(Ye=>{le[Ye].sort((qe,Ge)=>qe.Nome.localeCompare(Ge.Nome)),le[Ye].forEach((qe,Ge)=>{ze.push({...qe,Sequencia:(Ge+1).toString().padStart(2,"0")})})}),ze},[t]),Ee=R.useMemo(()=>we.filter(le=>le.Nome.toLowerCase().includes(b.toLowerCase())||le.CodigoAluno.includes(b)||le.Turma.toLowerCase().includes(b.toLowerCase())).sort((le,ze)=>le.Turma.localeCompare(ze.Turma)||le.Nome.localeCompare(ze.Nome)),[we,b]),fe=async le=>{var Ye;const ze=(Ye=le.target.files)==null?void 0:Ye[0];if(ze){if(ze.type!=="application/pdf"){alert("Por favor, selecione um arquivo PDF vlido.");return}u(!0);try{const qe=new FileReader;qe.readAsDataURL(ze),qe.onload=async()=>{var Cr;const Ge=(Cr=qe.result)==null?void 0:Cr.toString().split(",")[1];if(!Ge)throw new Error("Falha ao ler o arquivo.");const gt=await Jye(Ge,"application/pdf");if(!gt.Alunos||gt.Alunos.length===0){alert("Nenhum aluno encontrado ou erro na leitura do PDF."),u(!1);return}let ht=0,nt=0;const Dt=[],ut=jt=>{if(!jt)return null;let Kt=jt.trim(),va,zr,Vs;if(/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(Kt))[va,zr,Vs]=Kt.split(/[\/-]/);else if(/^\d{1,2}[\/-]\d{1,2}[\/-]\d{4}$/.test(Kt))[Vs,zr,va]=Kt.split(/[\/-]/);else return null;const co=parseInt(va),pi=parseInt(zr),$s=parseInt(Vs),ws=new Date(co,pi-1,$s);return ws.getFullYear()===co&&ws.getMonth()===pi-1&&ws.getDate()===$s?ws.toISOString().split("T")[0]:null};for(const jt of gt.Alunos)try{const Kt=ut(jt.DataNascimento);if(!Kt){console.warn(`Data invlida para o aluno ${jt.Nome}: ${jt.DataNascimento}`),Dt.push(`${jt.Nome}: Data de nascimento invlida/no reconhecida (${jt.DataNascimento})`),nt++;continue}const{data:va,error:zr}=await ae.from("students").upsert([{name:jt.Nome,registration_number:jt.CodigoAluno,birth_date:Kt}],{onConflict:"registration_number"}).select().single();if(zr){console.error(`Erro ao salvar aluno ${jt.Nome}:`,zr),Dt.push(`${jt.Nome}: ${zr.message}`),nt++;continue}const{data:Vs,error:co}=await ae.from("classrooms").select("id").ilike("name",`%${jt.Turma}%`).limit(1).maybeSingle();if(Vs){const{data:pi}=await ae.from("enrollments").select("id").eq("student_id",va.id).is("end_date",null).maybeSingle();pi||await ae.from("enrollments").insert([{student_id:va.id,classroom_id:Vs.id,enrollment_date:new Date().toISOString().split("T")[0]}])}ht++}catch(Kt){console.error("Erro no processamento individual:",Kt),Dt.push(`${jt.Nome}: ${Kt.message}`),nt++}await l();let qt=`Importao concluda!
Sucessos: ${ht}
Falhas: ${nt}`;Dt.length>0&&(qt+=`

Erros:
${Dt.slice(0,5).join(`
`)}`),alert(qt)},qe.onerror=()=>{throw new Error("Erro na leitura do arquivo.")}}catch(qe){console.error("Erro na importao:",qe),alert("Erro crtico na importao: "+(qe.message||"Verifique o console."))}finally{u(!1),ee.current&&(ee.current.value="")}}},Ce=async le=>{const ze=le.target.files;if(!ze||ze.length<2){alert("Por favor, selecione pelo menos 2 arquivos para consolidar/mesclar (PDF, CSV, Imagens).");return}p(!0);try{const Ye=Array.from(ze).map(nt=>new Promise((Dt,ut)=>{const qt=new FileReader;qt.onload=()=>{var jt;const Cr=(jt=qt.result)==null?void 0:jt.toString().split(",")[1];Cr?Dt({base64:Cr,mimeType:nt.type,name:nt.name}):ut(new Error(`Falha ao ler ${nt.name}`))},qt.onerror=()=>ut(new Error(`Erro ao ler ${nt.name}`)),qt.readAsDataURL(nt)})),qe=await Promise.all(Ye),Ge=await Qye(qe);if(!Ge.consolidatedStudents||Ge.consolidatedStudents.length===0){alert("Nenhum aluno identificado na consolidao. Tente novamente com arquivos mais legveis.");return}let gt=0,ht=0;for(const nt of Ge.consolidatedStudents)try{const{data:Dt,error:ut}=await ae.from("students").upsert([{name:nt.Nome,registration_number:nt.CodigoAluno||`GEN-${Math.floor(Math.random()*1e5)}`,birth_date:nt.DataNascimento,paed:nt.PAED==="Sim",school_transport:nt.TransporteEscolar==="Sim",guardian_name:nt.NomeResponsavel,contact_phone:nt.TelefoneContato}],{onConflict:"registration_number"}).select().single();if(ut)throw ut;const{data:qt}=await ae.from("classrooms").select("id").ilike("name",`%${nt.Turma}%`).maybeSingle();if(qt){const{data:Cr}=await ae.from("enrollments").select("id").eq("student_id",Dt.id).is("end_date",null).maybeSingle();Cr||await ae.from("enrollments").insert([{student_id:Dt.id,classroom_id:qt.id,enrollment_date:new Date().toISOString().split("T")[0]}])}gt++}catch(Dt){console.error(`Erro ao salvar consolidado ${nt.Nome}`,Dt),ht++}await l(),alert(`Consolidao Finalizada!
Resumo IA: ${Ge.summary}

Sucessos: ${gt}
Falhas: ${ht}`)}catch(Ye){console.error("Erro multi-import",Ye),alert("Erro crtico na consolidao: "+Ye.message)}finally{p(!1),he.current&&(he.current.value="")}},Ue=async le=>{if(window.confirm("Remover este aluno e seus dados permanentemente?"))try{const{error:ze}=await ae.from("students").delete().eq("registration_number",le);if(ze)throw ze;await l()}catch(ze){console.error("Erro ao excluir:",ze),alert("Erro ao excluir aluno.")}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-indigo-50 text-indigo-600 rounded-3xl",children:a.jsx(on,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Base de Dados de Alunos"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Sincronizada com Merenda e Financeiro"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[a.jsxs("div",{className:"relative flex-1 md:w-80",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:"Buscar aluno, turma ou cdigo...",value:b,onChange:le=>w(le.target.value),className:"w-full pl-12 pr-6 py-4 bg-gray-50 border-none rounded-2xl font-bold text-sm outline-none focus:ring-4 focus:ring-indigo-500/5 transition-all"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>v(!0),className:"p-4 bg-indigo-600 text-white rounded-2xl shadow-xl hover:bg-indigo-700 transition-all",title:"Cadastrar Manualmente",children:a.jsx(lc,{size:20})}),a.jsxs("button",{onClick:()=>{var le;return(le=ee.current)==null?void 0:le.click()},disabled:d,className:"px-6 py-4 bg-gray-900 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl flex items-center gap-2 hover:bg-black transition-all",children:[d?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx(AL,{size:16}),"Importar PDF"]}),a.jsxs("button",{onClick:()=>{var le;return(le=he.current)==null?void 0:le.click()},disabled:d||h,className:"px-6 py-4 bg-emerald-600 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl flex items-center gap-2 hover:bg-emerald-700 transition-all",children:[h?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx(Mr,{size:16}),"Mesclar 3+ Planilhas (IA)"]}),a.jsx("button",{onClick:ve,className:"p-4 bg-amber-50 text-amber-600 rounded-2xl shadow-sm hover:bg-amber-100 transition-all",title:"Restaurar Dados Faltantes",children:a.jsx(ic,{size:20})})]}),a.jsx("input",{type:"file",ref:ee,onChange:fe,className:"hidden",accept:".pdf"}),a.jsx("input",{type:"file",ref:he,onChange:Ce,className:"hidden",multiple:!0,accept:".pdf,.csv,.xlsx,.xls,.jpg,.jpeg,.png"})]})]}),a.jsxs("div",{className:"bg-white rounded-[3rem] border border-gray-100 shadow-sm overflow-hidden relative",children:[j.length>0&&a.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-indigo-600 text-white p-4 z-10 flex justify-between items-center animate-in slide-in-from-top-full duration-300",children:[a.jsx("div",{className:"flex items-center gap-4 px-4",children:a.jsxs("span",{className:"font-black text-sm uppercase",children:[j.length," Alunos Selecionados"]})}),a.jsxs("div",{className:"flex gap-3 px-4",children:[a.jsx("button",{onClick:()=>O(!0),className:"px-4 py-2 bg-white text-indigo-600 rounded-xl text-xs font-black uppercase hover:bg-indigo-50 transition-colors",children:"Mover de Turma"}),a.jsx("button",{onClick:W,className:"px-4 py-2 bg-red-500 text-white rounded-xl text-xs font-black uppercase hover:bg-red-600 transition-colors",children:"Excluir Selecionados"})]})]}),a.jsxs("div",{className:"overflow-x-auto max-h-[600px] custom-scrollbar",children:[a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-[10px] font-black text-gray-400 uppercase tracking-widest border-b border-gray-100",children:[a.jsx("th",{className:"px-8 py-5 text-center w-16",children:a.jsx("input",{type:"checkbox",checked:Ee.length>0&&j.length===Ee.length,onChange:K,className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer"})}),a.jsx("th",{className:"px-2 py-5 text-center",children:"N"}),a.jsx("th",{className:"px-8 py-5",children:"Nome Completo"}),a.jsx("th",{className:"px-8 py-5",children:"Nascimento"}),a.jsx("th",{className:"px-8 py-5",children:"Telefone"}),a.jsx("th",{className:"px-8 py-5",children:"Turma / Turno"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Transporte"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"PAED"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Ao"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50",children:s?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"px-8 py-10 text-center text-gray-400",children:[a.jsx(vt,{className:"animate-spin mx-auto mb-2"}),"Carregando registros..."]})}):a.jsx(a.Fragment,{children:Ee.map(le=>a.jsxs("tr",{className:`transition-colors group ${j.includes(le.id)?"bg-indigo-50/50":"hover:bg-gray-50/50"}`,children:[a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("input",{type:"checkbox",checked:j.includes(le.id),onChange:()=>G(le.id),className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer"})}),a.jsx("td",{className:"px-2 py-5 text-center",children:a.jsx("span",{className:"text-xs font-black text-indigo-400 bg-indigo-50 px-2 py-1 rounded-md",children:le.Sequencia})}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase",children:le.Nome})}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("p",{className:"text-xs font-black text-gray-600",children:ge(le.DataNascimento)})}),a.jsx("td",{className:"px-8 py-5",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(If,{size:14,className:"text-gray-400"}),a.jsx("span",{className:"text-xs font-bold text-gray-600 truncate max-w-[120px]",children:le.TelefoneContato||"---"})]})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"text-xs font-bold text-gray-700 uppercase",children:le.Turma}),a.jsx("p",{className:"text-[9px] text-indigo-500 font-black uppercase",children:le.Turno})]}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[8px] font-black uppercase border ${le.TransporteEscolar==="Sim"?"bg-amber-50 text-amber-700 border-amber-100":"bg-gray-100 text-gray-400"}`,children:le.TransporteEscolar})}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[8px] font-black uppercase border ${le.PAED==="Sim"?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-gray-100 text-gray-400"}`,children:le.PAED})}),a.jsx("td",{className:"px-8 py-5 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>Me(le),className:"p-2 text-gray-300 hover:text-indigo-600 transition-colors",title:"Editar",children:a.jsx(BO,{size:18})}),a.jsx("button",{onClick:()=>Y(le),className:"p-2 text-gray-300 hover:text-amber-500 transition-colors",title:"Histrico / Movimentao",children:a.jsx(rr,{size:18})}),a.jsx("button",{onClick:()=>Ue(le.CodigoAluno),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",title:"Excluir",children:a.jsx(Lt,{size:18})})]})})]},le.id||le.CodigoAluno))})})]}),!s&&Ee.length===0&&a.jsxs("div",{className:"py-20 text-center",children:[a.jsx(mr,{size:48,className:"mx-auto mb-4 text-gray-100"}),a.jsx("p",{className:"text-gray-300 font-black uppercase text-xs tracking-widest",children:"Nenhum aluno cadastrado no momento"})]})]})]}),_&&a.jsx("div",{className:"fixed inset-0 z-[250] flex items-center justify-center p-4 bg-indigo-950/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg shadow-2xl p-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-xl font-black text-gray-900 uppercase",children:["Mover ",j.length," Alunos"]}),a.jsx("button",{onClick:()=>O(!1),children:a.jsx(Ze,{size:24,className:"text-gray-400 hover:text-red-500"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-black text-gray-400 uppercase ml-1",children:"Selecione a Nova Turma de Destino"}),a.jsxs("select",{value:M,onChange:le=>D(le.target.value),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-sm outline-none border border-gray-200 focus:border-indigo-500 mt-2",children:[a.jsx("option",{value:"",children:"Selecione..."}),r.map(le=>a.jsx("option",{value:le,children:le},le))]})]}),a.jsxs("div",{className:"pt-4 flex gap-3",children:[a.jsx("button",{onClick:()=>O(!1),className:"flex-1 py-3 bg-gray-100 text-gray-600 rounded-xl font-black uppercase text-xs hover:bg-gray-200 transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:Q,disabled:!M,className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-black uppercase text-xs hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Mudana"})]})]})]})}),F&&L&&a.jsx("div",{className:"fixed inset-0 z-[250] flex items-center justify-center p-4 bg-indigo-950/60 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-2xl shadow-2xl p-8 flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase",children:"Histrico do Aluno"}),a.jsx("p",{className:"text-sm font-bold text-indigo-600 uppercase",children:L.Nome})]}),a.jsx("button",{onClick:()=>q(!1),children:a.jsx(Ze,{size:24,className:"text-gray-400 hover:text-red-500"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto mb-6 pr-2 custom-scrollbar",children:X.length===0?a.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-2xl border border-gray-100 border-dashed",children:[a.jsx(_t,{size:32,className:"mx-auto text-gray-300 mb-2"}),a.jsx("p",{className:"text-xs font-black text-gray-400 uppercase",children:"Nenhuma movimentao registrada"})]}):a.jsx("div",{className:"space-y-3",children:X.map(le=>a.jsx("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100 flex justify-between items-start",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase ${le.movement_type==="TRANSFERENCIA"?"bg-amber-100 text-amber-700":le.movement_type==="ATESTADO"?"bg-blue-100 text-blue-700":"bg-gray-200 text-gray-700"}`,children:le.movement_type}),a.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:ge(le.movement_date)})]}),a.jsx("p",{className:"text-xs font-bold text-gray-700 uppercase",children:le.description||"Sem descrio"})]})},le.id))})}),a.jsxs("div",{className:"pt-6 border-t border-gray-100 shrink-0",children:[a.jsxs("h4",{className:"text-sm font-black text-gray-900 uppercase mb-4 flex items-center gap-2",children:[a.jsx(zt,{size:16,className:"text-indigo-600"}),"Registrar Nova Movimentao"]}),a.jsxs("form",{onSubmit:se,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Tipo de Movimentao"}),a.jsxs("select",{value:U.type,onChange:le=>z({...U,type:le.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl font-bold text-xs outline-none border border-gray-200 focus:border-indigo-500",children:[a.jsx("option",{value:"TRANSFERENCIA",children:"TRANSFERNCIA"}),a.jsx("option",{value:"ATESTADO",children:"ATESTADO MDICO"}),a.jsx("option",{value:"ABANDONO",children:"ABANDONO"}),a.jsx("option",{value:"OBITO",children:"BITO"}),a.jsx("option",{value:"OUTROS",children:"OUTROS"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Data do Evento"}),a.jsx("input",{type:"date",required:!0,value:U.date,onChange:le=>z({...U,date:le.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl font-bold text-xs outline-none border border-gray-200 focus:border-indigo-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Descrio / Observaes"}),a.jsx("textarea",{required:!0,value:U.description,onChange:le=>z({...U,description:le.target.value}),placeholder:"Detalhes sobre a movimentao...",className:"w-full p-3 bg-gray-50 rounded-xl font-bold text-xs outline-none border border-gray-200 focus:border-indigo-500 min-h-[80px]"})]}),a.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-black uppercase text-xs hover:bg-indigo-700 transition-colors shadow-lg",children:"Salvar Movimentao"})]})]})]})}),x&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-indigo-950/40 backdrop-blur-md animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"p-8 bg-indigo-50 border-b border-indigo-100 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-indigo-600 text-white rounded-3xl shadow-xl",children:g?a.jsx(BO,{size:24}):a.jsx(lc,{size:24})}),a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase",children:g?"Editar Aluno":"Cadastrar Aluno"})]}),a.jsx("button",{onClick:Ae,className:"p-2 text-gray-400 hover:text-red-500 transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsxs("form",{onSubmit:J,className:"p-10 space-y-6 overflow-y-auto",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Nome Completo"}),a.jsx("input",{required:!0,value:me.Nome,onChange:le=>re({...me,Nome:le.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-sm outline-none focus:bg-white border border-gray-100"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Matrcula (Cdigo)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{required:!0,value:me.CodigoAluno,onChange:le=>re({...me,CodigoAluno:le.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-sm outline-none"}),!g&&a.jsx("button",{type:"button",onClick:ne,className:"p-4 bg-indigo-50 text-indigo-600 rounded-2xl hover:bg-indigo-100 transition-colors",title:"Gerar Cdigo Automtico",children:a.jsx(ic,{size:20})})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Data de Nascimento"}),a.jsx("input",{required:!0,type:"date",value:me.DataNascimento,onChange:le=>re({...me,DataNascimento:le.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Turma"}),a.jsxs("select",{required:!0,value:me.Turma,onChange:le=>re({...me,Turma:le.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-sm outline-none",children:[a.jsx("option",{value:"",children:"Selecione a Turma"}),r.map(le=>a.jsx("option",{value:le,children:le},le))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Turno"}),a.jsxs("select",{value:me.Turno,onChange:le=>re({...me,Turno:le.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl font-black text-xs",children:[a.jsx("option",{children:"MATUTINO"}),a.jsx("option",{children:"VESPERTINO"}),a.jsx("option",{children:"NOTURNO"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Nome do Responsvel"}),a.jsx("input",{required:!0,value:me.NomeResponsavel,onChange:le=>re({...me,NomeResponsavel:le.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-sm outline-none"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Telefone de Contato"}),a.jsx("input",{required:!0,value:me.TelefoneContato,onChange:le=>re({...me,TelefoneContato:le.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl font-bold text-sm outline-none",placeholder:"(XX) 9XXXX-XXXX"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"PAED"}),a.jsxs("select",{value:me.PAED,onChange:le=>re({...me,PAED:le.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl font-black text-xs",children:[a.jsx("option",{children:"No"}),a.jsx("option",{children:"Sim"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Transporte"}),a.jsxs("select",{value:me.TransporteEscolar,onChange:le=>re({...me,TransporteEscolar:le.target.value}),className:"w-full p-4 bg-gray-50 rounded-2xl font-black text-xs",children:[a.jsx("option",{children:"No"}),a.jsx("option",{children:"Sim"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase ml-1",children:"Data Matrcula"}),a.jsx("input",{type:"date",value:me.DataMatricula,onChange:le=>re({...me,DataMatricula:le.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none"})]})]}),a.jsxs("button",{type:"submit",className:"w-full py-5 bg-indigo-600 text-white rounded-3xl font-black uppercase text-sm shadow-xl hover:bg-indigo-700 transition-all flex items-center justify-center gap-2",children:[a.jsx(qr,{size:20}),g?"Atualizar Dados":"Salvar Registro"]})]})]})}),a.jsxs("div",{className:"bg-indigo-900 p-8 rounded-[3rem] text-white flex justify-between items-center shadow-2xl",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx(ft,{size:32,className:"text-indigo-300"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xl font-black uppercase",children:"Banco de Dados Ativo"}),a.jsx("p",{className:"text-indigo-200/60 text-xs font-medium uppercase",children:"Seus dados esto protegidos contra perdas durante a navegao."})]})]}),a.jsxs("div",{className:"bg-white/10 px-6 py-4 rounded-2xl text-center",children:[a.jsx("p",{className:"text-[8px] font-black text-indigo-300 uppercase",children:"Alunos em Base"}),a.jsx("p",{className:"text-2xl font-black",children:t.length})]})]})]})},wCe=()=>{const[t,e]=R.useState([]),[r,n]=R.useState("TODOS"),[s,i]=R.useState(null),[o,l]=R.useState(!0),[d,u]=R.useState(!1),[h,p]=R.useState({name:"",year:"6 ANO",shift:"MATUTINO",room_number:""}),[x,v]=R.useState(null),[b,w]=R.useState("");R.useEffect(()=>{g()},[]);const g=async()=>{try{l(!0);const{data:T,error:_}=await ae.from("classrooms").select("*").order("name");if(_)throw _;const{data:O,error:M}=await ae.from("enrollments").select(`
          classroom_id,
          students (
            id,
            name,
            registration_number,
            paed,
            school_transport
          )
        `);if(M)throw M;if(T){const D=T.map(F=>{const L=((O==null?void 0:O.filter(X=>X.classroom_id===F.id))||[]).map(X=>{var P,U,z,V;return{...X.students,Nome:(P=X.students)==null?void 0:P.name,CodigoAluno:(U=X.students)==null?void 0:U.registration_number,PAED:(z=X.students)!=null&&z.paed?"Sim":"No",TransporteEscolar:(V=X.students)!=null&&V.school_transport?"Sim":"No"}});let B=F.room_number||"---";return(!F.room_number||F.room_number==="---")&&(F.name==="6 ANO A"?B="007":F.name==="6 ANO B"?B="008":F.name==="6 ANO D"?B="007":F.name==="6 ANO E"?B="008":F.name==="7 ANO A"||F.name==="7 ANO D"?B="010":F.name==="7 ANO B"||F.name==="7 ANO E"?B="011":F.name==="8 ANO A"?B="023":F.name==="8 ANO B"?B="024":F.name==="8 ANO D"?B="023":F.name==="8 ANO E"?B="024":F.name==="9 ANO A"?B="019":F.name==="9 ANO B"?B="020":F.name==="9 ANO C"?B="021":F.name==="9 ANO D"?B="020":F.name==="9 ANO E"&&(B="021")),{id:F.id,name:F.name,year:F.year,shift:F.shift,teacherId:"---",studentIds:[],schedule:[],studentCount:L.length,students:L,salaNum:B,room_number:F.room_number}});e(D)}}catch(T){console.error("Erro ao carregar turmas:",T)}finally{l(!1)}},S=async T=>{T.preventDefault();try{l(!0);const{error:_}=await ae.from("classrooms").insert([{name:h.name.toUpperCase(),year:h.year,shift:h.shift,room_number:h.room_number||null}]);if(_)throw _;alert("Turma criada com sucesso!"),u(!1),p({name:"",year:"6 ANO",shift:"MATUTINO",room_number:""}),g()}catch(_){console.error("Erro ao criar turma:",_),alert("Erro ao criar turma.")}finally{l(!1)}},k=T=>{v(T.id),w(T.salaNum==="---"?"":T.salaNum)},y=async T=>{try{const{error:_}=await ae.from("classrooms").update({room_number:b}).eq("id",T);if(_)throw _;v(null),g()}catch(_){console.error("Erro ao atualizar sala:",_),alert("Erro ao salvar nmero da sala.")}},j=async T=>{if(T.studentCount>0){alert(`No  possvel excluir a turma "${T.name}" pois existem ${T.studentCount} alunos matriculados nela.

Remova ou transfira os alunos antes de excluir a turma.`);return}if(window.confirm(`Tem certeza que deseja excluir a turma "${T.name}" PERMANENTEMENTE?

Esta ao no pode ser desfeita.`))try{l(!0);const{error:_}=await ae.from("classrooms").delete().eq("id",T.id);if(_)throw _;alert("Turma excluda com sucesso!"),g()}catch(_){console.error("Erro ao excluir turma:",_),alert("Erro ao excluir a turma.")}finally{l(!1)}};return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-indigo-50 text-indigo-600 rounded-3xl",children:a.jsx(mr,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Grade de Turmas"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-1",children:"Gerenciamento de Enturmao e Ocupao"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>u(!0),className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 shadow-lg hover:bg-indigo-700 transition-all",children:[a.jsx(ot,{size:14})," Nova Turma"]}),a.jsx("div",{className:"flex bg-gray-100 p-1 rounded-2xl",children:["TODOS","MATUTINO","VESPERTINO"].map(T=>a.jsx("button",{onClick:()=>n(T),className:`px-5 py-2.5 rounded-xl text-[9px] font-black uppercase transition-all ${r===T?"bg-white text-indigo-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:T},T))})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.filter(T=>r==="TODOS"||T.shift===r).map(T=>a.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-gray-100 shadow-sm hover:border-indigo-300 hover:shadow-2xl transition-all group flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-900 text-white rounded-[2rem] flex items-center justify-center font-black text-xl group-hover:bg-indigo-600 transition-colors",children:T.name.substring(0,2)}),a.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[a.jsx("span",{className:"text-[10px] font-black text-indigo-600 uppercase bg-indigo-50 px-3 py-1 rounded-full border border-indigo-100",children:T.shift}),a.jsx("button",{onClick:()=>j(T),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",title:"Excluir Turma",children:a.jsx(Lt,{size:16})})]})]}),a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase mb-4",children:T.name}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100 text-center",children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Alunos"}),a.jsx("p",{className:`text-xl font-black ${T.studentCount>0?"text-indigo-600":"text-red-400"}`,children:T.studentCount})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100 text-center relative group/sala",children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Sala"}),x===T.id?a.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[a.jsx("input",{autoFocus:!0,value:b,onChange:_=>w(_.target.value),className:"w-12 text-center font-black text-lg bg-white border border-indigo-300 rounded-lg outline-none",onBlur:()=>y(T.id),onKeyDown:_=>_.key==="Enter"&&y(T.id)}),a.jsx("button",{onMouseDown:()=>y(T.id),className:"text-emerald-500",children:a.jsx(qr,{size:14})})]}):a.jsxs("div",{className:"flex items-center justify-center gap-2 cursor-pointer",onClick:()=>k(T),children:[a.jsx("p",{className:"text-xl font-black text-gray-900",children:T.salaNum}),a.jsx(sc,{size:12,className:"text-gray-300 opacity-0 group-hover/sala:opacity-100 transition-opacity absolute right-2 top-2"})]})]})]})]}),a.jsx("div",{className:"mt-8 grid grid-cols-1 gap-3",children:a.jsxs("button",{onClick:()=>i(T),className:"py-3 bg-gray-900 text-white hover:bg-black rounded-xl text-[9px] font-black uppercase transition-all flex items-center justify-center gap-2 shadow-lg",children:[a.jsx(ia,{size:14})," Detalhar Turma"]})})]},T.id))}),d&&a.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-indigo-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg shadow-2xl overflow-hidden p-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:"Nova Turma"}),a.jsx("button",{onClick:()=>u(!1),children:a.jsx(Ze,{size:24,className:"text-gray-400 hover:text-red-500"})})]}),a.jsxs("form",{onSubmit:S,className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nome da Turma"}),a.jsx("input",{required:!0,placeholder:"EX: 6 ANO A",value:h.name,onChange:T=>p({...h,name:T.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white uppercase"})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Ano Letivo"}),a.jsx("select",{value:h.year,onChange:T=>p({...h,year:T.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white",children:["1 ANO","2 ANO","3 ANO","4 ANO","5 ANO","6 ANO","7 ANO","8 ANO","9 ANO"].map(T=>a.jsx("option",{value:T,children:T},T))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turno"}),a.jsx("select",{value:h.shift,onChange:T=>p({...h,shift:T.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white",children:["MATUTINO","VESPERTINO","INTEGRAL","NOTURNO"].map(T=>a.jsx("option",{value:T,children:T},T))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nmero da Sala (Opcional)"}),a.jsx("input",{placeholder:"EX: 007",value:h.room_number,onChange:T=>p({...h,room_number:T.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white uppercase"})]}),a.jsxs("button",{type:"submit",className:"w-full py-4 bg-indigo-600 text-white rounded-xl font-black uppercase text-xs tracking-widest hover:bg-indigo-700 transition-all flex justify-center gap-2 items-center shadow-lg",children:[a.jsx(ot,{size:16})," Criar Turma"]})]})]})}),s&&a.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-indigo-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-4xl shadow-2xl border border-white/20 overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"p-8 bg-gray-900 text-white flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-[1.5rem] flex items-center justify-center text-2xl font-black",children:s.name.substring(0,2)}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:s.name}),a.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[a.jsxs("p",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest flex items-center gap-1",children:[a.jsx(Yi,{size:12})," Sala ",s.salaNum]}),a.jsxs("p",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest flex items-center gap-1",children:[a.jsx(on,{size:12})," ",s.studentCount," Alunos Ativos"]})]})]})]}),a.jsx("button",{onClick:()=>i(null),className:"p-3 bg-white/10 hover:bg-red-50 rounded-2xl transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:a.jsx("div",{className:"bg-gray-50 rounded-[2.5rem] border border-gray-100 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100/50 text-[10px] font-black text-gray-400 uppercase tracking-widest border-b border-gray-100",children:[a.jsx("th",{className:"px-8 py-4 w-20",children:"Seq."}),a.jsx("th",{className:"px-8 py-4",children:"Cdigo"}),a.jsx("th",{className:"px-8 py-4",children:"Nome do Aluno"}),a.jsx("th",{className:"px-8 py-4 text-center",children:"PAED"}),a.jsx("th",{className:"px-8 py-4 text-center",children:"Tr. Escolar"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:s.students.map((T,_)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-4",children:a.jsxs("span",{className:"text-[10px] font-black text-gray-300 group-hover:text-indigo-600",children:["#",_+1]})}),a.jsx("td",{className:"px-8 py-4",children:a.jsx("span",{className:"text-[10px] font-bold text-gray-500",children:T.CodigoAluno})}),a.jsx("td",{className:"px-8 py-4",children:a.jsx("p",{className:"text-sm font-black text-gray-900 uppercase",children:T.Nome})}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase ${T.PAED==="Sim"?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-400"}`,children:T.PAED})}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase ${T.TransporteEscolar==="Sim"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-400"}`,children:T.TransporteEscolar})})]},T.CodigoAluno))})]})})}),a.jsxs("div",{className:"p-8 bg-gray-50 border-t border-gray-100 flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ft,{size:20,className:"text-indigo-600"}),a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Relatrio Auditado  Base SEDUC-MT"})]}),a.jsx("button",{onClick:()=>window.print(),className:"px-6 py-2 bg-gray-900 text-white rounded-xl text-[10px] font-black uppercase hover:bg-black transition-all",children:"Imprimir Relao"})]})]})})]})},ACe=["DIRETOR","COORDENADOR PEDAGGICO","SECRETRIO","REGNCIA","BUSCA ATIVA","MEDIADOR","PSICOSSOCIAL","BIBLIOTECA","LIMPEZA","NUTRIO","AUXILIAR DE PTIO","AUXILIAR DE COORDENAO PEDAGGICA","ASSISTENTE DE EDUCAO ESPECIAL","APA","SALA DE RECURSOS","OUTROS"],ECe=()=>{var je,me,re,ge,Me,J,Ae;const[t,e]=R.useState([]),[r,n]=R.useState([]),[s,i]=R.useState(!0),[o,l]=R.useState("ativos"),[d,u]=R.useState("TODOS"),[h,p]=R.useState(!1),[x,v]=R.useState(!1),[b,w]=R.useState(""),[g,S]=R.useState(null),[k,y]=R.useState(null),[j,T]=R.useState(!1),[_,O]=R.useState([]),M=xe.useRef(null),[D,F]=R.useState({code:"",name:"",registration:"",cpf:"",birthDate:"",entryProfile:"",qualification:"",serverType:"Professor",jobFunction:"",shift:"MATUTINO",role:"PROFESSOR",email:"",assignedSubjects:[],workload:0,contractTerm:{start:"",end:""},additionalClasses:[],additionalWorkloadHours:0,additionalWorkloadTerm:{start:"",end:""},status:"EM_ATIVIDADE",notifyAlerts:!0,photoUrl:"",movementHistory:[]}),[q,L]=R.useState({type:"FRIAS",startDate:new Date().toISOString().split("T")[0],endDate:"",durationDays:0,substituteId:"",substituteName:"",reason:"",notes:"",responsible:"GESTOR ANDR",attachmentUrl:""}),B=async()=>{i(!0);try{const{data:ne,error:ve}=await ae.from("staff").select("*").order("name");if(ve)throw ve;const{data:we,error:Ee}=await ae.from("staff_movements").select("*").order("start_date",{ascending:!1});if(Ee)throw Ee;const fe=(ne||[]).map(le=>({id:le.id,code:le.code,registration:le.registration,name:le.name,role:le.role,cpf:le.cpf,birthDate:le.birth_date,entryProfile:le.entry_profile,qualification:le.qualification,serverType:le.server_type,jobFunction:le.job_function,shift:le.shift,email:le.email,status:le.status,workload:le.workload,assignedSubjects:le.assigned_subjects,contractTerm:le.contract_term,additionalWorkloadHours:le.additional_workload_hours,additionalWorkloadTerm:le.additional_workload_term,notifyAlerts:le.notify_alerts,photoUrl:le.photo_url,movementHistory:[]})),Ue=(we||[]).map(le=>({id:le.id,staffId:le.staff_id,type:le.type,startDate:le.start_date,endDate:le.end_date,durationDays:le.duration_days,substituteId:le.substitute_id,reason:le.reason,notes:le.notes,responsible:le.responsible,attachmentUrl:le.attachment_url,created_at:le.created_at})).map(le=>{const ze=fe.find(qe=>qe.id===le.staffId),Ye=fe.find(qe=>qe.id===le.substituteId);return{...le,staffName:(ze==null?void 0:ze.name)||"DESCONHECIDO",staffRole:(ze==null?void 0:ze.role)||"",substituteName:(Ye==null?void 0:Ye.name)||(le.substituteId?"EXTERNO":"")}});e(fe),n(Ue)}catch(ne){console.error("Error loading staff data:",ne),alert("Erro ao carregar dados dos servidores.")}finally{i(!1)}};R.useEffect(()=>{B()},[]),R.useEffect(()=>{h&&g&&(async()=>{if(g&&D.email){const{data:ve,error:we}=await ae.from("users").select("password_hash, role").eq("email",D.email).maybeSingle();ve&&!we&&F(Ee=>({...Ee,password:ve.password_hash,userRole:ve.role}))}})()},[h,g,D.email]),R.useEffect(()=>{if(q.startDate&&q.endDate){const ne=new Date(q.startDate),ve=new Date(q.endDate),we=Math.abs(ve.getTime()-ne.getTime()),Ee=Math.ceil(we/(1e3*60*60*24))+1;L(fe=>({...fe,durationDays:Ee>0?Ee:0}))}},[q.startDate,q.endDate]);const X=["FRIAS","LICENA PRMIO","ATESTADO","AFASTAMENTO","RETORNO"],P=async ne=>{var we;const ve=(we=ne.target.files)==null?void 0:we[0];if(ve){if(ve.type!=="application/pdf"){alert("Por favor, selecione um arquivo PDF vlido.");return}T(!0);try{const Ee=new FileReader;Ee.readAsDataURL(ve),Ee.onload=async()=>{var le,ze,Ye,qe,Ge,gt;const fe=(le=Ee.result)==null?void 0:le.toString().split(",")[1];if(!fe)throw new Error("Falha ao ler o arquivo.");const Ue=(await l1e(fe,"application/pdf")).staffList||[];if(Ue.length===0){alert("No foi possvel extrair dados de servidores deste PDF.");return}if(Ue.length===1){const ht=Ue[0];F(nt=>{var Dt,ut,qt,Cr,jt,Kt;return{...nt,name:((Dt=ht.name)==null?void 0:Dt.toUpperCase())||"",cpf:ht.cpf||"",registration:ht.registration||"",birthDate:ht.birthDate||"",qualification:((ut=ht.qualification)==null?void 0:ut.toUpperCase())||"",entryProfile:((qt=ht.entryProfile)==null?void 0:qt.toUpperCase())||"",role:((Cr=ht.role)==null?void 0:Cr.toUpperCase())||"PROFESSOR",serverType:(jt=ht.role)!=null&&jt.toUpperCase().includes("PROFESSOR")?"Professor":"Apoio",jobFunction:((Kt=ht.role)==null?void 0:Kt.toUpperCase())||""}}),p(!0),S(null),alert("Dados extrados com sucesso! Verifique e complete o cadastro.")}else{let ht=0;for(const nt of Ue)try{const Dt=(ze=nt.role)!=null&&ze.toUpperCase().includes("PROFESSOR")?"PROFESSOR":"MANUTENCAO";await ae.from("staff").insert([{id:String(Date.now()+Math.random()),code:"AUTO-"+Math.floor(Math.random()*1e3),registration:nt.registration||"",name:(Ye=nt.name)==null?void 0:Ye.toUpperCase(),role:Dt,cpf:nt.cpf,birth_date:nt.birthDate,entry_profile:(qe=nt.entryProfile)==null?void 0:qe.toUpperCase(),qualification:(Ge=nt.qualification)==null?void 0:Ge.toUpperCase(),server_type:Dt==="PROFESSOR"?"Professor":"Apoio",job_function:(gt=nt.role)==null?void 0:gt.toUpperCase(),shift:"MATUTINO",status:"EM_ATIVIDADE"}]),ht++}catch(Dt){console.error("Erro ao importar servidor da lista:",nt.name,Dt)}await B(),alert(`Importao em Lote Concluda!

${ht} servidores importados de ${Ue.length} encontrados.`)}}}catch(Ee){console.error("Erro na importao:",Ee),alert("Erro ao processar o arquivo.")}finally{T(!1),M.current&&(M.current.value="")}}},U=async ne=>{if(window.confirm("Deseja realmente excluir este servidor permanentemente? Todos os histricos vinculados sero perdidos.")){const{error:ve}=await ae.from("staff").delete().eq("id",ne);ve?alert("Erro ao excluir."):(e(we=>we.filter(Ee=>Ee.id!==ne)),O(we=>we.filter(Ee=>Ee!==ne)))}},z=()=>{_.length===W.length&&W.length>0?O([]):O(W.map(ne=>ne.id))},V=ne=>{_.includes(ne)?O(ve=>ve.filter(we=>we!==ne)):O(ve=>[...ve,ne])},Y=async()=>{if(_.length!==0&&window.confirm(`ATENO: Voc est prestes a excluir ${_.length} servidores.

Esta ao  irreversvel e excluir todo o histrico destes servidores.

Deseja continuar?`))try{i(!0);const{error:ne}=await ae.from("staff").delete().in("id",_);if(ne)throw ne;alert("Servidores excludos com sucesso!"),O([]),await B()}catch(ne){console.error("Erro deletar em massa:",ne),alert("Erro ao excluir servidores: "+ne.message)}finally{i(!1)}},se=async ne=>{var ve,we;if(ne.preventDefault(),!(!k||!q.type||!q.startDate))try{const{data:Ee,error:fe}=await ae.from("staff_movements").insert([{staff_id:k.id,type:q.type,start_date:q.startDate,end_date:q.endDate,duration_days:q.durationDays,substitute_id:q.substituteId||null,reason:(ve=q.reason)==null?void 0:ve.toUpperCase(),notes:(we=q.notes)==null?void 0:we.toUpperCase(),responsible:q.responsible,attachment_url:q.attachmentUrl}]).select().single();if(fe)throw fe;let Ce=k.status;q.type==="AFASTAMENTO"&&(Ce="AFASTADO"),q.type==="FRIAS"&&(Ce="FERIAS"),q.type==="LICENA PRMIO"&&(Ce="LICENCA_PREMIO"),q.type==="ATESTADO"&&(Ce="LICENCA_MEDICA"),q.type==="RETORNO"&&(Ce="EM_ATIVIDADE"),Ce!==k.status&&(await ae.from("staff").update({status:Ce}).eq("id",k.id),e(Ue=>Ue.map(le=>le.id===k.id?{...le,status:Ce}:le))),await B(),v(!1),y(null),alert("Movimentao registrada com sucesso!")}catch(Ee){console.error(Ee),alert("Erro ao salvar movimentao.")}},K=async ne=>{var Ce,Ue,le,ze;ne.preventDefault();let ve="USUARIO_COMUM";const we=(D.jobFunction||"").toUpperCase(),Ee=D.serverType||"Apoio";we.includes("DIREO")||we.includes("DIRETOR")||we.includes("COORDENADOR")||we.includes("GESTOR")?ve="GESTAO":we.includes("SECRETRIO")||we.includes("SECRETARIA")||we.includes("ADM")?ve="SECRETARIA":we.includes("PSICOSSOCIAL")||we.includes("MEDIAO")||we.includes("MEDIADOR")||we.includes("PSICLOG")||we.includes("BUSCA ATIVA")||we.includes("RECURSOS")||we.includes("APA")||we.includes("ESPECIAL")?ve="PSICOSSOCIAL":we.includes("NUTRIO")||we.includes("COZINHA")||we.includes("MERENDA")?ve="AEE_NUTRICAO":we.includes("LIMPEZA")||we.includes("ZELADORIA")?ve="AAE_LIMPEZA":we.includes("BIBLIOTECA")||Ee==="Tcnico"?ve="TAE":we.includes("REGNCIA")||Ee==="Professor"?ve="PROFESSOR":ve="AAE";const fe={code:D.code,registration:D.registration,name:(Ce=D.name)==null?void 0:Ce.toUpperCase(),role:D.userRole||ve,cpf:D.cpf,birth_date:D.birthDate,entry_profile:(Ue=D.entryProfile)==null?void 0:Ue.toUpperCase(),qualification:(le=D.qualification)==null?void 0:le.toUpperCase(),server_type:D.serverType,job_function:(ze=D.jobFunction)==null?void 0:ze.toUpperCase(),shift:D.shift,email:D.email,status:D.status,workload:D.workload,assigned_subjects:D.assignedSubjects,contract_term:D.contractTerm,additional_workload_hours:D.additionalWorkloadHours,additional_workload_term:D.additionalWorkloadTerm,notify_alerts:D.notifyAlerts,photo_url:D.photoUrl};try{let Ye=g||String(Date.now());if(g){const{error:Ge}=await ae.from("staff").update(fe).eq("id",g);if(Ge)throw Ge}else{const{error:Ge}=await ae.from("staff").insert([{id:Ye,...fe}]);if(Ge)throw Ge}const qe=(fe.cpf||"").replace(/\D/g,"");if(qe||fe.email){let Ge=ae.from("users").select("id, login, email, cpf");fe.email&&qe?Ge=Ge.or(`email.eq.${fe.email},cpf.eq.${qe}`):fe.email?Ge=Ge.eq("email",fe.email):Ge=Ge.eq("cpf",qe);const{data:gt}=await Ge.maybeSingle(),ht=D.password||"Mudar123!",nt=D.userRole||ve,Dt={name:fe.name,login:qe||(gt==null?void 0:gt.login)||fe.email,email:fe.email||null,cpf:qe||null,role:nt,job_function:fe.job_function,password_hash:ht,status:"ATIVO"};if(gt){const{error:ut}=await ae.from("users").update(Dt).eq("id",gt.id);ut&&console.error("Erro ao atualizar usurio:",ut)}else{const{error:ut}=await ae.from("users").insert([Dt]);ut?console.error("Erro ao criar usurio:",ut):alert(` Servidor salvo e Usurio de Sistema criado!

LOGIN: ${Dt.login}
SENHA: ${ht}`)}}await B(),p(!1),G()}catch(Ye){console.error(Ye),alert("Erro ao salvar servidor.")}},G=()=>{F({code:"",name:"",registration:"",cpf:"",birthDate:"",entryProfile:"",qualification:"",serverType:"Professor",jobFunction:"",role:"PROFESSOR",email:"",password:"",userRole:"",assignedSubjects:[],workload:0,contractTerm:{start:"",end:""},additionalClasses:[],status:"EM_ATIVIDADE",shift:"MATUTINO"}),S(null)},W=R.useMemo(()=>t.filter(ne=>{const ve=ne.name.toLowerCase().includes(b.toLowerCase())||ne.registration.includes(b),we=d==="TODOS"||ne.role===d,Ee=o==="ativos"?ne.status==="EM_ATIVIDADE":o==="afastados"?ne.status!=="EM_ATIVIDADE":!0;return o==="calendar"||o==="movements"?!0:ve&&we&&Ee}),[t,b,d,o]),Q=ne=>{switch(ne){case"MATUTINO":return a.jsx(qO,{size:12,className:"text-amber-50"});case"VESPERTINO":return a.jsx(G$,{size:12,className:"text-orange-500"});case"INTEGRAL":return a.jsx(qO,{size:12,className:"text-blue-500"});case"NOTURNO":return a.jsx(EH,{size:12,className:"text-indigo-400"});default:return a.jsx(rr,{size:12,className:"text-gray-400"})}},ee=D.entryProfile==="CONTRATADO",he=()=>{const ne=new Date,ve=ne.getMonth(),we=ne.getFullYear();new Date(we,ve+1,0).getDate();const Ee=ne.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),fe=r.filter(Ce=>{const Ue=new Date(Ce.startDate),le=Ce.endDate?new Date(Ce.endDate):new Date(Ue);return(Ue.getMonth()===ve||le.getMonth()===ve)&&(Ue.getFullYear()===we||le.getFullYear()===we)});return a.jsxs("div",{className:"bg-white rounded-[3rem] border border-gray-100 shadow-sm p-8 animate-in fade-in",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("h3",{className:"text-lg font-black text-gray-900 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Nn,{size:20,className:"text-indigo-600"})," Calendrio de Ausncias - ",Ee]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:"flex items-center gap-1 text-[10px] uppercase font-bold text-gray-400",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-red-400"})," Frias/Licena"]}),a.jsxs("span",{className:"flex items-center gap-1 text-[10px] uppercase font-bold text-gray-400",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400"})," Substituto"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:fe.length>0?fe.map(Ce=>{var Ue;return a.jsxs("div",{className:"p-4 rounded-2xl border border-gray-100 bg-gray-50 flex flex-col gap-3",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[new Date(Ce.startDate).toLocaleDateString("pt-BR")," - ",Ce.endDate?new Date(Ce.endDate).toLocaleDateString("pt-BR"):"..."]}),a.jsx("h4",{className:"font-black text-gray-800 uppercase text-sm mt-1",children:Ce.staffName}),a.jsx("span",{className:"text-[9px] font-bold text-red-500 uppercase bg-red-50 px-2 py-0.5 rounded border border-red-100 mt-1 inline-block",children:Ce.type})]}),a.jsx("div",{className:"w-8 h-8 rounded-xl bg-gray-200 flex items-center justify-center text-xs font-black text-gray-500",children:(Ue=Ce.staffName)==null?void 0:Ue[0]})]}),a.jsxs("div",{className:"mt-2 pt-3 border-t border-gray-200",children:[a.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Substitudo Por:"}),Ce.substituteName?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oc,{size:14,className:"text-emerald-500"}),a.jsx("span",{className:"text-xs font-bold text-emerald-700 uppercase",children:Ce.substituteName})]}):a.jsx("span",{className:"text-[10px] italic text-gray-400",children:"Sem substituto indicado"})]})]},Ce.id)}):a.jsx("div",{className:"col-span-3 py-10 text-center text-gray-400 font-bold uppercase text-xs",children:"Nenhuma ausncia registrada neste ms."})})]})};return s?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(vt,{className:"animate-spin text-indigo-600",size:32})}):a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-emerald-50 text-emerald-600 rounded-3xl",children:a.jsx(Mh,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight leading-none",children:"Gesto de Servidores & RH"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-2",children:"Controle Funcional e Movimentaes"})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:"Busca por nome ou matrcula...",value:b,onChange:ne=>w(ne.target.value),className:"pl-12 pr-6 py-3.5 bg-gray-50 border-none rounded-2xl font-bold text-sm outline-none focus:ring-4 focus:ring-emerald-500/5 transition-all w-64 md:w-80"})]}),a.jsxs("button",{onClick:()=>{G(),p(!0)},className:"px-8 py-3.5 bg-gray-900 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 shadow-lg hover:bg-black transition-all",children:[a.jsx(ot,{size:16})," Novo Cadastro"]}),a.jsxs("button",{onClick:()=>{var ne;return(ne=M.current)==null?void 0:ne.click()},disabled:j,className:"px-6 py-3.5 bg-indigo-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 shadow-lg hover:bg-indigo-700 transition-all",children:[j?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx(Fg,{size:16}),"Importar PDF"]}),a.jsx("input",{type:"file",ref:M,onChange:P,className:"hidden",accept:".pdf"})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white p-4 rounded-3xl border border-gray-100 shadow-sm",children:[a.jsx("div",{className:"flex bg-gray-100 p-1.5 rounded-2xl",children:[{id:"ativos",label:"Quadro Ativo",icon:mr},{id:"afastados",label:"Licenas/Afastados",icon:oc},{id:"movements",label:"Log de Movimentaes",icon:_t},{id:"calendar",label:"Calendrio Ausncias",icon:Nn}].map(ne=>a.jsxs("button",{onClick:()=>l(ne.id),className:`px-4 py-2 rounded-xl text-[9px] font-black uppercase transition-all flex items-center gap-2 ${o===ne.id?"bg-white text-emerald-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:[a.jsx(ne.icon,{size:12}),ne.label]},ne.id))}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Bg,{size:14,className:"text-gray-300"}),a.jsxs("select",{value:d,onChange:ne=>u(ne.target.value),className:"bg-gray-50 border border-gray-100 rounded-xl px-4 py-2 text-[9px] font-black uppercase outline-none",children:[a.jsx("option",{value:"TODOS",children:"Todos os Cargos"}),a.jsx("option",{value:"PROFESSOR",children:"Professor"}),a.jsx("option",{value:"SECRETARIA",children:"Secretaria"}),a.jsx("option",{value:"GESTAO",children:"Gesto"}),a.jsx("option",{value:"PSICOSSOCIAL",children:"Mediao"}),a.jsx("option",{value:"AAE",children:"AAE"}),a.jsx("option",{value:"TAE",children:"TAE"}),a.jsx("option",{value:"AAE_LIMPEZA",children:"AAE/Limpeza"}),a.jsx("option",{value:"AEE_NUTRICAO",children:"AEE/Nutrio"})]})]})]}),o==="calendar"?he():o==="movements"?a.jsxs("div",{className:"bg-white rounded-[3rem] border border-gray-100 shadow-sm overflow-hidden animate-in fade-in",children:[a.jsxs("div",{className:"p-8 border-b border-gray-50 flex justify-between items-center bg-gray-50/30",children:[a.jsxs("h3",{className:"text-lg font-black text-gray-900 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(_t,{size:20,className:"text-emerald-600"})," Histrico Geral de RH"]}),a.jsxs("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:[r.length," Registros Processados"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-[9px] font-black text-gray-400 uppercase tracking-widest border-b border-gray-100",children:[a.jsx("th",{className:"px-8 py-5",children:"Perodo"}),a.jsx("th",{className:"px-8 py-5",children:"Servidor"}),a.jsx("th",{className:"px-8 py-5",children:"Tipo"}),a.jsx("th",{className:"px-8 py-5",children:"Substituto / Justificativa"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Aes"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50",children:r.map(ne=>a.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-5",children:[a.jsxs("p",{className:"text-xs font-black text-gray-900",children:[new Date(ne.startDate).toLocaleDateString("pt-BR")," a ",ne.endDate?new Date(ne.endDate).toLocaleDateString("pt-BR"):"---"]}),a.jsxs("p",{className:"text-[8px] font-bold text-gray-400 uppercase",children:[ne.durationDays," dias"]})]}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"text-xs font-black text-gray-800 uppercase",children:ne.staffName}),a.jsx("p",{className:"text-[9px] text-gray-400 font-bold uppercase",children:ne.staffRole})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase border ${ne.type==="AFASTAMENTO"||ne.type==="ATESTADO"?"bg-red-50 text-red-700 border-red-100":ne.type==="RETORNO"?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-blue-50 text-blue-700 border-blue-100"}`,children:ne.type})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsxs("p",{className:"text-[9px] font-bold text-gray-500 uppercase leading-none truncate w-48",children:["SUB: ",ne.substituteName||"NO INFORMADO"]}),a.jsxs("p",{className:"text-[9px] font-medium text-gray-400 mt-1 uppercase line-clamp-1 italic",children:['"',ne.reason,'"']})]}),a.jsx("td",{className:"px-8 py-5 text-right",children:ne.attachmentUrl&&a.jsx("a",{href:ne.attachmentUrl,target:"_blank",rel:"noreferrer",className:"text-indigo-600 hover:underline text-[9px] font-bold uppercase",children:"Ver Anexo"})})]},ne.id))})]})})]}):a.jsxs("div",{className:"bg-white rounded-[3rem] border border-gray-100 shadow-sm overflow-hidden min-h-[400px]",children:[a.jsxs("div",{className:"p-4 border-b border-gray-50 flex justify-between items-center bg-gray-50/50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer",checked:_.length===W.length&&W.length>0,onChange:z}),a.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[_.length," Selecionados"]})]}),_.length>0&&a.jsxs("button",{onClick:Y,className:"px-4 py-2 bg-red-50 text-red-600 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 hover:bg-red-100 transition-all animate-in fade-in slide-in-from-right-5",children:[a.jsx(Lt,{size:14})," Excluir (",_.length,")"]})]}),a.jsx("div",{className:"divide-y divide-gray-50",children:W.length>0?W.map(ne=>a.jsxs("div",{className:`p-8 flex flex-col lg:flex-row lg:items-center justify-between gap-8 hover:bg-gray-50/50 transition-all group relative ${_.includes(ne.id)?"bg-indigo-50/30":""}`,children:[a.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2",children:a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer",checked:_.includes(ne.id),onChange:()=>V(ne.id)})}),a.jsxs("div",{className:"flex items-center gap-6 flex-1 pl-8",children:[a.jsx("div",{className:"w-16 h-16 bg-white rounded-[1.5rem] border border-gray-100 shadow-sm flex items-center justify-center text-emerald-600 font-black text-xl group-hover:bg-emerald-600 group-hover:text-white transition-all shrink-0 shadow-inner overflow-hidden",children:ne.photoUrl?a.jsx("img",{src:ne.photoUrl,alt:"",className:"w-full h-full object-cover"}):ne.name[0]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h4",{className:"text-lg font-black text-gray-900 uppercase tracking-tight truncate",children:ne.name}),a.jsx("span",{className:`px-2 py-0.5 rounded text-[7px] font-black uppercase border shrink-0 ${ne.status==="EM_ATIVIDADE"?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-red-50 text-red-700 border-red-100"}`,children:ne.status.replace("_"," ")}),a.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-[7px] font-black uppercase border bg-gray-50 border-gray-200 shrink-0",children:[Q(ne.shift)," ",ne.shift]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-y-2 gap-x-6 mt-3",children:[a.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1.5",children:[a.jsx(gG,{size:12,className:"text-indigo-500"})," CPF: ",ne.cpf]}),a.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1.5",children:[a.jsx(wL,{size:12,className:"text-blue-500"})," MAT: ",ne.registration]}),a.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1.5",children:[a.jsx(ft,{size:12,className:"text-emerald-500"})," ",ne.jobFunction]}),a.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1.5",children:[a.jsx(ia,{size:12,className:"text-amber-500"})," ",ne.qualification]}),a.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1.5",children:[a.jsx(rr,{size:12})," ",ne.workload,"h"]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 no-print",children:[a.jsxs("button",{onClick:()=>{y(ne),v(!0)},className:"px-5 py-3 bg-amber-50 text-amber-700 hover:bg-amber-600 hover:text-white border border-amber-100 rounded-xl text-[9px] font-black uppercase transition-all flex items-center justify-center gap-2 shadow-sm",children:[a.jsx(CA,{size:14})," Movimentar"]}),a.jsx("button",{onClick:()=>{F(ne),S(ne.id),p(!0)},className:"p-3 bg-gray-50 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all shadow-sm border border-transparent hover:border-indigo-100",title:"Editar Cadastro",children:a.jsx(sc,{size:18})}),a.jsx("button",{onClick:()=>U(ne.id),className:"p-3 bg-gray-50 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all shadow-sm border border-transparent hover:border-indigo-100",title:"Excluir Registro",children:a.jsx(Lt,{size:18})})]})]},ne.id)):a.jsx("div",{className:"p-20 text-center",children:a.jsx("p",{className:"text-gray-300 font-bold uppercase tracking-widest text-xs",children:"Nenhum servidor encontrado"})})})]}),h&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-indigo-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-4xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"p-8 bg-indigo-50 border-b border-indigo-100 flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-indigo-600 text-white rounded-3xl shadow-xl",children:g?a.jsx(sc,{size:28}):a.jsx(ot,{size:28})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:g?"Editar Servidor":"Novo Servidor"}),a.jsx("p",{className:"text-[10px] text-indigo-600 font-bold uppercase tracking-widest mt-1",children:"Formulrio de Cadastro RH Escolar"})]})]}),a.jsx("button",{onClick:()=>p(!1),className:"p-2 text-gray-400 hover:text-red-500 rounded-2xl transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:a.jsxs("form",{onSubmit:K,className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Cdigo do Sistema"}),a.jsx("input",{required:!0,value:D.code,onChange:ne=>F({...D,code:ne.target.value.toUpperCase()}),placeholder:"RH-000",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Matrcula"}),a.jsx("input",{required:!0,value:D.registration,onChange:ne=>F({...D,registration:ne.target.value}),placeholder:"Nmero Matrcula",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nome Completo"}),a.jsx("input",{required:!0,value:D.name,onChange:ne=>F({...D,name:ne.target.value.toUpperCase()}),placeholder:"NOME DO SERVIDOR",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white uppercase"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"CPF"}),a.jsx("input",{required:!0,value:D.cpf,onChange:ne=>F({...D,cpf:ne.target.value}),placeholder:"000.000.000-00",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Data de Nascimento"}),a.jsx("input",{required:!0,type:"date",value:D.birthDate,onChange:ne=>F({...D,birthDate:ne.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Perfil de Ingresso"}),a.jsxs("select",{required:!0,value:D.entryProfile,onChange:ne=>F({...D,entryProfile:ne.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase outline-none focus:bg-white",children:[a.jsx("option",{value:"",children:"Selecione..."}),a.jsx("option",{value:"EFETIVO",children:"EFETIVO"}),a.jsx("option",{value:"CONTRATADO",children:"CONTRATADO"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Habilitao (Formao)"}),a.jsx("input",{required:!0,value:D.qualification,onChange:ne=>F({...D,qualification:ne.target.value.toUpperCase()}),placeholder:"EX: LICENCIATURA PLENA EM HISTRIA",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white uppercase"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Tipo de Servidor"}),a.jsxs("select",{required:!0,value:D.serverType,onChange:ne=>F({...D,serverType:ne.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase outline-none focus:bg-white",children:[a.jsx("option",{value:"Professor",children:"Professor"}),a.jsx("option",{value:"Apoio",children:"Apoio"}),a.jsx("option",{value:"Tcnico",children:"Tcnico"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Turno de Atuao"}),a.jsxs("select",{required:!0,value:D.shift,onChange:ne=>F({...D,shift:ne.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase outline-none focus:bg-white",children:[a.jsx("option",{value:"MATUTINO",children:"MATUTINO"}),a.jsx("option",{value:"VESPERTINO",children:"VESPERTINO"}),a.jsx("option",{value:"INTEGRAL",children:"INTEGRAL"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Funo Atual"}),a.jsxs("select",{required:!0,value:D.jobFunction||"",onChange:ne=>F({...D,jobFunction:ne.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-xs uppercase outline-none focus:bg-white",children:[a.jsx("option",{value:"",children:"Selecione..."}),ACe.map(ne=>a.jsx("option",{value:ne,children:ne},ne))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"E-mail Institucional / Contato"}),a.jsx("input",{type:"email",value:D.email,onChange:ne=>F({...D,email:ne.target.value.toLowerCase()}),placeholder:"exemplo@edu.br",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Foto URL (Opcional)"}),a.jsx("input",{value:D.photoUrl||"",onChange:ne=>F({...D,photoUrl:ne.target.value}),placeholder:"https://...",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]})]}),D.serverType==="Professor"&&a.jsxs("div",{className:"bg-amber-50 p-6 rounded-[2rem] border border-amber-100 space-y-6 animate-in slide-in-from-top-2",children:[a.jsxs("h4",{className:"text-[10px] font-black text-amber-700 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Hn,{size:16})," Atribuio de Aula"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-amber-600 uppercase tracking-widest ml-1",children:"Disciplina Atribuda"}),a.jsxs("select",{value:((je=D.assignedSubjects)==null?void 0:je[0])||"",onChange:ne=>{F({...D,assignedSubjects:[ne.target.value]})},className:"w-full p-4 bg-white border border-amber-200 rounded-2xl font-black text-xs uppercase",children:[a.jsx("option",{value:"",children:"Selecione..."}),["Matemtica","Portugus","Histria","Geografia","Cincias","Educao Fsica","Artes","Ingls"].map(ne=>a.jsx("option",{value:ne,children:ne},ne))]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-amber-600 uppercase tracking-widest ml-1",children:"Carga Horria (Horas)"}),a.jsx("input",{type:"number",value:D.workload,onChange:ne=>F({...D,workload:Number(ne.target.value)}),className:"w-full p-4 bg-white border border-amber-200 rounded-2xl font-black text-lg text-center"})]})]}),a.jsxs("div",{className:"pt-4 border-t border-amber-200/50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("input",{type:"checkbox",id:"hasAdditional",checked:(D.additionalWorkloadHours||0)>0,onChange:ne=>{ne.target.checked?F({...D,additionalWorkloadHours:4}):F({...D,additionalWorkloadHours:0,additionalWorkloadTerm:{start:"",end:""}})},className:"w-4 h-4 text-amber-600 rounded focus:ring-amber-500 border-gray-300"}),a.jsx("label",{htmlFor:"hasAdditional",className:"text-xs font-black text-amber-800 uppercase cursor-pointer select-none",children:"Possui Aulas Adicionais (Extenso)?"})]}),(D.additionalWorkloadHours||0)>0&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 bg-white p-4 rounded-xl border border-amber-200 animate-in fade-in slide-in-from-top-1",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[8px] font-black text-amber-500 uppercase tracking-widest ml-1",children:"Qtd. Horas"}),a.jsx("input",{type:"number",value:D.additionalWorkloadHours,onChange:ne=>F({...D,additionalWorkloadHours:Number(ne.target.value)}),className:"w-full p-3 bg-amber-50 border border-amber-100 rounded-xl font-bold text-center text-amber-900"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[8px] font-black text-amber-500 uppercase tracking-widest ml-1",children:"Incio Vigncia"}),a.jsx("input",{type:"date",value:(me=D.additionalWorkloadTerm)==null?void 0:me.start,onChange:ne=>{var ve;return F({...D,additionalWorkloadTerm:{...D.additionalWorkloadTerm,start:ne.target.value,end:((ve=D.additionalWorkloadTerm)==null?void 0:ve.end)||""}})},className:"w-full p-3 bg-amber-50 border border-amber-100 rounded-xl font-bold text-xs uppercase text-amber-900"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[8px] font-black text-amber-500 uppercase tracking-widest ml-1",children:"Fim Vigncia"}),a.jsx("input",{type:"date",value:(re=D.additionalWorkloadTerm)==null?void 0:re.end,onChange:ne=>{var ve;return F({...D,additionalWorkloadTerm:{...D.additionalWorkloadTerm,end:ne.target.value,start:((ve=D.additionalWorkloadTerm)==null?void 0:ve.start)||""}})},className:"w-full p-3 bg-amber-50 border border-amber-100 rounded-xl font-bold text-xs uppercase text-amber-900"})]})]})]})]}),ee&&a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 space-y-4 animate-in slide-in-from-top-2",children:[a.jsxs("h4",{className:"text-[10px] font-black text-blue-700 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(rr,{size:16})," Vigncia do Contrato"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest",children:"Data Incio"}),a.jsx("input",{type:"date",value:(ge=D.contractTerm)==null?void 0:ge.start,onChange:ne=>{var ve;return F({...D,contractTerm:{...D.contractTerm,start:ne.target.value,end:((ve=D.contractTerm)==null?void 0:ve.end)||""}})},className:"w-full p-4 bg-white border border-blue-200 rounded-2xl text-sm font-bold"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest",children:"Data Trmino"}),a.jsx("input",{type:"date",value:(Me=D.contractTerm)==null?void 0:Me.end,onChange:ne=>{var ve;return F({...D,contractTerm:{...D.contractTerm,end:ne.target.value,start:((ve=D.contractTerm)==null?void 0:ve.start)||""}})},className:"w-full p-4 bg-white border border-blue-200 rounded-2xl text-sm font-bold"})]})]})]}),D.status!=="EM_ATIVIDADE"&&!ee&&a.jsxs("div",{className:"bg-red-50 p-6 rounded-[2rem] border border-red-100 space-y-4 animate-in slide-in-from-top-2",children:[a.jsxs("h4",{className:"text-[10px] font-black text-red-700 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(rr,{size:16})," Vigncia da Licena / Afastamento"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-red-400 uppercase tracking-widest",children:"Data Incio"}),a.jsx("input",{type:"date",value:(J=D.contractTerm)==null?void 0:J.start,onChange:ne=>{var ve;return F({...D,contractTerm:{...D.contractTerm,start:ne.target.value,end:((ve=D.contractTerm)==null?void 0:ve.end)||""}})},className:"w-full p-4 bg-white border border-red-200 rounded-2xl text-sm font-bold"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-red-400 uppercase tracking-widest",children:"Data Trmino"}),a.jsx("input",{type:"date",value:(Ae=D.contractTerm)==null?void 0:Ae.end,onChange:ne=>{var ve;return F({...D,contractTerm:{...D.contractTerm,end:ne.target.value,start:((ve=D.contractTerm)==null?void 0:ve.start)||""}})},className:"w-full p-4 bg-white border border-red-200 rounded-2xl text-sm font-bold"})]})]})]}),a.jsxs("div",{className:"bg-indigo-50 p-6 rounded-[2rem] border border-indigo-100 space-y-6 animate-in slide-in-from-top-2",children:[a.jsxs("h4",{className:"text-[10px] font-black text-indigo-700 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(ft,{size:16})," Acesso ao Sistema"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest ml-1",children:["Senha de Acesso (Login: ",D.email||"CPF",")"]}),a.jsxs("div",{className:"relative",children:[a.jsx(yn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-indigo-300",size:16}),a.jsx("input",{type:"text",value:D.password||"",onChange:ne=>F({...D,password:ne.target.value}),placeholder:"Defina uma senha (Padro: Mudar123!)",className:"w-full pl-12 pr-4 py-4 bg-white border border-indigo-200 rounded-2xl font-bold text-sm outline-none focus:ring-4 focus:ring-indigo-500/5 transition-all"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest ml-1",children:"Nvel de Acesso (Sobrescrita de Perfil)"}),a.jsxs("select",{value:D.userRole||"",onChange:ne=>F({...D,userRole:ne.target.value}),className:"w-full p-4 bg-white border border-indigo-200 rounded-2xl font-black text-xs uppercase outline-none focus:ring-4 focus:ring-indigo-500/5",children:[a.jsx("option",{value:"",children:"Automtico (Pelo Cargo)"}),a.jsx("option",{value:"GESTAO",children:"Gesto (Administrador)"}),a.jsx("option",{value:"SECRETARIA",children:"Secretaria"}),a.jsx("option",{value:"PROFESSOR",children:"Professor (Dirio de Classe)"}),a.jsx("option",{value:"TAE",children:"Tcnico (TAE)"}),a.jsx("option",{value:"AAE",children:"Apoio (AAE)"}),a.jsx("option",{value:"PSICOSSOCIAL",children:"Mediao & Psicossocial"}),a.jsx("option",{value:"AEE_NUTRICAO",children:"Nutrio / Merenda"}),a.jsx("option",{value:"AAE_LIMPEZA",children:"Limpeza / Zeladoria"}),a.jsx("option",{value:"ADMINISTRADOR",children:"Admin Full (TI)"})]}),a.jsx("p",{className:"text-[8px] text-indigo-400 font-bold uppercase mt-2 ml-1",children:"O login ser realizado via CPF ou E-mail."})]})]})]}),a.jsxs("button",{type:"submit",className:"w-full py-5 bg-indigo-600 text-white rounded-[2rem] font-black uppercase text-sm tracking-[0.2em] shadow-2xl hover:bg-indigo-700 transition-all flex items-center justify-center gap-3",children:[a.jsx(qr,{size:24})," Efetivar Registro de RH"]})]})})]})}),x&&k&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-indigo-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3.5rem] w-full max-w-3xl shadow-2xl border border-white/20 overflow-hidden flex flex-col max-h-[95vh]",children:[a.jsxs("div",{className:"p-8 bg-amber-50 border-b border-amber-100 flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-amber-500 text-white rounded-3xl shadow-lg",children:a.jsx(CA,{size:28,strokeWidth:3})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"Lanar Movimentao"}),a.jsxs("p",{className:"text-[10px] text-amber-600 font-bold uppercase tracking-widest mt-1",children:["Alterao de Status Funcional - ",k.name]})]})]}),a.jsx("button",{onClick:()=>v(!1),className:"p-3 bg-white text-gray-400 hover:text-red-500 rounded-2xl shadow-sm transition-all",children:a.jsx(Ze,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:a.jsxs("form",{onSubmit:se,className:"space-y-10",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Tipo de Movimentao"}),a.jsx("select",{required:!0,value:q.type,onChange:ne=>L({...q,type:ne.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-sm uppercase outline-none focus:bg-white",children:X.map(ne=>a.jsx("option",{value:ne,children:ne},ne))})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Servidor Substituto (Opcional)"}),a.jsxs("select",{value:q.substituteId||"",onChange:ne=>L({...q,substituteId:ne.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white",children:[a.jsx("option",{value:"",children:"Nenhum / Selecione..."}),t.filter(ne=>ne.status==="EM_ATIVIDADE"&&ne.id!==k.id).map(ne=>a.jsxs("option",{value:ne.id,children:[ne.name," (",ne.role,")"]},ne.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Data Incio"}),a.jsx("input",{required:!0,type:"date",value:q.startDate,onChange:ne=>L({...q,startDate:ne.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Data Trmino"}),a.jsx("input",{type:"date",value:q.endDate,onChange:ne=>L({...q,endDate:ne.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Durao (Dias)"}),a.jsx("input",{disabled:!0,type:"number",value:q.durationDays,className:"w-full p-4 bg-gray-100 border border-gray-100 rounded-2xl font-black text-lg text-center text-gray-500 shadow-inner"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Link do Anexo (Comprovante/Atestado)"}),a.jsx("input",{type:"text",value:q.attachmentUrl||"",onChange:ne=>L({...q,attachmentUrl:ne.target.value}),placeholder:"Cole o link do Drive/Documento aqui...",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Motivo / Fundamentao"}),a.jsx("textarea",{required:!0,value:q.reason,onChange:ne=>L({...q,reason:ne.target.value}),placeholder:"Justificativa tcnica...",className:"w-full p-6 bg-gray-50 border border-gray-100 rounded-[2.5rem] text-sm font-medium h-24 resize-none outline-none focus:bg-white transition-all"})]}),a.jsxs("button",{type:"submit",className:"w-full py-5 bg-amber-600 text-white rounded-[2rem] font-black uppercase text-sm tracking-[0.2em] shadow-2xl hover:bg-amber-700 transition-all flex items-center justify-center gap-3",children:[a.jsx(VV,{size:24})," Efetivar Registro Funcional"]})]})})]})})]})},jCe=()=>{const[t,e]=R.useState(""),[r,n]=R.useState("1 BIMESTRE"),[s,i]=R.useState(!1),[o,l]=R.useState(!1),[d,u]=R.useState([]),[h,p]=R.useState([]),x=async()=>{try{const{data:g,error:S}=await ae.from("classrooms").select("id, name").order("name");if(S)throw S;u(g||[]),g&&g.length>0&&!t&&e(g[0].name)}catch(g){console.error("Erro ao buscar turmas:",g)}},v=async()=>{if(t){l(!0);try{const{data:g}=await ae.from("classrooms").select("id").eq("name",t).single();if(!g)throw new Error("Turma no encontrada");const{data:S}=await ae.from("enrollments").select(`
          students (
            id,
            name,
            registration_number
          )
        `).eq("classroom_id",g.id);if(!S){p([]);return}const k=S.map(q=>q.students.registration_number),y=["1 BIMESTRE","2 BIMESTRE","3 BIMESTRE","4 BIMESTRE"],j=y.indexOf(r),T=y.slice(0,j+1),{data:_}=await ae.from("assessments").select("id, subject, bimestre").eq("classroom_id",g.id).in("bimestre",T);let O=[];if(_&&_.length>0){const q=_.map(B=>B.id),{data:L}=await ae.from("grades").select("*").in("assessment_id",q).in("student_code",k);O=L||[]}const{data:M}=await ae.from("class_attendance_students").select(`
          is_present,
          student_id
        `).in("student_id",k),D=Array.from(new Set((_==null?void 0:_.map(q=>q.subject))||[])),F=S.map(q=>{const L=q.students,B={};D.forEach(V=>{B[V]={},T.forEach(Y=>{const se=_==null?void 0:_.find(K=>K.subject===V&&K.bimestre===Y);if(se){const K=O.find(G=>G.assessment_id===se.id&&G.student_code===L.registration_number);B[V][Y]=K?K.score:0}else B[V][Y]=0})});const X=(M==null?void 0:M.filter(V=>V.student_id===L.registration_number))||[],P=X.length||1,U=X.filter(V=>V.is_present).length,z=Math.round(U/P*100);return{id:L.id,name:L.name,grades:B,frequency:z}});p(F)}catch(g){console.error("Erro ao carregar dados dos boletins:",g)}finally{l(!1)}}};R.useEffect(()=>{x()},[]),R.useEffect(()=>{v()},[t,r]);const b=async()=>{i(!0),setTimeout(()=>{window.print(),i(!1)},800)},w=({student:g})=>{const S=["1 BIMESTRE","2 BIMESTRE","3 BIMESTRE","4 BIMESTRE"],k=S.indexOf(r),y=S.slice(0,k+1);return a.jsxs("div",{className:"bulletin-card p-3 border border-black bg-white space-y-1",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-black pb-1 gap-4",children:[a.jsx("div",{className:"flex items-center justify-start flex-1",children:a.jsx("img",{src:"/logo-escola.png",alt:"Escola Logo",className:"h-12 w-auto object-contain"})}),a.jsx("div",{className:"flex-[2] flex justify-center px-4",children:a.jsx("img",{src:"/dados escola.jpeg",alt:"Dados da Escola",className:"h-14 w-full object-contain"})}),a.jsx("div",{className:"flex items-center justify-end flex-1",children:a.jsx("img",{src:"/SEDUC 2.jpg",alt:"SEDUC MT",className:"h-10 w-auto object-contain"})})]}),a.jsx("div",{className:"text-center text-[5px] text-gray-300 font-black uppercase tracking-widest no-print",children:"Bulletin V3.0 - Stabilization Active"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[7px] font-black uppercase",children:[a.jsxs("div",{className:"p-1 bg-gray-50 border border-gray-200 rounded",children:[a.jsx("p",{className:"text-gray-400 text-[5px] mb-0.5",children:"Aluno(a):"}),a.jsx("p",{className:"truncate",children:g.name})]}),a.jsxs("div",{className:"p-1 bg-gray-50 border border-gray-200 rounded",children:[a.jsx("p",{className:"text-gray-400 text-[5px] mb-0.5",children:"Turma:"}),a.jsx("p",{children:t})]})]}),a.jsxs("table",{className:"w-full text-left border-collapse text-[7px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100 border border-black",children:[a.jsx("th",{className:"p-1 uppercase font-black",children:"Componente Curricular"}),y.map(j=>a.jsx("th",{className:"p-1 text-center uppercase font-black w-10 border-l border-black",children:j.split(" ")[0]},j)),a.jsx("th",{className:"p-1 text-center uppercase font-black w-12 border-l border-black bg-indigo-50/50",children:"Mdia"}),a.jsx("th",{className:"p-1 text-center uppercase font-black w-16 border-l border-black",children:"Freq. (%)"}),a.jsx("th",{className:"p-1 text-center uppercase font-black w-16 border-l border-black",children:"Situao"})]})}),a.jsx("tbody",{className:"border border-black",children:Object.entries(g.grades).map(([j,T])=>{const _=Object.values(T),O=_.length>0?_.reduce((M,D)=>M+D,0)/_.length:0;return a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("td",{className:"p-1 font-bold uppercase",children:j}),y.map(M=>a.jsx("td",{className:"p-1 text-center font-black border-l border-black/10",children:T[M]?T[M].toFixed(1):"-"},M)),a.jsx("td",{className:"p-1 text-center font-black border-l border-black bg-indigo-50/50",children:O.toFixed(1)}),a.jsxs("td",{className:"p-1 text-center font-bold border-l border-black",children:[g.frequency,"%"]}),a.jsx("td",{className:"p-1 text-center border-l border-black",children:a.jsx("span",{className:`font-black ${O>=6?"text-emerald-700":"text-red-700"}`,children:O>=6?"Apto":"Recuperao"})})]},j)})})]}),a.jsxs("div",{className:"pt-2 grid grid-cols-2 gap-4 text-center",children:[a.jsxs("div",{className:"border-t border-black pt-1",children:[a.jsx("p",{className:"text-[6px] font-black uppercase",children:"Direo / Secretaria"}),a.jsx("p",{className:"text-[5px] text-gray-400",children:"Assinatura Digital Auditada"})]}),a.jsxs("div",{className:"border-t border-black pt-1",children:[a.jsx("p",{className:"text-[6px] font-black uppercase",children:"Responsvel (Ciente)"}),a.jsx("p",{className:"text-[5px] text-gray-400",children:"____/____/2024"})]})]})]})};return a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row justify-between items-center gap-6 no-print",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-indigo-50 text-indigo-600 rounded-3xl",children:a.jsx(Sa,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tight leading-none",children:"Emisso de Boletins"}),a.jsx("p",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mt-2",children:"Configurado para 2 unidades por folha (A4)"})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 w-full md:w-auto",children:[a.jsxs("select",{value:t,onChange:g=>e(g.target.value),className:"px-4 py-3 bg-gray-50 border border-gray-100 rounded-2xl font-black text-[10px] uppercase outline-none focus:ring-4 focus:ring-indigo-500/5 transition-all",children:[a.jsx("option",{value:"",children:"Selecionar Turma..."}),d.map(g=>a.jsx("option",{value:g.name,children:g.name},g.id))]}),a.jsxs("select",{value:r,onChange:g=>n(g.target.value),className:"px-4 py-3 bg-gray-50 border border-gray-100 rounded-2xl font-black text-[10px] uppercase outline-none focus:ring-4 focus:ring-indigo-500/5 transition-all",children:[a.jsx("option",{children:"1 BIMESTRE"}),a.jsx("option",{children:"2 BIMESTRE"}),a.jsx("option",{children:"3 BIMESTRE"}),a.jsx("option",{children:"4 BIMESTRE"})]}),a.jsxs("button",{onClick:b,disabled:s,className:"px-8 py-4 bg-indigo-600 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl hover:bg-indigo-700 active:scale-95 transition-all flex items-center gap-2",children:[s?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx(Sa,{size:16}),"Gerar Lote (V3)"]})]})]}),a.jsxs("div",{className:"relative min-h-[400px]",children:[o&&a.jsxs("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-sm z-20 flex flex-col items-center justify-center rounded-[3rem]",children:[a.jsx(vt,{size:48,className:"text-indigo-600 animate-spin mb-4"}),a.jsx("p",{className:"text-xs font-black uppercase text-indigo-950 tracking-widest",children:"Processando Notas e Mdias..."})]}),h.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 no-print",children:h.map(g=>a.jsx("div",{className:"opacity-80 hover:opacity-100 transition-opacity",children:a.jsx(w,{student:g})},g.id))}):!o&&a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-300 bg-white rounded-[3rem] border-2 border-dashed border-gray-100 no-print",children:[a.jsx(on,{size:64,className:"mb-4 opacity-20"}),a.jsx("p",{className:"font-black uppercase text-xs tracking-widest",children:"Nenhum dado encontrado para esta turma/bimestre"})]})]}),a.jsx("div",{className:"print-area hidden",children:a.jsx("div",{className:"bulletin-print-layout",children:Array.from({length:Math.ceil(h.length/2)}).map((g,S)=>a.jsxs("div",{className:"print-page h-[290mm] flex flex-col p-[10mm] space-y-[8mm] justify-start bg-white",children:[a.jsx(w,{student:h[S*2]}),h[S*2+1]&&a.jsx(w,{student:h[S*2+1]})]},S))})}),a.jsx("style",{children:`
        @media print {
          @page { size: A4; margin: 0; }
          .no-print { display: none !important; }
          .print-area { display: block !important; }
           .print-page { 
             page-break-after: always; 
             box-sizing: border-box;
             width: 210mm;
             height: 290mm;
             margin: 0 auto;
             background: white !important;
             overflow: hidden !important;
           }
           .bulletin-card {
             height: calc(50% - 15mm) !important; 
             border: 1px solid black !important;
             margin: 0 !important;
             box-shadow: none !important;
             overflow: hidden !important;
             display: flex;
             flex-direction: column;
           }
          body { background: white !important; }
        }
      `})]})},TCe=()=>{const[t,e]=R.useState(()=>{const l=localStorage.getItem("secretariat_notifications_v1");return l?JSON.parse(l):[]}),[r,n]=R.useState(!1),[s,i]=R.useState({title:"",message:"",priority:"NORMAL",targetClassId:"TODOS"});R.useEffect(()=>{localStorage.setItem("secretariat_notifications_v1",JSON.stringify(t))},[t]);const o=l=>{l.preventDefault();const d={id:`notif-${Date.now()}`,...s,date:new Date().toISOString(),isRead:!1};e([d,...t]),n(!1),i({title:"",message:"",priority:"NORMAL",targetClassId:"TODOS"}),alert("Aviso enviado! O aviso aparecer instantaneamente nos Dirios de Classe sincronizados.")};return a.jsxs("div",{className:"fixed bottom-10 right-10 z-[50] no-print",children:[a.jsxs("button",{onClick:()=>n(!0),className:"w-16 h-16 bg-indigo-600 text-white rounded-3xl shadow-2xl flex items-center justify-center hover:bg-indigo-700 hover:scale-110 active:scale-95 transition-all group border-4 border-white",children:[a.jsx(Lg,{size:28,className:"group-hover:animate-bounce"}),t.filter(l=>!l.isRead).length>0&&a.jsx("span",{className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 rounded-full border-4 border-white text-[10px] font-black flex items-center justify-center",children:t.filter(l=>!l.isRead).length})]}),r&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-indigo-950/40 backdrop-blur-sm animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white rounded-[3rem] w-full max-w-lg shadow-2xl overflow-hidden border border-indigo-100 flex flex-col",children:[a.jsxs("div",{className:"p-8 bg-indigo-50 border-b border-indigo-100 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-indigo-600 text-white rounded-2xl shadow-lg",children:a.jsx(Ph,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tighter",children:"Comunicado Interno"}),a.jsx("p",{className:"text-[10px] text-indigo-600 font-bold uppercase tracking-widest mt-1",children:"Notificao Automtica Dirio"})]})]}),a.jsx("button",{onClick:()=>n(!1),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:a.jsx(Ze,{size:24})})]}),a.jsxs("form",{onSubmit:o,className:"p-10 space-y-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Ttulo do Comunicado"}),a.jsx("input",{required:!0,type:"text",placeholder:"Ex: Mudana de Enturmao",value:s.title,onChange:l=>i({...s,title:l.target.value.toUpperCase()}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-bold text-sm outline-none focus:bg-white transition-all"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Destinatrio"}),a.jsxs("select",{value:s.targetClassId,onChange:l=>i({...s,targetClassId:l.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-[10px] uppercase outline-none",children:[a.jsx("option",{value:"TODOS",children:"Todos os Professores"}),a.jsx("option",{children:"6 ANO A"}),a.jsx("option",{children:"7 ANO A"}),a.jsx("option",{children:"8 ANO B"}),a.jsx("option",{children:"9 ANO A"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Prioridade"}),a.jsxs("select",{value:s.priority,onChange:l=>i({...s,priority:l.target.value}),className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-black text-[10px] uppercase outline-none",children:[a.jsx("option",{value:"NORMAL",children:"Normal"}),a.jsx("option",{value:"ALTA",children:"Urgente (Notificao Push)"})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Corpo da Mensagem"}),a.jsx("textarea",{required:!0,value:s.message,onChange:l=>i({...s,message:l.target.value}),placeholder:"Descreva o aviso detalhadamente...",className:"w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl font-medium text-xs h-28 resize-none outline-none focus:bg-white"})]}),a.jsxs("button",{type:"submit",className:"w-full py-5 bg-indigo-600 text-white rounded-2xl font-black uppercase text-xs tracking-[0.2em] shadow-2xl hover:bg-indigo-700 transition-all flex items-center justify-center gap-3",children:[a.jsx(Wi,{size:20})," Disparar Aviso Imediato"]})]})]})})]})},SCe=({user:t,onExit:e})=>{const[r,n]=R.useState("dashboard"),s=[{id:"dashboard",label:"Painel Geral",icon:Ki},{id:"calendar",label:"Calendrio Escolar",icon:Nn},{id:"students",label:"Cadastro de Alunos",icon:on},{id:"classes",label:"Gesto de Turmas",icon:mr},{id:"staff",label:"Servidores / RH",icon:Mh},{id:"bulletins",label:"Emisso de Boletins",icon:zt}],i=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()};return a.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden font-sans",children:[a.jsxs("aside",{className:"w-64 bg-indigo-950 text-white flex flex-col no-print transition-all duration-300",children:[a.jsx("div",{className:"p-6",children:a.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx("span",{className:"bg-indigo-500 p-1.5 rounded-lg shadow-lg",children:""}),"Secretaria"]})}),a.jsx("nav",{className:"flex-1 mt-6 px-4 space-y-1.5 overflow-y-auto custom-scrollbar",children:s.map(o=>a.jsxs("button",{onClick:()=>n(o.id),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-bold transition-all ${r===o.id?"bg-indigo-800 text-white shadow-lg":"text-indigo-100 hover:bg-indigo-800/50"}`,children:[a.jsx(o.icon,{size:18}),o.label]},o.id))}),a.jsxs("div",{className:"p-6 border-t border-indigo-900 space-y-3",children:[a.jsxs("button",{onClick:e,className:"w-full flex items-center gap-2 px-4 py-3 bg-white/10 hover:bg-white/20 rounded-xl text-xs font-black uppercase tracking-widest transition-all",children:[a.jsx(cr,{size:16})," Hub Principal"]}),a.jsxs("div",{className:"bg-indigo-900/50 p-4 rounded-2xl border border-indigo-800/50",children:[a.jsxs("p",{className:"text-[10px] text-indigo-300 font-black uppercase tracking-widest mb-1.5 flex items-center gap-1.5",children:[a.jsx(ft,{size:10})," Sistema Seguro"]}),a.jsx("div",{className:"text-xs font-black uppercase tracking-tight text-indigo-400",children:"Escriturao Digital"})]})]})]}),a.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"h-20 bg-white border-b border-gray-100 flex items-center justify-between px-10 shrink-0 no-print",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:a.jsx($g,{size:20})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-black text-gray-900 uppercase",children:"Mdulo Administrativo Escolar"}),a.jsx("p",{className:"text-[10px] text-indigo-600 font-bold uppercase tracking-widest leading-none mt-1",children:"Andr Antnio Maggi"})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("button",{onClick:i,className:"p-2.5 text-gray-400 hover:bg-gray-50 rounded-xl transition-colors",children:a.jsx(nl,{size:18})}),a.jsxs("div",{className:"hidden lg:flex items-center gap-2 bg-indigo-50 px-3 py-1.5 rounded-full border border-indigo-100",children:[a.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full animate-ping"}),a.jsx("span",{className:"text-[10px] font-black text-indigo-700 uppercase tracking-widest",children:"Base Ativa"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-black text-gray-900",children:(t==null?void 0:t.name)||"Secretrio Andr"}),a.jsx("p",{className:"text-[9px] text-indigo-600 font-black uppercase tracking-widest",children:(t==null?void 0:t.role)||"Administrador"})]}),a.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-500 flex items-center justify-center text-white font-black text-sm uppercase",children:t!=null&&t.name?t.name.substring(0,2):"SA"})]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:[r==="dashboard"&&a.jsx(yCe,{}),r==="calendar"&&a.jsx(sp,{}),r==="students"&&a.jsx(NCe,{}),r==="classes"&&a.jsx(wCe,{}),r==="staff"&&a.jsx(ECe,{}),r==="bulletins"&&a.jsx(jCe,{})]}),a.jsx(TCe,{})]})]})},kCe=[{id:"identificacao",label:"Identificao & Sade",icon:mr},{id:"equipe",label:"Equipe & Calendrio",icon:kr},{id:"perfil",label:"Perfil do Estudante",icon:qj},{id:"planejamento",label:"Planejamento Pedaggico",icon:ia},{id:"habilidades",label:"Habilidades Funcionais",icon:Pg},{id:"parecer",label:"Parecer Semestral",icon:zt}],_Ce=({onClose:t,onSuccess:e,initialData:r})=>{const[n,s]=R.useState("identificacao"),[i,o]=R.useState(!1),[l,d]=R.useState({student_name:"",student_code:"",date_of_birth:"",folder_link:"",responsible_persons:"",diagnosis_condition:"",health_observations:"",school_frequency:"",collaborative_guidance:"",learning_characterization:"",semester_report:"",pei_calendar:{start_date:"",review_date:"",initial_evaluation_date:""},school_team:{regent_teacher:"",aee_teacher:"",support_professional:"",coordination:""},student_profile:{cognitive:"",motor:"",social:"",communicative:""},pedagogical_planning:[],functional_skills:[]});R.useEffect(()=>{r&&d({...l,...r,pei_calendar:r.pei_calendar||{start_date:"",review_date:"",initial_evaluation_date:""},school_team:r.school_team||{regent_teacher:"",aee_teacher:"",support_professional:"",coordination:""},student_profile:r.student_profile||{cognitive:"",motor:"",social:"",communicative:""},pedagogical_planning:r.pedagogical_planning||[],functional_skills:r.functional_skills||[]})},[r]);const u=async g=>{g.preventDefault(),o(!0);try{if(r!=null&&r.id){const{error:S}=await ae.from("pei_records").update(l).eq("id",r.id);if(S)throw S}else{const{error:S}=await ae.from("pei_records").insert([l]);if(S)throw S}e()}catch(S){console.error("Erro ao salvar:",S),alert("Erro ao salvar registro do PEI.")}finally{o(!1)}},h=()=>{d({...l,pedagogical_planning:[...l.pedagogical_planning,{area:"",thematic_unit:"",skills:"",methodology:"",evaluation:""}]})},p=(g,S,k)=>{const y=[...l.pedagogical_planning];y[g]={...y[g],[S]:k},d({...l,pedagogical_planning:y})},x=g=>{const S=l.pedagogical_planning.filter((k,y)=>y!==g);d({...l,pedagogical_planning:S})},v=()=>{d({...l,functional_skills:[...l.functional_skills,{skill:"",strategy:"",independence_level:"Parcialmente"}]})},b=(g,S,k)=>{const y=[...l.functional_skills];y[g]={...y[g],[S]:k},d({...l,functional_skills:y})},w=g=>{const S=l.functional_skills.filter((k,y)=>y!==g);d({...l,functional_skills:S})};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-gray-900/60 backdrop-blur-sm animate-in fade-in duration-300 font-sans",children:a.jsxs("div",{className:"bg-white rounded-[2rem] w-full max-w-6xl h-[90vh] shadow-2xl border border-white/20 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-6 bg-indigo-900 text-white flex justify-between items-center shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-2xl font-black uppercase tracking-tight flex items-center gap-3",children:[a.jsx("span",{className:"bg-white/20 p-2 rounded-lg",children:""}),"Plano Educacional Individualizado (PEI)"]}),a.jsx("p",{className:"text-xs text-indigo-200 font-bold uppercase tracking-widest mt-1 ml-14 opacity-80",children:r?"Edio de Documento":"Novo Documento"})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:a.jsx(Ze,{size:24})})]}),a.jsx("div",{className:"flex bg-gray-50 border-b border-gray-200 overflow-x-auto",children:kCe.map(g=>a.jsxs("button",{onClick:()=>s(g.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-black uppercase tracking-widest whitespace-nowrap transition-all border-b-4 ${n===g.id?"border-indigo-600 text-indigo-700 bg-white":"border-transparent text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(g.icon,{size:16}),g.label]},g.id))}),a.jsxs("form",{onSubmit:u,className:"flex-1 overflow-y-auto p-8 custom-scrollbar bg-white",children:[n==="identificacao"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nome do Estudante"}),a.jsx("input",{required:!0,value:l.student_name,onChange:g=>d({...l,student_name:g.target.value}),className:"w-full p-4 bg-gray-50 rounded-xl font-bold border-none outline-none focus:ring-2 focus:ring-indigo-100"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Cdigo / Matrcula"}),a.jsx("input",{value:l.student_code,onChange:g=>d({...l,student_code:g.target.value}),className:"w-full p-4 bg-gray-50 rounded-xl font-bold border-none outline-none focus:ring-2 focus:ring-indigo-100"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Data de Nascimento"}),a.jsx("input",{type:"date",value:l.date_of_birth,onChange:g=>d({...l,date_of_birth:g.target.value}),className:"w-full p-4 bg-gray-50 rounded-xl font-bold border-none outline-none focus:ring-2 focus:ring-indigo-100"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Responsveis"}),a.jsx("input",{value:l.responsible_persons,onChange:g=>d({...l,responsible_persons:g.target.value}),className:"w-full p-4 bg-gray-50 rounded-xl font-bold border-none outline-none focus:ring-2 focus:ring-indigo-100"})]})]}),a.jsxs("div",{className:"p-6 bg-rose-50 rounded-2xl border border-rose-100 space-y-4",children:[a.jsxs("h4",{className:"flex items-center gap-2 text-rose-700 font-black uppercase text-sm",children:[a.jsx(Ta,{size:18})," Sade e Diagnstico"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-rose-400 uppercase tracking-widest ml-1",children:"Condio / Diagnstico (CID)"}),a.jsx("input",{value:l.diagnosis_condition,onChange:g=>d({...l,diagnosis_condition:g.target.value}),className:"w-full p-4 bg-white rounded-xl font-bold border-none outline-none focus:ring-2 focus:ring-rose-200",placeholder:"Ex: TEA, TDAH, Deficincia Intelectual..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-rose-400 uppercase tracking-widest ml-1",children:"Observaes de Sade (Alergias, Intolerncias)"}),a.jsx("textarea",{value:l.health_observations,onChange:g=>d({...l,health_observations:g.target.value}),className:"w-full p-4 bg-white rounded-xl font-medium border-none outline-none focus:ring-2 focus:ring-rose-200 resize-none h-24"})]})]})]})]}),n==="equipe"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[a.jsxs("div",{className:"p-6 bg-blue-50 rounded-2xl border border-blue-100 space-y-4",children:[a.jsxs("h4",{className:"flex items-center gap-2 text-blue-700 font-black uppercase text-sm",children:[a.jsx(kr,{size:18})," Cronograma do PEI"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest ml-1",children:"Data Incio"}),a.jsx("input",{type:"date",value:l.pei_calendar.start_date,onChange:g=>d({...l,pei_calendar:{...l.pei_calendar,start_date:g.target.value}}),className:"w-full p-3 bg-white rounded-xl border-none outline-none focus:ring-2 focus:ring-blue-200"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest ml-1",children:"Avaliao Inicial"}),a.jsx("input",{type:"date",value:l.pei_calendar.initial_evaluation_date,onChange:g=>d({...l,pei_calendar:{...l.pei_calendar,initial_evaluation_date:g.target.value}}),className:"w-full p-3 bg-white rounded-xl border-none outline-none focus:ring-2 focus:ring-blue-200"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest ml-1",children:"Previso de Reviso"}),a.jsx("input",{type:"date",value:l.pei_calendar.review_date,onChange:g=>d({...l,pei_calendar:{...l.pei_calendar,review_date:g.target.value}}),className:"w-full p-3 bg-white rounded-xl border-none outline-none focus:ring-2 focus:ring-blue-200"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"flex items-center gap-2 text-gray-700 font-black uppercase text-sm",children:[a.jsx(mr,{size:18})," Equipe Multidisciplinar"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Professor Regente"}),a.jsx("input",{value:l.school_team.regent_teacher,onChange:g=>d({...l,school_team:{...l.school_team,regent_teacher:g.target.value}}),className:"w-full p-4 bg-gray-50 rounded-xl font-medium"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Professor AEE"}),a.jsx("input",{value:l.school_team.aee_teacher,onChange:g=>d({...l,school_team:{...l.school_team,aee_teacher:g.target.value}}),className:"w-full p-4 bg-gray-50 rounded-xl font-medium"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Apoio / Cuidador"}),a.jsx("input",{value:l.school_team.support_professional,onChange:g=>d({...l,school_team:{...l.school_team,support_professional:g.target.value}}),className:"w-full p-4 bg-gray-50 rounded-xl font-medium"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Coordenao Pedaggica"}),a.jsx("input",{value:l.school_team.coordination,onChange:g=>d({...l,school_team:{...l.school_team,coordination:g.target.value}}),className:"w-full p-4 bg-gray-50 rounded-xl font-medium"})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Orientaes Colaborativas (Famlia/Sade)"}),a.jsx("textarea",{value:l.collaborative_guidance,onChange:g=>d({...l,collaborative_guidance:g.target.value}),className:"w-full p-4 bg-gray-50 rounded-xl font-medium h-32 resize-none",placeholder:"Orientaes de outros profissionais..."})]})]}),n==="perfil"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-indigo-500 uppercase tracking-widest ml-1",children:"Desenvolvimento Cognitivo"}),a.jsx("textarea",{value:l.student_profile.cognitive,onChange:g=>d({...l,student_profile:{...l.student_profile,cognitive:g.target.value}}),className:"w-full p-4 bg-indigo-50/50 rounded-xl font-medium h-32 resize-none border border-indigo-100 focus:bg-white focus:ring-2 focus:ring-indigo-100 transition-all",placeholder:"Ateno, memria, raciocnio..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest ml-1",children:"Desenvolvimento Motor"}),a.jsx("textarea",{value:l.student_profile.motor,onChange:g=>d({...l,student_profile:{...l.student_profile,motor:g.target.value}}),className:"w-full p-4 bg-emerald-50/50 rounded-xl font-medium h-32 resize-none border border-emerald-100 focus:bg-white focus:ring-2 focus:ring-emerald-100 transition-all",placeholder:"Coordenao grosa, fina, equilbrio..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-amber-500 uppercase tracking-widest ml-1",children:"Aspectos Sociais & Emocionais"}),a.jsx("textarea",{value:l.student_profile.social,onChange:g=>d({...l,student_profile:{...l.student_profile,social:g.target.value}}),className:"w-full p-4 bg-amber-50/50 rounded-xl font-medium h-32 resize-none border border-amber-100 focus:bg-white focus:ring-2 focus:ring-amber-100 transition-all",placeholder:"Interao, comportamento, frustrao..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-sky-500 uppercase tracking-widest ml-1",children:"Comunicao e Linguagem"}),a.jsx("textarea",{value:l.student_profile.communicative,onChange:g=>d({...l,student_profile:{...l.student_profile,communicative:g.target.value}}),className:"w-full p-4 bg-sky-50/50 rounded-xl font-medium h-32 resize-none border border-sky-100 focus:bg-white focus:ring-2 focus:ring-sky-100 transition-all",placeholder:"Expresso, compreenso, vocabulrio..."})]})]}),a.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest ml-1 mb-2 block",children:"Caracterizao da Aprendizagem (Potencialidades e Dificuldades)"}),a.jsx("textarea",{value:l.learning_characterization,onChange:g=>d({...l,learning_characterization:g.target.value}),className:"w-full p-6 bg-gray-50 rounded-2xl font-medium text-gray-700 h-48 resize-none focus:bg-white focus:ring-2 focus:ring-indigo-100 transition-all",placeholder:"Descreva detalhadamente como o aluno aprende..."})]})]}),n==="planejamento"&&a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[a.jsxs("div",{className:"flex justify-between items-center bg-indigo-50 p-4 rounded-xl border border-indigo-100",children:[a.jsx("p",{className:"text-sm text-indigo-800 font-bold",children:"Defina as adaptaes curriculares por rea de conhecimento."}),a.jsxs("button",{type:"button",onClick:h,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-xs font-black uppercase tracking-widest hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[a.jsx(ia,{size:16})," Adicionar rea"]})]}),a.jsxs("div",{className:"space-y-6",children:[l.pedagogical_planning.map((g,S)=>a.jsxs("div",{className:"p-6 bg-white border border-gray-200 rounded-2xl shadow-sm relative group hover:border-indigo-300 transition-colors",children:[a.jsx("button",{type:"button",onClick:()=>x(S),className:"absolute top-4 right-4 text-gray-300 hover:text-red-500 p-2",children:a.jsx(Ze,{size:18})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4 pr-10",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"rea do Conhecimento"}),a.jsxs("select",{value:g.area,onChange:k=>p(S,"area",k.target.value),className:"w-full p-2 bg-gray-50 rounded-lg border-none outline-none focus:ring-2 focus:ring-indigo-100 text-sm font-bold",children:[a.jsx("option",{value:"",children:"Selecione..."}),a.jsx("option",{value:"Linguagens",children:"Linguagens"}),a.jsx("option",{value:"Matemtica",children:"Matemtica"}),a.jsx("option",{value:"Cincias Humanas",children:"Cincias Humanas"}),a.jsx("option",{value:"Cincias da Natureza",children:"Cincias da Natureza"}),a.jsx("option",{value:"Ensino Religioso",children:"Ensino Religioso"}),a.jsx("option",{value:"Parte Diversificada",children:"Parte Diversificada"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Unidade Temtica"}),a.jsx("input",{value:g.thematic_unit,onChange:k=>p(S,"thematic_unit",k.target.value),className:"w-full p-2 bg-gray-50 rounded-lg border-none outline-none focus:ring-2 focus:ring-indigo-100 text-sm",placeholder:"Ex: Operaes..."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Habilidades Trabalhadas / Objetivos"}),a.jsx("textarea",{value:g.skills,onChange:k=>p(S,"skills",k.target.value),className:"w-full p-2 bg-gray-50 rounded-lg border-none outline-none focus:ring-2 focus:ring-indigo-100 text-sm h-20 resize-none",placeholder:"Quais habilidades da turma e do estudante sero focadas?"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Metodologia / Estratgias"}),a.jsx("textarea",{value:g.methodology,onChange:k=>p(S,"methodology",k.target.value),className:"w-full p-2 bg-gray-50 rounded-lg border-none outline-none focus:ring-2 focus:ring-indigo-100 text-sm h-16 resize-none",placeholder:"Recursos, materiais adaptados..."})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Avaliao"}),a.jsx("textarea",{value:g.evaluation,onChange:k=>p(S,"evaluation",k.target.value),className:"w-full p-2 bg-gray-50 rounded-lg border-none outline-none focus:ring-2 focus:ring-indigo-100 text-sm h-16 resize-none",placeholder:"Como ser verificado o aprendizado?"})]})]})]})]},S)),l.pedagogical_planning.length===0&&a.jsx("p",{className:"text-center text-gray-400 text-sm py-10 italic",children:"Nenhum item de planejamento adicionado."})]})]}),n==="habilidades"&&a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[a.jsxs("div",{className:"flex justify-between items-center bg-emerald-50 p-4 rounded-xl border border-emerald-100",children:[a.jsx("p",{className:"text-sm text-emerald-800 font-bold",children:"Autonomia e Vida Diria"}),a.jsxs("button",{type:"button",onClick:v,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg text-xs font-black uppercase tracking-widest hover:bg-emerald-700 transition-colors flex items-center gap-2",children:[a.jsx(Pg,{size:16})," Adicionar Habilidade"]})]}),a.jsx("div",{className:"space-y-4",children:l.functional_skills.map((g,S)=>a.jsxs("div",{className:"flex gap-4 p-4 bg-white border border-gray-200 rounded-xl items-start relative group",children:[a.jsx("button",{type:"button",onClick:()=>w(S),className:"absolute -right-2 -top-2 bg-white text-red-500 border border-red-100 shadow-sm p-1.5 rounded-full hover:bg-red-500 hover:text-white transition-all",children:a.jsx(Ze,{size:14})}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Habilidade Funcional"}),a.jsx("input",{value:g.skill,onChange:k=>b(S,"skill",k.target.value),className:"w-full p-2 bg-gray-50 rounded-lg outline-none focus:bg-white focus:ring-2 focus:ring-emerald-100 text-sm",placeholder:"Ex: Higiene, Alimentao..."})]}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Estratgia"}),a.jsx("input",{value:g.strategy,onChange:k=>b(S,"strategy",k.target.value),className:"w-full p-2 bg-gray-50 rounded-lg outline-none focus:bg-white focus:ring-2 focus:ring-emerald-100 text-sm",placeholder:"Como desenvolver?"})]}),a.jsxs("div",{className:"w-40 space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Nvel Independncia"}),a.jsxs("select",{value:g.independence_level,onChange:k=>b(S,"independence_level",k.target.value),className:"w-full p-2 bg-gray-50 rounded-lg outline-none focus:bg-white focus:ring-2 focus:ring-emerald-100 text-xs font-bold uppercase",children:[a.jsx("option",{value:"Totalmente",children:"Totalmente"}),a.jsx("option",{value:"Parcialmente",children:"Parcialmente"}),a.jsx("option",{value:"Insuficiente",children:"Insuficiente"})]})]})]},S))})]}),n==="parecer"&&a.jsxs("div",{className:"h-full flex flex-col animate-in fade-in slide-in-from-bottom-2 duration-500",children:[a.jsxs("div",{className:"p-6 bg-indigo-50 rounded-2xl border border-indigo-100 mb-6",children:[a.jsxs("h4",{className:"flex items-center gap-2 text-indigo-700 font-black uppercase text-sm mb-2",children:[a.jsx(Nt,{size:18})," Relatrio Final / Semestral"]}),a.jsx("p",{className:"text-xs text-indigo-600",children:"Espao reservado para o parecer descritivo do Conselho de Classe, destacando avanos, desafios persistentes e encaminhamentos."})]}),a.jsx("textarea",{value:l.semester_report,onChange:g=>d({...l,semester_report:g.target.value}),className:"flex-1 w-full p-6 bg-gray-50 rounded-2xl border-none outline-none focus:bg-white focus:ring-2 focus:ring-indigo-100 transition-all font-medium text-gray-700 leading-relaxed resize-none text-base",placeholder:"Redija aqui o parecer..."})]})]}),a.jsxs("div",{className:"p-6 bg-white border-t border-gray-100 flex justify-between items-center shrink-0",children:[a.jsx("div",{className:"flex gap-2",children:(r==null?void 0:r.id)&&a.jsxs("button",{onClick:()=>{const g=document.getElementById("pei-pdf-content");g&&window.html2pdf&&window.html2pdf().set({margin:10,filename:`PEI_${l.student_name}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).from(g).save()},className:"px-6 py-4 bg-gray-100 text-gray-700 rounded-xl font-black uppercase text-xs tracking-widest hover:bg-gray-200 transition-all flex items-center gap-2",children:[a.jsx("span",{className:"p-1.5 bg-white rounded-lg",children:a.jsx(zt,{size:16})}),"Exportar PDF"]})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:t,className:"px-8 py-4 rounded-xl font-bold text-gray-400 hover:text-gray-600 hover:bg-gray-50 transition-all uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsx("button",{onClick:u,disabled:i,className:"px-10 py-4 bg-indigo-600 text-white rounded-xl font-black uppercase text-xs tracking-widest hover:bg-indigo-700 shadow-xl shadow-indigo-200 transition-all flex items-center gap-2 disabled:opacity-50",children:i?"Salvando...":a.jsxs(a.Fragment,{children:[a.jsx(qr,{size:18})," Salvar PEI"]})})]})]}),a.jsxs("div",{id:"pei-pdf-content",className:"hidden print:block fixed -left-[9999px] top-0 w-[210mm] bg-white p-12 text-gray-900 font-sans",children:[a.jsx("div",{className:"text-center border-b-2 border-indigo-900 pb-8 mb-10",children:a.jsx("h1",{className:"text-2xl font-black uppercase text-indigo-900",children:"Plano de Atendimento Educacional Especializado (PAEE)"})}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"bg-indigo-50 p-2 text-indigo-800 font-black uppercase text-xs tracking-widest border-l-4 border-indigo-600",children:"I. Identificao do Estudante"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Nome"}),a.jsx("p",{className:"font-bold",children:l.student_name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Cdigo"}),a.jsx("p",{className:"font-bold",children:l.student_code})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Nascimento"}),a.jsx("p",{className:"font-bold",children:l.date_of_birth})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Diagnstico"}),a.jsx("p",{className:"font-bold",children:l.diagnosis_condition})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"bg-indigo-50 p-2 text-indigo-800 font-black uppercase text-xs tracking-widest border-l-4 border-indigo-600",children:"II. Equipe e Cronograma"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-black text-gray-400 text-[9px] uppercase",children:"Prof. Regente"}),a.jsx("p",{children:l.school_team.regent_teacher})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-black text-gray-400 text-[9px] uppercase",children:"Prof. AEE"}),a.jsx("p",{children:l.school_team.aee_teacher})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-black text-gray-400 text-[9px] uppercase",children:"Incio"}),a.jsx("p",{children:l.pei_calendar.start_date})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-black text-gray-400 text-[9px] uppercase",children:"Reviso"}),a.jsx("p",{children:l.pei_calendar.review_date})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"bg-indigo-50 p-2 text-indigo-800 font-black uppercase text-xs tracking-widest border-l-4 border-indigo-600",children:"III. Perfil de Desenvolvimento"}),a.jsxs("div",{className:"space-y-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-black text-indigo-600 uppercase text-[9px]",children:"Cognitivo"}),a.jsx("p",{className:"leading-relaxed",children:l.student_profile.cognitive})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-black text-indigo-600 uppercase text-[9px]",children:"Comunicao"}),a.jsx("p",{className:"leading-relaxed",children:l.student_profile.communicative})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-black text-indigo-600 uppercase text-[9px]",children:"Aprendizagem"}),a.jsx("p",{className:"leading-relaxed",children:l.learning_characterization})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"bg-indigo-50 p-2 text-indigo-800 font-black uppercase text-xs tracking-widest border-l-4 border-indigo-600",children:"IV. Planejamento por reas"}),a.jsxs("table",{className:"w-full text-[10px] border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100",children:[a.jsx("th",{className:"border p-2 text-left",children:"rea"}),a.jsx("th",{className:"border p-2 text-left",children:"Habilidades / Metodologia"})]})}),a.jsx("tbody",{children:l.pedagogical_planning.map((g,S)=>a.jsxs("tr",{children:[a.jsx("td",{className:"border p-2 font-bold w-1/4",children:g.area}),a.jsxs("td",{className:"border p-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-bold",children:"Habilidades:"})," ",g.skills]}),a.jsxs("p",{className:"mt-1",children:[a.jsx("span",{className:"font-bold",children:"Estratgias:"})," ",g.methodology]})]})]},S))})]})]}),a.jsxs("section",{className:"space-y-4 pt-10",children:[a.jsx("h2",{className:"bg-indigo-50 p-2 text-indigo-800 font-black uppercase text-xs tracking-widest border-l-4 border-indigo-600",children:"V. Parecer Semestral"}),a.jsx("p",{className:"text-xs leading-relaxed italic",children:l.semester_report||"No redigido."})]}),a.jsxs("div",{className:"pt-20 grid grid-cols-2 gap-20 text-center",children:[a.jsx("div",{className:"border-t border-black pt-2",children:a.jsx("p",{className:"text-[10px] font-black uppercase",children:"Responsvel AEE"})}),a.jsx("div",{className:"border-t border-black pt-2",children:a.jsx("p",{className:"text-[10px] font-black uppercase",children:"Direo / Coordenao"})})]})]})]})]})})},CCe=["Pr-silbico","Silbico sem valor sonoro","Silbico com valor sonoro","Silbico-alfabtico","Alfabtico","Alfabtico consolidado"],OCe=({onClose:t,onSuccess:e,initialData:r})=>{const[n,s]=R.useState(!1),[i,o]=R.useState({student_name:"",student_code:"",reading_score:0,writing_score:0,comprehension_score:0,spelling_score:0,production_score:0,total_score:0,literacy_level:"Pr-silbico",interventions:"",methodologies:""});R.useEffect(()=>{r&&o(r)},[r]),R.useEffect(()=>{const u=Number(i.reading_score)+Number(i.writing_score)+Number(i.comprehension_score)+Number(i.spelling_score)+Number(i.production_score);o(h=>({...h,total_score:u}))},[i.reading_score,i.writing_score,i.comprehension_score,i.spelling_score,i.production_score]);const l=async u=>{u.preventDefault(),s(!0);try{if(r!=null&&r.id){const{error:h}=await ae.from("learning_assessment_records").update(i).eq("id",r.id);if(h)throw h}else{const{error:h}=await ae.from("learning_assessment_records").insert([i]);if(h)throw h}e()}catch(h){console.error("Erro ao salvar avaliao:",h),alert("Erro ao salvar registro de avaliao.")}finally{s(!1)}},d=(u,h,p)=>a.jsxs("div",{className:"space-y-1.5 p-4 bg-gray-50 rounded-2xl border border-gray-100",children:[a.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[p," ",u," (0-10)"]}),a.jsx("input",{type:"number",min:"0",max:"10",value:i[h],onChange:x=>o({...i,[h]:parseInt(x.target.value)||0}),className:"w-full bg-white p-3 rounded-xl font-black text-lg text-indigo-600 outline-none focus:ring-2 focus:ring-indigo-100"})]});return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-gray-900/60 backdrop-blur-sm animate-in fade-in duration-300 font-sans",children:a.jsxs("div",{className:"bg-white rounded-[2rem] w-full max-w-4xl h-[90vh] shadow-2xl border border-white/20 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-6 bg-emerald-700 text-white flex justify-between items-center shrink-0",children:[a.jsx("div",{children:a.jsxs("h3",{className:"text-xl font-black uppercase tracking-tight flex items-center gap-3",children:[a.jsx("span",{className:"bg-white/20 p-2 rounded-lg",children:""}),"Sondagem de Alfabetizao & Aprendizagem"]})}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:a.jsx(Ze,{size:24})})]}),a.jsxs("form",{onSubmit:l,className:"flex-1 overflow-y-auto p-10 custom-scrollbar space-y-10",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nome do Estudante"}),a.jsx("input",{required:!0,value:i.student_name,onChange:u=>o({...i,student_name:u.target.value}),className:"w-full p-4 bg-gray-50 rounded-xl font-bold border-none outline-none focus:ring-2 focus:ring-emerald-100"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Cdigo / Matrcula"}),a.jsx("input",{value:i.student_code,onChange:u=>o({...i,student_code:u.target.value}),className:"w-full p-4 bg-gray-50 rounded-xl font-bold border-none outline-none focus:ring-2 focus:ring-emerald-100"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-xs font-black uppercase text-gray-400 tracking-widest border-b border-gray-100 pb-2",children:"Avaliao de Habilidades"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-4",children:[d("Leitura","reading_score",a.jsx(ia,{size:14})),d("Escrita","writing_score",a.jsx(FO,{size:14})),d("Compreenso","comprehension_score",a.jsx(wn,{size:14})),d("Ortografia","spelling_score",a.jsx(vK,{size:14})),d("Produo","production_score",a.jsx(FO,{size:14}))]}),a.jsxs("div",{className:"mt-4 p-6 bg-indigo-50 rounded-[2rem] flex items-center justify-between border border-indigo-100",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest",children:"Total Geral"}),a.jsxs("p",{className:"text-3xl font-black text-indigo-700",children:[i.total_score," ",a.jsx("span",{className:"text-indigo-300 text-sm",children:"/ 50"})]})]}),a.jsx(Jd,{size:32,className:"text-indigo-200"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nvel de Alfabetizao"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:CCe.map(u=>a.jsx("button",{type:"button",onClick:()=>o({...i,literacy_level:u}),className:`p-4 rounded-xl text-left text-xs font-bold transition-all border-2 ${i.literacy_level===u?"bg-emerald-50 border-emerald-500 text-emerald-700 shadow-md":"bg-gray-50 border-transparent text-gray-500 hover:bg-gray-100"}`,children:u},u))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Intervenes Realizadas"}),a.jsx("textarea",{value:i.interventions,onChange:u=>o({...i,interventions:u.target.value}),className:"w-full p-4 bg-gray-50 rounded-xl font-medium h-32 resize-none outline-none focus:ring-2 focus:ring-emerald-100",placeholder:"Descreva as intervenes feitas..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Metodologias Aplicadas"}),a.jsx("textarea",{value:i.methodologies,onChange:u=>o({...i,methodologies:u.target.value}),className:"w-full p-4 bg-gray-50 rounded-xl font-medium h-32 resize-none outline-none focus:ring-2 focus:ring-emerald-100",placeholder:"Descreva as metodologias..."})]})]})]})]}),a.jsxs("div",{className:"p-6 bg-white border-t border-gray-100 flex justify-between items-center shrink-0",children:[a.jsx("div",{className:"flex gap-2",children:(r==null?void 0:r.id)&&a.jsxs("button",{onClick:()=>{const u=document.getElementById("assessment-pdf-content");u&&window.html2pdf&&window.html2pdf().set({margin:10,filename:`Avaliacao_${i.student_name}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).from(u).save()},className:"px-6 py-4 bg-gray-100 text-gray-700 rounded-xl font-black uppercase text-xs tracking-widest hover:bg-gray-200 transition-all flex items-center gap-2",children:[a.jsx("span",{className:"p-1.5 bg-white rounded-lg",children:a.jsx(Vn,{size:16,className:"text-emerald-600"})}),"Exportar PDF"]})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:t,className:"px-8 py-4 rounded-xl font-bold text-gray-400 hover:text-gray-600 hover:bg-gray-50 transition-all uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsx("button",{onClick:l,disabled:n,className:"px-10 py-4 bg-emerald-600 text-white rounded-xl font-black uppercase text-xs tracking-widest hover:bg-emerald-700 shadow-xl shadow-indigo-200 transition-all flex items-center gap-2",children:n?"Salvando...":a.jsxs(a.Fragment,{children:[a.jsx(qr,{size:18})," Salvar Avaliao"]})})]})]}),a.jsxs("div",{id:"assessment-pdf-content",className:"hidden print:block fixed -left-[9999px] top-0 w-[210mm] bg-white p-12 text-gray-900 font-sans",children:[a.jsx("div",{className:"text-center border-b-2 border-emerald-900 pb-8 mb-10",children:a.jsx("h1",{className:"text-2xl font-black uppercase text-emerald-900",children:"Sondagem de Alfabetizao & Aprendizagem"})}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"bg-emerald-50 p-2 text-emerald-800 font-black uppercase text-xs tracking-widest border-l-4 border-emerald-600",children:"I. Identificao"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Estudante"}),a.jsx("p",{className:"font-bold",children:i.student_name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Matrcula"}),a.jsx("p",{className:"font-bold",children:i.student_code})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"bg-emerald-50 p-2 text-emerald-800 font-black uppercase text-xs tracking-widest border-l-4 border-emerald-600",children:"II. Resultado da Sondagem"}),a.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[a.jsxs("div",{className:"text-center border p-2 rounded-lg",children:[a.jsx("p",{className:"text-[8px] font-black uppercase text-gray-400",children:"Leitura"}),a.jsx("p",{className:"text-lg font-black",children:i.reading_score})]}),a.jsxs("div",{className:"text-center border p-2 rounded-lg",children:[a.jsx("p",{className:"text-[8px] font-black uppercase text-gray-400",children:"Escrita"}),a.jsx("p",{className:"text-lg font-black",children:i.writing_score})]}),a.jsxs("div",{className:"text-center border p-2 rounded-lg",children:[a.jsx("p",{className:"text-[8px] font-black uppercase text-gray-400",children:"Compr."}),a.jsx("p",{className:"text-lg font-black",children:i.comprehension_score})]}),a.jsxs("div",{className:"text-center border p-2 rounded-lg",children:[a.jsx("p",{className:"text-[8px] font-black uppercase text-gray-400",children:"Ortogr."}),a.jsx("p",{className:"text-lg font-black",children:i.spelling_score})]}),a.jsxs("div",{className:"text-center border p-2 rounded-lg",children:[a.jsx("p",{className:"text-[8px] font-black uppercase text-gray-400",children:"Prod."}),a.jsx("p",{className:"text-lg font-black",children:i.production_score})]})]}),a.jsxs("div",{className:"p-4 bg-emerald-900 text-white rounded-2xl flex justify-between items-center mt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black uppercase text-emerald-300",children:"Total Acumulado"}),a.jsxs("p",{className:"text-2xl font-black",children:[i.total_score," / 50"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[8px] font-black uppercase text-emerald-300",children:"Nvel de Alfabetizao"}),a.jsx("p",{className:"font-black uppercase",children:i.literacy_level})]})]})]}),a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"bg-emerald-50 p-2 text-emerald-800 font-black uppercase text-xs tracking-widest border-l-4 border-emerald-600 mb-2",children:"III. Intervenes Realizadas"}),a.jsx("p",{className:"text-xs leading-relaxed",children:i.interventions||"Sem registros."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"bg-emerald-50 p-2 text-emerald-800 font-black uppercase text-xs tracking-widest border-l-4 border-emerald-600 mb-2",children:"IV. Metodologias Aplicadas"}),a.jsx("p",{className:"text-xs leading-relaxed",children:i.methodologies||"Sem registros."})]})]}),a.jsxs("div",{className:"pt-32 grid grid-cols-2 gap-20 text-center",children:[a.jsx("div",{className:"border-t border-black pt-2",children:a.jsx("p",{className:"text-[10px] font-black uppercase",children:"Professor AEE / APA"})}),a.jsx("div",{className:"border-t border-black pt-2",children:a.jsx("p",{className:"text-[10px] font-black uppercase",children:"Coordenao Pedaggica"})})]})]})]})]})})},DCe=({onExit:t})=>{const[e,r]=R.useState("pei"),[n,s]=R.useState([]),[i,o]=R.useState([]),[l,d]=R.useState(""),[u,h]=R.useState(!1),[p,x]=R.useState(null),v=async()=>{try{const g=e==="pei"?"pei_records":"learning_assessment_records",{data:S,error:k}=await ae.from(g).select("*").order("created_at",{ascending:!1});if(k)throw k;e==="pei"?s(S||[]):o(S||[])}catch(g){console.error("Erro ao buscar registros:",g)}};R.useEffect(()=>{v();const g=e==="pei"?"pei_records":"learning_assessment_records",S=ae.channel(`${g}_changes`).on("postgres_changes",{event:"*",schema:"public",table:g},v).subscribe();return()=>{S.unsubscribe()}},[e]);const b=g=>{x(g),h(!0)},w=()=>{x(null),h(!0)};return a.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden font-sans text-gray-900",children:[a.jsxs("aside",{className:"w-72 bg-indigo-950 text-white flex flex-col no-print shadow-2xl relative z-10",children:[a.jsxs("div",{className:"p-8 bg-indigo-900/50",children:[a.jsxs("h1",{className:"text-xl font-black flex items-center gap-3",children:[a.jsx("span",{className:"bg-indigo-600 p-2 rounded-xl shadow-lg shadow-indigo-500/20",children:""}),"Sala de Recursos"]}),a.jsx("p",{className:"text-[10px] text-indigo-300 font-bold uppercase tracking-widest mt-2 ml-11",children:"Portal Andr Maggi"})]}),a.jsxs("div",{className:"flex-1 mt-8 px-4 space-y-2",children:[a.jsxs("button",{onClick:()=>r("pei"),className:`w-full flex items-center gap-3 px-5 py-4 rounded-2xl text-xs font-black uppercase tracking-widest transition-all ${e==="pei"?"bg-white text-indigo-900 shadow-xl shadow-white/5":"text-indigo-300 hover:bg-white/5"}`,children:[a.jsx(zt,{size:18})," Plano (PEI)"]}),a.jsxs("button",{onClick:()=>r("sondagem"),className:`w-full flex items-center gap-3 px-5 py-4 rounded-2xl text-xs font-black uppercase tracking-widest transition-all ${e==="sondagem"?"bg-white text-indigo-900 shadow-xl shadow-white/5":"text-indigo-300 hover:bg-white/5"}`,children:[a.jsx(Vn,{size:18})," Sondagem / APA"]})]}),a.jsxs("div",{className:"mx-4 mb-6 p-5 bg-indigo-900/40 rounded-[2rem] border border-indigo-800/50",children:[a.jsxs("h4",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest flex items-center gap-2 mb-3",children:[a.jsx(al,{size:14})," Sobre o Mdulo"]}),a.jsx("p",{className:"text-[10px] text-indigo-200 leading-relaxed font-medium",children:"Acompanhamento personalizado para Sala de Recursos e APA. Registra PEI, sondagem de leitura, escrita e progresso do nvel de alfabetizao."})]}),a.jsx("div",{className:"p-6 border-t border-indigo-900/50",children:a.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center gap-2 px-4 py-4 bg-white/5 hover:bg-white/10 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all text-indigo-200",children:[a.jsx(cr,{size:16})," Hub de Gesto"]})})]}),a.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden bg-white",children:[a.jsxs("header",{className:"h-24 bg-white border-b border-gray-100 flex items-center justify-between px-10 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:`p-4 rounded-2xl ${e==="pei"?"bg-indigo-50 text-indigo-600":"bg-emerald-50 text-emerald-600"}`,children:e==="pei"?a.jsx(rl,{size:22}):a.jsx(Vn,{size:22})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-black text-gray-900 uppercase tracking-tight",children:e==="pei"?"Gesto de PEIs":"Sondagem de Aprendizagem (APA)"}),a.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:e==="pei"?"Resoluo Normativa n 010/2023/CEE-MT":"Avaliao da Psicognese da Lngua Escrita"})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",placeholder:`Buscar em ${e==="pei"?"PEIs":"Avaliaes"}...`,value:l,onChange:g=>d(g.target.value),className:"pl-12 pr-6 py-3.5 bg-gray-50 border-none rounded-[1.25rem] text-xs font-bold outline-none focus:ring-2 focus:ring-indigo-100 w-80 transition-all"})]}),a.jsxs("button",{onClick:w,className:`px-8 py-3.5 ${e==="pei"?"bg-indigo-600":"bg-emerald-600"} text-white rounded-[1.25rem] text-[11px] font-black uppercase tracking-widest shadow-xl transition-all flex items-center gap-2 hover:scale-105 active:scale-95`,children:[a.jsx(ot,{size:16})," ",e==="pei"?"Novo PEI":"Nova Avaliao"]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:e==="pei"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:n.filter(g=>g.student_name.toLowerCase().includes(l.toLowerCase())).map(g=>{var S,k,y,j;return a.jsxs("div",{className:"bg-white p-6 rounded-[3rem] border border-gray-100 shadow-sm hover:border-indigo-200 hover:shadow-2xl transition-all group cursor-pointer relative",onClick:()=>b(g),children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("div",{className:"w-14 h-14 bg-indigo-50 text-indigo-600 rounded-3xl flex items-center justify-center font-black text-xl shadow-inner",children:g.student_name.charAt(0)}),a.jsx("span",{className:"px-3.5 py-1.5 rounded-xl bg-indigo-50 text-indigo-600 text-[9px] font-black uppercase tracking-widest border border-indigo-100/50",children:((k=(S=g.school_team)==null?void 0:S.regent_teacher)==null?void 0:k.split(" ")[0])||"S/ PROF"})]}),a.jsx("h3",{className:"font-black text-gray-900 uppercase text-xs mb-1 line-clamp-1 tracking-tight",children:g.student_name}),a.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mb-6 line-clamp-1",children:g.diagnosis_condition||"Sem Diagnstico"}),a.jsxs("div",{className:"space-y-3 bg-gray-50/50 p-5 rounded-[2rem] border border-gray-100/50",children:[a.jsxs("div",{className:"flex items-center gap-3 text-[9px] uppercase font-black text-gray-500",children:[a.jsx(qj,{size:14,className:"text-gray-300"}),a.jsxs("span",{children:["Planejamento: ",((y=g.pedagogical_planning)==null?void 0:y.length)||0," reas"]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-[9px] uppercase font-black text-gray-500",children:[a.jsx(Vj,{size:14,className:"text-gray-300"}),a.jsxs("span",{children:["Reviso: ",(j=g.pei_calendar)!=null&&j.review_date?new Date(g.pei_calendar.review_date).toLocaleDateString("pt-BR"):"Pendente"]})]})]}),a.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-50 flex justify-between items-center",children:[a.jsxs("span",{className:"text-[9px] text-gray-300 font-black uppercase tracking-[0.1em]",children:["Rev. ",new Date(g.updated_at).toLocaleDateString("pt-BR")]}),a.jsx("div",{className:"bg-indigo-600 text-white p-2 rounded-xl shadow-lg opacity-0 group-hover:opacity-100 transition-all transform translate-x-2 group-hover:translate-x-0",children:a.jsx(zt,{size:16})})]})]},g.id)})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 font-sans",children:i.filter(g=>g.student_name.toLowerCase().includes(l.toLowerCase())).map(g=>a.jsxs("div",{className:"bg-white p-7 rounded-[3rem] border border-gray-100 shadow-sm hover:border-emerald-200 hover:shadow-2xl transition-all group cursor-pointer relative",onClick:()=>b(g),children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("div",{className:"w-14 h-14 bg-emerald-50 text-emerald-600 rounded-3xl flex items-center justify-center font-black text-xl",children:g.student_name.charAt(0)}),a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:"text-[16px] font-black text-emerald-600 leading-none",children:g.total_score}),a.jsx("span",{className:"text-[8px] font-black text-emerald-300 uppercase",children:"PTS"})]})]}),a.jsx("h3",{className:"font-black text-gray-900 uppercase text-xs mb-1 line-clamp-1 tracking-tight",children:g.student_name}),a.jsx("p",{className:"text-[10px] text-emerald-600 font-black uppercase tracking-widest mb-6",children:g.literacy_level}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[a.jsxs("div",{className:"bg-gray-50 p-2 rounded-xl text-center",children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Leitura"}),a.jsx("p",{className:"text-xs font-black text-gray-700",children:g.reading_score})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-xl text-center",children:[a.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Escrita"}),a.jsx("p",{className:"text-xs font-black text-gray-700",children:g.writing_score})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-50 flex justify-between items-center",children:[a.jsx("span",{className:"text-[9px] text-gray-300 font-black uppercase",children:new Date(g.created_at).toLocaleDateString("pt-BR")}),a.jsx("div",{className:"bg-emerald-600 text-white p-2 rounded-xl shadow-lg opacity-0 group-hover:opacity-100 transition-all",children:a.jsx(Vn,{size:16})})]})]},g.id))})})]}),u&&(e==="pei"?a.jsx(_Ce,{onClose:()=>h(!1),onSuccess:()=>{h(!1),v()},initialData:p}):a.jsx(OCe,{onClose:()=>h(!1),onSuccess:()=>{h(!1),v()},initialData:p}))]})},uL=[{id:"1",title:"Dia do Servidor Pblico",day:28,month:10,category:"Todos os Servidores",iconType:"GERAL"},{id:"2",title:"Dia do Professor",day:15,month:10,category:"Docentes",iconType:"PROFESSOR"},{id:"3",title:"Dia da Merendeira",day:30,month:10,category:"Nutrio Escolar",iconType:"MERENDEIRA"},{id:"4",title:"Dia do Zelador / AAE",day:16,month:5,category:"Apoio Administrativo",iconType:"ZELADOR"},{id:"5",title:"Dia do Diretor Escolar",day:12,month:11,category:"Gesto",iconType:"GESTAO"},{id:"6",title:"Dia do Secretrio Escolar",day:30,month:9,category:"Secretaria",iconType:"SECRETARIA"},{id:"7",title:"Dia do Psiclogo",day:27,month:8,category:"Equipe Multi",iconType:"PSICOSSOCIAL"},{id:"8",title:"Dia do Coordenador Pedaggico",day:22,month:8,category:"Coordenao",iconType:"COORDENADOR"},{id:"9",title:"Dia Nacional dos Profissionais da Educao",day:6,month:8,category:"Todos os Profissionais",iconType:"GERAL"},{id:"10",title:"Dia do Bibliotecrio",day:9,month:4,category:"Biblioteca",iconType:"BIBLIOTECA"},{id:"11",title:"Dia do Motorista Escolar",day:25,month:7,category:"Transporte",iconType:"MOTORISTA"},{id:"12",title:"Dia do Tcnico em Informtica",day:19,month:10,category:"Tecnologia",iconType:"TI"},{id:"13",title:"Dia do Vigilante",day:20,month:6,category:"Segurana",iconType:"VIGILANTE"},{id:"14",title:"Dia do Orientador Educacional",day:4,month:12,category:"Equipe Multi",iconType:"ORIENTADOR"},{id:"15",title:"Dia da Escola",day:15,month:3,category:"Institucional",iconType:"GERAL"},{id:"16",title:"Dia do Estudante",day:11,month:8,category:"Comunidade Escolar",iconType:"GERAL"}],ICe=({type:t,size:e=20})=>{switch(t){case"PROFESSOR":return a.jsx(on,{size:e});case"MERENDEIRA":return a.jsx(Jo,{size:e});case"ZELADOR":return a.jsx(mL,{size:e});case"SECRETARIA":return a.jsx($g,{size:e});case"GESTAO":return a.jsx(ft,{size:e});case"PSICOSSOCIAL":return a.jsx(Vg,{size:e});case"COORDENADOR":return a.jsx(rl,{size:e});case"BIBLIOTECA":return a.jsx(JV,{size:e});case"MOTORISTA":return a.jsx(o$,{size:e});case"TI":return a.jsx(eu,{size:e});case"VIGILANTE":return a.jsx(ft,{size:e});case"ORIENTADOR":return a.jsx(mr,{size:e});default:return a.jsx(Mh,{size:e})}},RCe=()=>{const t=new Date,e=t.getDate(),r=t.getMonth()+1,n=R.useMemo(()=>uL.filter(i=>i.month>r||i.month===r&&i.day>=e).sort((i,o)=>i.month!==o.month?i.month-o.month:i.day-o.day),[r,e]),s=R.useMemo(()=>uL.find(i=>i.day===e&&i.month===r),[e,r]);return a.jsxs("div",{className:"bg-white/5 backdrop-blur-md p-8 rounded-[3rem] border border-white/10 shadow-lg space-y-6 relative overflow-hidden h-full flex flex-col transition-all hover:bg-white/10",children:[a.jsx("div",{className:"absolute -top-4 -right-4 p-8 opacity-5",children:a.jsx(RH,{size:120,className:"text-white"})}),a.jsxs("div",{className:"flex items-center justify-between border-b border-white/5 pb-4 relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-500/20 rounded-xl text-amber-400 border border-amber-500/10",children:a.jsx(LK,{size:20})}),a.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Mural de Honra"})]}),a.jsx("span",{className:"text-[10px] font-black text-amber-400 bg-amber-500/10 px-3 py-1 rounded-full uppercase tracking-widest border border-amber-500/20 shadow-sm",children:"Reconhecimento"})]}),s&&a.jsxs("div",{className:"p-8 bg-gradient-to-br from-amber-500 via-amber-600 to-orange-600 rounded-[2.5rem] text-white shadow-xl shadow-amber-500/20 animate-in zoom-in-95 duration-500 relative overflow-hidden ring-4 ring-white/5 ring-offset-2 ring-offset-transparent",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20 animate-pulse",children:a.jsx(Mr,{size:80})}),a.jsx("p",{className:"text-xs font-black uppercase tracking-widest opacity-80 mb-2",children:"Destaque do Dia"}),a.jsxs("h4",{className:"text-2xl font-black leading-tight uppercase",children:["Hoje celebramos o ",s.title,"!"]}),a.jsx("p",{className:"text-xs font-medium opacity-90 mt-3 italic",children:'"Obrigado por transformar nossa escola todos os dias."'})]}),a.jsx("div",{className:"space-y-3 flex-1 overflow-y-auto pr-2 custom-scrollbar",children:n.length>0?n.map(i=>a.jsxs("div",{className:`p-5 rounded-[1.5rem] border transition-all flex items-center justify-between ${i.day===e&&i.month===r?"bg-amber-500/10 border-amber-500/30 ring-1 ring-amber-500/20 shadow-lg":"bg-white/5 border-transparent hover:bg-white/10 hover:border-white/10"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-black text-sm ${i.day===e&&i.month===r?"bg-amber-500 text-white animate-bounce shadow-lg shadow-amber-500/40":"bg-white/10 text-white/50 border border-white/5"}`,children:a.jsx(ICe,{type:i.iconType,size:24})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-sm font-black uppercase leading-none truncate ${i.day===e&&i.month===r?"text-amber-400":"text-white"}`,children:i.title}),a.jsx("p",{className:"text-[10px] text-white/40 font-bold uppercase mt-1 truncate",children:i.category})]})]}),a.jsxs("div",{className:"text-right pl-3",children:[a.jsx("p",{className:`text-2xl font-black ${i.day===e&&i.month===r?"text-amber-400":"text-white/30"}`,children:i.day}),a.jsx("p",{className:"text-[9px] font-black text-white/20 uppercase tracking-tighter",children:new Date(new Date().getFullYear(),i.month-1,1).toLocaleDateString("pt-BR",{month:"short"}).replace(".","")})]})]},i.id)):a.jsxs("div",{className:"py-12 text-center text-white/20 bg-white/5 rounded-[2rem] border-2 border-dashed border-white/10",children:[a.jsx(mr,{size:32,className:"mx-auto mb-2 opacity-20"}),a.jsxs("p",{className:"text-[9px] font-black uppercase tracking-widest leading-relaxed opacity-50",children:["Nenhuma data prevista",a.jsx("br",{}),"para este ano"]})]})}),a.jsxs("div",{className:"pt-4 border-t border-white/5 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ft,{size:14,className:"text-indigo-400"}),a.jsx("p",{className:"text-[8px] font-bold text-white/30 uppercase tracking-tight",children:"Gesto Humanizada Andr Maggi"})]}),a.jsx("span",{className:"text-[8px] font-black text-white/20 uppercase",children:"2026"})]})]})},MCe=({user:t,onLogout:e,onModuleSelect:r,modules:n,onProfileOpen:s})=>{const[i,o]=R.useState(()=>{try{const g=localStorage.getItem("school_announcements_v1");if(g)return JSON.parse(g)}catch(g){console.error("Error parsing announcements:",g)}return[{id:"1",title:"Entrega de Dirios",message:"Lembramos a todos os docentes que o prazo para fechamento do 1 bimestre encerra na prxima sexta-feira.",date:"2026-03-10",author:"DIREO",priority:"ALTA"},{id:"2",title:"Reunio Pedaggica",message:'Convocamos a equipe tcnica para alinhamento sobre o projeto "Escola da Famlia".',date:"2026-03-12",author:"COORDENAO",priority:"NORMAL"}]}),[l]=R.useState([{id:"b1",name:"ANA PAULA SILVA",role:"PROFESSORA",day:new Date().getDate(),month:new Date().getMonth()+1},{id:"b2",name:"CARLOS LIMA",role:"ALMOXARIFE",day:new Date().getDate()+2,month:new Date().getMonth()+1},{id:"b3",name:"BEATRIZ SOUZA",role:"PSICLOGA",day:15,month:new Date().getMonth()+1}]),d=new Date().getMonth(),u=Id.meses[d],[h,p]=R.useState({modules:!0,birthdays:!0,celebrations:!0,announcements:!0,agenda:!0,campaigns:!0}),[x,v]=R.useState(!1),b=new Date().getDate();new Date().getMonth()+1;const w=async()=>{const g=document.getElementById("weekly-agenda-block");if(!g)return;const S={margin:10,filename:"Agenda_Semanal_AndreMaggi.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2,onclone:k=>{const y=k.getElementById("pdf-header");y&&(y.style.display="flex");const j=k.getElementsByClassName("no-print");Array.from(j).forEach(T=>T.style.display="none")}},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};await window.html2pdf().set(S).from(g).save()};return a.jsxs("div",{className:"space-y-6 md:space-y-10 animate-in fade-in duration-700 pb-10 md:pb-20 max-w-7xl mx-auto",children:[a.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 md:gap-6 border-b border-white/10 pb-6 md:pb-8",children:[a.jsxs("div",{className:"flex items-center gap-4 md:gap-6 w-full",children:[a.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-white/10 rounded-xl md:rounded-2xl flex items-center justify-center backdrop-blur-md border border-white/10 shadow-lg shrink-0",children:a.jsx("img",{src:"/logo-escola.png",alt:"Logo",className:"w-10 h-10 md:w-12 md:h-12 object-contain"})}),a.jsxs("div",{className:"space-y-0.5 md:space-y-1 flex-1",children:[a.jsxs("h1",{className:"text-2xl md:text-4xl lg:text-5xl font-black text-white tracking-tighter leading-tight",children:["Ol, ",a.jsx("button",{onClick:s,className:"text-indigo-400 hover:underline",children:(t.name||"Usurio").split(" ")[0]}),"."]}),a.jsx("p",{className:"text-white/60 font-bold uppercase text-[9px] md:text-xs tracking-[0.15em]",children:"Portal de Gesto Andr Maggi"})]}),a.jsx("div",{className:"md:hidden no-print",children:a.jsx("button",{onClick:e,className:"p-3 bg-red-500/10 border border-red-500/20 text-red-400 rounded-xl",children:a.jsx(Kj,{size:20})})})]}),a.jsxs("div",{className:"flex items-center gap-2 md:gap-3 w-full md:w-auto no-print",children:[a.jsxs("div",{className:"flex-1 md:flex-none bg-white/5 backdrop-blur-md p-2.5 md:p-3 rounded-xl md:rounded-2xl border border-white/10 shadow-sm flex items-center gap-3 md:gap-4 px-4 md:px-5 h-14 md:h-16",children:[a.jsx(kr,{className:"text-indigo-400",size:20}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-[8px] font-black text-white/40 uppercase leading-none",children:"Hoje"}),a.jsx("p",{className:"text-[10px] md:text-sm font-black text-white mt-1 uppercase",children:new Date().toLocaleDateString("pt-BR",{day:"numeric",month:"short"})})]})]}),a.jsx("button",{onClick:()=>v(!x),className:"p-4 md:p-5 bg-white/5 border border-white/10 text-white/40 hover:text-white hover:bg-white/10 rounded-xl md:rounded-2xl shadow-sm transition-all",children:a.jsx(Hg,{size:24,className:"md:w-7 md:h-7"})})]})]}),x&&a.jsx("div",{className:"p-8 bg-indigo-900/90 backdrop-blur-xl rounded-[3rem] border border-white/10 grid grid-cols-2 md:grid-cols-6 gap-4 animate-in slide-in-from-top-4 no-print shadow-2xl",children:Object.keys(h).map(g=>a.jsx("button",{onClick:()=>p(S=>({...S,[g]:!S[g]})),className:`p-4 rounded-2xl font-black uppercase text-[9px] tracking-widest border transition-all ${h[g]?"bg-white/10 border-indigo-400 text-white shadow-lg":"bg-white/5 border-transparent text-white/30"}`,children:g.replace("birthdays","Aniversrios").replace("celebrations","Mural Datas").replace("announcements","Recados").replace("agenda","Agenda").replace("campaigns","Campanhas").replace("modules","Mdulos")},g))}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start",children:[h.modules&&a.jsxs("aside",{className:"w-full lg:w-1/4 shrink-0 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2 px-2",children:[a.jsx("div",{className:"p-2 bg-indigo-500/20 text-indigo-400 rounded-lg backdrop-blur-sm",children:a.jsx(Ki,{size:20})}),a.jsx("h3",{className:"text-lg font-black text-white uppercase tracking-tight",children:"Mdulos"})]}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-1 gap-2 md:grid-cols-3 lg:gap-3",children:[n.map(g=>a.jsxs("button",{onClick:()=>r(g.id),className:"w-full bg-white/5 p-3 md:p-4 rounded-xl md:rounded-2xl border border-white/5 shadow-lg hover:bg-white/10 hover:border-white/20 transition-all flex flex-col lg:flex-row items-center lg:items-center lg:gap-4 group backdrop-blur-sm text-center lg:text-left",children:[a.jsx("div",{className:`p-2.5 md:p-3 rounded-xl bg-${g.statusColor}-500/20 text-${g.statusColor}-400 group-hover:bg-${g.statusColor}-500 group-hover:text-white transition-all mb-2 lg:mb-0`,children:g.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-[10px] md:text-sm font-black text-white uppercase tracking-tight group-hover:text-indigo-400 transition-colors",children:g.title}),a.jsx("p",{className:"hidden md:block text-[9px] text-white/60 font-bold uppercase mt-1",children:g.status})]}),a.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-indigo-400",children:a.jsx(ga,{size:20})})]},g.id)),n.length===0&&a.jsxs("div",{className:"py-8 text-center bg-white/5 rounded-[2rem] border-2 border-dashed border-white/10",children:[a.jsx(ln,{size:24,className:"mx-auto text-white/20 mb-2"}),a.jsx("p",{className:"text-white/30 font-bold uppercase text-xs",children:"Nenhum mdulo"})]})]})]}),a.jsxs("main",{className:"flex-1 grid grid-cols-1 lg:grid-cols-12 gap-8 w-full",children:[a.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[h.announcements&&a.jsxs("div",{className:"bg-white/5 backdrop-blur-md p-8 rounded-[3rem] border border-white/10 shadow-lg space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-white/5 pb-4",children:[a.jsxs("h3",{className:"text-lg font-black text-white uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Zd,{size:20,className:"text-indigo-400"})," Mural da Gesto"]}),a.jsx("button",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest hover:text-white transition-colors",children:"Ver todos"})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.map(g=>a.jsxs("div",{className:`p-6 rounded-[2rem] border transition-all ${g.priority==="ALTA"?"bg-red-500/10 border-red-500/20 shadow-lg shadow-red-900/20":"bg-white/5 border-transparent"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("span",{className:`px-3 py-1 rounded text-[9px] font-black uppercase ${g.priority==="ALTA"?"bg-red-500 text-white shadow-sm":"bg-white/10 text-white/50"}`,children:g.priority==="ALTA"?"Urgente":"Informativo"}),a.jsx("span",{className:"text-[10px] font-bold text-white/50",children:new Date(g.date).toLocaleDateString("pt-BR")})]}),a.jsx("h4",{className:"text-sm font-black text-white uppercase mb-2",children:g.title}),a.jsx("p",{className:"text-xs text-white/70 font-medium leading-relaxed line-clamp-2",children:g.message}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 flex items-center gap-2 text-[9px] font-black text-white/40 uppercase",children:[a.jsx(ft,{size:12,className:"text-indigo-400"})," Resp: ",g.author]})]},g.id))})]}),h.celebrations&&a.jsx(RCe,{}),a.jsxs("div",{className:"bg-white/5 backdrop-blur-md p-8 rounded-[3rem] border border-white/10 shadow-lg space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-white/5 pb-4",children:[a.jsxs("h3",{className:"text-lg font-black text-white uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Nn,{size:20,className:"text-indigo-400"})," Calendrio 2026"]}),a.jsx("span",{className:"text-[9px] font-black text-indigo-200 bg-indigo-500/20 px-2 py-1 rounded-full uppercase border border-indigo-500/30",children:"Seduc GS"})]}),a.jsxs("div",{className:"flex flex-col gap-6 items-center text-center",children:[a.jsxs("div",{className:"w-full p-4 bg-indigo-500/10 rounded-[2rem] border border-indigo-500/20 shadow-inner",children:[a.jsx("p",{className:"text-[9px] font-black text-indigo-300 uppercase tracking-widest leading-none",children:"Referncia"}),a.jsx("p",{className:"text-2xl font-black text-indigo-400 uppercase mt-1 drop-shadow-sm",children:u.mes})]}),a.jsx("div",{className:"w-full grid grid-cols-1 gap-3",children:u.eventos.slice(0,3).map((g,S)=>a.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white/5 rounded-2xl border border-transparent hover:border-white/10 hover:bg-white/10 transition-all text-left",children:[a.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-xl flex items-center justify-center font-black text-[10px] text-indigo-300 shadow-sm border border-white/5",children:g.dia}),a.jsxs("div",{className:"flex-1 truncate",children:[a.jsx("p",{className:"text-[9px] font-black text-white uppercase truncate leading-tight",children:g.tipo}),a.jsx("p",{className:"text-[7px] font-bold text-white/40 uppercase tracking-widest",children:g.categoria||"Evento"})]})]},S))}),a.jsxs("button",{onClick:()=>r("secretariat"),className:"w-full p-4 bg-indigo-600 text-white rounded-2xl hover:bg-indigo-500 transition-all shadow-lg shadow-indigo-600/30 group flex justify-center items-center gap-2 text-xs uppercase font-bold border border-white/10",children:["Acessar Calendrio ",a.jsx(rc,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})]})]})]}),a.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[h.agenda&&a.jsxs("div",{id:"weekly-agenda-block",className:"bg-white/5 backdrop-blur-md p-6 rounded-[2.5rem] border border-white/10 shadow-lg space-y-6",children:[a.jsxs("div",{id:"pdf-header",className:"hidden flex-row items-center gap-4 border-b border-gray-200 pb-4 mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-gray-400",children:a.jsx($g,{size:32})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900 uppercase",children:"Escola Estadual Andr Maggi"}),a.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Portal de Gesto Escolar - Agenda Semanal"})]})]}),a.jsxs("div",{className:"flex items-center justify-between border-b border-white/5 pb-4",children:[a.jsxs("h3",{className:"text-sm font-black text-white uppercase tracking-tight flex items-center gap-2",children:[a.jsx(kr,{size:18,className:"text-indigo-400"})," Agenda"]}),a.jsx("button",{onClick:w,className:"p-1.5 bg-white/5 text-white/40 hover:text-white rounded-lg transition-all hover:bg-white/10",children:a.jsx(ni,{size:14})})]}),a.jsx("div",{className:"space-y-4",children:u.eventos.slice(0,5).map((g,S)=>a.jsxs("div",{className:"flex gap-3 group",children:[a.jsxs("div",{className:"flex flex-col items-center w-8 shrink-0",children:[a.jsx("div",{className:"text-[8px] font-black text-white/30 uppercase leading-none",children:u.mes.substring(0,3)}),a.jsx("div",{className:"text-sm font-black text-white mt-0.5",children:g.dia}),a.jsx("div",{className:"w-px h-full bg-white/5 mt-1"})]}),a.jsx("div",{className:"flex-1 pb-4",children:a.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-transparent group-hover:border-white/10 group-hover:bg-white/10 transition-all shadow-sm",children:[a.jsx("span",{className:"text-[8px] font-black uppercase px-2 py-1 rounded mb-2 inline-block border bg-white/5 border-white/10 text-white/50",children:g.categoria||"GERAL"}),a.jsx("h4",{className:"text-xs font-black text-white uppercase leading-snug",children:g.tipo})]})})]},S))})]}),h.birthdays&&a.jsxs("div",{className:"bg-white/5 backdrop-blur-md p-6 rounded-[2.5rem] border border-white/10 shadow-lg space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"p-2 bg-amber-500/20 text-amber-400 rounded-xl shadow-sm border border-amber-500/10",children:a.jsx(c$,{size:16})}),a.jsx("h3",{className:"text-sm font-black text-white uppercase tracking-tight leading-tight",children:"Aniversariantes"})]}),a.jsx("div",{className:"space-y-2",children:l.map(g=>a.jsxs("div",{className:`p-3 rounded-2xl border transition-all flex items-center justify-between ${g.day===b?"bg-indigo-500/20 border-indigo-500/30 shadow-lg ring-1 ring-indigo-400/20":"bg-white/5 border-transparent hover:bg-white/10"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-black text-xs ${g.day===b?"bg-indigo-500 text-white shadow-md":"bg-white/10 text-white/50"}`,children:g.name[0]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-white uppercase leading-none truncate w-20",children:g.name.split(" ")[0]}),a.jsx("p",{className:"text-[7px] text-white/40 font-bold uppercase mt-0.5",children:g.role})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:`text-sm font-black ${g.day===b?"text-indigo-400":"text-white/30"}`,children:g.day})})]},g.id))})]})]})]})]}),a.jsx("style",{children:`
        @media print {
          .no-print { display: none !important; }
          .print-container { width: 100%; border: none !important; }
        }
      `})]})},PCe=({user:t,isOpen:e,onClose:r,onUpdate:n})=>{const[s,i]=R.useState(!1),[o,l]=R.useState(!1),[d,u]=R.useState({name:t.name,login:t.login,password:"",confirmPassword:""});if(!e)return null;const h=async p=>{if(p.preventDefault(),d.password&&d.password!==d.confirmPassword)return alert("As senhas no coincidem!");i(!0);try{const x={name:d.name,login:d.login};d.password&&(x.password_hash=d.password);const{error:v}=await ae.from("users").update(x).eq("id",t.id);if(v)throw v;const b={...t,name:d.name,login:d.login};n(b),alert("Perfil atualizado com sucesso!"),r()}catch(x){console.error("Erro ao atualizar perfil:",x),alert("Erro ao atualizar perfil: "+x.message)}finally{i(!1)}};return a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:r}),a.jsxs("div",{className:"relative w-full max-w-lg bg-white rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300",children:[a.jsxs("div",{className:"bg-indigo-600 p-8 text-white relative",children:[a.jsx("button",{onClick:r,className:"absolute top-6 right-6 p-2 hover:bg-white/10 rounded-full transition-all",children:a.jsx(Ze,{size:20})}),a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-3xl flex items-center justify-center backdrop-blur-md border border-white/20",children:a.jsx(la,{size:32})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tighter leading-none",children:"Meu Perfil"}),a.jsxs("p",{className:"text-indigo-200 text-[10px] font-bold uppercase tracking-widest mt-2 flex items-center gap-2",children:[a.jsx(ft,{size:12})," Dados de Acesso Seguro"]})]})]})]}),a.jsxs("form",{onSubmit:h,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 mb-2 block",children:"Nome Completo"}),a.jsxs("div",{className:"relative",children:[a.jsx(la,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",required:!0,value:d.name,onChange:p=>u(x=>({...x,name:p.target.value})),className:"w-full pl-12 pr-6 py-4 bg-gray-50 border-none rounded-2xl font-bold text-sm outline-none focus:ring-4 focus:ring-indigo-500/5 transition-all"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 mb-2 block",children:"Login de Acesso"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yj,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:"text",required:!0,value:d.login,onChange:p=>u(x=>({...x,login:p.target.value})),className:"w-full pl-12 pr-6 py-4 bg-gray-50 border-none rounded-2xl font-bold text-sm outline-none focus:ring-4 focus:ring-indigo-500/5 transition-all"})]})]}),a.jsxs("div",{className:"pt-4 border-t border-gray-50 space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-[0.2em] mb-2 leading-none",children:"Alterar Senha (Opcional)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(yn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:o?"text":"password",placeholder:"Nova Senha",value:d.password,onChange:p=>u(x=>({...x,password:p.target.value})),className:"w-full pl-12 pr-12 py-4 bg-gray-50 border-none rounded-2xl font-bold text-sm outline-none focus:ring-4 focus:ring-indigo-500/5 transition-all"}),a.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-300 hover:text-indigo-400 transition-colors",children:o?a.jsx(NL,{size:18}):a.jsx(Bi,{size:18})})]}),a.jsxs("div",{className:"relative",children:[a.jsx($G,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300",size:18}),a.jsx("input",{type:o?"text":"password",placeholder:"Confirmar",value:d.confirmPassword,onChange:p=>u(x=>({...x,confirmPassword:p.target.value})),className:"w-full pl-12 pr-6 py-4 bg-gray-50 border-none rounded-2xl font-bold text-sm outline-none focus:ring-4 focus:ring-indigo-500/5 transition-all"})]})]})]})]}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx("button",{type:"button",onClick:r,className:"flex-1 py-4 bg-gray-100 text-gray-500 rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-gray-200 transition-all",children:"Cancelar"}),a.jsxs("button",{type:"submit",disabled:s,className:"flex-3 py-4 bg-indigo-600 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-indigo-700 shadow-xl shadow-indigo-600/20 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[s?a.jsx(vt,{size:16,className:"animate-spin"}):a.jsx(qr,{size:16}),"Salvar Alteraes"]})]})]})]})]})},fL=({user:t,onLogout:e,onModuleSelect:r,onUserUpdate:n})=>{const[s,i]=R.useState({}),[o,l]=R.useState(!1);R.useEffect(()=>{const v=()=>{try{const w=localStorage.getItem("portal_module_permissions_v2"),g=w?JSON.parse(w):null;if(g&&typeof g=="object"&&!Array.isArray(g)){i(g);return}}catch(w){console.error("Error loading permissions:",w)}const b={GESTAO:["secretariat","merenda","finance","busca_ativa","psychosocial","pedagogical","teacher","scheduling","library","almoxarifado","limpeza","patrimonio","special_education"],PROFESSOR:["teacher","scheduling","library","almoxarifado"],SECRETARIA:["secretariat","merenda","finance","busca_ativa","pedagogical","scheduling","library","patrimonio","limpeza","special_education"],PSICOSSOCIAL:["psychosocial","busca_ativa","scheduling","special_education"],MANUTENCAO:["limpeza"],AAE:["merenda","limpeza","almoxarifado"],AAE_LIMPEZA:["limpeza","almoxarifado"],AEE_NUTRICAO:["merenda","almoxarifado"],TAE:["secretariat","merenda","finance","busca_ativa","pedagogical","scheduling","library","patrimonio","limpeza","special_education"]};localStorage.setItem("portal_module_permissions_v2",JSON.stringify(b)),i(b)};return v(),window.addEventListener("storage",v),()=>window.removeEventListener("storage",v)},[]);const d=[{id:"secretariat",title:"Secretaria",status:"Processos OK",statusColor:"indigo",icon:a.jsx($g,{size:20})},{id:"merenda",title:"Merenda Escolar",status:"Estoque OK",statusColor:"emerald",icon:a.jsx(Jo,{size:20})},{id:"finance",title:"Financeiro",status:"Saldo Ativo",statusColor:"blue",icon:a.jsx(Jd,{size:20})},{id:"busca_ativa",title:"Busca Ativa",status:"Alertas",statusColor:"red",icon:a.jsx(kL,{size:20})},{id:"psychosocial",title:"Mediao & Apoio",status:"Equipe Ativa",statusColor:"rose",icon:a.jsx(Vg,{size:20})},{id:"pedagogical",title:"Pedaggico",status:"Coordenao",statusColor:"purple",icon:a.jsx(jL,{size:20})},{id:"teacher",title:"rea do Professor",status:"Dirio",statusColor:"emerald",icon:a.jsx(mr,{size:20})},{id:"scheduling",title:"Agendas",status:"Reservas",statusColor:"fuchsia",icon:a.jsx(Nn,{size:20})},{id:"library",title:"Biblioteca",status:"Acervo",statusColor:"indigo",icon:a.jsx(Gg,{size:20})},{id:"almoxarifado",title:"Almoxarifado",status:"Materiais",statusColor:"orange",icon:a.jsx(qg,{size:20})},{id:"limpeza",title:"Manuteno",status:"Operacional",statusColor:"emerald",icon:a.jsx(zg,{size:20})},{id:"patrimonio",title:"Patrimnio",status:"Auditado",statusColor:"blue",icon:a.jsx(ft,{size:20})},{id:"special_education",title:"Sala de Recursos e APA",status:"AEE",statusColor:"pink",icon:a.jsx(la,{size:20})},{id:"settings",title:"Configuraes",status:"Administrao",statusColor:"indigo",icon:a.jsx(mx,{size:20}),adminOnly:!0}],u=t.role==="GESTAO"||t.role==="ADMINISTRADOR",h=d.filter(v=>{if(v.adminOnly&&!u)return!1;if(u)return!0;const b=t.jobFunction||t.role;return(s[b]||[]).includes(v.id)}),p=(v,b)=>{try{const w=JSON.parse(localStorage.getItem("access_logs_v1")||"[]");w.unshift({id:`log-${Date.now()}`,userId:t.id,userName:t.name||"Usurio",role:t.role,module:b,timestamp:Date.now(),action:"ACCESS_MODULE"}),localStorage.setItem("access_logs_v1",JSON.stringify(w.slice(0,100)))}catch(w){console.error("Error recording access log:",w)}},x=v=>{try{p(v.id,v.title),r(v.id)}catch(b){console.error("Error handling module click:",b)}};return a.jsxs("div",{className:"min-h-screen bg-gray-900 font-sans relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1541339907198-e08756dedf3f?q=80&w=2670&auto=format&fit=crop')] bg-cover bg-center opacity-20 fixed"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-indigo-950 to-black fixed opacity-90"}),a.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-indigo-600/20 rounded-full blur-[120px] animate-[pulse_8s_ease-in-out_infinite] fixed"}),a.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-600/20 rounded-full blur-[120px] animate-[pulse_10s_ease-in-out_infinite] fixed"})]}),a.jsxs("div",{className:"relative z-10 flex min-h-screen",children:[a.jsxs("aside",{className:"hidden lg:flex fixed left-0 top-0 bottom-0 w-24 bg-white/5 backdrop-blur-xl border-r border-white/10 flex-col items-center py-10 gap-8 no-print z-50",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl shadow-lg shadow-indigo-500/20 flex items-center justify-center text-white font-black border border-white/20",children:"AM"}),a.jsx("nav",{className:"flex-1 flex flex-col gap-4"}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx("button",{onClick:()=>l(!0),className:"p-4 rounded-2xl text-white/50 hover:text-indigo-400 hover:bg-white/10 transition-all",title:"Meu Perfil",children:a.jsx(la,{size:24})}),u&&a.jsx("button",{onClick:()=>r("settings"),className:"p-4 rounded-2xl text-white/50 hover:text-white hover:bg-white/10 transition-all",title:"Configuraes Gerais",children:a.jsx(mx,{size:24})}),a.jsx("button",{onClick:e,className:"p-4 rounded-2xl text-white/50 hover:text-red-400 hover:bg-red-500/10 transition-all",title:"Sair do Sistema",children:a.jsx(Kj,{size:24})})]})]}),a.jsx("main",{className:"lg:pl-24 flex-1 min-h-screen p-4 md:p-8 lg:p-12 overflow-x-hidden",children:a.jsx("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-700",children:a.jsx(MCe,{user:t,onLogout:e,onModuleSelect:v=>{const b=h.find(w=>w.id===v);b&&x(b)},modules:h,onProfileOpen:()=>l(!0)})})})]}),a.jsx(PCe,{user:t,isOpen:o,onClose:()=>l(!1),onUpdate:n})]})},LCe=({onLogin:t})=>{const[e,r]=R.useState(""),[n,s]=R.useState(""),[i,o]=R.useState(!1),[l,d]=R.useState(!1),[u,h]=R.useState(null),[p,x]=R.useState(0),[v,b]=R.useState(!1),[w,g]=R.useState(!1),S=async y=>{if(y.preventDefault(),!v){d(!0),h(null);try{let j=e.trim().toLowerCase();const T=j.replace(/\D/g,"");T.length===11&&(j=T);const{data:_,error:O}=await ae.from("users").select("*").or(`login.eq.${j},email.eq.${j},cpf.eq.${j}`).single();if(O&&O.code!=="PGRST116")throw O;const M=n.trim();if(_&&_.password_hash===M){if(_.status==="PENDENTE"){h("Seu acesso est em anlise. Aguarde a aprovao da administrao."),d(!1);return}if(_.status==="BLOQUEADO"){h("Seu acesso foi bloqueado. Entre em contato com o suporte."),d(!1);return}const D={id:_.id,name:_.name,login:_.login,role:_.role,jobFunction:_.job_function,email:_.email,token:`sb_${_.id}_${Date.now()}`,lastLogin:new Date().toISOString()},F=JSON.parse(localStorage.getItem("access_logs_v1")||"[]");F.unshift({id:`log-${Date.now()}`,userId:_.id,userName:_.name,role:_.role,module:"LOGIN",timestamp:Date.now(),action:"LOGIN"}),localStorage.setItem("access_logs_v1",JSON.stringify(F.slice(0,100))),t(D)}else k()}catch(j){console.error("Erro no login:",j),h("Erro de conexo com o servidor. Tente novamente.")}finally{d(!1)}}},k=()=>{const y=p+1;x(y),y>=5?(b(!0),h("Mltiplas tentativas falhas. Acesso bloqueado por segurana.")):h("Login ou senha incorretos. Verifique suas credenciais.")};return a.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4 relative overflow-hidden font-sans",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("img",{src:"/frente_escola.jpeg",alt:"Escola Andr Maggi",className:"absolute inset-0 w-full h-full object-cover opacity-30 scale-105 animate-[pulse_10s_ease-in-out_infinite]"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/80 via-indigo-900/80 to-purple-900/60 mix-blend-multiply"}),a.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-indigo-500/30 rounded-full blur-[100px] animate-[bounce_10s_infinite]"}),a.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-500/30 rounded-full blur-[100px] animate-[bounce_12s_infinite_reverse]"})]}),a.jsxs("div",{className:"w-full max-w-[400px] relative z-10 animate-in fade-in zoom-in-95 duration-1000",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-2xl rounded-[2.5rem] shadow-2xl border border-white/20 overflow-hidden relative",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-white/50 to-transparent"}),a.jsxs("div",{className:"p-8 pb-6 text-center relative",children:[a.jsx("div",{className:"mx-auto mb-6 bg-white/90 p-4 rounded-3xl shadow-xl shadow-indigo-500/10 backdrop-blur-sm w-fit transform hover:scale-105 transition-transform duration-300",children:a.jsx("img",{src:"/logo-escola.png",alt:"Logo Escola Andr Maggi",className:"h-16 w-auto object-contain filter drop-shadow-sm",onError:y=>{y.currentTarget.style.display="none",y.currentTarget.parentElement.innerHTML=`
                    <div class="w-24 h-24 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-[2rem] shadow-lg shadow-indigo-500/30 flex items-center justify-center mx-auto transform rotate-3 border border-white/20">
                      <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-graduation-cap drop-shadow-md"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg>
                    </div>
                  `}})}),a.jsx("h2",{className:"text-xs font-bold text-white/80 uppercase tracking-[0.2em] mb-2",children:"Portal de Gesto"}),a.jsx("h1",{className:"text-2xl font-black text-white uppercase tracking-tighter leading-tight drop-shadow-sm",children:"Escola Andr Maggi"}),a.jsx("p",{className:"text-[10px] text-white/50 font-bold uppercase tracking-[0.1em] mt-3",children:"Colder - MT"})]}),a.jsxs("form",{onSubmit:S,className:"px-8 pb-10 space-y-6",children:[u&&a.jsxs("div",{className:"p-4 bg-red-500/20 border border-red-500/40 backdrop-blur-md rounded-2xl flex items-start gap-3 animate-in slide-in-from-top-2",children:[a.jsx(Ta,{size:18,className:"text-white shrink-0 mt-0.5 drop-shadow-sm"}),a.jsx("p",{className:"text-[10px] font-bold text-white leading-tight uppercase tracking-wide",children:u})]}),a.jsxs("div",{className:"space-y-2 group",children:[a.jsx("label",{className:"text-[10px] font-black text-white/50 uppercase tracking-widest ml-1 group-focus-within:text-white transition-colors",children:"Usurio / Login"}),a.jsxs("div",{className:"relative",children:[a.jsx(la,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/40 group-focus-within:text-white transition-colors"}),a.jsx("input",{type:"text",required:!0,disabled:l||v,value:e,onChange:y=>r(y.target.value),placeholder:"CPF (somente nmeros)",className:"w-full pl-12 pr-4 py-4 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm text-white placeholder-white/20 outline-none focus:bg-white/10 focus:border-white/30 focus:ring-4 focus:ring-white/5 transition-all"})]})]}),a.jsxs("div",{className:"space-y-2 group",children:[a.jsx("label",{className:"text-[10px] font-black text-white/50 uppercase tracking-widest ml-1 group-focus-within:text-white transition-colors",children:"Senha de Acesso"}),a.jsxs("div",{className:"relative",children:[a.jsx(yn,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/40 group-focus-within:text-white transition-colors"}),a.jsx("input",{type:i?"text":"password",required:!0,disabled:l||v,value:n,onChange:y=>s(y.target.value),placeholder:"Sua senha secreta",className:"w-full pl-12 pr-12 py-4 bg-white/5 border border-white/10 rounded-2xl font-bold text-sm text-white placeholder-white/20 outline-none focus:bg-white/10 focus:border-white/30 focus:ring-4 focus:ring-white/5 transition-all"}),a.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/40 hover:text-white transition-colors",children:i?a.jsx(NL,{size:18}):a.jsx(Bi,{size:18})})]})]}),a.jsxs("button",{type:"submit",disabled:l||v,className:"w-full py-5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-2xl font-black uppercase text-xs tracking-[0.2em] shadow-lg shadow-indigo-600/30 hover:shadow-indigo-600/50 hover:scale-[1.02] active:scale-95 transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed border border-white/10 group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),a.jsx("span",{className:"relative flex items-center gap-2",children:l?a.jsx(vt,{size:18,className:"animate-spin"}):a.jsxs(a.Fragment,{children:["Acessar Portal ",a.jsx(ga,{size:16})]})})]}),a.jsx("div",{className:"pt-6 border-t border-white/10 flex flex-col gap-3",children:a.jsx("div",{className:"flex justify-center mt-2",children:a.jsxs("button",{type:"button",onClick:()=>g(!0),className:"text-[10px] font-bold text-white/40 uppercase tracking-widest hover:text-white hover:underline flex items-center justify-center gap-1 transition-colors",children:[a.jsx(I$,{size:12})," Esqueci minha senha"]})})})]})]}),w&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md animate-in fade-in duration-300",children:a.jsx("div",{className:"bg-white rounded-[2.5rem] w-full max-w-sm overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-amber-50 rounded-2xl flex items-center justify-center mx-auto mb-6 text-amber-600",children:a.jsx(yn,{size:32})}),a.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase tracking-tighter",children:"Esqueceu sua senha?"}),a.jsxs("div",{className:"mt-4 space-y-4",children:[a.jsx("p",{className:"text-xs text-gray-500 font-bold leading-relaxed",children:"Por motivos de segurana acadmica, a redefinio de senha deve ser solicitada pessoalmente."}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Instrues"}),a.jsxs("p",{className:"text-[11px] font-bold text-gray-700 leading-tight",children:["Dirija-se  ",a.jsx("span",{className:"text-indigo-600",children:"Secretaria da Escola Andr Maggi"})," ou entre em contato com o administrador do sistema."]})]})]}),a.jsx("button",{onClick:()=>g(!1),className:"w-full mt-8 py-4 bg-gray-900 text-white rounded-2xl font-black uppercase text-[10px] tracking-[0.2em] hover:bg-black transition-all active:scale-95",children:"Entendi, Voltar"})]})})}),a.jsxs("div",{className:"mt-8 text-center space-y-2",children:[a.jsx("p",{className:"text-[9px] text-white/30 font-black uppercase tracking-[0.3em]",children:"Ambiente Seguro & Criptografado"}),a.jsxs("div",{className:"flex justify-center gap-2 opacity-30",children:[a.jsx("div",{className:"w-1 h-1 bg-white rounded-full animate-pulse"}),a.jsx("div",{className:"w-1 h-1 bg-white rounded-full animate-pulse delay-75"}),a.jsx("div",{className:"w-1 h-1 bg-white rounded-full animate-pulse delay-150"})]})]})]})]})},UCe=()=>{const[t,e]=R.useTransition(),[r,n]=R.useState(()=>{try{["active_session","access_logs","school_announcements","portal_module_permissions"].forEach(w=>{localStorage.getItem(w)&&localStorage.removeItem(w)});const v=localStorage.getItem("active_session_v1");if(!v)return null;const b=JSON.parse(v);return b&&typeof b=="object"&&b.id&&b.role?b:(localStorage.removeItem("active_session_v1"),null)}catch(x){return console.error("Error parsing session:",x),localStorage.removeItem("active_session_v1"),null}}),[s,i]=R.useState(()=>{try{const x=localStorage.getItem("active_portal_module");return["hub","merenda","finance","library","scheduling","teacher","pedagogical","almoxarifado","patrimonio","limpeza","busca_ativa","psychosocial","secretariat","special_education","settings"].includes(x)?x:"hub"}catch{return"hub"}}),o=900*1e3,l=R.useCallback(()=>{localStorage.removeItem("active_session_v1"),i("hub"),n(null)},[]);R.useEffect(()=>{if(!r)return;let x;const v=()=>{clearTimeout(x),x=window.setTimeout(l,o)};return window.addEventListener("mousemove",v),window.addEventListener("keydown",v),v(),()=>{window.removeEventListener("mousemove",v),window.removeEventListener("keydown",v),clearTimeout(x)}},[r,l]),R.useEffect(()=>{localStorage.setItem("active_portal_module",s)},[s]);const d=x=>{localStorage.setItem("active_session_v1",JSON.stringify(x)),n(x)},u=x=>{localStorage.setItem("active_session_v1",JSON.stringify(x)),n(x)},h=x=>{e(()=>{i(x)})};if(!r)return a.jsx($O,{children:a.jsx(qP,{children:a.jsx(LCe,{onLogin:d})})});const p=()=>{switch(s){case"hub":return a.jsx(fL,{user:r,onLogout:l,onModuleSelect:h,onUserUpdate:u});case"merenda":return a.jsx(E1e,{user:r,onExit:()=>h("hub")});case"finance":return a.jsx(_ke,{user:r,onExit:()=>h("hub")});case"library":return a.jsx(Cke,{user:r,onExit:()=>h("hub")});case"scheduling":return a.jsx(Hke,{user:r,onExit:()=>h("hub")});case"teacher":return a.jsx(o_e,{user:r,onExit:()=>h("hub")});case"pedagogical":return a.jsx(g_e,{user:r,onExit:()=>h("hub")});case"almoxarifado":return a.jsx(T_e,{user:r,onExit:()=>h("hub")});case"patrimonio":return a.jsx(B_e,{user:r,onExit:()=>h("hub")});case"limpeza":return a.jsx(rCe,{user:r,onExit:()=>h("hub")});case"busca_ativa":return a.jsx(lCe,{user:r,onExit:()=>h("hub")});case"psychosocial":return a.jsx(vCe,{user:r,onExit:()=>h("hub")});case"secretariat":return a.jsx(SCe,{user:r,onExit:()=>h("hub")});case"special_education":return a.jsx(DCe,{user:r,onExit:()=>h("hub")});case"settings":return a.jsx("div",{className:"min-h-screen bg-gray-50 p-8 lg:p-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[a.jsxs("header",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("button",{onClick:()=>h("hub"),className:"p-3 bg-white border border-gray-100 rounded-2xl text-gray-400 hover:text-indigo-600 shadow-sm transition-all",children:a.jsx(cr,{size:24})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-black text-gray-900 uppercase tracking-tighter",children:"Painel de Controle do Sistema"}),a.jsx("p",{className:"text-gray-400 font-bold uppercase text-[10px] tracking-widest mt-1",children:"Gesto de Permisses e Segurana"})]})]}),a.jsx("div",{className:"p-4 bg-indigo-600 text-white rounded-3xl shadow-xl",children:a.jsx(mx,{size:32})})]}),a.jsx(k7,{})]})});default:return a.jsx(fL,{user:r,onLogout:l,onModuleSelect:h})}};return a.jsx($O,{children:a.jsx(R.Suspense,{fallback:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin"}),a.jsx("p",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Iniciando Portal..."})]})}),children:a.jsx(qP,{children:a.jsx("div",{className:"min-h-screen bg-gray-50",children:p()})})})})},pz=document.getElementById("root");if(!pz)throw new Error("Could not find root element to mount to");const FCe=DV.createRoot(pz);FCe.render(a.jsx(xe.StrictMode,{children:a.jsx(UCe,{})}));"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(t=>{for(const e of t)e.unregister(),console.log("SW Desregistrado para correo de cache")});"caches"in window&&caches.keys().then(t=>{for(const e of t)caches.delete(e)});
